import{s as fe}from"./index-OKsbKlsK.js";import{i as le,r as P,n as O,q as M,v as y,f as i,x as R,C as me,P as Pe,M as j,N as Be,c as I,w as ne,B as ee,F as K,A as F,y as he,Q as Ne,z as ge,Y as ye,p as W,R as je,d as G,m as te,a6 as be,a7 as Ke,K as De,a8 as qe,s as E,a9 as Je,aa as Qe,a as Ze,u as _e,t as A,a1 as et,L as ae,ab as tt,ac as $e,I as at,J as lt,ad as nt,a0 as ot,ae as ze,af as st,ag as it,ah as ut,X as rt}from"./index-qMvE5g7-.js";import{v as ct}from"./v4-yQnnJER4.js";import{u as Te}from"./nil-rxyd0N8M.js";import{V as D,m as vt,b as dt,c as Oe,u as Se,d as ft,e as mt}from"./VBtn-Y6kMl1lX.js";import{V as L,a as ht,j as gt,u as N,m as oe,e as se,k as yt,l as bt,f as Tt}from"./VContainer-hkDLDWg4.js";import{a as Ee,V as pe}from"./VToolbar-qW95TkqC.js";import{V as Re}from"./scopeId-Pto4DQtt.js";import{V as Ae}from"./VToolbarItems-_u7F7jv1.js";import{V as St,a as Ve}from"./VRow-KWRHBUu7.js";import{V as xe}from"./VTextField-fOc6anT2.js";import{c as Me,e as He}from"./VCard-NEwK57JB.js";import{a as Vt,u as xt}from"./VList-GlF2Awim.js";import{V as Ct}from"./VDivider-fPpbzqzb.js";import{V as It}from"./VAutocomplete-RR5Pk0ke.js";import{V as kt}from"./VDialog-y_yQ-6xL.js";import{s as Ce,a as wt,m as Ut}from"./FormRenderer.vue_vue_type_style_index_0_lang-sytZLfWn.js";import{V as Pt,a as Bt,b as Dt,c as $t}from"./VDataTable-0YnpccTs.js";import{f as zt,a as Ot,s as Et,b as Ie}from"./forwardRefs-Sfz4S4-7.js";import{c as pt,u as Rt}from"./SaveButton.vue_vue_type_script_setup_true_lang-0TfrPCaz.js";import{M as At}from"./VAvatar-G0U33xIE.js";const Mt=le({__name:"AddTag",props:{convention:{},organisation:{}},emits:["save","close"],setup(e,{emit:l}){const t=P(""),a=P("");typeof e.convention=="object"?(t.value=e.convention.ConventionUUID,a.value=e.convention.OrganisationUUID):t.value=e.convention||"",typeof e.organisation=="object"?a.value=e.organisation.OrganisationUUID:a.value.length===0&&(a.value=e.organisation||"");const c=l,r=P({ID:0,TagUUID:ct(),ConventionID:0,ConventionUUID:t.value||Te,OrganisationID:0,OrganisationUUID:a.value||Te,Title:"",Key:""}),n=Pe(),v=()=>{n.saveTag(r.value).then(o=>{o&&(r.value=o,c("save",o),c("close"))})};return(o,u)=>(O(),M(He,null,{default:y(()=>[i(pe,{dark:"",color:"primary"},{default:y(()=>[i(D,{icon:"",dark:"",onClick:u[0]||(u[0]=s=>c("close"))},{default:y(()=>[i(L,null,{default:y(()=>[R("mdi:mdi-close")]),_:1})]),_:1}),i(Ee,null,{default:y(()=>[R("Add Tag")]),_:1}),i(Re),i(Ae,null,{default:y(()=>[i(D,{variant:"text",onClick:v},{default:y(()=>[R(" Save ")]),_:1})]),_:1})]),_:1}),i(Me,null,{default:y(()=>[i(ht,{fluid:!0},{default:y(()=>[i(St,null,{default:y(()=>[i(Ve,{cols:"12"},{default:y(()=>[i(xe,{label:me(fe).formLabelDisplayName,type:"text",variant:"outlined",modelValue:r.value.Title,"onUpdate:modelValue":u[1]||(u[1]=s=>r.value.Title=s)},null,8,["label","modelValue"])]),_:1}),i(Ve,{cols:"12"},{default:y(()=>[i(xe,{label:me(fe).formLabelTagKey,type:"text",variant:"outlined",modelValue:r.value.Key,"onUpdate:modelValue":u[2]||(u[2]=s=>r.value.Key=s)},null,8,["label","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),Va=le({__name:"SelectTags",props:j({convention:{},organisation:{},chips:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},hint:{default:""},label:{},variant:{},showKey:{type:Boolean,default:!1},showUuid:{type:Boolean,default:!1}},{modelValue:{required:!0},modelModifiers:{}}),emits:j(["change"],["update:modelValue"]),setup(e,{emit:l}){const t=Be(e,"modelValue"),a=l,c=P([]),r=Pe(),n=P([]),v=P([]),o=P(""),u=P(""),s=P(0),d=I(()=>[...n.value,...v.value].map(T=>({title:`${T.Title}${e.showKey?` [ ${T.Key} ]`:""}${e.showUuid?` (${T.TagUUID})`:""}`,value:c.value.find(h=>h.TagUUID===T.TagUUID)||T})));typeof e.convention=="object"?(o.value=e.convention.ConventionUUID,u.value=e.convention.OrganisationUUID):o.value=e.convention||"",typeof e.organisation=="object"?u.value=e.organisation.OrganisationUUID:u.value.length===0&&(u.value=e.organisation||""),(async()=>{const b=[];o.value&&b.push(r.getConventionTags(o.value)),u.value&&b.push(r.getOrganisationTags(u.value));const T=await Promise.all(b);if(o.value&&u.value?(v.value=T[0].sort((h,x)=>h.Title.localeCompare(x.Title)),n.value=T[1].sort((h,x)=>h.Title.localeCompare(x.Title))):o.value&&T.length==1?v.value=T[0].sort((h,x)=>h.Title.localeCompare(x.Title)):u.value&&T.length==1&&(n.value=T[0].sort((h,x)=>h.Title.localeCompare(x.Title))),Array.isArray(t.value))s.value=2,d.value.forEach(h=>{Array.isArray(t.value)&&t.value.find(S=>S.TagUUID===h.value.TagUUID)&&c.value.push(h.value)});else if(typeof t.value=="string"){s.value=1;try{const h=JSON.parse(t.value);d.value.forEach(x=>{h.find(C=>C.TagUUID===x.value.TagUUID)&&c.value.push(x.value)})}catch{}}})();const g=P(!1),k=()=>{g.value=!0},m=b=>{b.ConventionUUID.length>0?v.value.push(b):b.OrganisationUUID.length>0&&n.value.push(b),c.value.push(b),w()},w=()=>{switch(s.value){default:case 2:{t.value=c.value,a("change");break}case 1:{t.value=JSON.stringify(c.value),a("change");break}}};return ne(c,w),(b,T)=>(O(),ee(K,null,[i(It,{modelValue:c.value,"onUpdate:modelValue":T[1]||(T[1]=h=>c.value=h),chips:b.chips,multiple:"",label:b.label||"Tags",variant:b.variant||"solo",hint:b.hint,"persistent-hint":!0,clearable:b.clearable,items:d.value,"item-title":"title","item-value":"value"},{"prepend-item":y(()=>[i(Vt,{title:"New Tag",onClick:T[0]||(T[0]=h=>k())},{prepend:y(()=>[i(L,{icon:"mdi:mdi-plus"})]),_:1}),i(Ct,{class:"mt-2"})]),_:1},8,["modelValue","chips","label","variant","hint","clearable","items"]),i(kt,{modelValue:g.value,"onUpdate:modelValue":T[3]||(T[3]=h=>g.value=h),scrollable:!0},{default:y(()=>[i(Mt,{convention:b.convention,organisation:b.organisation,onClose:T[2]||(T[2]=h=>g.value=!1),onSave:m},null,8,["convention","organisation"])]),_:1},8,["modelValue"])],64))}}),xa=le({__name:"EditOrderedItems",props:j({closeable:{type:Boolean,default:!1},showDelete:{type:Boolean,default:!0},hasOrder:{type:Boolean,default:!0},newItem:{type:[Function,Boolean]},label:{default:"Name"},labelParent:{default:""},title:{default:"Edit Ordered Items"},showSave:{type:Boolean,default:!1},slotNamePrefix:{default:"item"}},{modelValue:{required:!0},modelModifiers:{}}),emits:j(["add","save","close"],["update:modelValue"]),setup(e,{emit:l}){const t=l,a=Be(e,"modelValue"),c=()=>{t("save"),t("close")},r=()=>{if(e.newItem){let s;e.hasOrder?(s=e.newItem(),s.Order=a.value.length+1):s=e.newItem(),a.value.push(s)}else e.hasOrder?a.value.push({ID:0,Order:a.value.length+1}):a.value.push({ID:0})},n=s=>{a.value.splice(s,1)},v=s=>{wt(s,a.value)},o=s=>{Ut(s,a.value)},u=s=>e.labelParent&&s[e.labelParent]?s[e.labelParent][e.label]:s[e.label];return a.value.find(s=>s.Order===0)&&Ce(a.value),a.value.find(s=>a.value.find(d=>d.Order===s.Order&&d!==s))&&Ce(a.value),(s,d)=>(O(),M(He,null,{default:y(()=>[i(pe,{dark:"",color:"primary"},{default:y(()=>[s.closeable?(O(),M(D,{key:0,icon:"",dark:"",onClick:d[0]||(d[0]=g=>t("close"))},{default:y(()=>[i(L,null,{default:y(()=>[R("mdi:mdi-close")]),_:1})]),_:1})):F("",!0),i(Ee,null,{default:y(()=>[R(he(s.title),1)]),_:1}),i(Re),i(Ae,null,{default:y(()=>[s.newItem!==void 0?(O(),M(D,{key:0,variant:"text",onClick:r},{default:y(()=>[R(" Add ")]),_:1})):F("",!0),s.showSave?(O(),M(D,{key:1,variant:"text",onClick:c},{default:y(()=>[R(" Save ")]),_:1})):F("",!0)]),_:1})]),_:1}),i(Me,{class:"pa-0"},{default:y(()=>[i(Pt,null,{default:y(()=>[(O(!0),ee(K,null,Ne(a.value,(g,k)=>(O(),M(Bt,{key:g.ID,class:"mt-0"},{default:y(()=>[i(Dt,null,{actions:y(({expanded:m})=>[s.showDelete?(O(),M(D,{key:0,icon:"mdi:mdi-close",size:"x-small",color:"red",class:"mr-1",onClick:w=>n(k)},null,8,["onClick"])):F("",!0),i(L,{class:"align-self-center text-h5",icon:m?"mdi:mdi-chevron-up":"mdi:mdi-chevron-down",variant:"flat",size:"x-small"},null,8,["icon"])]),default:y(()=>[s.hasOrder?(O(),ee(K,{key:0},[i(D,{icon:"mdi:mdi-menu-up",size:"x-small",color:"primary",class:"mr-1",onClick:ge(m=>o(g),["stop"])},null,8,["onClick"]),i(D,{icon:"mdi:mdi-menu-down",size:"x-small",color:"secondary",class:"mr-4",onClick:ge(m=>v(g),["stop"])},null,8,["onClick"])],64)):F("",!0),ye(s.$slots,`${s.slotNamePrefix}_${k}_title`,{},()=>[R(he(u(g)),1)])]),_:2},1024),i($t,{class:"px-0"},{default:y(()=>[ye(s.$slots,`${s.slotNamePrefix}_${k}`)]),_:2},1024)]),_:2},1024))),128))]),_:3})]),_:3})]),_:3}))}}),Xe=Symbol.for("vuetify:v-tabs"),Ht=W({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...je(vt({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),Xt=G()({name:"VTab",props:Ht(),setup(e,l){let{slots:t,attrs:a}=l;const{textColorClasses:c,textColorStyles:r}=gt(e,"sliderColor"),n=P(),v=P(),o=I(()=>e.direction==="horizontal"),u=I(()=>{var d,g;return((g=(d=n.value)==null?void 0:d.group)==null?void 0:g.isSelected.value)??!1});function s(d){var k,m;let{value:g}=d;if(g){const w=(m=(k=n.value)==null?void 0:k.$el.parentElement)==null?void 0:m.querySelector(".v-tab--selected .v-tab__slider"),b=v.value;if(!w||!b)return;const T=getComputedStyle(w).color,h=w.getBoundingClientRect(),x=b.getBoundingClientRect(),S=o.value?"x":"y",C=o.value?"X":"Y",U=o.value?"right":"bottom",$=o.value?"width":"height",q=h[S],H=x[S],p=q>H?h[U]-x[U]:h[S]-x[S],J=Math.sign(p)>0?o.value?"right":"bottom":Math.sign(p)<0?o.value?"left":"top":"center",Q=(Math.abs(p)+(Math.sign(p)<0?h[$]:x[$]))/Math.max(h[$],x[$])||0,B=h[$]/x[$]||0,X=1.5;Ot(b,{backgroundColor:[T,"currentcolor"],transform:[`translate${C}(${p}px) scale${C}(${B})`,`translate${C}(${p/X}px) scale${C}(${(Q-1)/X+1})`,"none"],transformOrigin:Array(3).fill(J)},{duration:225,easing:Et})}}return N(()=>{const d=D.filterProps(e);return i(D,te({symbol:Xe,ref:n,class:["v-tab",e.class],style:e.style,tabindex:u.value?0:-1,role:"tab","aria-selected":String(u.value),active:!1},d,a,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":s}),{...t,default:()=>{var g;return i(K,null,[((g=t.default)==null?void 0:g.call(t))??e.text,!e.hideSlider&&i("div",{ref:v,class:["v-tab__slider",c.value],style:r.value},null)])}})}),zt({},n)}});function ke(e){const t=Math.abs(e);return Math.sign(e)*(t/((1/.501-2)*(1-t)+1))}function we(e){let{selectedElement:l,containerSize:t,contentSize:a,isRtl:c,currentScrollOffset:r,isHorizontal:n}=e;const v=n?l.clientWidth:l.clientHeight,o=n?l.offsetLeft:l.offsetTop,u=c&&n?a-o-v:o,s=t+r,d=v+u,g=v*.4;return u<=r?r=Math.max(u-g,0):s<=d&&(r=Math.min(r-(s-d-g),a-t)),r}function Yt(e){let{selectedElement:l,containerSize:t,contentSize:a,isRtl:c,isHorizontal:r}=e;const n=r?l.clientWidth:l.clientHeight,v=r?l.offsetLeft:l.offsetTop,o=c&&r?a-v-n/2-t/2:v+n/2-t/2;return Math.min(a-t,Math.max(0,o))}const Lt=Symbol.for("vuetify:v-slide-group"),Ye=W({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:Lt},nextIcon:{type:be,default:"$next"},prevIcon:{type:be,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...oe(),...Ke(),...se(),...dt({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Ue=G()({name:"VSlideGroup",props:Ye(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:t}=l;const{isRtl:a}=De(),{displayClasses:c,mobile:r}=qe(e),n=Oe(e,e.symbol),v=E(!1),o=E(0),u=E(0),s=E(0),d=I(()=>e.direction==="horizontal"),{resizeRef:g,contentRect:k}=Se(),{resizeRef:m,contentRect:w}=Se(),b=I(()=>n.selected.value.length?n.items.value.findIndex(f=>f.id===n.selected.value[0]):-1),T=I(()=>n.selected.value.length?n.items.value.findIndex(f=>f.id===n.selected.value[n.selected.value.length-1]):-1);if(Je){let f=-1;ne(()=>[n.selected.value,k.value,w.value,d.value],()=>{cancelAnimationFrame(f),f=requestAnimationFrame(()=>{if(k.value&&w.value){const V=d.value?"width":"height";u.value=k.value[V],s.value=w.value[V],v.value=u.value+1<s.value}if(b.value>=0&&m.value){const V=m.value.children[T.value];b.value===0||!v.value?o.value=0:e.centerActive?o.value=Yt({selectedElement:V,containerSize:u.value,contentSize:s.value,isRtl:a.value,isHorizontal:d.value}):v.value&&(o.value=we({selectedElement:V,containerSize:u.value,contentSize:s.value,isRtl:a.value,currentScrollOffset:o.value,isHorizontal:d.value}))}})})}const h=E(!1);let x=0,S=0;function C(f){const V=d.value?"clientX":"clientY";S=(a.value&&d.value?-1:1)*o.value,x=f.touches[0][V],h.value=!0}function U(f){if(!v.value)return;const V=d.value?"clientX":"clientY",z=a.value&&d.value?-1:1;o.value=z*(S+x-f.touches[0][V])}function $(f){const V=s.value-u.value;o.value<0||!v.value?o.value=0:o.value>=V&&(o.value=V),h.value=!1}function q(){g.value&&(g.value[d.value?"scrollLeft":"scrollTop"]=0)}const H=E(!1);function p(f){if(H.value=!0,!(!v.value||!m.value)){for(const V of f.composedPath())for(const z of m.value.children)if(z===V){o.value=we({selectedElement:z,containerSize:u.value,contentSize:s.value,isRtl:a.value,currentScrollOffset:o.value,isHorizontal:d.value});return}}}function J(f){H.value=!1}function ie(f){var V;!H.value&&!(f.relatedTarget&&((V=m.value)!=null&&V.contains(f.relatedTarget)))&&B()}function Q(f){m.value&&(d.value?f.key==="ArrowRight"?B(a.value?"prev":"next"):f.key==="ArrowLeft"&&B(a.value?"next":"prev"):f.key==="ArrowDown"?B("next"):f.key==="ArrowUp"&&B("prev"),f.key==="Home"?B("first"):f.key==="End"&&B("last"))}function B(f){var V,z,ce,ve,de;if(m.value)if(!f)(V=Qe(m.value)[0])==null||V.focus();else if(f==="next"){const Y=(z=m.value.querySelector(":focus"))==null?void 0:z.nextElementSibling;Y?Y.focus():B("first")}else if(f==="prev"){const Y=(ce=m.value.querySelector(":focus"))==null?void 0:ce.previousElementSibling;Y?Y.focus():B("last")}else f==="first"?(ve=m.value.firstElementChild)==null||ve.focus():f==="last"&&((de=m.value.lastElementChild)==null||de.focus())}function X(f){const V=o.value+(f==="prev"?-1:1)*u.value;o.value=Ze(V,0,s.value-u.value)}const Ge=I(()=>{let f=o.value>s.value-u.value?-(s.value-u.value)+ke(s.value-u.value-o.value):-o.value;o.value<=0&&(f=ke(-o.value));const V=a.value&&d.value?-1:1;return{transform:`translate${d.value?"X":"Y"}(${V*f}px)`,transition:h.value?"none":"",willChange:h.value?"transform":""}}),Z=I(()=>({next:n.next,prev:n.prev,select:n.select,isSelected:n.isSelected})),_=I(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!r.value;case!0:return v.value||Math.abs(o.value)>0;case"mobile":return r.value||v.value||Math.abs(o.value)>0;default:return!r.value&&(v.value||Math.abs(o.value)>0)}}),ue=I(()=>Math.abs(o.value)>0),re=I(()=>s.value>Math.abs(o.value)+u.value);return N(()=>i(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!d.value,"v-slide-group--has-affixes":_.value,"v-slide-group--is-overflowing":v.value},c.value,e.class],style:e.style,tabindex:H.value||n.selected.value.length?-1:0,onFocus:ie},{default:()=>{var f,V,z;return[_.value&&i("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!ue.value}],onClick:()=>ue.value&&X("prev")},[((f=t.prev)==null?void 0:f.call(t,Z.value))??i(Ie,null,{default:()=>[i(L,{icon:a.value?e.nextIcon:e.prevIcon},null)]})]),i("div",{key:"container",ref:g,class:"v-slide-group__container",onScroll:q},[i("div",{ref:m,class:"v-slide-group__content",style:Ge.value,onTouchstartPassive:C,onTouchmovePassive:U,onTouchendPassive:$,onFocusin:p,onFocusout:J,onKeydown:Q},[(V=t.default)==null?void 0:V.call(t,Z.value)])]),_.value&&i("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!re.value}],onClick:()=>re.value&&X("next")},[((z=t.next)==null?void 0:z.call(t,Z.value))??i(Ie,null,{default:()=>[i(L,{icon:a.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:n.selected,scrollTo:X,scrollOffset:o,focus:B}}});function Ft(e){return e?e.map(l=>tt(l)?l:{text:l,value:l}):[]}const Wt=W({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Ye({mandatory:"force"}),...yt(),...se()},"VTabs"),Ca=G()({name:"VTabs",props:Wt(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:t}=l;const a=_e(e,"modelValue"),c=I(()=>Ft(e.items)),{densityClasses:r}=bt(e),{backgroundColorClasses:n,backgroundColorStyles:v}=Tt(A(e,"bgColor"));return et({VTab:{color:A(e,"color"),direction:A(e,"direction"),stacked:A(e,"stacked"),fixed:A(e,"fixedTabs"),sliderColor:A(e,"sliderColor"),hideSlider:A(e,"hideSlider")}}),N(()=>{const o=Ue.filterProps(e);return i(Ue,te(o,{modelValue:a.value,"onUpdate:modelValue":u=>a.value=u,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},r.value,n.value,e.class],style:[{"--v-tabs-height":ae(e.height)},v.value,e.style],role:"tablist",symbol:Xe}),{default:()=>[t.default?t.default():c.value.map(u=>i(Xt,te(u,{key:u.text}),null))]})}),{}}}),Gt=e=>{const{touchstartX:l,touchendX:t,touchstartY:a,touchendY:c}=e,r=.5,n=16;e.offsetX=t-l,e.offsetY=c-a,Math.abs(e.offsetY)<r*Math.abs(e.offsetX)&&(e.left&&t<l-n&&e.left(e),e.right&&t>l+n&&e.right(e)),Math.abs(e.offsetX)<r*Math.abs(e.offsetY)&&(e.up&&c<a-n&&e.up(e),e.down&&c>a+n&&e.down(e))};function Nt(e,l){var a;const t=e.changedTouches[0];l.touchstartX=t.clientX,l.touchstartY=t.clientY,(a=l.start)==null||a.call(l,{originalEvent:e,...l})}function jt(e,l){var a;const t=e.changedTouches[0];l.touchendX=t.clientX,l.touchendY=t.clientY,(a=l.end)==null||a.call(l,{originalEvent:e,...l}),Gt(l)}function Kt(e,l){var a;const t=e.changedTouches[0];l.touchmoveX=t.clientX,l.touchmoveY=t.clientY,(a=l.move)==null||a.call(l,{originalEvent:e,...l})}function qt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const l={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:t=>Nt(t,l),touchend:t=>jt(t,l),touchmove:t=>Kt(t,l)}}function Jt(e,l){var v;const t=l.value,a=t!=null&&t.parent?e.parentElement:e,c=(t==null?void 0:t.options)??{passive:!0},r=(v=l.instance)==null?void 0:v.$.uid;if(!a||!r)return;const n=qt(l.value);a._touchHandlers=a._touchHandlers??Object.create(null),a._touchHandlers[r]=n,$e(n).forEach(o=>{a.addEventListener(o,n[o],c)})}function Qt(e,l){var r,n;const t=(r=l.value)!=null&&r.parent?e.parentElement:e,a=(n=l.instance)==null?void 0:n.$.uid;if(!(t!=null&&t._touchHandlers)||!a)return;const c=t._touchHandlers[a];$e(c).forEach(v=>{t.removeEventListener(v,c[v])}),delete t._touchHandlers[a]}const Le={mounted:Jt,unmounted:Qt},Fe=Symbol.for("vuetify:v-window"),We=Symbol.for("vuetify:v-window-group"),Zt=W({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...oe(),...se(),...at()},"VWindow"),Ia=G()({name:"VWindow",directives:{Touch:Le},props:Zt(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:t}=l;const{themeClasses:a}=lt(e),{isRtl:c}=De(),{t:r}=nt(),n=Oe(e,We),v=P(),o=I(()=>c.value?!e.reverse:e.reverse),u=E(!1),s=I(()=>{const S=e.direction==="vertical"?"y":"x",U=(o.value?!u.value:u.value)?"-reverse":"";return`v-window-${S}${U}-transition`}),d=E(0),g=P(void 0),k=I(()=>n.items.value.findIndex(S=>n.selected.value.includes(S.id)));ne(k,(S,C)=>{const U=n.items.value.length,$=U-1;U<=2?u.value=S<C:S===$&&C===0?u.value=!0:S===0&&C===$?u.value=!1:u.value=S<C}),ot(Fe,{transition:s,isReversed:u,transitionCount:d,transitionHeight:g,rootRef:v});const m=I(()=>e.continuous||k.value!==0),w=I(()=>e.continuous||k.value!==n.items.value.length-1);function b(){m.value&&n.prev()}function T(){w.value&&n.next()}const h=I(()=>{const S=[],C={icon:c.value?e.nextIcon:e.prevIcon,class:`v-window__${o.value?"right":"left"}`,onClick:n.prev,"aria-label":r("$vuetify.carousel.prev")};S.push(m.value?t.prev?t.prev({props:C}):i(D,C,null):i("div",null,null));const U={icon:c.value?e.prevIcon:e.nextIcon,class:`v-window__${o.value?"left":"right"}`,onClick:n.next,"aria-label":r("$vuetify.carousel.next")};return S.push(w.value?t.next?t.next({props:U}):i(D,U,null):i("div",null,null)),S}),x=I(()=>e.touch===!1?e.touch:{...{left:()=>{o.value?b():T()},right:()=>{o.value?T():b()},start:C=>{let{originalEvent:U}=C;U.stopPropagation()}},...e.touch===!0?{}:e.touch});return N(()=>ze(i(e.tag,{ref:v,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},a.value,e.class],style:e.style},{default:()=>{var S,C;return[i("div",{class:"v-window__container",style:{height:g.value}},[(S=t.default)==null?void 0:S.call(t,{group:n}),e.showArrows!==!1&&i("div",{class:"v-window__controls"},[h.value])]),(C=t.additional)==null?void 0:C.call(t,{group:n})]}}),[[st("touch"),x.value]])),{group:n}}}),_t=W({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...oe(),...ft(),...pt()},"VWindowItem"),ka=G()({name:"VWindowItem",directives:{Touch:Le},props:_t(),emits:{"group:selected":e=>!0},setup(e,l){let{slots:t}=l;const a=it(Fe),c=mt(e,We),{isBooted:r}=xt();if(!a||!c)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const n=E(!1),v=I(()=>r.value&&(a.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function o(){!n.value||!a||(n.value=!1,a.transitionCount.value>0&&(a.transitionCount.value-=1,a.transitionCount.value===0&&(a.transitionHeight.value=void 0)))}function u(){var m;n.value||!a||(n.value=!0,a.transitionCount.value===0&&(a.transitionHeight.value=ae((m=a.rootRef.value)==null?void 0:m.clientHeight)),a.transitionCount.value+=1)}function s(){o()}function d(m){n.value&&rt(()=>{!v.value||!n.value||!a||(a.transitionHeight.value=ae(m.clientHeight))})}const g=I(()=>{const m=a.isReversed.value?e.reverseTransition:e.transition;return v.value?{name:typeof m!="string"?a.transition.value:m,onBeforeEnter:u,onAfterEnter:o,onEnterCancelled:s,onBeforeLeave:u,onAfterLeave:o,onLeaveCancelled:s,onEnter:d}:!1}),{hasContent:k}=Rt(e,c.isSelected);return N(()=>i(At,{transition:g.value,disabled:!r.value},{default:()=>{var m;return[ze(i("div",{class:["v-window-item",c.selectedClass.value,e.class],style:e.style},[k.value&&((m=t.default)==null?void 0:m.call(t))]),[[ut,c.isSelected.value]])]}})),{groupItem:c}}});export{Ia as V,Va as _,xa as a,Ca as b,Xt as c,ka as d};
