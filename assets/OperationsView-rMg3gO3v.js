import{i as H,M as z,r as i,N as Y,c as re,n as o,q as C,P as j,W as $,k as te,v as e,f as n,D as O,y as A,A as U,C as y,m as Ee,a1 as De,x as k,B as N,Q as fe,F as M,z as ne,V as Le,U as Me}from"./index-BmfeESX0.js";import{V as Ae,u as Re}from"./debounce-UmrPqUkj.js";import{G as ye}from"./group-7fhbY6WJ.js";import{C as Ve}from"./canDo-qRyNRWwD.js";import{G as _e}from"./userData-pz9sACgD.js";import{_ as Z}from"./ModelDialog.vue_vue_type_script_setup_true_lang-9-o_nJby.js";import{_ as K}from"./UserSelect.vue_vue_type_script_setup_true_lang-1taYlV1U.js";import{V as $e}from"./VAutocomplete-qxYEptNk.js";import{a as de,V as ue}from"./scopeId-9mBzaKLG.js";import{V as q,a as E}from"./VRow-C5FpeS-7.js";import{V as se}from"./VTextField-x2XIgiQD.js";import{V as ie}from"./VTextarea-s-yfJLtB.js";import{V as ke}from"./VForm-j11ugogw.js";import{V as Ge}from"./VFileInput--ZPKlzWA.js";import{V as me}from"./VAvatar-TzQg7bQC.js";import{a as ee,V as Ne}from"./VContainer-zh1_diu_.js";import{a as le,b as oe,c as ae,V as ve}from"./VDataTable-QAIacVC1.js";import{V as Ue,a as Ce,c as Ie,d as ge}from"./VList-OpHPnTma.js";import{V as x}from"./VBtn-TakRaN9v.js";import{h as Te}from"./date-1rFCglLs.js";import{a as Be}from"./VTable-yhl2ienc.js";import{a as xe,c as we,V as Ye}from"./VWindowItem-xgttzrEZ.js";import{V as qe}from"./VToolbar-X4L6jGGo.js";import{e as Pe}from"./VCard-sK5Mz7wV.js";import"./SaveButton.vue_vue_type_script_setup_true_lang-_HO4QBnt.js";import"./forwardRefs-15FBWNqg.js";import"./VDialog-MWOcIduz.js";import"./VCheckboxBtn-JWHTlgDX.js";import"./VChip-Eh5kw9ta.js";import"./createSimpleFunctional-LDH0zoaS.js";import"./VDivider--dml9bHa.js";var S=(s=>(s.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE="GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE",s.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE="GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE",s.GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS="GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS",s))(S||{});const J=[{title:"Costume Prop Clearance",value:"GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE"},{title:"Costume Prop Type",value:"GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE"},{title:"Lost and Found Status",value:"GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS"}],he=(s,w)=>s===void 0?!1:Ve(s,ye.GROUP_TYPE_CONVENTION,w.ConventionUUID,w).EditProps,Fe=(s,w)=>s===void 0?!1:Ve(s,ye.GROUP_TYPE_CONVENTION,w.ConventionUUID,w).ConfigureProps,Oe=H({__name:"GenericEnumSelect",props:z({category:{},convention:{},label:{default:""},variant:{default:"filled"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(s){const w=j(),c=i([]),t=Y(s,"modelValue");w.getConventionGenericEnums(s.convention.ConventionUUID,s.category).then(p=>{p&&(c.value=p)});const r=re(()=>{const p=c.value.map(D=>D).sort((D,G)=>D.Title>G.Title?1:D.Title==G.Title?0:-1);return p.unshift({ID:0,GenericEnumUUID:$,ConventionID:0,ConventionUUID:$,Category:s.category,Name:"",Title:`- Select ${s.label} -`,Description:""}),p});return(p,D)=>(o(),C($e,{label:p.label,items:r.value,"item-title":"Title","item-value":"GenericEnumUUID",variant:p.variant,"hide-details":"",modelValue:t.value,"onUpdate:modelValue":D[0]||(D[0]=G=>t.value=G)},null,8,["label","items","variant","modelValue"]))}}),ze=["innerHTML"],He=["innerHTML"],je=H({__name:"EditCostumeProp",props:z({convention:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{},costumeProp:{required:!0},costumePropModifiers:{}}),emits:z(["new","update:costumeProp"],["update:modelValue","update:costumeProp"]),setup(s,{emit:w}){const c=Y(s,"modelValue"),t=Y(s,"costumeProp"),r=j(),p=de(),D=w,G=i(te(t.value)),h=i(`${p.GetCostumePropImageURL(t.value.CostumePropUUID)}?${new Date().getTime()}`),P=i(),I=i(),a=i([]),d=i([]);r.getConventionGenericEnums(s.convention.ConventionUUID,S.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE).then(F=>{F&&(a.value=F)}),r.getConventionGenericEnums(s.convention.ConventionUUID,S.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE).then(F=>{F&&(d.value=F)});const u=()=>{},v=()=>{t.value=te(G.value)},_=F=>{r.saveCostumeProp(t.value).then(T=>{T?(F&&F("Saved Costume Prop"),t.value.CostumePropUUID!=T.CostumePropUUID&&D("new",T),t.value=T,D("update:costumeProp",T),h.value?f(T.CostumePropUUID).then(()=>{setTimeout(()=>{c.value=!1},1e3)}).catch(()=>{F("Failed to Save Image")}):setTimeout(()=>{c.value=!1},1e3)):F&&F("Failed to Save Costume Prop")}).catch(()=>{F&&F("Failed to Save Costume Prop")})},B=re(()=>!1),R=()=>{h.value=URL.createObjectURL(P.value.files[0])},f=async F=>{var b;const T=new FormData((b=I.value)==null?void 0:b.$el);if(T.get("Image")&&T.get("Image").size>0)return T.set("ConventionUUID",s.convention.ConventionUUID),T.set("CostumePropUUID",F),await p.SaveCostumePropImage(T)},V=F=>{if(!F)return"";let T=F;return T=T.replaceAll(`
`,"<br>"),T=T.replaceAll(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),T=T.replaceAll(/\[i](.*?)\[\/i]/g,"<em>$1</em>"),T};return(F,T)=>(o(),C(Z,Ee({modelValue:c.value,"onUpdate:modelValue":T[5]||(T[5]=b=>c.value=b),title:"Add Costume Prop","show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!1,"hide-extension":!0,fullscreen:!0,persistent:!0,scrollable:!0,onReset:v,onSave:_},{[De(B.value&&"delete")]:u}),{default:e(()=>[n(ee,null,{default:e(()=>[n(q,null,{default:e(()=>[t.value.AddedBy?(o(),C(E,{key:0,cols:"12"},{default:e(()=>[O("strong",null,"Added By: "+A(t.value.AddedBy.DisplayName),1)]),_:1})):U("",!0),n(E,{cols:"12"},{default:e(()=>[n(K,{modelValue:t.value.OwnerUUID,"onUpdate:modelValue":T[0]||(T[0]=b=>t.value.OwnerUUID=b),convention:F.convention,label:"Owner",variant:"outlined","aria-required":"true",clearable:!0},null,8,["modelValue","convention"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(Oe,{modelValue:t.value.TypeUUID,"onUpdate:modelValue":T[1]||(T[1]=b=>t.value.TypeUUID=b),category:y(S).GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE,convention:F.convention,label:"Type",variant:"outlined"},null,8,["modelValue","category","convention"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(se,{modelValue:t.value.Description,"onUpdate:modelValue":T[2]||(T[2]=b=>t.value.Description=b),label:"Description",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(Oe,{modelValue:t.value.ClearanceUUID,"onUpdate:modelValue":T[3]||(T[3]=b=>t.value.ClearanceUUID=b),category:y(S).GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE,convention:F.convention,label:"Clearance",variant:"outlined"},null,8,["modelValue","category","convention"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(ie,{modelValue:t.value.Remarks,"onUpdate:modelValue":T[4]||(T[4]=b=>t.value.Remarks=b),label:"Remarks / Information",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(ke,{ref_key:"propImageForm",ref:I,enctype:"multipart/form-data"},{default:e(()=>[n(Ge,{label:"Photograph",name:"Image",variant:"outlined",ref_key:"imageFileInput",ref:P,"prepend-icon":"mdi:mdi-camera",capture:"environment",accept:"image/avif, image/bmp, image/gif, image/jpeg, image/png, image/webp",onChange:R},null,512)]),_:1},512),h.value?(o(),C(me,{key:0,src:h.value,class:"border profileImage my-0 mx-auto","max-height":"400","max-width":"400",ref:"imageDisplay",cover:!1},null,8,["src"])):U("",!0)]),_:1}),t.value.ClearanceUUID!==""&&t.value.ClearanceUUID!==y($)?(o(),C(E,{key:1,cols:"12"},{default:e(()=>{var b,Q;return[O("div",null,[O("strong",null,A((b=a.value.find(X=>X.GenericEnumUUID===t.value.ClearanceUUID))==null?void 0:b.Title),1)]),O("div",{innerHTML:V((Q=a.value.find(X=>X.GenericEnumUUID===t.value.ClearanceUUID))==null?void 0:Q.Description)},null,8,ze)]}),_:1})):U("",!0),t.value.TypeUUID!==""&&t.value.TypeUUID!==y($)?(o(),C(E,{key:2,cols:"12"},{default:e(()=>{var b;return[O("div",{innerHTML:V((b=d.value.find(Q=>Q.GenericEnumUUID===t.value.TypeUUID))==null?void 0:b.Description)},null,8,He)]}),_:1})):U("",!0)]),_:1})]),_:1})]),_:1},16,["modelValue"]))}}),We=O("br",null,null,-1),Ke=O("p",null,[O("strong",null,"Description Formatting Guidance")],-1),Qe=O("dl",null,[O("dt",{class:"float-left mr-2"}," ** "),O("dd",null,[k(" Surround text with double asterisk to make text bold. E.g. **this is bold** = "),O("strong",null,"this is bold")]),O("dt",{class:"float-left mr-2"}," [i] "),O("dd",null,[k(" Surround text with [i] and [/i] to make text italic. E.g. [i]italic emphasis[/i] = "),O("em",null,"italic emphasis")])],-1),be=H({__name:"EditGenericEnum",props:z({convention:{},title:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{},genericEnum:{required:!0},genericEnumModifiers:{}}),emits:z(["delete:genericEnum","new","update:genericEnum"],["update:modelValue","update:genericEnum"]),setup(s,{emit:w}){const c=Y(s,"modelValue"),t=Y(s,"genericEnum"),r=i(te(t.value)),p=j(),D=w,G=i([]),h=i([]),P=u=>{p.deleteGenericEnum(r.value.GenericEnumUUID).then(v=>{var _,B;v?(u&&u(`Deleted ${(_=J.find(R=>R.value==r.value.Category))==null?void 0:_.title}`),D("delete:genericEnum",r.value),setTimeout(()=>{c.value=!1},1e3)):u&&u(`Failed to Delete ${(B=J.find(R=>R.value==r.value.Category))==null?void 0:B.title}`)}).catch(()=>{var v;u&&u(`Failed to Delete ${(v=J.find(_=>_.value==r.value.Category))==null?void 0:v.title}`)})},I=re(()=>r.value.GenericEnumUUID!=$),a=u=>{p.saveGenericEnum(r.value).then(v=>{var _,B;v?(u&&u(`Saved ${(_=J.find(R=>R.value==r.value.Category))==null?void 0:_.title}`),D("update:genericEnum",v),setTimeout(()=>{c.value=!1},1e3)):u&&u(`Failed to Save ${(B=J.find(R=>R.value==r.value.Category))==null?void 0:B.title}`)}).catch(()=>{var v;u&&u(`Failed to Save ${(v=J.find(_=>_.value==r.value.Category))==null?void 0:v.title}`)})},d=()=>{r.value=te(t.value)};return p.getConventionGenericEnums(s.convention.ConventionUUID,S.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE).then(u=>{u&&(G.value=u)}).catch(()=>{}),p.getConventionGenericEnums(s.convention.ConventionUUID,S.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE).then(u=>{u&&(h.value=u)}).catch(()=>{}),(u,v)=>(o(),C(Z,Ee({modelValue:c.value,"onUpdate:modelValue":v[3]||(v[3]=_=>c.value=_),title:u.title,"show-reset-action":!1,"show-save-action":!0,"show-delete-action":!1,"show-close-action":!0,"hide-extension":!0,fullscreen:!1,persistent:!0,scrollable:!0,onReset:d,onSave:a},{[De(I.value&&"delete")]:P}),{default:e(()=>[n(ee,null,{default:e(()=>[n(q,null,{default:e(()=>[n(E,{cols:"12"},{default:e(()=>[n(se,{modelValue:r.value.Name,"onUpdate:modelValue":v[0]||(v[0]=_=>r.value.Name=_),label:"Internal Name",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(se,{modelValue:r.value.Title,"onUpdate:modelValue":v[1]||(v[1]=_=>r.value.Title=_),label:"Display Title",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(ie,{modelValue:r.value.Description,"onUpdate:modelValue":v[2]||(v[2]=_=>r.value.Description=_),label:"Description",variant:"outlined"},null,8,["modelValue"]),We,Ke,Qe]),_:1})]),_:1})]),_:1})]),_:1},16,["modelValue","title"]))}}),Je=H({__name:"ConfigCostumeProps",props:z({convention:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(s){const w=Y(s,"modelValue"),c=j(),t=i(),r=i([]),p=i(!1),D=i([]),G=a=>{const d=()=>({ID:0,GenericEnumUUID:$,ConventionID:s.convention.ID,ConventionUUID:s.convention.ConventionUUID,Category:a,Name:"",Title:"",Description:""});t.value=d(),p.value=!0},h=a=>{t.value=a,p.value=!0},P=a=>{let d;switch(a.Category){case S.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE:d=r.value.findIndex(u=>u.GenericEnumUUID==a.GenericEnumUUID),d>=0&&r.value.splice(d,1);break;case S.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE:d=D.value.findIndex(u=>u.GenericEnumUUID==a.GenericEnumUUID),d>=0&&D.value.splice(d,1);break}},I=a=>{let d;switch(a.Category){case S.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE:d=r.value.findIndex(u=>u.GenericEnumUUID==a.GenericEnumUUID),d>=0?r.value.splice(d,1,a):r.value.push(t.value);break;case S.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE:d=D.value.findIndex(u=>u.GenericEnumUUID==a.GenericEnumUUID),d>=0?D.value.splice(d,1,a):D.value.push(t.value);break}};return c.getConventionGenericEnums(s.convention.ConventionUUID,S.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE).then(a=>{a&&(r.value=a)}),c.getConventionGenericEnums(s.convention.ConventionUUID,S.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE).then(a=>{a&&(D.value=a)}),(a,d)=>(o(),C(Z,{modelValue:w.value,"onUpdate:modelValue":d[4]||(d[4]=u=>w.value=u),title:"Configure Costume Props","show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!0,"hide-extension":!0,fullscreen:!0,persistent:!0,scrollable:!0},{default:e(()=>{var u;return[n(ve,null,{default:e(()=>[n(le,null,{default:e(()=>[n(oe,{color:"primary"},{default:e(()=>[k(" Clearance Options ")]),_:1}),n(ae,null,{default:e(()=>[n(Ue,null,{default:e(()=>[(o(!0),N(M,null,fe(r.value,v=>(o(),C(Ce,{key:v.GenericEnumUUID},{append:e(()=>[n(x,{icon:"mdi:mdi-pencil-outline",color:"warning",size:"x-small",onClick:_=>h(v)},null,8,["onClick"])]),default:e(()=>[n(Ie,null,{default:e(()=>[O("strong",null,A(v.Name)+" - "+A(v.Title),1)]),_:2},1024),n(ge,null,{default:e(()=>[k(A(v.Description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),n(q,null,{default:e(()=>[n(E,{class:"text-right"},{default:e(()=>[n(x,{color:"success","prepend-icon":"mdi:mdi-plus",onClick:d[0]||(d[0]=v=>G(y(S).GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE))},{default:e(()=>[k(" Add Item ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),n(le,null,{default:e(()=>[n(oe,{color:"primary"},{default:e(()=>[k(" Item Types ")]),_:1}),n(ae,null,{default:e(()=>[n(Ue,null,{default:e(()=>[(o(!0),N(M,null,fe(D.value,v=>(o(),C(Ce,{key:v.GenericEnumUUID},{append:e(()=>[n(x,{icon:"mdi:mdi-pencil-outline",color:"warning",size:"x-small",onClick:_=>h(v)},null,8,["onClick"])]),default:e(()=>[n(Ie,null,{default:e(()=>[O("strong",null,A(v.Name)+" - "+A(v.Title),1)]),_:2},1024),n(ge,null,{default:e(()=>[k(A(v.Description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),n(q,null,{default:e(()=>[n(E,{class:"text-right"},{default:e(()=>[n(x,{color:"success","prepend-icon":"mdi:mdi-plus",onClick:d[1]||(d[1]=v=>G(y(S).GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE))},{default:e(()=>[k(" Add Item ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),p.value&&t.value?(o(),C(be,{key:0,convention:a.convention,title:`Edit ${(u=y(J).find(v=>{var _;return v.value==((_=t.value)==null?void 0:_.Category)}))==null?void 0:u.title}`,modelValue:p.value,"onUpdate:modelValue":d[2]||(d[2]=v=>p.value=v),"generic-enum":t.value,"onUpdate:genericEnum":[d[3]||(d[3]=v=>t.value=v),I],"onDelete:genericEnum":P},null,8,["convention","title","modelValue","generic-enum"])):U("",!0)]}),_:1},8,["modelValue"]))}}),Xe=["href"],Ze=["innerHTML"],en=["innerHTML"],nn=H({__name:"ViewCostumeProp",props:z({convention:{},title:{default:"View Costume Prop"}},{modelValue:{type:Boolean,required:!0},modelModifiers:{},costumeProp:{required:!0},costumePropModifiers:{}}),emits:["update:modelValue","update:costumeProp"],setup(s){const w=Y(s,"modelValue"),c=Y(s,"costumeProp"),t=j(),r=de(),p=i(`${r.GetCostumePropImageURL(c.value.CostumePropUUID)}?${new Date().getTime()}`),D=i([]),G=i([]);t.getConventionGenericEnums(s.convention.ConventionUUID,S.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE).then(P=>{P&&(D.value=P)}),t.getConventionGenericEnums(s.convention.ConventionUUID,S.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE).then(P=>{P&&(G.value=P)});const h=P=>{if(!P)return"";let I=P;return I=I.replaceAll(`
`,"<br>"),I=I.replaceAll(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),I=I.replaceAll(/\[i](.*?)\[\/i]/g,"<em>$1</em>"),I};return(P,I)=>(o(),C(Z,{modelValue:w.value,"onUpdate:modelValue":I[0]||(I[0]=a=>w.value=a),title:P.title,"show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!1,"hide-extension":!0,fullscreen:!1,persistent:!1,scrollable:!0},{default:e(()=>[n(ee,null,{default:e(()=>[n(q,null,{default:e(()=>[n(E,{cols:"12"},{default:e(()=>[p.value?(o(),N("a",{key:0,href:p.value,target:"_blank",style:{cursor:"zoom-in"}},[n(me,{src:p.value,class:"border my-0 mx-auto","max-height":"400","max-width":"400",ref:"imageDisplay",cover:!1},null,8,["src"])],8,Xe)):U("",!0)]),_:1}),n(E,{cols:"12"},{default:e(()=>[k(A(c.value.Remarks),1)]),_:1}),c.value.AddedBy?(o(),C(E,{key:0,class:"text-right",cols:"12"},{default:e(()=>[O("small",null,"Added By: "+A(c.value.AddedBy.DisplayName),1)]),_:1})):U("",!0),c.value.ClearanceUUID!==""&&c.value.ClearanceUUID!==y($)?(o(),C(E,{key:1,cols:"12"},{default:e(()=>{var a,d;return[O("div",null,[O("strong",null,A((a=D.value.find(u=>u.GenericEnumUUID===c.value.ClearanceUUID))==null?void 0:a.Title),1)]),O("div",{innerHTML:h((d=D.value.find(u=>u.GenericEnumUUID===c.value.ClearanceUUID))==null?void 0:d.Description)},null,8,Ze)]}),_:1})):U("",!0),c.value.TypeUUID!==""&&c.value.TypeUUID!==y($)?(o(),C(E,{key:2,cols:"12"},{default:e(()=>{var a;return[O("div",{innerHTML:h((a=G.value.find(d=>d.GenericEnumUUID===c.value.TypeUUID))==null?void 0:a.Description)},null,8,en)]}),_:1})):U("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue","title"]))}}),Se=(s,w)=>s===void 0?!1:Ve(s,ye.GROUP_TYPE_CONVENTION,w.ConventionUUID,w).ViewProps,tn=O("br",null,null,-1),ln=H({__name:"CostumePropsView",props:{convention:{}},setup(s){const w=j(),c=_e(),t=i(),r=i([]),p=i(1),D=i([]),G=i(!0),h=i(10),P=i(0),I=i([]),a=i(""),d=i(Se(c,s.convention)),u=i(he(c,s.convention)),v=i(Fe(c,s.convention)),_=i(!1),B=i(!1),R=i(!1),f=i({}),V=Re(()=>{a.value=Date.now().toString()}),F=()=>{t.value={ID:0,CostumePropUUID:$,ConventionID:s.convention.ID,ConventionUUID:s.convention.ConventionUUID,Description:"",HasPhoto:!1,Remarks:""},_.value=!0},T=m=>{t.value=m,_.value=!0},b=m=>{t.value=m,R.value=!0},Q=()=>{B.value=!0},X=i([{key:"owner",title:"Attendee",sortable:!1},{key:"type",title:"Type",sortable:!1},{key:"Clearance.Title",title:"Clearance",sortable:!1},{key:"actions",title:"",sortable:!1}]),ce=({page:m,itemsPerPage:l,sortBy:g})=>{G.value=!0,p.value=m,D.value=g;try{f.value.Limit=l,f.value.Offset=(m-1)*l;const W=a.value;w.searchConventionCostumeProps(s.convention.ConventionUUID,f.value).then(pe=>{pe&&W===a.value&&(P.value=pe.Total,r.value=pe.CostumeProps,G.value=!1)})}catch(W){console.error(W)}},L=m=>{const l=r.value.findIndex(g=>m.CostumePropUUID==g.CostumePropUUID);l>=0&&r.value.splice(l,1,m)};return(m,l)=>m.convention?(o(),N(M,{key:0},[n(ee,{fluid:!0,class:"px-1"},{default:e(()=>[u.value||v.value?(o(),C(q,{key:0},{default:e(()=>[v.value?(o(),C(E,{key:0,class:"flex-shrink-1 flex-grow-0"},{default:e(()=>[n(x,{color:"primary","prepend-icon":"mdi:mdi-cog",onClick:Q},{default:e(()=>[k(" Config ")]),_:1})]),_:1})):U("",!0),n(ue),u.value?(o(),C(E,{key:1,class:"flex-shrink-1 flex-grow-0"},{default:e(()=>[n(x,{color:"success","prepend-icon":"mdi:mdi-plus",onClick:F},{default:e(()=>[k(" Record New Item ")]),_:1})]),_:1})):U("",!0)]),_:1})):U("",!0)]),_:1}),d.value||u.value?(o(),C(Ae,{key:0,page:p.value,"onUpdate:page":l[4]||(l[4]=g=>p.value=g),"items-per-page":h.value,"onUpdate:itemsPerPage":l[5]||(l[5]=g=>h.value=g),"sort-by":I.value,"onUpdate:sortBy":l[6]||(l[6]=g=>I.value=g),headers:X.value,"items-length":P.value,items:r.value,"item-value":"key",loading:G.value,search:a.value,"onUpdate:options":ce},{top:e(()=>[n(ve,{class:"mb-3"},{default:e(()=>[n(le,null,{default:e(()=>[n(oe,{color:"secondary",class:"font-weight-bold pb-0 pt-0"},{default:e(()=>[n(E,{class:"pa-0"},{default:e(()=>[k(" Search Criteria "),n(Ne,{class:"pl-5",icon:"mdi:mdi-credit-card-search-outline"})]),_:1}),n(E,{class:"d-none d-sm-block pa-0",cols:"0"},{default:e(()=>[n(K,{convention:m.convention,label:"Owner",clearable:!0,"hide-details":"",variant:"plain",modelValue:f.value.OwnerUUID,"onUpdate:modelValue":[l[0]||(l[0]=g=>f.value.OwnerUUID=g),y(V)],onClick:l[1]||(l[1]=ne(()=>{},["stop"])),"onClick:clear":y(V),onInput:y(V)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1}),n(ue),n(E,{class:"d-none d-md-block pa-0"})]),_:1}),n(ae,{class:"pt-2"},{default:e(()=>[n(q,null,{default:e(()=>[n(E,{cols:"12",lg:"6"},{default:e(()=>[n(K,{convention:m.convention,label:"Owner",clearable:!0,"hide-details":"",variant:"outlined",modelValue:f.value.OwnerUUID,"onUpdate:modelValue":[l[2]||(l[2]=g=>f.value.OwnerUUID=g),y(V)],onClick:l[3]||(l[3]=ne(()=>{},["stop"])),"onClick:clear":y(V),onInput:y(V)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),"item.owner":e(({item:g})=>[g.Owner?(o(),N(M,{key:0},[g.Owner.Registrations&&g.Owner.Registrations.length>0?(o(),N(M,{key:0},[k(" #"+A(g.Owner.Registrations[0].Reference),1)],64)):U("",!0),g.Owner.Generated&&g.Owner.Generated.badge_name?(o(),N(M,{key:1},[k("  "+A(g.Owner.Generated.badge_name),1)],64)):(o(),N(M,{key:2},[k("  "+A(g.Owner.DisplayName),1)],64))],64)):U("",!0)]),"item.type":e(({item:g})=>[g.Type?(o(),N(M,{key:0},[k(A(g.Type.Title)+" ",1),tn],64)):U("",!0),O("small",null,A(g.Description),1)]),"item.actions":e(({item:g})=>[d.value?(o(),C(x,{key:0,icon:"mdi:mdi-magnify",size:"x-small",color:"success",onClick:W=>b(g),class:"mr-2"},null,8,["onClick"])):U("",!0),u.value?(o(),C(x,{key:1,icon:"mdi:mdi-pencil",size:"x-small",color:"warning",onClick:W=>T(g)},null,8,["onClick"])):U("",!0)]),_:1},8,["page","items-per-page","sort-by","headers","items-length","items","loading","search"])):U("",!0),_.value&&t.value?(o(),C(je,{key:1,convention:m.convention,modelValue:_.value,"onUpdate:modelValue":l[7]||(l[7]=g=>_.value=g),"costume-prop":t.value,"onUpdate:costumeProp":[l[8]||(l[8]=g=>t.value=g),L],onNew:y(V)},null,8,["convention","modelValue","costume-prop","onNew"])):U("",!0),R.value&&t.value?(o(),C(nn,{key:2,convention:m.convention,title:t.value.Description,modelValue:R.value,"onUpdate:modelValue":l[9]||(l[9]=g=>R.value=g),"costume-prop":t.value,"onUpdate:costumeProp":l[10]||(l[10]=g=>t.value=g)},null,8,["convention","title","modelValue","costume-prop"])):U("",!0),B.value?(o(),C(Je,{key:3,convention:m.convention,modelValue:B.value,"onUpdate:modelValue":l[11]||(l[11]=g=>B.value=g)},null,8,["convention","modelValue"])):U("",!0)],64)):U("",!0)}}),on=O("strong",null,"Added By:",-1),an=O("strong",null,"Status:",-1),un={key:0,class:"text-success"},sn={key:1,class:"text-warning"},rn={key:2,class:"text-error"},dn={key:3,class:"text-error"},mn=H({__name:"EditLostAndFound",props:z({convention:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{},lostAndFound:{required:!0},lostAndFoundModifiers:{}}),emits:z(["new","update:lostAndFound"],["update:modelValue","update:lostAndFound"]),setup(s,{emit:w}){const c=Y(s,"modelValue"),t=Y(s,"lostAndFound"),r=j(),p=de(),D=w,G=i(te(t.value)),h=i(`${p.GetLostAndFoundImageURL(t.value.LostAndFoundUUID)}?${new Date().getTime()}`),P=i(),I=i(),a=()=>{},d=()=>{t.value=te(G.value)},u=R=>{r.saveLostAndFound(t.value).then(f=>{f?(R&&R("Saved Costume Prop"),t.value.LostAndFoundUUID!=f.LostAndFoundUUID&&D("new",f),t.value=f,D("update:lostAndFound",f),h.value?B(f.LostAndFoundUUID).then(()=>{setTimeout(()=>{c.value=!1},1e3)}).catch(()=>{R("Failed to Save Image")}):setTimeout(()=>{c.value=!1},1e3)):R&&R("Failed to Save Costume Prop")}).catch(()=>{R&&R("Failed to Save Costume Prop")})},v=re(()=>!1),_=()=>{h.value=URL.createObjectURL(P.value.files[0])},B=async R=>{var V;const f=new FormData((V=I.value)==null?void 0:V.$el);if(f.get("Image")&&f.get("Image").size>0)return f.set("ConventionUUID",s.convention.ConventionUUID),f.set("LostAndFoundUUID",R),await p.SaveLostAndFoundImage(f)};return(R,f)=>(o(),C(Z,Ee({modelValue:c.value,"onUpdate:modelValue":f[5]||(f[5]=V=>c.value=V),title:"Report Lost & Found","show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!1,"hide-extension":!0,fullscreen:!0,persistent:!0,scrollable:!0,onReset:d,onSave:u},{[De(v.value&&"delete")]:a}),{default:e(()=>[n(ee,null,{default:e(()=>[n(q,null,{default:e(()=>[t.value.AddedBy?(o(),C(E,{key:0,cols:"12"},{default:e(()=>[on,k(" "+A(t.value.AddedBy.DisplayName),1)]),_:1})):U("",!0),t.value.AddedBy?(o(),C(E,{key:1,cols:"12"},{default:e(()=>[an,t.value.FoundByUUID&&t.value.OwnerUUID&&t.value.FoundByUUID!==y($)&&t.value.OwnerUUID!==y($)?(o(),N("span",un," Returned ")):t.value.FoundByUUID&&t.value.FoundByUUID!==y($)?(o(),N("span",sn," Found ")):t.value.OwnerUUID&&t.value.OwnerUUID!==y($)?(o(),N("span",rn," Lost ")):(o(),N("span",dn," Unknown "))]),_:1})):U("",!0),n(E,{cols:"12"},{default:e(()=>[n(K,{modelValue:t.value.FoundByUUID,"onUpdate:modelValue":f[0]||(f[0]=V=>t.value.FoundByUUID=V),convention:R.convention,label:"Found By",variant:"outlined","persistent-hint":!0,hint:"If unknown enter yourself",clearable:!0},null,8,["modelValue","convention"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(K,{modelValue:t.value.OwnerUUID,"onUpdate:modelValue":f[1]||(f[1]=V=>t.value.OwnerUUID=V),convention:R.convention,label:"Claimant (Owner)",variant:"outlined","persistent-hint":!0,hint:"The person either reporting item missing or claiming it",clearable:!0},null,8,["modelValue","convention"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(se,{modelValue:t.value.Title,"onUpdate:modelValue":f[2]||(f[2]=V=>t.value.Title=V),label:"Title",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(ie,{modelValue:t.value.Description,"onUpdate:modelValue":f[3]||(f[3]=V=>t.value.Description=V),label:"Description",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(ie,{modelValue:t.value.Comments,"onUpdate:modelValue":f[4]||(f[4]=V=>t.value.Comments=V),label:"Comments",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(ke,{ref_key:"propImageForm",ref:I,enctype:"multipart/form-data"},{default:e(()=>[n(Ge,{label:"Photograph",name:"Image",variant:"outlined",ref_key:"imageFileInput",ref:P,"prepend-icon":"mdi:mdi-camera",capture:"environment",accept:"image/avif, image/bmp, image/gif, image/jpeg, image/png, image/webp",onChange:_},null,512)]),_:1},512),h.value?(o(),C(me,{key:0,src:h.value,class:"border profileImage my-0 mx-auto","max-height":"400","max-width":"400",ref:"imageDisplay",cover:!1},null,8,["src"])):U("",!0)]),_:1})]),_:1})]),_:1})]),_:1},16,["modelValue"]))}}),vn=H({__name:"ConfigLostAndFound",props:z({convention:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(s){const w=Y(s,"modelValue"),c=j(),t=i(),r=i([]),p=i(!1),D=I=>{const a=()=>({ID:0,GenericEnumUUID:$,ConventionID:s.convention.ID,ConventionUUID:s.convention.ConventionUUID,Category:I,Name:"",Title:"",Description:""});t.value=a(),p.value=!0},G=I=>{t.value=I,p.value=!0},h=I=>{let a;switch(I.Category){case S.GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS:a=r.value.findIndex(d=>d.GenericEnumUUID==I.GenericEnumUUID),a>=0&&r.value.splice(a,1);break}},P=I=>{let a;switch(I.Category){case S.GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS:a=r.value.findIndex(d=>d.GenericEnumUUID==I.GenericEnumUUID),a>=0?r.value.splice(a,1,I):r.value.push(t.value);break}};return c.getConventionGenericEnums(s.convention.ConventionUUID,S.GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS).then(I=>{I&&(r.value=I)}),(I,a)=>(o(),C(Z,{modelValue:w.value,"onUpdate:modelValue":a[3]||(a[3]=d=>w.value=d),title:"Configure Costume Props","show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!0,"hide-extension":!0,fullscreen:!0,persistent:!0,scrollable:!0},{default:e(()=>{var d;return[n(ve,null,{default:e(()=>[n(le,null,{default:e(()=>[n(oe,{color:"primary"},{default:e(()=>[k(" Item Status ")]),_:1}),n(ae,null,{default:e(()=>[n(Ue,null,{default:e(()=>[(o(!0),N(M,null,fe(r.value,u=>(o(),C(Ce,{key:u.GenericEnumUUID},{append:e(()=>[n(x,{icon:"mdi:mdi-pencil-outline",color:"warning",size:"x-small",onClick:v=>G(u)},null,8,["onClick"])]),default:e(()=>[n(Ie,null,{default:e(()=>[O("strong",null,A(u.Name)+" - "+A(u.Title),1)]),_:2},1024),n(ge,null,{default:e(()=>[k(A(u.Description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),n(q,null,{default:e(()=>[n(E,{class:"text-right"},{default:e(()=>[n(x,{color:"success","prepend-icon":"mdi:mdi-plus",onClick:a[0]||(a[0]=u=>D(y(S).GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS))},{default:e(()=>[k(" Add Item ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),p.value&&t.value?(o(),C(be,{key:0,convention:I.convention,title:`Edit ${(d=y(J).find(u=>{var v;return u.value==((v=t.value)==null?void 0:v.Category)}))==null?void 0:d.title}`,modelValue:p.value,"onUpdate:modelValue":a[1]||(a[1]=u=>p.value=u),"generic-enum":t.value,"onUpdate:genericEnum":[a[2]||(a[2]=u=>t.value=u),P],"onDelete:genericEnum":h},null,8,["convention","title","modelValue","generic-enum"])):U("",!0)]}),_:1},8,["modelValue"]))}}),cn=["href"],pn=H({__name:"ViewLostAndFound",props:z({title:{default:"View Costume Prop"}},{modelValue:{type:Boolean,required:!0},modelModifiers:{},lostAndFound:{required:!0},lostAndFoundModifiers:{}}),emits:["update:modelValue","update:lostAndFound"],setup(s){const w=Y(s,"modelValue"),c=Y(s,"lostAndFound"),t=de(),r=i(`${t.GetLostAndFoundImageURL(c.value.LostAndFoundUUID)}?${new Date().getTime()}`);return(p,D)=>(o(),C(Z,{modelValue:w.value,"onUpdate:modelValue":D[0]||(D[0]=G=>w.value=G),title:p.title,"show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!1,"hide-extension":!0,fullscreen:!1,persistent:!1,scrollable:!0},{default:e(()=>[n(ee,null,{default:e(()=>[n(q,null,{default:e(()=>[n(E,{cols:"12"},{default:e(()=>[r.value?(o(),N("a",{key:0,href:r.value,target:"_blank",style:{cursor:"zoom-in"}},[n(me,{src:r.value,class:"border my-0 mx-auto","max-height":"400","max-width":"400",ref:"imageDisplay",cover:!1},null,8,["src"])],8,cn)):U("",!0)]),_:1}),n(E,{cols:"12"},{default:e(()=>[k(A(c.value.Description),1)]),_:1}),n(E,{cols:"12"},{default:e(()=>[k(A(c.value.Comments),1)]),_:1}),c.value.AddedBy?(o(),C(E,{key:0,class:"text-right",cols:"12"},{default:e(()=>[O("small",null,"Added By: "+A(c.value.AddedBy.DisplayName),1)]),_:1})):U("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue","title"]))}}),fn=O("strong",null,"Reported:",-1),Un=O("br",null,null,-1),Cn=O("strong",null,"Updated:",-1),In=O("br",null,null,-1),gn={key:0,class:"text-success"},En={key:1,class:"text-warning"},Dn={key:2,class:"text-error"},yn={key:3,class:"text-error"},Vn=H({__name:"LostAndFoundView",props:{convention:{}},setup(s){const w=j(),c=_e(),t=i(),r=i([]),p=i(1),D=i([]),G=i(!0),h=i(10),P=i(0),I=i([]),a=i(""),d=i(Se(c,s.convention)),u=i(he(c,s.convention)),v=i(Fe(c,s.convention)),_=i(!1),B=i(!1),R=i(!1),f=i({}),V=Re(()=>{a.value=Date.now().toString()}),F=()=>{t.value={ID:0,LostAndFoundUUID:$,ConventionID:s.convention.ID,ConventionUUID:s.convention.ConventionUUID,Title:"",Description:"",HasPhoto:!1,Comments:""},_.value=!0},T=L=>{t.value=L,_.value=!0},b=L=>{t.value=L,R.value=!0},Q=i([{key:"owner",title:"Owner",sortable:!1},{key:"finder",title:"Found By",sortable:!1},{key:"title",title:"Title",sortable:!1},{key:"status",title:"Status",sortable:!1},{key:"timestamps",title:"Date",sortable:!1},{key:"actions",title:"",sortable:!1}]),X=({page:L,itemsPerPage:m,sortBy:l})=>{G.value=!0,p.value=L,D.value=l;try{f.value.Limit=m,f.value.Offset=(L-1)*m;const g=a.value;w.searchConventionLostAndFound(s.convention.ConventionUUID,f.value).then(W=>{W&&g===a.value&&(P.value=W.Total,r.value=W.LostAndFound,G.value=!1)})}catch(g){console.error(g)}},ce=L=>{const m=r.value.findIndex(l=>L.LostAndFoundUUID==l.LostAndFoundUUID);m>=0&&r.value.splice(m,1,L)};return(L,m)=>L.convention?(o(),N(M,{key:0},[n(ee,{fluid:!0,class:"px-1"},{default:e(()=>[u.value||v.value?(o(),C(q,{key:0},{default:e(()=>[n(ue),u.value?(o(),C(E,{key:0,class:"flex-shrink-1 flex-grow-0"},{default:e(()=>[n(x,{color:"success","prepend-icon":"mdi:mdi-plus",onClick:F},{default:e(()=>[k(" Record New Item ")]),_:1})]),_:1})):U("",!0)]),_:1})):U("",!0)]),_:1}),d.value||u.value?(o(),C(Ae,{key:0,page:p.value,"onUpdate:page":m[8]||(m[8]=l=>p.value=l),"items-per-page":h.value,"onUpdate:itemsPerPage":m[9]||(m[9]=l=>h.value=l),"sort-by":I.value,"onUpdate:sortBy":m[10]||(m[10]=l=>I.value=l),headers:Q.value,"items-length":P.value,items:r.value,"item-value":"key",loading:G.value,search:a.value,"onUpdate:options":X},{top:e(()=>[n(ve,{class:"mb-3"},{default:e(()=>[n(le,null,{default:e(()=>[n(oe,{color:"secondary",class:"font-weight-bold pb-0 pt-0"},{default:e(()=>[n(E,{class:"pa-0"},{default:e(()=>[k(" Search Criteria "),n(Ne,{class:"pl-5",icon:"mdi:mdi-credit-card-search-outline"})]),_:1}),n(E,{class:"d-none d-sm-block pa-0 pr-4",cols:"0"},{default:e(()=>[n(K,{convention:L.convention,label:"Owner",clearable:!0,"hide-details":"",variant:"plain",modelValue:f.value.OwnerUUID,"onUpdate:modelValue":[m[0]||(m[0]=l=>f.value.OwnerUUID=l),y(V)],onClick:m[1]||(m[1]=ne(()=>{},["stop"])),"onClick:clear":y(V),onInput:y(V)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1}),n(E,{class:"d-none d-sm-block pa-0 pr-4",cols:"0"},{default:e(()=>[n(K,{convention:L.convention,label:"Finder",clearable:!0,"hide-details":"",variant:"plain",modelValue:f.value.FoundByUUID,"onUpdate:modelValue":[m[2]||(m[2]=l=>f.value.FoundByUUID=l),y(V)],onClick:m[3]||(m[3]=ne(()=>{},["stop"])),"onClick:clear":y(V),onInput:y(V)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1}),n(ue),n(E,{class:"d-none d-md-block pa-0"})]),_:1}),n(ae,{class:"pt-2"},{default:e(()=>[n(q,null,{default:e(()=>[n(E,{cols:"12",lg:"6"},{default:e(()=>[n(K,{convention:L.convention,label:"Owner",clearable:!0,"hide-details":"",variant:"outlined",modelValue:f.value.OwnerUUID,"onUpdate:modelValue":[m[4]||(m[4]=l=>f.value.OwnerUUID=l),y(V)],onClick:m[5]||(m[5]=ne(()=>{},["stop"])),"onClick:clear":y(V),onInput:y(V)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1}),n(E,{cols:"12",lg:"6"},{default:e(()=>[n(K,{convention:L.convention,label:"Finder",clearable:!0,"hide-details":"",variant:"outlined",modelValue:f.value.FoundByUUID,"onUpdate:modelValue":[m[6]||(m[6]=l=>f.value.FoundByUUID=l),y(V)],onClick:m[7]||(m[7]=ne(()=>{},["stop"])),"onClick:clear":y(V),onInput:y(V)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),"item.finder":e(({item:l})=>[l.FoundBy?(o(),N(M,{key:0},[l.FoundBy.Registrations&&l.FoundBy.Registrations.length>0?(o(),N(M,{key:0},[k(" #"+A(l.FoundBy.Registrations[0].Reference),1)],64)):U("",!0),l.FoundBy.Generated&&l.FoundBy.Generated.badge_name?(o(),N(M,{key:1},[k("  "+A(l.FoundBy.Generated.badge_name),1)],64)):(o(),N(M,{key:2},[k("  "+A(l.FoundBy.DisplayName),1)],64))],64)):U("",!0)]),"item.owner":e(({item:l})=>[l.Owner?(o(),N(M,{key:0},[l.Owner.Registrations&&l.Owner.Registrations.length>0?(o(),N(M,{key:0},[k(" #"+A(l.Owner.Registrations[0].Reference),1)],64)):U("",!0),l.Owner.Generated&&l.Owner.Generated.badge_name?(o(),N(M,{key:1},[k("  "+A(l.Owner.Generated.badge_name),1)],64)):(o(),N(M,{key:2},[k("  "+A(l.Owner.DisplayName),1)],64))],64)):U("",!0)]),"item.timestamps":e(({item:l})=>[fn,k(" "+A(y(Te)(l.CreatedAt,{withTime:!0,withYear:!0}))+" ",1),l.UpdatedAt!=l.CreatedAt?(o(),N(M,{key:0},[Un,Cn,k(" "+A(y(Te)(l.UpdatedAt,{withTime:!0,withYear:!0})),1)],64)):U("",!0)]),"item.title":e(({item:l})=>[O("strong",null,A(l.Title),1),In,O("small",null,A(l.Description),1)]),"item.status":e(({item:l})=>[l.FoundByUUID&&l.OwnerUUID&&l.FoundByUUID!==y($)&&l.OwnerUUID!==y($)?(o(),N("span",gn," Returned ")):l.FoundByUUID&&l.FoundByUUID!==y($)?(o(),N("span",En," Found ")):l.OwnerUUID&&l.OwnerUUID!==y($)?(o(),N("span",Dn," Lost ")):(o(),N("span",yn," Unknown "))]),"item.actions":e(({item:l})=>[d.value?(o(),C(x,{key:0,icon:"mdi:mdi-magnify",size:"x-small",color:"success",onClick:g=>b(l),class:"mr-2"},null,8,["onClick"])):U("",!0),u.value?(o(),C(x,{key:1,icon:"mdi:mdi-pencil",size:"x-small",color:"warning",onClick:g=>T(l)},null,8,["onClick"])):U("",!0)]),_:1},8,["page","items-per-page","sort-by","headers","items-length","items","loading","search"])):U("",!0),_.value&&t.value?(o(),C(mn,{key:1,convention:L.convention,modelValue:_.value,"onUpdate:modelValue":m[11]||(m[11]=l=>_.value=l),"lost-and-found":t.value,"onUpdate:lostAndFound":[m[12]||(m[12]=l=>t.value=l),ce],onNew:y(V)},null,8,["convention","modelValue","lost-and-found","onNew"])):U("",!0),R.value&&t.value?(o(),C(pn,{key:2,title:t.value.Title,modelValue:R.value,"onUpdate:modelValue":m[13]||(m[13]=l=>R.value=l),"lost-and-found":t.value,"onUpdate:lostAndFound":m[14]||(m[14]=l=>t.value=l)},null,8,["title","modelValue","lost-and-found"])):U("",!0),B.value?(o(),C(vn,{key:3,convention:L.convention,modelValue:B.value,"onUpdate:modelValue":m[15]||(m[15]=l=>B.value=l)},null,8,["convention","modelValue"])):U("",!0)],64)):U("",!0)}}),nt=H({__name:"OperationsView",emits:["pageTitle"],setup(s,{emit:w}){var I;const c=j(),t=w,r=Le(),p=Me();_e(),t("pageTitle","Operations");const D=i(),G=i(["Costume Props","Lost and Found"]);let h=((I=r.params.convention)==null?void 0:I.toString())||"";const P=i();return h?c.getConvention(h).then(a=>{a&&(P.value=a)}).catch(()=>{p.push("/")}):p.push("/"),(a,d)=>(o(),C(Be,null,{default:e(()=>[n(qe,{color:"blue-darken-4"},{default:e(()=>[n(xe,{modelValue:D.value,"onUpdate:modelValue":d[0]||(d[0]=u=>D.value=u),items:G.value,"show-arrows":""},null,8,["modelValue","items"])]),_:1}),n(Ye,{modelValue:D.value,"onUpdate:modelValue":d[1]||(d[1]=u=>D.value=u),disabled:!0,touch:!1},{default:e(()=>[n(we,{value:"Costume Props"},{default:e(()=>[D.value=="Costume Props"?(o(),C(Pe,{key:0,class:"pa-2"},{default:e(()=>[P.value?(o(),C(ln,{key:0,convention:P.value},null,8,["convention"])):U("",!0)]),_:1})):U("",!0)]),_:1}),n(we,{value:"Lost and Found"},{default:e(()=>[D.value=="Lost and Found"?(o(),C(Pe,{key:0,class:"pa-2"},{default:e(()=>[P.value?(o(),C(Vn,{key:0,convention:P.value},null,8,["convention"])):U("",!0)]),_:1})):U("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{nt as default};
