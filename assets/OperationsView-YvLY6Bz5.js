import{i as Y,M,r as d,N as h,c as q,n as E,q as g,P as L,k as B,v as t,f as e,D as W,y as k,A as _,C as G,m as me,a0 as de,x as A,B as K,Q as le,F as Q,z as ne,V as Pe,U as Re}from"./index-4nrgYz2t.js";import{V as _e,u as Te}from"./debounce-osH66O0U.js";import{C as ye,a as Oe,b as Ne}from"./canConfigureProps-_vDgjCLJ.js";import{G as we}from"./userData-D9bqxQVk.js";import{_ as z}from"./ModelDialog.vue_vue_type_script_setup_true_lang-Wr0PMXQ1.js";import{V as ve}from"./VAutocomplete-C3VVHTm-.js";import{u as S}from"./nil-rxyd0N8M.js";import{a as ce,V as oe}from"./scopeId-KsrNkux9.js";import{V as x,a as P}from"./VRow-eO75XqEs.js";import{V as J}from"./VTextField-DzX3_YW1.js";import{V as pe}from"./VTextarea-gZjww8R-.js";import{V as Ge}from"./VForm-gLIlBlXA.js";import{V as Ae}from"./VFileInput-8JiLxJ0u.js";import{V as fe}from"./VAvatar-dY9XQbgr.js";import{a as j,V as Se}from"./VContainer-MiGBCU6e.js";import{a as X,b as Z,c as ee,V as Ue}from"./VDataTable-gywZyADl.js";import{V as ae,a as ie,c as ue,d as se}from"./VList-RG-cidUg.js";import{V as b}from"./VBtn-QXKhTqC-.js";import{a as Me}from"./VTable-U6hDMY-e.js";import{a as he,c as ke,V as be}from"./VWindowItem-UZWs1ztJ.js";import{V as Ye}from"./VToolbar-M6aWBSHB.js";import{e as $e}from"./VCard-pzFfC57H.js";import"./group-7fhbY6WJ.js";import"./canDo-8w-iwWYc.js";import"./SaveButton.vue_vue_type_script_setup_true_lang-9HLYIejM.js";import"./forwardRefs-0mKwUGv9.js";import"./VDialog-9_1Gw9Ek.js";import"./VSelect-TlGUS_wy.js";import"./VCheckboxBtn-AYcu1Sap.js";import"./VChip-kxMH1pPL.js";import"./createSimpleFunctional-pBkWAJ3F.js";import"./VDivider-V3i4aCTN.js";var O=(s=>(s.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE="GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE",s.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE="GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE",s.GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS="GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS",s))(O||{});const $=[{title:"Costume Prop Clearance",value:"GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE"},{title:"Costume Prop Type",value:"GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE"},{title:"Lost and Found Status",value:"GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS"}],te=Y({__name:"UserSelect",props:M({convention:{},label:{default:""},variant:{default:"filled"}},{modelValue:{},modelModifiers:{}}),emits:M(["change"],["update:modelValue"]),setup(s,{emit:R}){const U=L(),l=d([]),a=h(s,"modelValue");U.searchConventionUsers(s.convention.ConventionUUID).then(i=>{i&&(l.value=i.Users)});const v=q(()=>{const i=l.value.map(u=>({DisplayName:`${u.Registrations&&u.Registrations.length>0&&u.Registrations[0].Reference?`#${u.Registrations[0].Reference}`:""} ${u.DisplayName}`,Reference:u.Registrations&&u.Registrations.length>0&&u.Registrations[0].Reference?u.Registrations[0].Reference:"",UserUUID:u.UserUUID})).sort((u,I)=>!u.Reference&&I.Reference?1:u.Reference&&!I.Reference||u.Reference.length<I.Reference.length?-1:u.Reference.length>I.Reference.length||u.DisplayName>I.DisplayName?1:u.DisplayName==I.DisplayName?0:-1);return i.unshift({DisplayName:"- Select Owner -",Reference:"",UserUUID:S}),i});return(i,u)=>(E(),g(ve,{label:i.label,items:v.value,"item-title":"DisplayName","item-value":"UserUUID",variant:i.variant,"hide-details":"",modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=I=>a.value=I)},null,8,["label","items","variant","modelValue"]))}}),re=Y({__name:"GenericEnumSelect",props:M({category:{},convention:{},label:{default:""},variant:{default:"filled"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(s){const R=L(),U=d([]),l=h(s,"modelValue");R.getConventionGenericEnums(s.convention.ConventionUUID,s.category).then(v=>{v&&(U.value=v)});const a=q(()=>{const v=U.value.map(i=>i).sort((i,u)=>i.Title>u.Title?1:i.Title==u.Title?0:-1);return v.unshift({ID:0,GenericEnumUUID:S,ConventionID:0,ConventionUUID:S,Category:s.category,Name:"",Title:`- Select ${s.label} -`,Description:""}),v});return(v,i)=>(E(),g(ve,{label:v.label,items:a.value,"item-title":"Title","item-value":"GenericEnumUUID",variant:v.variant,"hide-details":"",modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=u=>l.value=u)},null,8,["label","items","variant","modelValue"]))}}),xe=Y({__name:"EditCostumeProp",props:M({convention:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{},costumeProp:{required:!0},costumePropModifiers:{}}),emits:M(["new"],["update:modelValue","update:costumeProp"]),setup(s,{emit:R}){const U=h(s,"modelValue"),l=h(s,"costumeProp"),a=L(),v=ce(),i=R,u=d(B(l.value)),I=d(`${v.GetCostumePropImageURL(l.value.CostumePropUUID)}?${new Date().getTime()}`),T=d(),N=d(),m=()=>{},r=()=>{l.value=B(u.value)},n=C=>{a.saveCostumeProp(l.value).then(c=>{c?(C&&C("Saved Costume Prop"),l.value.CostumePropUUID!=c.CostumePropUUID&&i("new",c),l.value=c,I.value?w(c.CostumePropUUID).then(()=>{setTimeout(()=>{U.value=!1},1e3)}).catch(()=>{C("Failed to Save Image")}):setTimeout(()=>{U.value=!1},1e3)):C&&C("Failed to Save Costume Prop")}).catch(()=>{C&&C("Failed to Save Costume Prop")})},o=q(()=>!1),p=()=>{I.value=URL.createObjectURL(T.value.files[0])},w=async C=>{var D;const c=new FormData((D=N.value)==null?void 0:D.$el);if(c.get("Image")&&c.get("Image").size>0)return c.set("ConventionUUID",s.convention.ConventionUUID),c.set("CostumePropUUID",C),await v.SaveCostumePropImage(c)};return(C,c)=>(E(),g(z,me({modelValue:U.value,"onUpdate:modelValue":c[5]||(c[5]=D=>U.value=D),title:"Add Costume Prop","show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!1,"hide-extension":!0,fullscreen:!0,persistent:!0,scrollable:!0,onReset:r,onSave:n},{[de(o.value&&"delete")]:m}),{default:t(()=>[e(j,null,{default:t(()=>[e(x,null,{default:t(()=>[l.value.AddedBy?(E(),g(P,{key:0,cols:"12"},{default:t(()=>[W("strong",null,"Added By: "+k(l.value.AddedBy.DisplayName),1)]),_:1})):_("",!0),e(P,{cols:"12"},{default:t(()=>[e(te,{modelValue:l.value.OwnerUUID,"onUpdate:modelValue":c[0]||(c[0]=D=>l.value.OwnerUUID=D),convention:C.convention,label:"Owner",variant:"outlined","aria-required":"true"},null,8,["modelValue","convention"])]),_:1}),e(P,{cols:"12"},{default:t(()=>[e(re,{modelValue:l.value.TypeUUID,"onUpdate:modelValue":c[1]||(c[1]=D=>l.value.TypeUUID=D),category:G(O).GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE,convention:C.convention,label:"Type",variant:"outlined"},null,8,["modelValue","category","convention"])]),_:1}),e(P,{cols:"12"},{default:t(()=>[e(J,{modelValue:l.value.Description,"onUpdate:modelValue":c[2]||(c[2]=D=>l.value.Description=D),label:"Description",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),e(P,{cols:"12"},{default:t(()=>[e(re,{modelValue:l.value.ClearanceUUID,"onUpdate:modelValue":c[3]||(c[3]=D=>l.value.ClearanceUUID=D),category:G(O).GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE,convention:C.convention,label:"Clearance",variant:"outlined"},null,8,["modelValue","category","convention"])]),_:1}),e(P,{cols:"12"},{default:t(()=>[e(pe,{modelValue:l.value.Remarks,"onUpdate:modelValue":c[4]||(c[4]=D=>l.value.Remarks=D),label:"Remarks / Information",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),e(P,{cols:"12"},{default:t(()=>[e(Ge,{ref_key:"propImageForm",ref:N,enctype:"multipart/form-data"},{default:t(()=>[e(Ae,{label:"Photograph",name:"Image",variant:"outlined",ref_key:"imageFileInput",ref:T,"prepend-icon":"mdi:mdi-camera",capture:"environment",accept:"image/avif, image/bmp, image/gif, image/jpeg, image/png, image/webp",onChange:p},null,512)]),_:1},512),I.value?(E(),g(fe,{key:0,src:I.value,class:"border profileImage my-0 mx-auto","max-height":"400","max-width":"400",ref:"imageDisplay",cover:!1},null,8,["src"])):_("",!0)]),_:1})]),_:1})]),_:1})]),_:1},16,["modelValue"]))}}),Le=Y({__name:"EditGenericEnum",props:M({convention:{},title:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{},genericEnum:{required:!0},genericEnumModifiers:{}}),emits:M(["delete:genericEnum","new","update:genericEnum"],["update:modelValue","update:genericEnum"]),setup(s,{emit:R}){const U=h(s,"modelValue"),l=h(s,"genericEnum"),a=d(B(l.value)),v=L(),i=R,u=d([]),I=d([]),T=n=>{v.deleteGenericEnum(a.value.GenericEnumUUID).then(o=>{var p,w;o?(n&&n(`Deleted ${(p=$.find(C=>C.value==a.value.Category))==null?void 0:p.title}`),i("delete:genericEnum",a.value),setTimeout(()=>{U.value=!1},1e3)):n&&n(`Failed to Delete ${(w=$.find(C=>C.value==a.value.Category))==null?void 0:w.title}`)}).catch(()=>{var o;n&&n(`Failed to Delete ${(o=$.find(p=>p.value==a.value.Category))==null?void 0:o.title}`)})},N=q(()=>a.value.GenericEnumUUID!=S),m=n=>{v.saveGenericEnum(a.value).then(o=>{var p,w;o?(n&&n(`Saved ${(p=$.find(C=>C.value==a.value.Category))==null?void 0:p.title}`),i("update:genericEnum",o),setTimeout(()=>{U.value=!1},1e3)):n&&n(`Failed to Save ${(w=$.find(C=>C.value==a.value.Category))==null?void 0:w.title}`)}).catch(()=>{var o;n&&n(`Failed to Save ${(o=$.find(p=>p.value==a.value.Category))==null?void 0:o.title}`)})},r=()=>{a.value=B(l.value)};return v.getConventionGenericEnums(s.convention.ConventionUUID,O.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE).then(n=>{n&&(u.value=n)}).catch(()=>{}),v.getConventionGenericEnums(s.convention.ConventionUUID,O.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE).then(n=>{n&&(I.value=n)}).catch(()=>{}),(n,o)=>(E(),g(z,me({modelValue:U.value,"onUpdate:modelValue":o[3]||(o[3]=p=>U.value=p),title:n.title,"show-reset-action":!1,"show-save-action":!0,"show-delete-action":!1,"show-close-action":!0,"hide-extension":!0,fullscreen:!1,persistent:!0,scrollable:!0,onReset:r,onSave:m},{[de(N.value&&"delete")]:T}),{default:t(()=>[e(j,null,{default:t(()=>[e(x,null,{default:t(()=>[e(P,{cols:"12"},{default:t(()=>[e(J,{modelValue:a.value.Name,"onUpdate:modelValue":o[0]||(o[0]=p=>a.value.Name=p),label:"Internal Name",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),e(P,{cols:"12"},{default:t(()=>[e(J,{modelValue:a.value.Title,"onUpdate:modelValue":o[1]||(o[1]=p=>a.value.Title=p),label:"Display Title",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),e(P,{cols:"12"},{default:t(()=>[e(pe,{modelValue:a.value.Description,"onUpdate:modelValue":o[2]||(o[2]=p=>a.value.Description=p),label:"Description",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},16,["modelValue","title"]))}}),Fe=Y({__name:"ConfigCostumeProps",props:M({convention:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(s){const R=h(s,"modelValue"),U=L(),l=d(),a=d([]),v=d(!1),i=d([]),u=m=>{const r=()=>({ID:0,GenericEnumUUID:S,ConventionID:s.convention.ID,ConventionUUID:s.convention.ConventionUUID,Category:m,Name:"",Title:"",Description:""});l.value=r(),v.value=!0},I=m=>{l.value=m,v.value=!0},T=m=>{let r;switch(m.Category){case O.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE:r=a.value.findIndex(n=>n.GenericEnumUUID==m.GenericEnumUUID),r>=0&&a.value.splice(r,1);break;case O.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE:r=i.value.findIndex(n=>n.GenericEnumUUID==m.GenericEnumUUID),r>=0&&i.value.splice(r,1);break}},N=m=>{let r;switch(m.Category){case O.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE:r=a.value.findIndex(n=>n.GenericEnumUUID==m.GenericEnumUUID),r>=0?a.value.splice(r,1,m):a.value.push(l.value);break;case O.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE:r=i.value.findIndex(n=>n.GenericEnumUUID==m.GenericEnumUUID),r>=0?i.value.splice(r,1,m):i.value.push(l.value);break}};return U.getConventionGenericEnums(s.convention.ConventionUUID,O.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE).then(m=>{m&&(a.value=m)}),U.getConventionGenericEnums(s.convention.ConventionUUID,O.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE).then(m=>{m&&(i.value=m)}),(m,r)=>(E(),g(z,{modelValue:R.value,"onUpdate:modelValue":r[4]||(r[4]=n=>R.value=n),title:"Configure Costume Props","show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!0,"hide-extension":!0,fullscreen:!0,persistent:!0,scrollable:!0},{default:t(()=>{var n;return[e(Ue,null,{default:t(()=>[e(X,null,{default:t(()=>[e(Z,{color:"primary"},{default:t(()=>[A(" Clearance Options ")]),_:1}),e(ee,null,{default:t(()=>[e(ae,null,{default:t(()=>[(E(!0),K(Q,null,le(a.value,o=>(E(),g(ie,{key:o.GenericEnumUUID},{append:t(()=>[e(b,{icon:"mdi:mdi-pencil-outline",color:"warning",size:"x-small",onClick:p=>I(o)},null,8,["onClick"])]),default:t(()=>[e(ue,null,{default:t(()=>[W("strong",null,k(o.Name)+" - "+k(o.Title),1)]),_:2},1024),e(se,null,{default:t(()=>[A(k(o.Description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(x,null,{default:t(()=>[e(P,{class:"text-right"},{default:t(()=>[e(b,{color:"success","prepend-icon":"mdi:mdi-plus",onClick:r[0]||(r[0]=o=>u(G(O).GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE))},{default:t(()=>[A(" Add Item ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(X,null,{default:t(()=>[e(Z,{color:"primary"},{default:t(()=>[A(" Item Types ")]),_:1}),e(ee,null,{default:t(()=>[e(ae,null,{default:t(()=>[(E(!0),K(Q,null,le(i.value,o=>(E(),g(ie,{key:o.GenericEnumUUID},{append:t(()=>[e(b,{icon:"mdi:mdi-pencil-outline",color:"warning",size:"x-small",onClick:p=>I(o)},null,8,["onClick"])]),default:t(()=>[e(ue,null,{default:t(()=>[W("strong",null,k(o.Name)+" - "+k(o.Title),1)]),_:2},1024),e(se,null,{default:t(()=>[A(k(o.Description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(x,null,{default:t(()=>[e(P,{class:"text-right"},{default:t(()=>[e(b,{color:"success","prepend-icon":"mdi:mdi-plus",onClick:r[1]||(r[1]=o=>u(G(O).GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE))},{default:t(()=>[A(" Add Item ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),v.value&&l.value?(E(),g(Le,{key:0,convention:m.convention,title:`Edit ${(n=G($).find(o=>{var p;return o.value==((p=l.value)==null?void 0:p.Category)}))==null?void 0:n.title}`,modelValue:v.value,"onUpdate:modelValue":r[2]||(r[2]=o=>v.value=o),"generic-enum":l.value,"onUpdate:genericEnum":[r[3]||(r[3]=o=>l.value=o),N],"onDelete:genericEnum":T},null,8,["convention","title","modelValue","generic-enum"])):_("",!0)]}),_:1},8,["modelValue"]))}}),Be=Y({__name:"ViewCostumeProp",props:M({convention:{},title:{default:"View Costume Prop"}},{modelValue:{type:Boolean,required:!0},modelModifiers:{},costumeProp:{required:!0},costumePropModifiers:{}}),emits:["update:modelValue","update:costumeProp"],setup(s){const R=h(s,"modelValue"),U=h(s,"costumeProp"),l=ce(),a=d(`${l.GetCostumePropImageURL(U.value.CostumePropUUID)}?${new Date().getTime()}`);return(v,i)=>(E(),g(z,{modelValue:R.value,"onUpdate:modelValue":i[0]||(i[0]=u=>R.value=u),title:v.title,"show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!1,"hide-extension":!0,fullscreen:!1,persistent:!1,scrollable:!0},{default:t(()=>[e(j,null,{default:t(()=>[e(x,null,{default:t(()=>[e(P,{cols:"12"},{default:t(()=>[a.value?(E(),g(fe,{key:0,src:a.value,class:"border profileImage my-0 mx-auto","max-height":"400","max-width":"400",ref:"imageDisplay",cover:!1},null,8,["src"])):_("",!0)]),_:1}),e(P,{cols:"12"},{default:t(()=>[A(k(U.value.Remarks),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","title"]))}}),qe=Y({__name:"CostumeProps",props:{convention:{}},setup(s){const R=L(),U=we(),l=d(),a=d([]),v=d(1),i=d([]),u=d(!0),I=d(10),T=d(0),N=d([]),m=d(""),r=d(ye(U,s.convention)),n=d(Oe(U,s.convention)),o=d(Ne(U,s.convention)),p=d(!1),w=d(!1),C=d(!1),c=d({}),D=Te(()=>{m.value=Date.now().toString()}),Ce=()=>{l.value={ID:0,CostumePropUUID:S,ConventionID:s.convention.ID,ConventionUUID:s.convention.ConventionUUID,AddedByID:0,AddedByUUID:S,AddedBy:void 0,ClearanceID:0,ClearanceUUID:S,Clearance:void 0,Owner:void 0,OwnerID:0,OwnerUUID:S,TypeID:0,TypeUUID:S,Type:void 0,Description:"",HasPhoto:!1,Remarks:""},p.value=!0},Ee=y=>{l.value=y,p.value=!0},Ie=y=>{l.value=y,C.value=!0},Ve=()=>{w.value=!0},ge=d([{key:"Owner.Registrations[0].Reference",title:"Reference"},{key:"Owner.DisplayName",title:"Attendee"},{key:"Type.Title",title:"Type"},{key:"Clearance.Title",title:"Clearance"},{key:"actions",title:""}]),De=({page:y,itemsPerPage:f,sortBy:V})=>{u.value=!0,v.value=y,i.value=V;try{c.value.Limit=f,c.value.Offset=(y-1)*f;const F=m.value;R.searchConventionCostumeProps(s.convention.ConventionUUID,c.value).then(H=>{H&&F===m.value&&(T.value=H.Total,a.value=H.CostumeProps,u.value=!1)})}catch(F){console.error(F)}};return(y,f)=>y.convention?(E(),K(Q,{key:0},[e(j,{fluid:!0,class:"px-1"},{default:t(()=>[n.value||o.value?(E(),g(x,{key:0},{default:t(()=>[o.value?(E(),g(P,{key:0,class:"flex-shrink-1 flex-grow-0"},{default:t(()=>[e(b,{color:"primary","prepend-icon":"mdi:mdi-cog",onClick:Ve},{default:t(()=>[A(" Config ")]),_:1})]),_:1})):_("",!0),e(oe),n.value?(E(),g(P,{key:1,class:"flex-shrink-1 flex-grow-0"},{default:t(()=>[e(b,{color:"success","prepend-icon":"mdi:mdi-plus",onClick:Ce},{default:t(()=>[A(" Record New Item ")]),_:1})]),_:1})):_("",!0)]),_:1})):_("",!0)]),_:1}),e(_e,{page:v.value,"onUpdate:page":f[4]||(f[4]=V=>v.value=V),"items-per-page":I.value,"onUpdate:itemsPerPage":f[5]||(f[5]=V=>I.value=V),"sort-by":N.value,"onUpdate:sortBy":f[6]||(f[6]=V=>N.value=V),headers:ge.value,"items-length":T.value,items:a.value,"item-value":"key",loading:u.value,search:m.value,"onUpdate:options":De},{top:t(()=>[e(Ue,{class:"mb-3"},{default:t(()=>[e(X,null,{default:t(()=>[e(Z,{color:"secondary",class:"font-weight-bold pb-0 pt-0"},{default:t(()=>[e(P,{class:"pa-0"},{default:t(()=>[A(" Search Criteria "),e(Se,{class:"pl-5",icon:"mdi:mdi-credit-card-search-outline"})]),_:1}),e(P,{class:"d-none d-sm-block pa-0",cols:"0"},{default:t(()=>[e(te,{convention:y.convention,label:"Owner",clearable:!0,"hide-details":"",variant:"plain",modelValue:c.value.OwnerUUID,"onUpdate:modelValue":[f[0]||(f[0]=V=>c.value.OwnerUUID=V),G(D)],onClick:f[1]||(f[1]=ne(()=>{},["stop"])),"onClick:clear":G(D),onInput:G(D)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1}),e(oe),e(P,{class:"d-none d-md-block pa-0"})]),_:1}),e(ee,{class:"pt-2"},{default:t(()=>[e(x,null,{default:t(()=>[e(P,{class:"d-none d-sm-block pa-0",cols:"0"},{default:t(()=>[e(te,{convention:y.convention,label:"Owner",clearable:!0,"hide-details":"",variant:"plain",modelValue:c.value.OwnerUUID,"onUpdate:modelValue":[f[2]||(f[2]=V=>c.value.OwnerUUID=V),G(D)],onClick:f[3]||(f[3]=ne(()=>{},["stop"])),"onClick:clear":G(D),onInput:G(D)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),"item.actions":t(({item:V})=>[r.value?(E(),g(b,{key:0,icon:"mdi:mdi-magnify",size:"x-small",color:"success",onClick:F=>Ie(V),class:"mr-2"},null,8,["onClick"])):_("",!0),n.value?(E(),g(b,{key:1,icon:"mdi:mdi-pencil",size:"x-small",color:"warning",onClick:F=>Ee(V)},null,8,["onClick"])):_("",!0)]),_:1},8,["page","items-per-page","sort-by","headers","items-length","items","loading","search"]),p.value&&l.value?(E(),g(xe,{key:0,convention:y.convention,modelValue:p.value,"onUpdate:modelValue":f[7]||(f[7]=V=>p.value=V),"costume-prop":l.value,"onUpdate:costumeProp":f[8]||(f[8]=V=>l.value=V)},null,8,["convention","modelValue","costume-prop"])):_("",!0),C.value&&l.value?(E(),g(Be,{key:1,convention:y.convention,title:l.value.Description,modelValue:C.value,"onUpdate:modelValue":f[9]||(f[9]=V=>C.value=V),"costume-prop":l.value,"onUpdate:costumeProp":f[10]||(f[10]=V=>l.value=V)},null,8,["convention","title","modelValue","costume-prop"])):_("",!0),w.value?(E(),g(Fe,{key:2,convention:y.convention,modelValue:w.value,"onUpdate:modelValue":f[11]||(f[11]=V=>w.value=V)},null,8,["convention","modelValue"])):_("",!0)],64)):_("",!0)}}),Pt=Y({__name:"OperationsView",emits:["pageTitle"],setup(s,{emit:R}){var N;const U=L(),l=R,a=Pe(),v=Re();l("pageTitle","Operations");const i=d(),u=d(["Costume Props","Lost and Found"]);let I=((N=a.params.convention)==null?void 0:N.toString())||"";const T=d();return I?U.getConvention(I).then(m=>{m&&(T.value=m)}).catch(()=>{v.push("/")}):v.push("/"),(m,r)=>(E(),g(Me,null,{default:t(()=>[e(Ye,{color:"blue-darken-4"},{default:t(()=>[e(he,{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=n=>i.value=n),items:u.value,"show-arrows":""},null,8,["modelValue","items"])]),_:1}),e(be,{modelValue:i.value,"onUpdate:modelValue":r[1]||(r[1]=n=>i.value=n),disabled:!0,touch:!1},{default:t(()=>[e(ke,{value:"Costume Props"},{default:t(()=>[i.value=="Costume Props"?(E(),g($e,{key:0,class:"pa-2"},{default:t(()=>[T.value?(E(),g(qe,{key:0,convention:T.value},null,8,["convention"])):_("",!0)]),_:1})):_("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{Pt as default};
