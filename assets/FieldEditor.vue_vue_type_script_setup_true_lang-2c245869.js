import{V as Le}from"./VDialog-bab4737f.js";import{V as It,d as Ge,e as Me,c as St}from"./VCard-8ad9cd00.js";import{V as te}from"./VSpacer-927b7221.js";import{V as _,h as ht,i as Dt,L as Tt,a as Se}from"./VBtn-a6edf83f.js";import{p as F,x as J,h as P,K as He,a8 as Y,ab as W,I as ye,a as ae,a7 as Te,c as o,ai as kt,m as he,i as z,y as k,aj as Ce,ae as Fe,t as O,ak as De,al as re,a3 as Ee,F as B,e as C,am as xt,H as Ae,an as de,ao as wt,k as j,ap as Pt,B as Ut,d as R,Y as H,Z as L,o as T,b as w,w as v,G as qe,a0 as Ve,L as K,aq as _t,f as q,X as ce,O as le,P as ne,M as U,S as be,z as Ne}from"./index-3b87d87f.js";import{V as X,u as Ct,F as Ft,c as A,_ as Et}from"./FormField.vue_vue_type_script_setup_true_lang-9565e55e.js";import{_ as At}from"./SaveButton.vue_vue_type_script_setup_true_lang-2cc97945.js";import{V as Ie}from"./index-8f54dc39.js";import{b as je,V as ze}from"./VToolbar-7ead17ed.js";import{v as N}from"./v4-a960c1f4.js";import{T as Nt}from"./ticket-b671e8ba.js";import{_ as Ot}from"./SelectTags.vue_vue_type_script_setup_true_lang-6622610d.js";import{V as ie}from"./VContainer-0c7a435b.js";import{V as x,a as E}from"./VRow-d9c691d3.js";import{V as M}from"./VTextField-68dc880d.js";import{V as Ke,a as ke}from"./VSelect-cc687147.js";import{a as Bt}from"./VSheet-4abfbe98.js";import{u as $t}from"./useGrazeAPI-56cf2147.js";import{b as Rt}from"./VList-2e0a3d0f.js";import{f as Lt,u as me}from"./rounded-17dcc806.js";import{m as Gt,V as Oe}from"./VTable-8f713410.js";import{m as Mt,u as Ht}from"./VAutocomplete-ab872d41.js";const qt=F({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Je=Symbol.for("vuetify:data-table-pagination");function jt(e){const t=J(e,"page",void 0,a=>+(a??1)),n=J(e,"itemsPerPage",void 0,a=>+(a??10));return{page:t,itemsPerPage:n}}function zt(e){const{page:t,itemsPerPage:n,itemsLength:a}=e,s=P(()=>n.value===-1?0:n.value*(t.value-1)),d=P(()=>n.value===-1?a.value:Math.min(a.value,s.value+n.value)),u=P(()=>n.value===-1||a.value===0?1:Math.ceil(a.value/n.value));He(()=>{t.value>u.value&&(t.value=u.value)});function l(y){n.value=y,t.value=1}function r(){t.value=ye(t.value+1,1,u.value)}function i(){t.value=ye(t.value-1,1,u.value)}function m(y){t.value=ye(y,1,u.value)}const p={page:t,itemsPerPage:n,startIndex:s,stopIndex:d,pageCount:u,itemsLength:a,nextPage:r,prevPage:i,setPage:m,setItemsPerPage:l};return Y(Je,p),p}function Kt(){const e=W(Je);if(!e)throw new Error("Missing pagination!");return e}function Jt(e){const{items:t,startIndex:n,stopIndex:a,itemsPerPage:s}=e;return{paginatedItems:P(()=>s.value<=0?t.value:t.value.slice(n.value,a.value))}}const Xe=F({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Be=ae()({name:"VDataTableFooter",props:Xe(),setup(e,t){let{slots:n}=t;const{t:a}=Te(),{page:s,pageCount:d,startIndex:u,stopIndex:l,itemsLength:r,itemsPerPage:i,setItemsPerPage:m}=Kt(),p=P(()=>e.itemsPerPageOptions.map(y=>({...y,title:a(y.title)})));return()=>{var y;return o("div",{class:"v-data-table-footer"},[(y=n.prepend)==null?void 0:y.call(n),o("div",{class:"v-data-table-footer__items-per-page"},[o("span",null,[a(e.itemsPerPageText)]),o(Ke,{items:p.value,modelValue:i.value,"onUpdate:modelValue":b=>m(Number(b)),density:"compact",variant:"outlined","hide-details":!0},null)]),o("div",{class:"v-data-table-footer__info"},[o("div",null,[a(e.pageText,r.value?u.value+1:0,l.value,r.value)])]),o("div",{class:"v-data-table-footer__pagination"},[o(_,{icon:e.firstIcon,variant:"plain",onClick:()=>s.value=1,disabled:s.value===1,"aria-label":a(e.firstPageLabel)},null),o(_,{icon:e.prevIcon,variant:"plain",onClick:()=>s.value=Math.max(1,s.value-1),disabled:s.value===1,"aria-label":a(e.prevPageLabel)},null),e.showCurrentPage&&o("span",{key:"page",class:"v-data-table-footer__page"},[s.value]),o(_,{icon:e.nextIcon,variant:"plain",onClick:()=>s.value=Math.min(d.value,s.value+1),disabled:s.value===d.value,"aria-label":a(e.nextPageLabel)},null),o(_,{icon:e.lastIcon,variant:"plain",onClick:()=>s.value=d.value,disabled:s.value===d.value,"aria-label":a(e.lastPageLabel)},null)])])}}}),xe=kt({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(e,t)=>{let{slots:n,attrs:a}=t;const s=e.tag??"td";return o(s,he({class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding},`v-data-table-column--align-${e.align}`],style:{height:z(e.height),width:z(e.width),left:z(e.fixedOffset||null)}},a),{default:()=>{var d;return[(d=n.default)==null?void 0:d.call(n)]}})}),Xt=F({headers:{type:Array,default:()=>[]}},"DataTable-header"),Ye=Symbol.for("vuetify:data-table-headers");function Yt(e,t){const n=k([]),a=k([]);He(()=>{var b,V,S;const d=e.headers.length?Array.isArray(e.headers[0])?e.headers:[e.headers]:[],u=d.flatMap((f,c)=>f.map(g=>({column:g,row:c}))),l=d.length,r={title:"",sortable:!1},i={...r,width:48};if((b=t==null?void 0:t.groupBy)!=null&&b.value.length){const f=u.findIndex(c=>{let{column:g}=c;return g.key==="data-table-group"});f<0?u.unshift({column:{...r,key:"data-table-group",title:"Group",rowspan:l},row:0}):u.splice(f,1,{column:{...r,...u[f].column},row:u[f].row})}if((V=t==null?void 0:t.showSelect)!=null&&V.value){const f=u.findIndex(c=>{let{column:g}=c;return g.key==="data-table-select"});f<0?u.unshift({column:{...i,key:"data-table-select",rowspan:l},row:0}):u.splice(f,1,{column:{...i,...u[f].column},row:u[f].row})}if((S=t==null?void 0:t.showExpand)!=null&&S.value){const f=u.findIndex(c=>{let{column:g}=c;return g.key==="data-table-expand"});f<0?u.push({column:{...i,key:"data-table-expand",rowspan:l},row:0}):u.splice(f,1,{column:{...i,...u[f].column},row:u[f].row})}const m=Ce(l).map(()=>[]),p=Ce(l).fill(0);u.forEach(f=>{let{column:c,row:g}=f,D=c.key;D==null&&(D="");for(let h=g;h<=g+(c.rowspan??1)-1;h++)m[h].push({...c,key:D,fixedOffset:p[h],sortable:c.sortable??!!c.key}),p[h]+=Number(c.width??0)}),m.forEach(f=>{for(let c=f.length;c--;c>=0)if(f[c].fixed){f[c].lastFixed=!0;return}});const y=new Set;n.value=m.map(f=>{const c=[];for(const g of f)y.has(g.key)||(y.add(g.key),c.push(g));return c}),a.value=m.at(-1)??[]});const s={headers:n,columns:a};return Y(Ye,s),s}function ve(){const e=W(Ye);if(!e)throw new Error("Missing headers!");return e}const Wt={showSelectAll:!1,allSelected:()=>[],select:e=>{var a;let{items:t,value:n}=e;return new Set(n?[(a=t[0])==null?void 0:a.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},We={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:n,selected:a}=e;for(const s of t)n?a.add(s.value):a.delete(s.value);return a},selectAll:e=>{let{value:t,currentPage:n,selected:a}=e;return We.select({items:n,value:t,selected:a})}},Ze={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:n,selected:a}=e;for(const s of t)n?a.add(s.value):a.delete(s.value);return a},selectAll:e=>{let{value:t,allItems:n,selected:a}=e;return Ze.select({items:n,value:t,selected:a})}},Zt=F({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]}},"DataTable-select"),Qe=Symbol.for("vuetify:data-table-selection");function Qt(e,t){let{allItems:n,currentPage:a}=t;const s=J(e,"modelValue",e.modelValue,f=>new Set(f),f=>[...f.values()]),d=P(()=>n.value.filter(f=>f.selectable)),u=P(()=>a.value.filter(f=>f.selectable)),l=P(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return Wt;case"all":return Ze;case"page":default:return We}});function r(f){return Fe(f).every(c=>s.value.has(c.value))}function i(f){return Fe(f).some(c=>s.value.has(c.value))}function m(f,c){const g=l.value.select({items:f,value:c,selected:new Set(s.value)});s.value=g}function p(f){m([f],!r([f]))}function y(f){const c=l.value.selectAll({value:f,allItems:d.value,currentPage:u.value,selected:new Set(s.value)});s.value=c}const b=P(()=>s.value.size>0),V=P(()=>{const f=l.value.allSelected({allItems:d.value,currentPage:u.value});return r(f)}),S={toggleSelect:p,select:m,selectAll:y,isSelected:r,isSomeSelected:i,someSelected:b,allSelected:V,showSelectAll:l.value.showSelectAll};return Y(Qe,S),S}function fe(){const e=W(Qe);if(!e)throw new Error("Missing selection!");return e}const ea=F({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),et=Symbol.for("vuetify:data-table-sort");function ta(e){const t=J(e,"sortBy"),n=O(e,"mustSort"),a=O(e,"multiSort");return{sortBy:t,mustSort:n,multiSort:a}}function aa(e){const{sortBy:t,mustSort:n,multiSort:a,page:s}=e,d=r=>{let i=t.value.map(p=>({...p}))??[];const m=i.find(p=>p.key===r.key);m?m.order==="desc"?n.value?m.order="asc":i=i.filter(p=>p.key!==r.key):m.order="desc":a.value?i=[...i,{key:r.key,order:"asc"}]:i=[{key:r.key,order:"asc"}],t.value=i,s&&(s.value=1)};function u(r){return!!t.value.find(i=>i.key===r.key)}const l={sortBy:t,toggleSort:d,isSorted:u};return Y(et,l),l}function la(){const e=W(et);if(!e)throw new Error("Missing sort!");return e}function na(e,t,n){const a=Te();return{sortedItems:P(()=>n.value.length?oa(t.value,n.value,a.current.value,e.customKeySort):t.value)}}function oa(e,t,n,a){const s=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return[...e].sort((d,u)=>{for(let l=0;l<t.length;l++){const r=t[l].key,i=t[l].order??"asc";if(i===!1)continue;let m=De(d.raw,r),p=De(u.raw,r);if(i==="desc"&&([m,p]=[p,m]),a!=null&&a[r]){const y=a[r](m,p);if(!y)continue;return y}if(m instanceof Date&&p instanceof Date)return m.getTime()-p.getTime();if([m,p]=[m,p].map(y=>y!=null?y.toString().toLocaleLowerCase():y),m!==p)return re(m)&&re(p)?0:re(m)?-1:re(p)?1:!isNaN(m)&&!isNaN(p)?Number(m)-Number(p):s.compare(m,p)}return 0})}const tt=F({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:Ee,default:"$sortAsc"},sortDescIcon:{type:Ee,default:"$sortDesc"},...ht()},"VDataTableHeaders"),$e=ae()({name:"VDataTableHeaders",props:tt(),setup(e,t){let{slots:n,emit:a}=t;const{toggleSort:s,sortBy:d,isSorted:u}=la(),{someSelected:l,allSelected:r,selectAll:i,showSelectAll:m}=fe(),{columns:p,headers:y}=ve(),{loaderClasses:b}=Dt(e),V=(h,I)=>{if(!(!e.sticky&&!h.fixed))return{position:"sticky",zIndex:h.fixed?4:e.sticky?3:void 0,left:h.fixed?z(h.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${I})`:void 0}};function S(h){const I=d.value.find($=>$.key===h.key);return I?I.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:f,backgroundColorStyles:c}=Lt(e,"color"),g=P(()=>({headers:y.value,columns:p.value,toggleSort:s,isSorted:u,sortBy:d.value,someSelected:l.value,allSelected:r.value,selectAll:i,getSortIcon:S,getFixedStyles:V})),D=h=>{let{column:I,x:$,y:Z}=h;const ge=I.key==="data-table-select"||I.key==="data-table-expand";return o(xe,{tag:"th",align:I.align,class:["v-data-table__th",{"v-data-table__th--sortable":I.sortable,"v-data-table__th--sorted":u(I)},b.value],style:{width:z(I.width),minWidth:z(I.width),...V(I,Z)},colspan:I.colspan,rowspan:I.rowspan,onClick:I.sortable?()=>s(I):void 0,lastFixed:I.lastFixed,noPadding:ge},{default:()=>{var se;const oe=`column.${I.key}`,ue={column:I,selectAll:i,isSorted:u,toggleSort:s,sortBy:d.value,someSelected:l.value,allSelected:r.value,getSortIcon:S};return n[oe]?n[oe](ue):I.key==="data-table-select"?((se=n["column.data-table-select"])==null?void 0:se.call(n,ue))??(m&&o(ke,{modelValue:r.value,indeterminate:l.value&&!r.value,"onUpdate:modelValue":i},null)):o("div",{class:"v-data-table-header__content"},[o("span",null,[I.title]),I.sortable&&o(Se,{key:"icon",class:"v-data-table-header__sort-icon",icon:S(I)},null),e.multiSort&&u(I)&&o("div",{key:"badge",class:["v-data-table-header__sort-badge",...f.value],style:c.value},[d.value.findIndex(Q=>Q.key===I.key)+1])])}})};me(()=>o(B,null,[n.headers?n.headers(g.value):y.value.map((h,I)=>o("tr",null,[h.map(($,Z)=>o(D,{column:$,x:Z,y:I},null))])),e.loading&&o("tr",{class:"v-data-table-progress"},[o("th",{colspan:p.value.length},[o(Tt,{name:"v-data-table-progress",active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:n.loader})])])]))}}),ua=F({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),at=Symbol.for("vuetify:data-table-group");function sa(e){return{groupBy:J(e,"groupBy")}}function ra(e){const{groupBy:t,sortBy:n}=e,a=k(new Set),s=P(()=>t.value.map(i=>({...i,order:i.order??!1})).concat(n.value));function d(i){return a.value.has(i.id)}function u(i){const m=new Set(a.value);d(i)?m.delete(i.id):m.add(i.id),a.value=m}function l(i){function m(p){const y=[];for(const b of p.items)"type"in b&&b.type==="group"?y.push(...m(b)):y.push(b);return y}return m({type:"group",items:i,id:"dummy",key:"dummy",value:"dummy",depth:0})}const r={sortByWithGroups:s,toggleGroup:u,opened:a,groupBy:t,extractRows:l,isGroupOpen:d};return Y(at,r),r}function lt(){const e=W(at);if(!e)throw new Error("Missing group!");return e}function da(e,t){if(!e.length)return[];const n=new Map;for(const a of e){const s=De(a.raw,t);n.has(s)||n.set(s,[]),n.get(s).push(a)}return n}function nt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const s=da(e,t[0]),d=[],u=t.slice(1);return s.forEach((l,r)=>{const i=t[0],m=`${a}_${i}_${r}`;d.push({depth:n,id:m,key:i,value:r,items:u.length?nt(l,u,n+1,m):l,type:"group"})}),d}function ot(e,t){const n=[];for(const a of e)"type"in a&&a.type==="group"?(a.value!=null&&n.push(a),(t.has(a.id)||a.value==null)&&n.push(...ot(a.items,t))):n.push(a);return n}function ia(e,t,n){return{flatItems:P(()=>{if(!t.value.length)return e.value;const s=nt(e.value,t.value.map(d=>d.key));return ot(s,n.value)})}}const ca=F({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),ma=ae()({name:"VDataTableGroupHeaderRow",props:ca(),setup(e,t){let{slots:n}=t;const{isGroupOpen:a,toggleGroup:s,extractRows:d}=lt(),{isSelected:u,isSomeSelected:l,select:r}=fe(),{columns:i}=ve(),m=P(()=>d([e.item]));return()=>o("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[i.value.map(p=>{var y,b;if(p.key==="data-table-group"){const V=a(e.item)?"$expand":"$next",S=()=>s(e.item);return((y=n["data-table-group"])==null?void 0:y.call(n,{item:e.item,count:m.value.length,props:{icon:V,onClick:S}}))??o(xe,{class:"v-data-table-group-header-row__column"},{default:()=>[o(_,{size:"small",variant:"text",icon:V,onClick:S},null),o("span",null,[e.item.value]),o("span",null,[C("("),m.value.length,C(")")])]})}if(p.key==="data-table-select"){const V=u(m.value),S=l(m.value)&&!V,f=c=>r(m.value,c);return((b=n["data-table-select"])==null?void 0:b.call(n,{props:{modelValue:V,indeterminate:S,"onUpdate:modelValue":f}}))??o("td",null,[o(ke,{modelValue:V,indeterminate:S,"onUpdate:modelValue":f},null)])}return o("td",null,null)})])}}),va=F({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),ut=Symbol.for("vuetify:datatable:expanded");function fa(e){const t=O(e,"expandOnClick"),n=J(e,"expanded",e.expanded,l=>new Set(l),l=>[...l.values()]);function a(l,r){const i=new Set(n.value);r?i.add(l.value):i.delete(l.value),n.value=i}function s(l){return n.value.has(l.value)}function d(l){a(l,!s(l))}const u={expand:a,expanded:n,expandOnClick:t,isExpanded:s,toggleExpand:d};return Y(ut,u),u}function st(){const e=W(ut);if(!e)throw new Error("foo");return e}const ga=F({index:Number,item:Object,onClick:Function},"VDataTableRow"),pa=xt({name:"VDataTableRow",props:ga(),setup(e,t){let{slots:n}=t;const{isSelected:a,toggleSelect:s}=fe(),{isExpanded:d,toggleExpand:u}=st(),{columns:l}=ve();me(()=>o("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!e.onClick}],onClick:e.onClick},[e.item&&l.value.map((r,i)=>o(xe,{align:r.align,fixed:r.fixed,fixedOffset:r.fixedOffset,lastFixed:r.lastFixed,noPadding:r.key==="data-table-select"||r.key==="data-table-expand",width:r.width},{default:()=>{var b,V;const m=e.item,p=`item.${r.key}`,y={index:e.index,item:e.item,columns:l.value,isSelected:a,toggleSelect:s,isExpanded:d,toggleExpand:u};return n[p]?n[p](y):r.key==="data-table-select"?((b=n["item.data-table-select"])==null?void 0:b.call(n,y))??o(ke,{disabled:!m.selectable,modelValue:a([m]),onClick:Ae(()=>s(m),["stop"])},null):r.key==="data-table-expand"?((V=n["item.data-table-expand"])==null?void 0:V.call(n,y))??o(_,{icon:d(m)?"$collapse":"$expand",size:"small",variant:"text",onClick:Ae(()=>u(m),["stop"])},null):de(m.columns,r.key)}}))]))}}),rt=F({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,"onClick:row":Function},"VDataTableRows"),Re=ae()({name:"VDataTableRows",props:rt(),setup(e,t){let{emit:n,slots:a}=t;const{columns:s}=ve(),{expandOnClick:d,toggleExpand:u,isExpanded:l}=st(),{isSelected:r,toggleSelect:i}=fe(),{toggleGroup:m,isGroupOpen:p}=lt(),{t:y}=Te();return me(()=>{var b;return e.loading&&a.loading?o("tr",{class:"v-data-table-rows-loading",key:"loading"},[o("td",{colspan:s.value.length},[a.loading()])]):!e.loading&&!e.items.length&&!e.hideNoData?o("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[o("td",{colspan:s.value.length},[((b=a["no-data"])==null?void 0:b.call(a))??y(e.noDataText)])]):o(B,null,[e.items.map((V,S)=>{var g;if(V.type==="group")return a["group-header"]?a["group-header"]({index:S,item:V,columns:s.value,isExpanded:l,toggleExpand:u,isSelected:r,toggleSelect:i,toggleGroup:m,isGroupOpen:p}):o(ma,{key:`group-header_${V.id}`,item:V},a);const f={index:S,item:V,columns:s.value,isExpanded:l,toggleExpand:u,isSelected:r,toggleSelect:i},c={...f,props:{key:`item_${V.value}`,onClick:d.value||e["onClick:row"]?D=>{var h;d.value&&u(V),(h=e["onClick:row"])==null||h.call(e,D,{item:V})}:void 0,index:S,item:V}};return o(B,null,[a.item?a.item(c):o(pa,c.props,a),l(V)&&((g=a["expanded-row"])==null?void 0:g.call(a,f))])})])}),{}}}),ya=F({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataTable-items");function Va(e,t,n,a){const s=e.returnObject?t:de(t,e.itemValue),d=de(t,e.itemSelectable,!0),u=a.reduce((l,r)=>(l[r.key]=de(t,r.value??r.key),l),{});return{type:"item",index:n,value:s,selectable:d,columns:u,raw:t}}function ba(e,t,n){return t.map((a,s)=>Va(e,a,s,n))}function Ia(e,t){return{items:P(()=>ba(e,e.items,t.value))}}function Sa(e){let{page:t,itemsPerPage:n,sortBy:a,groupBy:s,search:d}=e;const u=wt("VDataTable"),l=P(()=>({page:t.value,itemsPerPage:n.value,sortBy:a.value,groupBy:s.value,search:d.value}));j(()=>d==null?void 0:d.value,()=>{t.value=1});let r=null;j(l,()=>{Pt(r,l.value)||(u.emit("update:options",l.value),r=l.value)},{deep:!0,immediate:!0})}const ha=F({...rt(),width:[String,Number],search:String,...va(),...ua(),...Xt(),...ya(),...Zt(),...ea(),...tt(),...Gt()},"DataTable"),Da=F({...qt(),...ha(),...Mt(),...Xe()},"VDataTable"),Ta=ae()({name:"VDataTable",props:Da(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,t){let{emit:n,slots:a}=t;const{groupBy:s}=sa(e),{sortBy:d,multiSort:u,mustSort:l}=ta(e),{page:r,itemsPerPage:i}=jt(e),{columns:m,headers:p}=Yt(e,{groupBy:s,showSelect:O(e,"showSelect"),showExpand:O(e,"showExpand")}),{items:y}=Ia(e,m),b=O(e,"search"),{filteredItems:V}=Ht(e,y,b,{transform:pe=>pe.columns}),{toggleSort:S}=aa({sortBy:d,multiSort:u,mustSort:l,page:r}),{sortByWithGroups:f,opened:c,extractRows:g,isGroupOpen:D,toggleGroup:h}=ra({groupBy:s,sortBy:d}),{sortedItems:I}=na(e,V,f),{flatItems:$}=ia(I,s,c),Z=P(()=>$.value.length),{startIndex:ge,stopIndex:oe,pageCount:ue,setItemsPerPage:se}=zt({page:r,itemsPerPage:i,itemsLength:Z}),{paginatedItems:Q}=Jt({items:$,startIndex:ge,stopIndex:oe,itemsPerPage:i}),we=P(()=>g(Q.value)),{isSelected:dt,select:it,selectAll:ct,toggleSelect:mt,someSelected:vt,allSelected:ft}=Qt(e,{allItems:y,currentPage:we}),{isExpanded:gt,toggleExpand:pt}=fa(e);Sa({page:r,itemsPerPage:i,sortBy:d,groupBy:s,search:b}),Ut({VDataTableRows:{hideNoData:O(e,"hideNoData"),noDataText:O(e,"noDataText"),loading:O(e,"loading"),loadingText:O(e,"loadingText")}});const G=P(()=>({page:r.value,itemsPerPage:i.value,sortBy:d.value,pageCount:ue.value,toggleSort:S,setItemsPerPage:se,someSelected:vt.value,allSelected:ft.value,isSelected:dt,select:it,selectAll:ct,toggleSelect:mt,isExpanded:gt,toggleExpand:pt,isGroupOpen:D,toggleGroup:h,items:we.value,groupedItems:Q.value,columns:m.value,headers:p.value}));return me(()=>{const[pe]=Be.filterProps(e),[yt]=$e.filterProps(e),[Vt]=Re.filterProps(e),[bt]=Oe.filterProps(e);return o(Oe,he({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},bt),{top:()=>{var ee;return(ee=a.top)==null?void 0:ee.call(a,G.value)},default:()=>{var ee,Pe,Ue,_e;return a.default?a.default(G.value):o(B,null,[(ee=a.colgroup)==null?void 0:ee.call(a,G.value),o("thead",null,[o($e,yt,a)]),(Pe=a.thead)==null?void 0:Pe.call(a,G.value),o("tbody",null,[a.body?a.body(G.value):o(Re,he(Vt,{items:Q.value}),a)]),(Ue=a.tbody)==null?void 0:Ue.call(a,G.value),(_e=a.tfoot)==null?void 0:_e.call(a,G.value)])},bottom:()=>a.bottom?a.bottom(G.value):o(B,null,[o(Be,pe,{prepend:a["footer.prepend"]})])})}),{}}}),ka=R({__name:"DeleteDialog",props:H({message:{type:String,required:!1,default:"Are you sure you want to delete this item?"}},{modelValue:{type:Boolean}}),emits:H(["delete"],["update:modelValue"]),setup(e,{emit:t}){const n=L(e,"modelValue"),a=()=>{n.value=!1},s=()=>{t("delete")};return(d,u)=>(T(),w(Le,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=l=>n.value=l),"max-width":"500px"},{default:v(()=>[o(Me,null,{default:v(()=>[o(It,{class:"text-h5"},{default:v(()=>[C(qe(e.message),1)]),_:1}),o(Ge,null,{default:v(()=>[o(te),o(_,{color:"blue-darken-1",variant:"text",onClick:a},{default:v(()=>[C("Cancel")]),_:1}),o(_,{color:"blue-darken-1",variant:"text",onClick:s},{default:v(()=>[C("OK")]),_:1}),o(te)]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),xa=q("template",{class:"d-none d-sm-inline"},[C("Reset")],-1),wa=R({__name:"ModelDialog",props:H({color:{type:String,required:!1,default:"primary"},modelValue:{type:Boolean,required:!0},onReset:{type:Function,required:!1,default:void 0},onSave:{type:Function,required:!1,default:void 0},title:{type:String,required:!1,default:""},cardClass:{type:String,required:!1,default:""}},{modelValue:{type:Boolean,required:!0}}),emits:H(["reset","save"],["update:modelValue"]),setup(e,{emit:t}){const n=e,a=L(e,"modelValue"),s=k(!!n.onReset),d=k(!!n.onSave),u=()=>{a.value=!1},l=()=>{t("reset")},r=({callback:i})=>{t("save",i)};return(i,m)=>(T(),w(Le,{modelValue:a.value,"onUpdate:modelValue":m[0]||(m[0]=p=>a.value=p)},{default:v(()=>[o(Me,null,{default:v(()=>[o(je,{color:e.color},{default:v(()=>[o(ze,null,{default:v(()=>[C(qe(e.title),1)]),_:1}),o(te),Ve(i.$slots,"toolbarButtons"),s.value?(T(),w(Ie,{key:0},{default:v(()=>[o(_,{"prepend-icon":"mdi:mdi-restore",onClick:l},{default:v(()=>[xa]),_:1})]),_:1})):K("",!0),d.value?(T(),w(Ie,{key:1},{default:v(()=>[o(At,{"prepend-icon":"mdi:mdi-content-save-outline",color:"white",onClick:r})]),_:1})):K("",!0),o(Ie,null,{default:v(()=>[o(_,{icon:"mdi:mdi-window-close",onClick:u})]),_:1})]),_:3},8,["color"]),o(St,{class:_t(e.cardClass)},{default:v(()=>[Ve(i.$slots,"default")]),_:3},8,["class"]),o(Ge,null,{default:v(()=>[Ve(i.$slots,"actions")]),_:3})]),_:3})]),_:3},8,["modelValue"]))}}),Pa=R({__name:"EditFieldDialogExtras",props:{modelValue:{required:!0}},emits:["update:modelValue"],setup(e){const t=L(e,"modelValue"),n=ce.getInstance(),a=k([]),s=k([]);return n==null||n.getConventionExtras(t.value.ConventionUUID).then(d=>{a.value=d;const u=t.value.Values.find(l=>l.Title==="SelectedExtras");if(u)try{s.value=JSON.parse(u.Value)}catch{}}),j(s,()=>{const d=t.value.Values.find(u=>u.Title==="SelectedExtras");if(d)d.Value=JSON.stringify(s.value);else{const u={ID:0,FieldValueUUID:N(),FieldID:t.value.ID,FieldUUID:t.value.FieldUUID,Title:"SelectedExtras",Value:JSON.stringify(s.value)};t.value.Values.push(u)}}),(d,u)=>(T(!0),le(B,null,ne(a.value,l=>(T(),w(X,{key:l.ExtraUUID,modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=r=>s.value=r),label:l.Name,value:l.ExtraUUID,name:t.value.Name,"hide-details":""},null,8,["modelValue","label","value","name"]))),128))}}),Ua=R({__name:"EditFieldDialogInterests",props:{modelValue:{required:!0}},emits:["update:modelValue"],setup(e){const t=L(e,"modelValue"),n=ce.getInstance(),a=k([]),s=k([]);return n==null||n.getConventionInterests(t.value.ConventionUUID).then(d=>{a.value=d;const u=t.value.Values.find(l=>l.Title==="SelectedInterests");if(u)try{s.value=JSON.parse(u.Value)}catch{}}),j(s,()=>{const d=t.value.Values.find(u=>u.Title==="SelectedInterests");if(d)d.Value=JSON.stringify(s.value);else{const u={ID:0,FieldValueUUID:N(),FieldID:t.value.ID,FieldUUID:t.value.FieldUUID,Title:"SelectedInterests",Value:JSON.stringify(s.value)};t.value.Values.push(u)}}),(d,u)=>(T(!0),le(B,null,ne(a.value,l=>(T(),w(X,{key:l.InterestUUID,modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=r=>s.value=r),label:l.Name,value:l.InterestUUID,name:t.value.Name,"hide-details":""},null,8,["modelValue","label","value","name"]))),128))}}),_a=R({__name:"EditFieldDialogTickets",props:{modelValue:{required:!0}},emits:["update:modelValue"],setup(e){const t=L(e,"modelValue"),n=ce.getInstance(),a=k([]),s=k([]);return n==null||n.getConventionTickets(t.value.ConventionUUID).then(d=>{a.value=d;const u=t.value.Values.find(l=>l.Title==="SelectedTickets");if(u)try{s.value=JSON.parse(u.Value)}catch{}}),j(s,()=>{const d=t.value.Values.find(u=>u.Title==="SelectedTickets");if(d)d.Value=JSON.stringify(s.value);else{const u={ID:0,FieldValueUUID:N(),FieldID:t.value.ID,FieldUUID:t.value.FieldUUID,Title:"SelectedTickets",Value:JSON.stringify(s.value)};t.value.Values.push(u)}}),(d,u)=>(T(!0),le(B,null,ne(a.value.filter(l=>l&&l.Type===U(Nt).TICKET_TYPE_GROUP),l=>(T(),w(X,{key:l.TicketUUID,modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=r=>s.value=r),label:l.Name,value:l.TicketUUID,name:t.value.Name,"hide-details":""},null,8,["modelValue","label","value","name"]))),128))}}),Ca=R({__name:"EditFieldDialogAccommodation",props:{modelValue:{required:!0}},emits:["update:modelValue"],setup(e){const t=L(e,"modelValue"),n=ce.getInstance(),a=k([]),s=k(t.value.Values.map(u=>u.Value)),d=()=>{t.value.Values=s.value.map(u=>{var l,r,i;return{ID:0,FieldValueUUID:N(),FieldID:((l=t.value)==null?void 0:l.ID)||0,FieldUUID:((r=t.value)==null?void 0:r.FieldUUID)||"",Title:((i=a.value.find(m=>m.AccommodationUUID==u))==null?void 0:i.Name)||"",Value:u}})};return n==null||n.getConventionAccommodation(t.value.ConventionUUID).then(u=>{u&&(a.value=u)}),(u,l)=>(T(!0),le(B,null,ne(a.value,r=>(T(),w(X,{key:r.ID,modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=i=>s.value=i),label:r.Name,value:r.AccommodationUUID,"hide-details":"",onChange:d},null,8,["modelValue","label","value"]))),128))}}),Fa=R({__name:"EditFieldDialogAge",props:H({convention:{}},{modelValue:{required:!0}}),emits:["update:modelValue"],setup(e){var m,p,y;const t=L(e,"modelValue"),n=new Date,a=n.getFullYear(),s=(n.getMonth()+1).toLocaleString(navigator.language,{minimumIntegerDigits:2}),d=n.getDate().toLocaleString(navigator.language,{minimumIntegerDigits:2}),u=k(parseInt(((m=t.value.Values.find(b=>b.Title==="MIN_AGE"))==null?void 0:m.Value)||"18")),l=k(((p=t.value.Values.find(b=>b.Title==="BEFORE_DATE"))==null?void 0:p.Value)||`${a}-${s}-${d}`),r=k(((y=t.value.Values.find(b=>b.Title==="UNDER_AGE_APPLY_TAG"))==null?void 0:y.Value)||""),i=()=>{var b,V,S,f,c,g;t.value.Values=[{ID:0,FieldValueUUID:N(),FieldID:((b=t.value)==null?void 0:b.ID)||0,FieldUUID:((V=t.value)==null?void 0:V.FieldUUID)||"",Title:"MIN_AGE",Value:u.value.toString()},{ID:0,FieldValueUUID:N(),FieldID:((S=t.value)==null?void 0:S.ID)||0,FieldUUID:((f=t.value)==null?void 0:f.FieldUUID)||"",Title:"BEFORE_DATE",Value:l.value},{ID:0,FieldValueUUID:N(),FieldID:((c=t.value)==null?void 0:c.ID)||0,FieldUUID:((g=t.value)==null?void 0:g.FieldUUID)||"",Title:"UNDER_AGE_APPLY_TAG",Value:r.value}]};return i(),(b,V)=>(T(),w(ie,{class:"pl-0 pr-0",fluid:!0},{default:v(()=>[o(E,null,{default:v(()=>[o(x,{cols:"12",sm:"6"},{default:v(()=>[o(M,{modelValue:u.value,"onUpdate:modelValue":V[0]||(V[0]=S=>u.value=S),modelModifiers:{number:!0},type:"number",label:"Minimum Age",variant:"outlined",onChange:i},null,8,["modelValue"])]),_:1}),o(x,{cols:"12",sm:"6"},{default:v(()=>[o(M,{modelValue:l.value,"onUpdate:modelValue":V[1]||(V[1]=S=>l.value=S),type:"date",label:"Date to attain minimum age by",variant:"outlined",onChange:i},null,8,["modelValue"])]),_:1})]),_:1}),o(E,null,{default:v(()=>[o(x,null,{default:v(()=>[o(Ot,{modelValue:r.value,"onUpdate:modelValue":V[2]||(V[2]=S=>r.value=S),convention:b.convention,chips:!0,clearable:!0,variant:"outlined",label:`Tags applied to users under ${u.value} at time of data entry`,onChange:i},null,8,["modelValue","convention","label"])]),_:1})]),_:1})]),_:1}))}}),Ea=q("h4",null,"Values",-1),Aa=q("h4",null,"Accommodation",-1),Na=q("h4",null,"Age",-1),Oa=q("h4",null,"Additional Purchases",-1),Ba=q("h4",null,"Available Interests",-1),$a=q("h4",null,"Tickets",-1),Ra=q("h4",{class:"mb-3"},"Field Preview",-1),La=R({__name:"EditFieldDialog",props:H({convention:{},field:{},title:{}},{modelValue:{type:Boolean,required:!0}}),emits:H(["update:field"],["update:modelValue"]),setup(e,{emit:t}){const n=e,{convention:a,title:s=""}=n,d=L(e,"modelValue"),u=Ct(n,t,void 0,void 0,"field"),l=k(be(u.value)),r=k(""),i=k(l.value.Type);j(u,()=>{l.value=be(u.value)});const m=()=>{d.value=!1},p=()=>{l.value=be(u.value)},y=()=>{u.value=l.value},b=()=>{l.value.Values.push({ID:0,FieldValueUUID:N(),FieldID:l.value.ID,FieldUUID:l.value.FieldUUID,Title:"",Value:""})},V=f=>{l.value.Values.splice(f,1)},S=()=>{r.value="",l.value.Values=[]};return j(i,(f,c)=>{f!==c&&(l.value.Type=f,S())}),(f,c)=>(T(),w(wa,{modelValue:d.value,"onUpdate:modelValue":c[13]||(c[13]=g=>d.value=g),onReset:p,onSave:y,title:U(s),color:"primary"},{default:v(()=>[o(ie,{class:"pa-0",fluid:!0},{default:v(()=>[o(E,null,{default:v(()=>[o(x,{cols:"12"},{default:v(()=>[o(ie,{class:"pa-0",fluid:!0},{default:v(()=>[o(E,null,{default:v(()=>[o(x,{cols:"12",sm:"6",md:"4"},{default:v(()=>[o(M,{modelValue:l.value.Name,"onUpdate:modelValue":c[0]||(c[0]=g=>l.value.Name=g),label:"Internal name",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),o(x,{cols:"12",sm:"6",md:"4"},{default:v(()=>[o(M,{modelValue:l.value.Label,"onUpdate:modelValue":c[1]||(c[1]=g=>l.value.Label=g),label:"Label",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),o(x,{cols:"12",sm:"6",md:"4"},{default:v(()=>[o(M,{modelValue:l.value.Hint,"onUpdate:modelValue":c[2]||(c[2]=g=>l.value.Hint=g),label:"Hint",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),o(x,{cols:"12",sm:"6",md:"4"},{default:v(()=>[o(M,{modelValue:l.value.Placeholder,"onUpdate:modelValue":c[3]||(c[3]=g=>l.value.Placeholder=g),label:"Placeholder",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),o(x,{cols:"12",sm:"6",md:"4"},{default:v(()=>[o(Ke,{modelValue:i.value,"onUpdate:modelValue":c[4]||(c[4]=g=>i.value=g),label:"Type",variant:"outlined",items:U(Ft),"hide-details":""},null,8,["modelValue","items"])]),_:1}),l.value.Type===U(A).SELECT||l.value.Type===U(A).CHECKBOX?(T(),w(x,{key:0,cols:"12",sm:"6",md:"4",class:"py-0"},{default:v(()=>[o(X,{modelValue:l.value.Multiple,"onUpdate:modelValue":c[5]||(c[5]=g=>l.value.Multiple=g),label:"Multiple Items",hint:"Can select multiple items from list","hide-details":"",density:"compact"},null,8,["modelValue"]),l.value.Type===U(A).SELECT?(T(),w(X,{key:0,modelValue:l.value.Autofill,"onUpdate:modelValue":c[6]||(c[6]=g=>l.value.Autofill=g),label:"Searchable List","hide-details":"",density:"compact"},null,8,["modelValue"])):K("",!0)]),_:1})):K("",!0)]),_:1}),l.value.Type===U(A).SELECT||l.value.Type===U(A).CHECKBOX&&l.value.Multiple||l.value.Type===U(A).RADIO?(T(),w(E,{key:0},{default:v(()=>[o(x,null,{default:v(()=>[Ea,o(ie,{fluid:!0,class:"px-0"},{default:v(()=>[(T(!0),le(B,null,ne(l.value.Values,(g,D)=>(T(),w(E,{key:g.ID},{default:v(()=>[o(x,{cols:"12",sm:"5",md:"6"},{default:v(()=>[o(M,{modelValue:g.Title,"onUpdate:modelValue":h=>g.Title=h,label:"Display",variant:"outlined","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(x,{cols:"9",sm:"5",md:"5"},{default:v(()=>[o(M,{modelValue:g.Value,"onUpdate:modelValue":h=>g.Value=h,label:"Internal Value",variant:"outlined","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(x,{cols:"3",sm:"2",md:"1",class:"d-flex align-center"},{default:v(()=>[o(_,{icon:"mdi:mdi-window-close",size:"small",color:"red",onClick:h=>V(D)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128)),o(E,null,{default:v(()=>[o(x,null,{default:v(()=>[o(_,{"prepend-icon":"mdi:mdi-plus",color:"primary",onClick:b},{default:v(()=>[C("Add Item")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):l.value.Type===U(A).ACCOMMODATION?(T(),w(E,{key:1},{default:v(()=>[o(x,null,{default:v(()=>[Aa,o(Ca,{modelValue:l.value,"onUpdate:modelValue":c[7]||(c[7]=g=>l.value=g)},null,8,["modelValue"])]),_:1})]),_:1})):l.value.Type===U(A).AGE?(T(),w(E,{key:2},{default:v(()=>[o(x,null,{default:v(()=>[Na,o(Fa,{modelValue:l.value,"onUpdate:modelValue":c[8]||(c[8]=g=>l.value=g),convention:U(a)},null,8,["modelValue","convention"])]),_:1})]),_:1})):l.value.Type===U(A).EXTRAS?(T(),w(E,{key:3},{default:v(()=>[o(x,null,{default:v(()=>[Oa,o(Pa,{modelValue:l.value,"onUpdate:modelValue":c[9]||(c[9]=g=>l.value=g)},null,8,["modelValue"])]),_:1})]),_:1})):l.value.Type===U(A).INTERESTS?(T(),w(E,{key:4},{default:v(()=>[o(x,null,{default:v(()=>[Ba,o(Ua,{modelValue:l.value,"onUpdate:modelValue":c[10]||(c[10]=g=>l.value=g)},null,8,["modelValue"])]),_:1})]),_:1})):l.value.Type===U(A).TICKET?(T(),w(E,{key:5},{default:v(()=>[o(x,null,{default:v(()=>[$a,o(_a,{modelValue:l.value,"onUpdate:modelValue":c[11]||(c[11]=g=>l.value=g)},null,8,["modelValue"])]),_:1})]),_:1})):K("",!0)]),_:1})]),_:1}),o(x,{cols:"12"},{default:v(()=>[o(Bt,{elevation:"5",class:"pa-2",color:"text-center"},{default:v(()=>[Ra,o(Et,{admin:!0,field:l.value,convention:U(a),modelValue:r.value,"onUpdate:modelValue":c[12]||(c[12]=g=>r.value=g)},null,8,["field","convention","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),actions:v(()=>[o(_,{color:"blue-darken-1",variant:"text",onClick:m},{default:v(()=>[C(" Cancel ")]),_:1}),o(_,{color:"blue-darken-1",variant:"text",onClick:p},{default:v(()=>[C(" Reset ")]),_:1}),o(te),o(_,{color:"blue-darken-1",variant:"text",onClick:y},{default:v(()=>[C(" Save ")]),_:1})]),_:1},8,["modelValue","title"]))}}),dl=R({__name:"FieldEditor",props:{modelValue:{required:!0}},emits:H(["refresh"],["update:modelValue"]),setup(e){const t=L(e,"modelValue"),n=$t(),a=k(!1),s=k(!1),d=k([{key:"Label",title:"Label",align:"start",sortable:!0},{key:"Name",title:"Internal Name",align:"start",sortable:!0},{key:"Type",title:"Type",align:"start",sortable:!0},{key:"actions",title:"Actions",sortable:!1}]),u=k([]);n.getConventionFields(t.value.ConventionUUID).then(D=>{D&&(u.value=D)});const l=k(-1),r=k({ID:0,FieldUUID:N(),ConventionID:t.value.ID,ConventionUUID:t.value.ConventionUUID,Autofill:!1,Hint:"",Label:"",Multiple:!1,Name:"",Placeholder:"",Type:"TEXT",Values:[]}),i=P(()=>l.value===-1?"New Field":"Edit Field"),m=()=>({ID:0,FieldUUID:N(),ConventionID:t.value.ID,ConventionUUID:t.value.ConventionUUID,Autofill:!1,Hint:"",Label:"",Multiple:!1,Name:"",Placeholder:"",Type:"TEXT",Values:[]}),p=k(m()),y=()=>{p.value.FieldUUID=N(),r.value=Object.assign({},m()),l.value=-1,a.value=!0},b=D=>{l.value=u.value.indexOf(D),r.value=Object.assign({},D),a.value=!0},V=D=>{l.value=u.value.indexOf(D),r.value=Object.assign({},D),s.value=!0},S=()=>{n.deleteField(r.value.FieldUUID).then(D=>{D&&(u.value.splice(l.value,1),c())})},f=()=>{a.value=!1,Ne(()=>{r.value=Object.assign({},p.value),l.value=-1})},c=()=>{s.value=!1,Ne(()=>{r.value=Object.assign({},p.value),l.value=-1})},g=()=>{n.saveField(r.value).then(D=>{D&&(l.value>-1?Object.assign(u.value[l.value],D):u.value.push(D),f())})};return(D,h)=>(T(),w(U(Ta),{headers:d.value,items:u.value,"sort-by":[{key:"calories",order:"asc"}],class:"elevation-1"},{top:v(()=>[o(je,{color:"primary"},{default:v(()=>[o(ze,null,{default:v(()=>[C("Field Editor")]),_:1}),o(Rt,{class:"mx-4",inset:!0,vertical:!0}),o(te),o(_,{dark:"",class:"mb-2","prepend-icon":"mdi:mdi-pencil",onClick:y},{default:v(()=>[C(" New Item ")]),_:1}),o(ka,{modelValue:s.value,"onUpdate:modelValue":h[0]||(h[0]=I=>s.value=I),onDelete:S},null,8,["modelValue"])]),_:1}),a.value?(T(),w(La,{key:0,modelValue:a.value,"onUpdate:modelValue":h[1]||(h[1]=I=>a.value=I),field:r.value,"onUpdate:field":[h[2]||(h[2]=I=>r.value=I),g],title:i.value,convention:t.value},null,8,["modelValue","field","title","convention"])):K("",!0)]),"item.actions":v(({item:I})=>[o(Se,{size:"small",class:"me-2",onClick:$=>b(I.raw)},{default:v(()=>[C(" mdi:mdi-pencil ")]),_:2},1032,["onClick"]),o(Se,{size:"small",onClick:$=>V(I.raw)},{default:v(()=>[C(" mdi:mdi-delete ")]),_:2},1032,["onClick"])]),_:1},8,["headers","items"]))}});export{Ta as V,wa as _,ka as a,dl as b};
