import{d as p,W as l,y as h,D as _,o as d,O as f,f as s,G as g,aL as L,F as k}from"./index-3b87d87f.js";import{S as A}from"./setupLogin-8c3f97eb.js";import{u as P}from"./useGrazeAPI-56cf2147.js";import"./userData-d733b0cf.js";const B=s("p",null,"Authorising...",-1),z=p({__name:"AuthLogin",setup(R){const n=l(),t=h(n.params.method),r=P(),e=new URL(location.href),c=_(),u=e.searchParams.get("code")||"",i=e.searchParams.get("token")||"",m=e.searchParams.get("state")||"";return r.oAuthLogin(t.value,u,i,m).then(({tokens:o,user:a})=>{A(o,a,c)}),(o,a)=>(d(),f(k,null,[s("p",null,g(L(t.value)),1),B],64))}});export{z as default};
