import{p as $,a as W,c as n,m as Y,s as C,h as b,i as ce,j as ae,k as P,l as oe,C as ve,n as de,u as me,q as fe,t as Z,v as ge,x as he,y as E,z as ye,A as pe,B as we,T as be,F as Ve,d as ke,D as j,E as _e,r as J,o as H,b as A,w as V,e as Se,G as Te,H as xe,_ as Be}from"./index-181421cc.js";import{G as Me,R as Le}from"./userData-887aea4a.js";import{u as Ee}from"./useAvatar-6bd3a630.js";import{V as Ce}from"./VToolbar-bce2e74a.js";import{V as Re}from"./VSpacer-d97ac40e.js";import{V as Ie}from"./VTextField-0c9ac203.js";import{m as Pe,V as De,u as Ne,t as He,a as Ae}from"./VBtn-99c3a21a.js";import{u as U,m as ne,a as Ye,b as $e,c as We,d as Ue,e as ze,f as K,g as Oe,h as Xe}from"./rounded-1ea7487a.js";import{V as Fe}from"./VAppBar-3f502c7f.js";import{V as Q,a as D,b as Ge}from"./VList-f901a01c.js";import{V as qe}from"./VImg-cb210a93.js";import{m as Ze,c as je,a as Je,u as Ke,V as Qe}from"./VMain-bb9ff21a.js";import{u as et}from"./scopeId-dd91c5f8.js";import{u as tt}from"./ssrBoot-e334900c.js";import"./index-266f4b76.js";import"./createSimpleFunctional-0e7b9320.js";import"./index-517d66df.js";import"./VAvatar-925d3504.js";const at=$({...Pe({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),ot=W()({name:"VAppBarNavIcon",props:at(),setup(e,l){let{slots:u}=l;return U(()=>n(De,Y(e,{class:["v-app-bar-nav-icon"]}),u)),{}}});const nt=$({...ne(),...Ze()},"VLayout"),lt=W()({name:"VLayout",props:nt(),setup(e,l){let{slots:u}=l;const{layoutClasses:i,layoutStyles:t,getLayoutItem:a,items:g,layoutRef:h}=je(e);return U(()=>{var w;return n("div",{ref:h,class:[i.value,e.class],style:[t.value,e.style]},[(w=u.default)==null?void 0:w.call(u)])}),{getLayoutItem:a,items:g}}});function ut(e){let{rootEl:l,isSticky:u,layoutItemStyles:i}=e;const t=C(!1),a=C(0),g=b(()=>{const y=typeof t.value=="boolean"?"top":t.value;return[u.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[y]:ce(a.value)}:{top:i.value.top}]});ae(()=>{P(u,y=>{y?window.addEventListener("scroll",w,{passive:!0}):window.removeEventListener("scroll",w)},{immediate:!0})}),oe(()=>{document.removeEventListener("scroll",w)});let h=0;function w(){const y=h>window.scrollY?"up":"down",s=l.value.getBoundingClientRect(),d=parseFloat(i.value.top??0),r=window.scrollY-Math.max(0,a.value-d),m=s.height+Math.max(a.value,d)-window.scrollY-window.innerHeight,f=parseFloat(getComputedStyle(l.value).getPropertyValue("--v-body-scroll-y"))||0;s.height<window.innerHeight-d?(t.value="top",a.value=d):y==="up"&&t.value==="bottom"||y==="down"&&t.value==="top"?(a.value=window.scrollY+s.top-f,t.value=!0):y==="down"&&m<=0?(a.value=0,t.value="bottom"):y==="up"&&r<=0&&(f?t.value!=="top"&&(a.value=-r+f+d,t.value="top"):(a.value=s.top+r,t.value="top")),h=window.scrollY}return{isStuck:t,stickyStyles:g}}const it=100,rt=20;function ee(e){const l=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*l}function te(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let l=0;for(let u=e.length-1;u>0;u--){if(e[u].t===e[u-1].t)continue;const i=ee(l),t=(e[u].d-e[u-1].d)/(e[u].t-e[u-1].t);l+=(t-i)*Math.abs(t),u===e.length-1&&(l*=.5)}return ee(l)*1e3}function st(){const e={};function l(t){Array.from(t.changedTouches).forEach(a=>{(e[a.identifier]??(e[a.identifier]=new ve(rt))).push([t.timeStamp,a])})}function u(t){Array.from(t.changedTouches).forEach(a=>{delete e[a.identifier]})}function i(t){var y;const a=(y=e[t])==null?void 0:y.values().reverse();if(!a)throw new Error(`No samples for touch id ${t}`);const g=a[0],h=[],w=[];for(const s of a){if(g[0]-s[0]>it)break;h.push({t:s[0],d:s[1].clientX}),w.push({t:s[0],d:s[1].clientY})}return{x:te(h),y:te(w),get direction(){const{x:s,y:d}=this,[r,m]=[Math.abs(s),Math.abs(d)];return r>m&&s>=0?"right":r>m&&s<=0?"left":m>r&&d>=0?"down":m>r&&d<=0?"up":ct()}}}return{addMovement:l,endTouch:u,getVelocity:i}}function ct(){throw new Error}function vt(e){let{isActive:l,isTemporary:u,width:i,touchless:t,position:a}=e;ae(()=>{window.addEventListener("touchstart",I,{passive:!0}),window.addEventListener("touchmove",T,{passive:!1}),window.addEventListener("touchend",B,{passive:!0})}),oe(()=>{window.removeEventListener("touchstart",I),window.removeEventListener("touchmove",T),window.removeEventListener("touchend",B)});const g=b(()=>["left","right"].includes(a.value)),{addMovement:h,endTouch:w,getVelocity:y}=st();let s=!1;const d=C(!1),r=C(0),m=C(0);let f;function _(o,v){return(a.value==="left"?o:a.value==="right"?document.documentElement.clientWidth-o:a.value==="top"?o:a.value==="bottom"?document.documentElement.clientHeight-o:L())-(v?i.value:0)}function R(o){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const c=a.value==="left"?(o-m.value)/i.value:a.value==="right"?(document.documentElement.clientWidth-o-m.value)/i.value:a.value==="top"?(o-m.value)/i.value:a.value==="bottom"?(document.documentElement.clientHeight-o-m.value)/i.value:L();return v?Math.max(0,Math.min(1,c)):c}function I(o){if(t.value)return;const v=o.changedTouches[0].clientX,c=o.changedTouches[0].clientY,p=25,S=a.value==="left"?v<p:a.value==="right"?v>document.documentElement.clientWidth-p:a.value==="top"?c<p:a.value==="bottom"?c>document.documentElement.clientHeight-p:L(),x=l.value&&(a.value==="left"?v<i.value:a.value==="right"?v>document.documentElement.clientWidth-i.value:a.value==="top"?c<i.value:a.value==="bottom"?c>document.documentElement.clientHeight-i.value:L());(S||x||l.value&&u.value)&&(s=!0,f=[v,c],m.value=_(g.value?v:c,l.value),r.value=R(g.value?v:c),w(o),h(o))}function T(o){const v=o.changedTouches[0].clientX,c=o.changedTouches[0].clientY;if(s){if(!o.cancelable){s=!1;return}const S=Math.abs(v-f[0]),x=Math.abs(c-f[1]);(g.value?S>x&&S>3:x>S&&x>3)?(d.value=!0,s=!1):(g.value?x:S)>3&&(s=!1)}if(!d.value)return;o.preventDefault(),h(o);const p=R(g.value?v:c,!1);r.value=Math.max(0,Math.min(1,p)),p>1?m.value=_(g.value?v:c,!0):p<0&&(m.value=_(g.value?v:c,!1))}function B(o){if(s=!1,!d.value)return;h(o),d.value=!1;const v=y(o.changedTouches[0].identifier),c=Math.abs(v.x),p=Math.abs(v.y);(g.value?c>p&&c>400:p>c&&p>3)?l.value=v.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||L()):l.value=r.value>.5}const M=b(()=>d.value?{transform:a.value==="left"?`translateX(calc(-100% + ${r.value*i.value}px))`:a.value==="right"?`translateX(calc(100% - ${r.value*i.value}px))`:a.value==="top"?`translateY(calc(-100% + ${r.value*i.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${r.value*i.value}px))`:L(),transition:"none"}:void 0);return{isDragging:d,dragProgress:r,dragStyles:M}}function L(){throw new Error}const dt=["start","end","left","right","top","bottom"],mt=$({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>dt.includes(e)},sticky:Boolean,...Ye(),...ne(),...$e(),...Je(),...We(),...Ue({tag:"nav"}),...de()},"VNavigationDrawer"),ft=W()({name:"VNavigationDrawer",props:mt(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,l){let{attrs:u,emit:i,slots:t}=l;const{isRtl:a}=me(),{themeClasses:g}=fe(e),{borderClasses:h}=ze(e),{backgroundColorClasses:w,backgroundColorStyles:y}=K(Z(e,"color")),{elevationClasses:s}=Oe(e),{mobile:d}=ge(),{roundedClasses:r}=Xe(e),m=Ne(),f=he(e,"modelValue",null,k=>!!k),{ssrBootStyles:_}=tt(),{scopeId:R}=et(),I=E(),T=C(!1),B=b(()=>e.rail&&e.expandOnHover&&T.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),M=b(()=>He(e.location,a.value)),o=b(()=>!e.permanent&&(d.value||e.temporary)),v=b(()=>e.sticky&&!o.value&&M.value!=="bottom");e.expandOnHover&&e.rail!=null&&P(T,k=>i("update:rail",!k)),e.disableResizeWatcher||P(o,k=>!e.permanent&&ye(()=>f.value=!k)),!e.disableRouteWatcher&&m&&P(m.currentRoute,()=>o.value&&(f.value=!1)),P(()=>e.permanent,k=>{k&&(f.value=!0)}),pe(()=>{e.modelValue!=null||o.value||(f.value=e.permanent||!d.value)});const{isDragging:c,dragProgress:p,dragStyles:S}=vt({isActive:f,isTemporary:o,width:B,touchless:Z(e,"touchless"),position:M}),x=b(()=>{const k=o.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):B.value;return c.value?k*p.value:k}),{layoutItemStyles:N,layoutItemScrimStyles:le}=Ke({id:e.name,order:b(()=>parseInt(e.order,10)),position:M,layoutSize:x,elementSize:B,active:b(()=>f.value||c.value),disableTransitions:b(()=>c.value),absolute:b(()=>e.absolute||v.value&&typeof z.value!="string")}),{isStuck:z,stickyStyles:ue}=ut({rootEl:I,isSticky:v,layoutItemStyles:N}),O=K(b(()=>typeof e.scrim=="string"?e.scrim:null)),ie=b(()=>({...c.value?{opacity:p.value*.2,transition:"none"}:void 0,...le.value}));we({VList:{bgColor:"transparent"}});function re(){T.value=!0}function se(){T.value=!1}return U(()=>{const k=t.image||e.image;return n(Ve,null,[n(e.tag,Y({ref:I,onMouseenter:re,onMouseleave:se,class:["v-navigation-drawer",`v-navigation-drawer--${M.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":T.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":o.value,"v-navigation-drawer--active":f.value,"v-navigation-drawer--sticky":v.value},g.value,w.value,h.value,s.value,r.value,e.class],style:[y.value,N.value,S.value,_.value,ue.value,e.style]},R,u),{default:()=>{var X,F,G,q;return[k&&n("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?(X=t.image)==null?void 0:X.call(t,{image:e.image}):n("img",{src:e.image,alt:""},null)]),t.prepend&&n("div",{class:"v-navigation-drawer__prepend"},[(F=t.prepend)==null?void 0:F.call(t)]),n("div",{class:"v-navigation-drawer__content"},[(G=t.default)==null?void 0:G.call(t)]),t.append&&n("div",{class:"v-navigation-drawer__append"},[(q=t.append)==null?void 0:q.call(t)])]}}),n(be,{name:"fade-transition"},{default:()=>[o.value&&(c.value||f.value)&&!!e.scrim&&n("div",Y({class:["v-navigation-drawer__scrim",O.backgroundColorClasses.value],style:[ie.value,O.backgroundColorStyles.value],onClick:()=>f.value=!1},R),null)]})])}),{isStuck:z}}}),gt=ke({__name:"DashboardLayout",setup(e){const l=E(!1),u=E("Default Title"),i=E(""),t=E(""),a=E(""),g=Ee(),h=Me();h?(a.value=h.DisplayName,t.value=g(h.UserUUID)):j().push("/"),_e.getInstance().getTokenByService("GrazeAPI")||(Le(),j().push("/"));const s=d=>{u.value=d};return(d,r)=>{const m=J("RouterLink"),f=J("RouterView");return H(),A(lt,null,{default:V(()=>[n(Fe,{color:"primary"},{default:V(()=>[n(Ce,null,{default:V(()=>[Se(Te(u.value),1)]),_:1}),n(Re),n(Ie,{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=_=>i.value=_),"prepend-inner-icon":"mdi:mdi-magnify",label:"Search",variant:"underlined","hide-details":"",clearable:!0,class:"d-none"},null,8,["modelValue"]),n(ot,{variant:"text",onClick:r[1]||(r[1]=xe(_=>l.value=!l.value,["stop"]))})]),_:1}),n(ft,{modelValue:l.value,"onUpdate:modelValue":r[2]||(r[2]=_=>l.value=_),location:"right",temporary:!0},{default:V(()=>[n(Q,null,{default:V(()=>[n(m,{to:{name:"Profile"}},{default:V(()=>[n(D,{title:a.value},{prepend:V(()=>[t.value?(H(),A(qe,{key:0,src:t.value,class:"rounded-circle mr-2",height:"32",width:"32"},null,8,["src"])):(H(),A(Ae,{key:1,icon:"mdi:mdi-account-circle",size:"x-large"}))]),_:1},8,["title"])]),_:1})]),_:1}),n(Ge),n(f,{name:"navigation"},{default:V(()=>[n(Q,null,{default:V(()=>[n(m,{to:"/dashboard"},{default:V(()=>[n(D,{"prepend-icon":"mdi:mdi-view-dashboard-outline",title:"Home",value:"home"})]),_:1}),n(m,{to:"/dashboard/admin"},{default:V(()=>[n(D,{"prepend-icon":"mdi:mdi-domain",title:"Admin",value:"Admin"})]),_:1}),n(m,{to:"/logout"},{default:V(()=>[n(D,{"prepend-icon":"mdi:mdi-logout",title:"Logout",value:"Logout"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(Qe,null,{default:V(()=>[n(f,{onPageTitle:s})]),_:1})]),_:1})}}});const Pt=Be(gt,[["__scopeId","data-v-6e3e17c5"]]);export{Pt as default};
