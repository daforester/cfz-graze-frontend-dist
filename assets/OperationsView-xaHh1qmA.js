import{i as z,M as Y,r,N as $,c as oe,n as o,q as g,P as H,W as M,k as Z,v as e,f as t,D as h,y as P,A as I,C as _,m as De,a1 as ye,x as A,B as F,Q as fe,F as B,z as X,V as Se,U as Le}from"./index-Zh94YIQM.js";import{V as Te,u as Ae}from"./debounce-zJK4ss5s.js";import{C as Pe,a as Oe,b as he}from"./canConfigureProps-LSZhlW9c.js";import{G as Ee}from"./userData-5ln3j4yr.js";import{_ as Q}from"./ModelDialog.vue_vue_type_script_setup_true_lang-OWg0RUmT.js";import{V as ke}from"./VAutocomplete-WtZvQXpK.js";import{a as ie,V as ae}from"./scopeId-ksuEd_D1.js";import{V as q,a as y}from"./VRow-toHwHRrF.js";import{V as ue}from"./VTextField-wRZrSdZO.js";import{V as se}from"./VTextarea-sHdURTCS.js";import{V as Ne}from"./VForm-164Xb1zk.js";import{V as Fe}from"./VFileInput-RIMmIwe9.js";import{V as re}from"./VAvatar-jae2E3Ms.js";import{a as J,V as Ge}from"./VContainer-dtNRpZTo.js";import{a as te,b as le,c as ne,V as de}from"./VDataTable-uP7yrelf.js";import{V as Ue,a as Ce,c as ge,d as Ie}from"./VList-1ShD6sIP.js";import{V as x}from"./VBtn-NKGAx7eO.js";import{h as Ve}from"./date-1rFCglLs.js";import{a as Me}from"./VTable-vwq7JkOX.js";import{a as $e,c as _e,V as Be}from"./VWindowItem-YIMMW2cq.js";import{V as xe}from"./VToolbar-BJP6G3LQ.js";import{e as we}from"./VCard-hCz8F7ep.js";import"./group-7fhbY6WJ.js";import"./canDo-dWZsLGxs.js";import"./SaveButton.vue_vue_type_script_setup_true_lang-3AkOjpzJ.js";import"./forwardRefs-zMgvZe6i.js";import"./VDialog-hJE8djmr.js";import"./VSelect-8fZ32GoJ.js";import"./VCheckboxBtn-kWAB8yQY.js";import"./VChip-E5WngAHs.js";import"./createSimpleFunctional-f10RSA8c.js";import"./VDivider-vrsqkxWk.js";var L=(d=>(d.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE="GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE",d.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE="GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE",d.GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS="GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS",d))(L||{});const K=[{title:"Costume Prop Clearance",value:"GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE"},{title:"Costume Prop Type",value:"GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE"},{title:"Lost and Found Status",value:"GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS"}],W=z({__name:"UserSelect",props:Y({clearable:{type:Boolean,default:!1},convention:{},hideDetails:{type:[Boolean,String]},hint:{default:""},label:{default:""},persistentHint:{type:Boolean,default:!1},variant:{default:"filled"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(d){const O=H(),C=r([]),l=$(d,"modelValue");O.searchConventionUsers(d.convention.ConventionUUID).then(m=>{m&&(C.value=m.Users)});const s=oe(()=>{const m=C.value.map(u=>({DisplayName:`${u.Registrations&&u.Registrations.length>0&&u.Registrations[0].Reference?`#${u.Registrations[0].Reference}`:""} ${u.DisplayName}`,Reference:u.Registrations&&u.Registrations.length>0&&u.Registrations[0].Reference?u.Registrations[0].Reference:"",UserUUID:u.UserUUID})).sort((u,E)=>!u.Reference&&E.Reference?1:u.Reference&&!E.Reference||u.Reference.length<E.Reference.length?-1:u.Reference.length>E.Reference.length||u.DisplayName>E.DisplayName?1:u.DisplayName==E.DisplayName?0:-1);return m.unshift({DisplayName:"- Select Owner -",Reference:"",UserUUID:M}),m});return(m,u)=>(o(),g(ke,{label:m.label,items:s.value,"item-title":"DisplayName","item-value":"UserUUID",variant:m.variant,"hide-details":m.hideDetails,"persistent-hint":m.persistentHint,modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=E=>l.value=E),hint:m.hint,clearable:m.clearable},null,8,["label","items","variant","hide-details","persistent-hint","modelValue","hint","clearable"]))}}),Re=z({__name:"GenericEnumSelect",props:Y({category:{},convention:{},label:{default:""},variant:{default:"filled"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(d){const O=H(),C=r([]),l=$(d,"modelValue");O.getConventionGenericEnums(d.convention.ConventionUUID,d.category).then(m=>{m&&(C.value=m)});const s=oe(()=>{const m=C.value.map(u=>u).sort((u,E)=>u.Title>E.Title?1:u.Title==E.Title?0:-1);return m.unshift({ID:0,GenericEnumUUID:M,ConventionID:0,ConventionUUID:M,Category:d.category,Name:"",Title:`- Select ${d.label} -`,Description:""}),m});return(m,u)=>(o(),g(ke,{label:m.label,items:s.value,"item-title":"Title","item-value":"GenericEnumUUID",variant:m.variant,"hide-details":"",modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=E=>l.value=E)},null,8,["label","items","variant","modelValue"]))}}),Ye=["innerHTML"],qe=z({__name:"EditCostumeProp",props:Y({convention:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{},costumeProp:{required:!0},costumePropModifiers:{}}),emits:Y(["new","update:costumeProp"],["update:modelValue","update:costumeProp"]),setup(d,{emit:O}){const C=$(d,"modelValue"),l=$(d,"costumeProp"),s=H(),m=ie(),u=O,E=r(Z(l.value)),k=r(`${m.GetCostumePropImageURL(l.value.CostumePropUUID)}?${new Date().getTime()}`),N=r(),R=r(),i=r([]);s.getConventionGenericEnums(d.convention.ConventionUUID,L.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE).then(v=>{v&&(i.value=v)});const p=()=>{},a=()=>{l.value=Z(E.value)},f=v=>{s.saveCostumeProp(l.value).then(w=>{w?(v&&v("Saved Costume Prop"),l.value.CostumePropUUID!=w.CostumePropUUID&&u("new",w),l.value=w,u("update:costumeProp",w),k.value?T(w.CostumePropUUID).then(()=>{setTimeout(()=>{C.value=!1},1e3)}).catch(()=>{v("Failed to Save Image")}):setTimeout(()=>{C.value=!1},1e3)):v&&v("Failed to Save Costume Prop")}).catch(()=>{v&&v("Failed to Save Costume Prop")})},V=oe(()=>!1),S=()=>{k.value=URL.createObjectURL(N.value.files[0])},T=async v=>{var G;const w=new FormData((G=R.value)==null?void 0:G.$el);if(w.get("Image")&&w.get("Image").size>0)return w.set("ConventionUUID",d.convention.ConventionUUID),w.set("CostumePropUUID",v),await m.SaveCostumePropImage(w)},U=v=>{if(!v)return"";let w=v;return w=w.replaceAll(`
`,"<br>"),w=w.replaceAll(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),w=w.replaceAll(/\[i](.*?)\[\/i]/g,"<em>$1</em>"),w};return(v,w)=>(o(),g(Q,De({modelValue:C.value,"onUpdate:modelValue":w[5]||(w[5]=G=>C.value=G),title:"Add Costume Prop","show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!1,"hide-extension":!0,fullscreen:!0,persistent:!0,scrollable:!0,onReset:a,onSave:f},{[ye(V.value&&"delete")]:p}),{default:e(()=>[t(J,null,{default:e(()=>[t(q,null,{default:e(()=>[l.value.AddedBy?(o(),g(y,{key:0,cols:"12"},{default:e(()=>[h("strong",null,"Added By: "+P(l.value.AddedBy.DisplayName),1)]),_:1})):I("",!0),t(y,{cols:"12"},{default:e(()=>[t(W,{modelValue:l.value.OwnerUUID,"onUpdate:modelValue":w[0]||(w[0]=G=>l.value.OwnerUUID=G),convention:v.convention,label:"Owner",variant:"outlined","aria-required":"true",clearable:!0},null,8,["modelValue","convention"])]),_:1}),t(y,{cols:"12"},{default:e(()=>[t(Re,{modelValue:l.value.TypeUUID,"onUpdate:modelValue":w[1]||(w[1]=G=>l.value.TypeUUID=G),category:_(L).GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE,convention:v.convention,label:"Type",variant:"outlined"},null,8,["modelValue","category","convention"])]),_:1}),t(y,{cols:"12"},{default:e(()=>[t(ue,{modelValue:l.value.Description,"onUpdate:modelValue":w[2]||(w[2]=G=>l.value.Description=G),label:"Description",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),t(y,{cols:"12"},{default:e(()=>[t(Re,{modelValue:l.value.ClearanceUUID,"onUpdate:modelValue":w[3]||(w[3]=G=>l.value.ClearanceUUID=G),category:_(L).GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE,convention:v.convention,label:"Clearance",variant:"outlined"},null,8,["modelValue","category","convention"])]),_:1}),t(y,{cols:"12"},{default:e(()=>[t(se,{modelValue:l.value.Remarks,"onUpdate:modelValue":w[4]||(w[4]=G=>l.value.Remarks=G),label:"Remarks / Information",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),t(y,{cols:"12"},{default:e(()=>[t(Ne,{ref_key:"propImageForm",ref:R,enctype:"multipart/form-data"},{default:e(()=>[t(Fe,{label:"Photograph",name:"Image",variant:"outlined",ref_key:"imageFileInput",ref:N,"prepend-icon":"mdi:mdi-camera",capture:"environment",accept:"image/avif, image/bmp, image/gif, image/jpeg, image/png, image/webp",onChange:S},null,512)]),_:1},512),k.value?(o(),g(re,{key:0,src:k.value,class:"border profileImage my-0 mx-auto","max-height":"400","max-width":"400",ref:"imageDisplay",cover:!1},null,8,["src"])):I("",!0)]),_:1}),l.value.TypeUUID!==""&&l.value.TypeUUID!==_(M)?(o(),g(y,{key:1,cols:"12"},{default:e(()=>{var G;return[h("div",{innerHTML:U((G=i.value.find(ee=>ee.GenericEnumUUID===l.value.TypeUUID))==null?void 0:G.Description)},null,8,Ye)]}),_:1})):I("",!0)]),_:1})]),_:1})]),_:1},16,["modelValue"]))}}),ze=h("br",null,null,-1),He=h("p",null,[h("strong",null,"Description Formatting Guidance")],-1),je=h("dl",null,[h("dt",{class:"float-left mr-2"}," ** "),h("dd",null,[A(" Surround text with double asterisk to make text bold. E.g. **this is bold** = "),h("strong",null,"this is bold")]),h("dt",{class:"float-left mr-2"}," [i] "),h("dd",null,[A(" Surround text with [i] and [/i] to make text italic. E.g. [i]italic emphasis[/i] = "),h("em",null,"italic emphasis")])],-1),be=z({__name:"EditGenericEnum",props:Y({convention:{},title:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{},genericEnum:{required:!0},genericEnumModifiers:{}}),emits:Y(["delete:genericEnum","new","update:genericEnum"],["update:modelValue","update:genericEnum"]),setup(d,{emit:O}){const C=$(d,"modelValue"),l=$(d,"genericEnum"),s=r(Z(l.value)),m=H(),u=O,E=r([]),k=r([]),N=a=>{m.deleteGenericEnum(s.value.GenericEnumUUID).then(f=>{var V,S;f?(a&&a(`Deleted ${(V=K.find(T=>T.value==s.value.Category))==null?void 0:V.title}`),u("delete:genericEnum",s.value),setTimeout(()=>{C.value=!1},1e3)):a&&a(`Failed to Delete ${(S=K.find(T=>T.value==s.value.Category))==null?void 0:S.title}`)}).catch(()=>{var f;a&&a(`Failed to Delete ${(f=K.find(V=>V.value==s.value.Category))==null?void 0:f.title}`)})},R=oe(()=>s.value.GenericEnumUUID!=M),i=a=>{m.saveGenericEnum(s.value).then(f=>{var V,S;f?(a&&a(`Saved ${(V=K.find(T=>T.value==s.value.Category))==null?void 0:V.title}`),u("update:genericEnum",f),setTimeout(()=>{C.value=!1},1e3)):a&&a(`Failed to Save ${(S=K.find(T=>T.value==s.value.Category))==null?void 0:S.title}`)}).catch(()=>{var f;a&&a(`Failed to Save ${(f=K.find(V=>V.value==s.value.Category))==null?void 0:f.title}`)})},p=()=>{s.value=Z(l.value)};return m.getConventionGenericEnums(d.convention.ConventionUUID,L.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE).then(a=>{a&&(E.value=a)}).catch(()=>{}),m.getConventionGenericEnums(d.convention.ConventionUUID,L.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE).then(a=>{a&&(k.value=a)}).catch(()=>{}),(a,f)=>(o(),g(Q,De({modelValue:C.value,"onUpdate:modelValue":f[3]||(f[3]=V=>C.value=V),title:a.title,"show-reset-action":!1,"show-save-action":!0,"show-delete-action":!1,"show-close-action":!0,"hide-extension":!0,fullscreen:!1,persistent:!0,scrollable:!0,onReset:p,onSave:i},{[ye(R.value&&"delete")]:N}),{default:e(()=>[t(J,null,{default:e(()=>[t(q,null,{default:e(()=>[t(y,{cols:"12"},{default:e(()=>[t(ue,{modelValue:s.value.Name,"onUpdate:modelValue":f[0]||(f[0]=V=>s.value.Name=V),label:"Internal Name",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),t(y,{cols:"12"},{default:e(()=>[t(ue,{modelValue:s.value.Title,"onUpdate:modelValue":f[1]||(f[1]=V=>s.value.Title=V),label:"Display Title",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),t(y,{cols:"12"},{default:e(()=>[t(se,{modelValue:s.value.Description,"onUpdate:modelValue":f[2]||(f[2]=V=>s.value.Description=V),label:"Description",variant:"outlined"},null,8,["modelValue"]),ze,He,je]),_:1})]),_:1})]),_:1})]),_:1},16,["modelValue","title"]))}}),We=z({__name:"ConfigCostumeProps",props:Y({convention:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(d){const O=$(d,"modelValue"),C=H(),l=r(),s=r([]),m=r(!1),u=r([]),E=i=>{const p=()=>({ID:0,GenericEnumUUID:M,ConventionID:d.convention.ID,ConventionUUID:d.convention.ConventionUUID,Category:i,Name:"",Title:"",Description:""});l.value=p(),m.value=!0},k=i=>{l.value=i,m.value=!0},N=i=>{let p;switch(i.Category){case L.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE:p=s.value.findIndex(a=>a.GenericEnumUUID==i.GenericEnumUUID),p>=0&&s.value.splice(p,1);break;case L.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE:p=u.value.findIndex(a=>a.GenericEnumUUID==i.GenericEnumUUID),p>=0&&u.value.splice(p,1);break}},R=i=>{let p;switch(i.Category){case L.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE:p=s.value.findIndex(a=>a.GenericEnumUUID==i.GenericEnumUUID),p>=0?s.value.splice(p,1,i):s.value.push(l.value);break;case L.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE:p=u.value.findIndex(a=>a.GenericEnumUUID==i.GenericEnumUUID),p>=0?u.value.splice(p,1,i):u.value.push(l.value);break}};return C.getConventionGenericEnums(d.convention.ConventionUUID,L.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE).then(i=>{i&&(s.value=i)}),C.getConventionGenericEnums(d.convention.ConventionUUID,L.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE).then(i=>{i&&(u.value=i)}),(i,p)=>(o(),g(Q,{modelValue:O.value,"onUpdate:modelValue":p[4]||(p[4]=a=>O.value=a),title:"Configure Costume Props","show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!0,"hide-extension":!0,fullscreen:!0,persistent:!0,scrollable:!0},{default:e(()=>{var a;return[t(de,null,{default:e(()=>[t(te,null,{default:e(()=>[t(le,{color:"primary"},{default:e(()=>[A(" Clearance Options ")]),_:1}),t(ne,null,{default:e(()=>[t(Ue,null,{default:e(()=>[(o(!0),F(B,null,fe(s.value,f=>(o(),g(Ce,{key:f.GenericEnumUUID},{append:e(()=>[t(x,{icon:"mdi:mdi-pencil-outline",color:"warning",size:"x-small",onClick:V=>k(f)},null,8,["onClick"])]),default:e(()=>[t(ge,null,{default:e(()=>[h("strong",null,P(f.Name)+" - "+P(f.Title),1)]),_:2},1024),t(Ie,null,{default:e(()=>[A(P(f.Description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),t(q,null,{default:e(()=>[t(y,{class:"text-right"},{default:e(()=>[t(x,{color:"success","prepend-icon":"mdi:mdi-plus",onClick:p[0]||(p[0]=f=>E(_(L).GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE))},{default:e(()=>[A(" Add Item ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(te,null,{default:e(()=>[t(le,{color:"primary"},{default:e(()=>[A(" Item Types ")]),_:1}),t(ne,null,{default:e(()=>[t(Ue,null,{default:e(()=>[(o(!0),F(B,null,fe(u.value,f=>(o(),g(Ce,{key:f.GenericEnumUUID},{append:e(()=>[t(x,{icon:"mdi:mdi-pencil-outline",color:"warning",size:"x-small",onClick:V=>k(f)},null,8,["onClick"])]),default:e(()=>[t(ge,null,{default:e(()=>[h("strong",null,P(f.Name)+" - "+P(f.Title),1)]),_:2},1024),t(Ie,null,{default:e(()=>[A(P(f.Description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),t(q,null,{default:e(()=>[t(y,{class:"text-right"},{default:e(()=>[t(x,{color:"success","prepend-icon":"mdi:mdi-plus",onClick:p[1]||(p[1]=f=>E(_(L).GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE))},{default:e(()=>[A(" Add Item ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),m.value&&l.value?(o(),g(be,{key:0,convention:i.convention,title:`Edit ${(a=_(K).find(f=>{var V;return f.value==((V=l.value)==null?void 0:V.Category)}))==null?void 0:a.title}`,modelValue:m.value,"onUpdate:modelValue":p[2]||(p[2]=f=>m.value=f),"generic-enum":l.value,"onUpdate:genericEnum":[p[3]||(p[3]=f=>l.value=f),R],"onDelete:genericEnum":N},null,8,["convention","title","modelValue","generic-enum"])):I("",!0)]}),_:1},8,["modelValue"]))}}),Ke=["href"],Qe=z({__name:"ViewCostumeProp",props:Y({title:{default:"View Costume Prop"}},{modelValue:{type:Boolean,required:!0},modelModifiers:{},costumeProp:{required:!0},costumePropModifiers:{}}),emits:["update:modelValue","update:costumeProp"],setup(d){const O=$(d,"modelValue"),C=$(d,"costumeProp"),l=ie(),s=r(`${l.GetCostumePropImageURL(C.value.CostumePropUUID)}?${new Date().getTime()}`);return(m,u)=>(o(),g(Q,{modelValue:O.value,"onUpdate:modelValue":u[0]||(u[0]=E=>O.value=E),title:m.title,"show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!1,"hide-extension":!0,fullscreen:!1,persistent:!1,scrollable:!0},{default:e(()=>[t(J,null,{default:e(()=>[t(q,null,{default:e(()=>[t(y,{cols:"12"},{default:e(()=>[s.value?(o(),F("a",{key:0,href:s.value,target:"_blank",style:{cursor:"zoom-in"}},[t(re,{src:s.value,class:"border my-0 mx-auto","max-height":"400","max-width":"400",ref:"imageDisplay",cover:!1},null,8,["src"])],8,Ke)):I("",!0)]),_:1}),t(y,{cols:"12"},{default:e(()=>[A(P(C.value.Remarks),1)]),_:1}),C.value.AddedBy?(o(),g(y,{key:0,class:"text-right",cols:"12"},{default:e(()=>[h("small",null,"Added By: "+P(C.value.AddedBy.DisplayName),1)]),_:1})):I("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue","title"]))}}),Je=h("br",null,null,-1),Xe=z({__name:"CostumePropsView",props:{convention:{}},setup(d){const O=H(),C=Ee(),l=r(),s=r([]),m=r(1),u=r([]),E=r(!0),k=r(10),N=r(0),R=r([]),i=r(""),p=r(Pe(C,d.convention)),a=r(Oe(C,d.convention)),f=r(he(C,d.convention)),V=r(!1),S=r(!1),T=r(!1),U=r({}),v=Ae(()=>{i.value=Date.now().toString()}),w=()=>{l.value={ID:0,CostumePropUUID:M,ConventionID:d.convention.ID,ConventionUUID:d.convention.ConventionUUID,Description:"",HasPhoto:!1,Remarks:""},V.value=!0},G=c=>{l.value=c,V.value=!0},ee=c=>{l.value=c,T.value=!0},me=()=>{S.value=!0},ve=r([{key:"owner",title:"Attendee",sortable:!1},{key:"type",title:"Type",sortable:!1},{key:"Clearance.Title",title:"Clearance",sortable:!1},{key:"actions",title:"",sortable:!1}]),ce=({page:c,itemsPerPage:n,sortBy:D})=>{E.value=!0,m.value=c,u.value=D;try{U.value.Limit=n,U.value.Offset=(c-1)*n;const j=i.value;O.searchConventionCostumeProps(d.convention.ConventionUUID,U.value).then(pe=>{pe&&j===i.value&&(N.value=pe.Total,s.value=pe.CostumeProps,E.value=!1)})}catch(j){console.error(j)}},b=c=>{const n=s.value.findIndex(D=>c.CostumePropUUID==D.CostumePropUUID);n>=0&&s.value.splice(n,1,c)};return(c,n)=>c.convention?(o(),F(B,{key:0},[t(J,{fluid:!0,class:"px-1"},{default:e(()=>[a.value||f.value?(o(),g(q,{key:0},{default:e(()=>[f.value?(o(),g(y,{key:0,class:"flex-shrink-1 flex-grow-0"},{default:e(()=>[t(x,{color:"primary","prepend-icon":"mdi:mdi-cog",onClick:me},{default:e(()=>[A(" Config ")]),_:1})]),_:1})):I("",!0),t(ae),a.value?(o(),g(y,{key:1,class:"flex-shrink-1 flex-grow-0"},{default:e(()=>[t(x,{color:"success","prepend-icon":"mdi:mdi-plus",onClick:w},{default:e(()=>[A(" Record New Item ")]),_:1})]),_:1})):I("",!0)]),_:1})):I("",!0)]),_:1}),p.value||a.value?(o(),g(Te,{key:0,page:m.value,"onUpdate:page":n[4]||(n[4]=D=>m.value=D),"items-per-page":k.value,"onUpdate:itemsPerPage":n[5]||(n[5]=D=>k.value=D),"sort-by":R.value,"onUpdate:sortBy":n[6]||(n[6]=D=>R.value=D),headers:ve.value,"items-length":N.value,items:s.value,"item-value":"key",loading:E.value,search:i.value,"onUpdate:options":ce},{top:e(()=>[t(de,{class:"mb-3"},{default:e(()=>[t(te,null,{default:e(()=>[t(le,{color:"secondary",class:"font-weight-bold pb-0 pt-0"},{default:e(()=>[t(y,{class:"pa-0"},{default:e(()=>[A(" Search Criteria "),t(Ge,{class:"pl-5",icon:"mdi:mdi-credit-card-search-outline"})]),_:1}),t(y,{class:"d-none d-sm-block pa-0",cols:"0"},{default:e(()=>[t(W,{convention:c.convention,label:"Owner",clearable:!0,"hide-details":"",variant:"plain",modelValue:U.value.OwnerUUID,"onUpdate:modelValue":[n[0]||(n[0]=D=>U.value.OwnerUUID=D),_(v)],onClick:n[1]||(n[1]=X(()=>{},["stop"])),"onClick:clear":_(v),onInput:_(v)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1}),t(ae),t(y,{class:"d-none d-md-block pa-0"})]),_:1}),t(ne,{class:"pt-2"},{default:e(()=>[t(q,null,{default:e(()=>[t(y,{cols:"12",lg:"6"},{default:e(()=>[t(W,{convention:c.convention,label:"Owner",clearable:!0,"hide-details":"",variant:"outlined",modelValue:U.value.OwnerUUID,"onUpdate:modelValue":[n[2]||(n[2]=D=>U.value.OwnerUUID=D),_(v)],onClick:n[3]||(n[3]=X(()=>{},["stop"])),"onClick:clear":_(v),onInput:_(v)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),"item.owner":e(({item:D})=>[D.Owner?(o(),F(B,{key:0},[D.Owner.Registrations&&D.Owner.Registrations.length>0?(o(),F(B,{key:0},[A(" #"+P(D.Owner.Registrations[0].Reference),1)],64)):I("",!0),A(" "+P(D.Owner.DisplayName),1)],64)):I("",!0)]),"item.type":e(({item:D})=>[D.Type?(o(),F(B,{key:0},[A(P(D.Type.Title)+" ",1),Je],64)):I("",!0),h("small",null,P(D.Description),1)]),"item.actions":e(({item:D})=>[p.value?(o(),g(x,{key:0,icon:"mdi:mdi-magnify",size:"x-small",color:"success",onClick:j=>ee(D),class:"mr-2"},null,8,["onClick"])):I("",!0),a.value?(o(),g(x,{key:1,icon:"mdi:mdi-pencil",size:"x-small",color:"warning",onClick:j=>G(D)},null,8,["onClick"])):I("",!0)]),_:1},8,["page","items-per-page","sort-by","headers","items-length","items","loading","search"])):I("",!0),V.value&&l.value?(o(),g(qe,{key:1,convention:c.convention,modelValue:V.value,"onUpdate:modelValue":n[7]||(n[7]=D=>V.value=D),"costume-prop":l.value,"onUpdate:costumeProp":[n[8]||(n[8]=D=>l.value=D),b],onNew:_(v)},null,8,["convention","modelValue","costume-prop","onNew"])):I("",!0),T.value&&l.value?(o(),g(Qe,{key:2,title:l.value.Description,modelValue:T.value,"onUpdate:modelValue":n[9]||(n[9]=D=>T.value=D),"costume-prop":l.value,"onUpdate:costumeProp":n[10]||(n[10]=D=>l.value=D)},null,8,["title","modelValue","costume-prop"])):I("",!0),S.value?(o(),g(We,{key:3,convention:c.convention,modelValue:S.value,"onUpdate:modelValue":n[11]||(n[11]=D=>S.value=D)},null,8,["convention","modelValue"])):I("",!0)],64)):I("",!0)}}),Ze=h("strong",null,"Added By:",-1),et=h("strong",null,"Status:",-1),tt={key:0,class:"text-success"},lt={key:1,class:"text-warning"},nt={key:2,class:"text-error"},ot={key:3,class:"text-error"},at=z({__name:"EditLostAndFound",props:Y({convention:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{},lostAndFound:{required:!0},lostAndFoundModifiers:{}}),emits:Y(["new","update:lostAndFound"],["update:modelValue","update:lostAndFound"]),setup(d,{emit:O}){const C=$(d,"modelValue"),l=$(d,"lostAndFound"),s=H(),m=ie(),u=O,E=r(Z(l.value)),k=r(`${m.GetLostAndFoundImageURL(l.value.LostAndFoundUUID)}?${new Date().getTime()}`),N=r(),R=r(),i=()=>{},p=()=>{l.value=Z(E.value)},a=T=>{s.saveLostAndFound(l.value).then(U=>{U?(T&&T("Saved Costume Prop"),l.value.LostAndFoundUUID!=U.LostAndFoundUUID&&u("new",U),l.value=U,u("update:lostAndFound",U),k.value?S(U.LostAndFoundUUID).then(()=>{setTimeout(()=>{C.value=!1},1e3)}).catch(()=>{T("Failed to Save Image")}):setTimeout(()=>{C.value=!1},1e3)):T&&T("Failed to Save Costume Prop")}).catch(()=>{T&&T("Failed to Save Costume Prop")})},f=oe(()=>!1),V=()=>{k.value=URL.createObjectURL(N.value.files[0])},S=async T=>{var v;const U=new FormData((v=R.value)==null?void 0:v.$el);if(U.get("Image")&&U.get("Image").size>0)return U.set("ConventionUUID",d.convention.ConventionUUID),U.set("LostAndFoundUUID",T),await m.SaveLostAndFoundImage(U)};return(T,U)=>(o(),g(Q,De({modelValue:C.value,"onUpdate:modelValue":U[5]||(U[5]=v=>C.value=v),title:"Report Lost & Found","show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!1,"hide-extension":!0,fullscreen:!0,persistent:!0,scrollable:!0,onReset:p,onSave:a},{[ye(f.value&&"delete")]:i}),{default:e(()=>[t(J,null,{default:e(()=>[t(q,null,{default:e(()=>[l.value.AddedBy?(o(),g(y,{key:0,cols:"12"},{default:e(()=>[Ze,A(" "+P(l.value.AddedBy.DisplayName),1)]),_:1})):I("",!0),l.value.AddedBy?(o(),g(y,{key:1,cols:"12"},{default:e(()=>[et,l.value.FoundByUUID&&l.value.OwnerUUID&&l.value.FoundByUUID!==_(M)&&l.value.OwnerUUID!==_(M)?(o(),F("span",tt," Returned ")):l.value.FoundByUUID&&l.value.FoundByUUID!==_(M)?(o(),F("span",lt," Found ")):l.value.OwnerUUID&&l.value.OwnerUUID!==_(M)?(o(),F("span",nt," Lost ")):(o(),F("span",ot," Unknown "))]),_:1})):I("",!0),t(y,{cols:"12"},{default:e(()=>[t(W,{modelValue:l.value.FoundByUUID,"onUpdate:modelValue":U[0]||(U[0]=v=>l.value.FoundByUUID=v),convention:T.convention,label:"Found By",variant:"outlined","persistent-hint":!0,hint:"If unknown enter yourself",clearable:!0},null,8,["modelValue","convention"])]),_:1}),t(y,{cols:"12"},{default:e(()=>[t(W,{modelValue:l.value.OwnerUUID,"onUpdate:modelValue":U[1]||(U[1]=v=>l.value.OwnerUUID=v),convention:T.convention,label:"Claimant (Owner)",variant:"outlined","persistent-hint":!0,hint:"The person either reporting item missing or claiming it",clearable:!0},null,8,["modelValue","convention"])]),_:1}),t(y,{cols:"12"},{default:e(()=>[t(ue,{modelValue:l.value.Title,"onUpdate:modelValue":U[2]||(U[2]=v=>l.value.Title=v),label:"Title",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),t(y,{cols:"12"},{default:e(()=>[t(se,{modelValue:l.value.Description,"onUpdate:modelValue":U[3]||(U[3]=v=>l.value.Description=v),label:"Description",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),t(y,{cols:"12"},{default:e(()=>[t(se,{modelValue:l.value.Comments,"onUpdate:modelValue":U[4]||(U[4]=v=>l.value.Comments=v),label:"Comments",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),t(y,{cols:"12"},{default:e(()=>[t(Ne,{ref_key:"propImageForm",ref:R,enctype:"multipart/form-data"},{default:e(()=>[t(Fe,{label:"Photograph",name:"Image",variant:"outlined",ref_key:"imageFileInput",ref:N,"prepend-icon":"mdi:mdi-camera",capture:"environment",accept:"image/avif, image/bmp, image/gif, image/jpeg, image/png, image/webp",onChange:V},null,512)]),_:1},512),k.value?(o(),g(re,{key:0,src:k.value,class:"border profileImage my-0 mx-auto","max-height":"400","max-width":"400",ref:"imageDisplay",cover:!1},null,8,["src"])):I("",!0)]),_:1})]),_:1})]),_:1})]),_:1},16,["modelValue"]))}}),ut=z({__name:"ConfigLostAndFound",props:Y({convention:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(d){const O=$(d,"modelValue"),C=H(),l=r(),s=r([]),m=r(!1),u=R=>{const i=()=>({ID:0,GenericEnumUUID:M,ConventionID:d.convention.ID,ConventionUUID:d.convention.ConventionUUID,Category:R,Name:"",Title:"",Description:""});l.value=i(),m.value=!0},E=R=>{l.value=R,m.value=!0},k=R=>{let i;switch(R.Category){case L.GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS:i=s.value.findIndex(p=>p.GenericEnumUUID==R.GenericEnumUUID),i>=0&&s.value.splice(i,1);break}},N=R=>{let i;switch(R.Category){case L.GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS:i=s.value.findIndex(p=>p.GenericEnumUUID==R.GenericEnumUUID),i>=0?s.value.splice(i,1,R):s.value.push(l.value);break}};return C.getConventionGenericEnums(d.convention.ConventionUUID,L.GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS).then(R=>{R&&(s.value=R)}),(R,i)=>(o(),g(Q,{modelValue:O.value,"onUpdate:modelValue":i[3]||(i[3]=p=>O.value=p),title:"Configure Costume Props","show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!0,"hide-extension":!0,fullscreen:!0,persistent:!0,scrollable:!0},{default:e(()=>{var p;return[t(de,null,{default:e(()=>[t(te,null,{default:e(()=>[t(le,{color:"primary"},{default:e(()=>[A(" Item Status ")]),_:1}),t(ne,null,{default:e(()=>[t(Ue,null,{default:e(()=>[(o(!0),F(B,null,fe(s.value,a=>(o(),g(Ce,{key:a.GenericEnumUUID},{append:e(()=>[t(x,{icon:"mdi:mdi-pencil-outline",color:"warning",size:"x-small",onClick:f=>E(a)},null,8,["onClick"])]),default:e(()=>[t(ge,null,{default:e(()=>[h("strong",null,P(a.Name)+" - "+P(a.Title),1)]),_:2},1024),t(Ie,null,{default:e(()=>[A(P(a.Description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),t(q,null,{default:e(()=>[t(y,{class:"text-right"},{default:e(()=>[t(x,{color:"success","prepend-icon":"mdi:mdi-plus",onClick:i[0]||(i[0]=a=>u(_(L).GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS))},{default:e(()=>[A(" Add Item ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),m.value&&l.value?(o(),g(be,{key:0,convention:R.convention,title:`Edit ${(p=_(K).find(a=>{var f;return a.value==((f=l.value)==null?void 0:f.Category)}))==null?void 0:p.title}`,modelValue:m.value,"onUpdate:modelValue":i[1]||(i[1]=a=>m.value=a),"generic-enum":l.value,"onUpdate:genericEnum":[i[2]||(i[2]=a=>l.value=a),N],"onDelete:genericEnum":k},null,8,["convention","title","modelValue","generic-enum"])):I("",!0)]}),_:1},8,["modelValue"]))}}),st=["href"],it=z({__name:"ViewLostAndFound",props:Y({title:{default:"View Costume Prop"}},{modelValue:{type:Boolean,required:!0},modelModifiers:{},lostAndFound:{required:!0},lostAndFoundModifiers:{}}),emits:["update:modelValue","update:lostAndFound"],setup(d){const O=$(d,"modelValue"),C=$(d,"lostAndFound"),l=ie(),s=r(`${l.GetLostAndFoundImageURL(C.value.LostAndFoundUUID)}?${new Date().getTime()}`);return(m,u)=>(o(),g(Q,{modelValue:O.value,"onUpdate:modelValue":u[0]||(u[0]=E=>O.value=E),title:m.title,"show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!1,"hide-extension":!0,fullscreen:!1,persistent:!1,scrollable:!0},{default:e(()=>[t(J,null,{default:e(()=>[t(q,null,{default:e(()=>[t(y,{cols:"12"},{default:e(()=>[s.value?(o(),F("a",{key:0,href:s.value,target:"_blank",style:{cursor:"zoom-in"}},[t(re,{src:s.value,class:"border my-0 mx-auto","max-height":"400","max-width":"400",ref:"imageDisplay",cover:!1},null,8,["src"])],8,st)):I("",!0)]),_:1}),t(y,{cols:"12"},{default:e(()=>[A(P(C.value.Description),1)]),_:1}),t(y,{cols:"12"},{default:e(()=>[A(P(C.value.Comments),1)]),_:1}),C.value.AddedBy?(o(),g(y,{key:0,class:"text-right",cols:"12"},{default:e(()=>[h("small",null,"Added By: "+P(C.value.AddedBy.DisplayName),1)]),_:1})):I("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue","title"]))}}),rt=h("strong",null,"Reported:",-1),dt=h("br",null,null,-1),mt=h("strong",null,"Updated:",-1),vt=h("br",null,null,-1),ct={key:0,class:"text-success"},pt={key:1,class:"text-warning"},ft={key:2,class:"text-error"},Ut={key:3,class:"text-error"},Ct=z({__name:"LostAndFoundView",props:{convention:{}},setup(d){const O=H(),C=Ee(),l=r(),s=r([]),m=r(1),u=r([]),E=r(!0),k=r(10),N=r(0),R=r([]),i=r(""),p=r(Pe(C,d.convention)),a=r(Oe(C,d.convention)),f=r(he(C,d.convention)),V=r(!1),S=r(!1),T=r(!1),U=r({}),v=Ae(()=>{i.value=Date.now().toString()}),w=()=>{l.value={ID:0,LostAndFoundUUID:M,ConventionID:d.convention.ID,ConventionUUID:d.convention.ConventionUUID,Title:"",Description:"",HasPhoto:!1,Comments:""},V.value=!0},G=b=>{l.value=b,V.value=!0},ee=b=>{l.value=b,T.value=!0},me=r([{key:"owner",title:"Owner",sortable:!1},{key:"finder",title:"Found By",sortable:!1},{key:"title",title:"Title",sortable:!1},{key:"status",title:"Status",sortable:!1},{key:"timestamps",title:"Date",sortable:!1},{key:"actions",title:"",sortable:!1}]),ve=({page:b,itemsPerPage:c,sortBy:n})=>{E.value=!0,m.value=b,u.value=n;try{U.value.Limit=c,U.value.Offset=(b-1)*c;const D=i.value;O.searchConventionLostAndFound(d.convention.ConventionUUID,U.value).then(j=>{j&&D===i.value&&(N.value=j.Total,s.value=j.LostAndFound,E.value=!1)})}catch(D){console.error(D)}},ce=b=>{const c=s.value.findIndex(n=>b.LostAndFoundUUID==n.LostAndFoundUUID);c>=0&&s.value.splice(c,1,b)};return(b,c)=>b.convention?(o(),F(B,{key:0},[t(J,{fluid:!0,class:"px-1"},{default:e(()=>[a.value||f.value?(o(),g(q,{key:0},{default:e(()=>[t(ae),a.value?(o(),g(y,{key:0,class:"flex-shrink-1 flex-grow-0"},{default:e(()=>[t(x,{color:"success","prepend-icon":"mdi:mdi-plus",onClick:w},{default:e(()=>[A(" Record New Item ")]),_:1})]),_:1})):I("",!0)]),_:1})):I("",!0)]),_:1}),p.value||a.value?(o(),g(Te,{key:0,page:m.value,"onUpdate:page":c[8]||(c[8]=n=>m.value=n),"items-per-page":k.value,"onUpdate:itemsPerPage":c[9]||(c[9]=n=>k.value=n),"sort-by":R.value,"onUpdate:sortBy":c[10]||(c[10]=n=>R.value=n),headers:me.value,"items-length":N.value,items:s.value,"item-value":"key",loading:E.value,search:i.value,"onUpdate:options":ve},{top:e(()=>[t(de,{class:"mb-3"},{default:e(()=>[t(te,null,{default:e(()=>[t(le,{color:"secondary",class:"font-weight-bold pb-0 pt-0"},{default:e(()=>[t(y,{class:"pa-0"},{default:e(()=>[A(" Search Criteria "),t(Ge,{class:"pl-5",icon:"mdi:mdi-credit-card-search-outline"})]),_:1}),t(y,{class:"d-none d-sm-block pa-0 pr-4",cols:"0"},{default:e(()=>[t(W,{convention:b.convention,label:"Owner",clearable:!0,"hide-details":"",variant:"plain",modelValue:U.value.OwnerUUID,"onUpdate:modelValue":[c[0]||(c[0]=n=>U.value.OwnerUUID=n),_(v)],onClick:c[1]||(c[1]=X(()=>{},["stop"])),"onClick:clear":_(v),onInput:_(v)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1}),t(y,{class:"d-none d-sm-block pa-0 pr-4",cols:"0"},{default:e(()=>[t(W,{convention:b.convention,label:"Finder",clearable:!0,"hide-details":"",variant:"plain",modelValue:U.value.FoundByUUID,"onUpdate:modelValue":[c[2]||(c[2]=n=>U.value.FoundByUUID=n),_(v)],onClick:c[3]||(c[3]=X(()=>{},["stop"])),"onClick:clear":_(v),onInput:_(v)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1}),t(ae),t(y,{class:"d-none d-md-block pa-0"})]),_:1}),t(ne,{class:"pt-2"},{default:e(()=>[t(q,null,{default:e(()=>[t(y,{cols:"12",lg:"6"},{default:e(()=>[t(W,{convention:b.convention,label:"Owner",clearable:!0,"hide-details":"",variant:"outlined",modelValue:U.value.OwnerUUID,"onUpdate:modelValue":[c[4]||(c[4]=n=>U.value.OwnerUUID=n),_(v)],onClick:c[5]||(c[5]=X(()=>{},["stop"])),"onClick:clear":_(v),onInput:_(v)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1}),t(y,{cols:"12",lg:"6"},{default:e(()=>[t(W,{convention:b.convention,label:"Finder",clearable:!0,"hide-details":"",variant:"outlined",modelValue:U.value.FoundByUUID,"onUpdate:modelValue":[c[6]||(c[6]=n=>U.value.FoundByUUID=n),_(v)],onClick:c[7]||(c[7]=X(()=>{},["stop"])),"onClick:clear":_(v),onInput:_(v)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),"item.finder":e(({item:n})=>[n.FoundBy?(o(),F(B,{key:0},[n.FoundBy.Registrations&&n.FoundBy.Registrations.length>0?(o(),F(B,{key:0},[A(" #"+P(n.FoundBy.Registrations[0].Reference),1)],64)):I("",!0),A(" "+P(n.FoundBy.DisplayName),1)],64)):I("",!0)]),"item.owner":e(({item:n})=>[n.Owner?(o(),F(B,{key:0},[n.Owner.Registrations&&n.Owner.Registrations.length>0?(o(),F(B,{key:0},[A(" #"+P(n.Owner.Registrations[0].Reference),1)],64)):I("",!0),A(" "+P(n.Owner.DisplayName),1)],64)):I("",!0)]),"item.timestamps":e(({item:n})=>[rt,A(" "+P(_(Ve)(n.CreatedAt,{withTime:!0,withYear:!0}))+" ",1),n.UpdatedAt!=n.CreatedAt?(o(),F(B,{key:0},[dt,mt,A(" "+P(_(Ve)(n.UpdatedAt,{withTime:!0,withYear:!0})),1)],64)):I("",!0)]),"item.title":e(({item:n})=>[h("strong",null,P(n.Title),1),vt,h("small",null,P(n.Description),1)]),"item.status":e(({item:n})=>[n.FoundByUUID&&n.OwnerUUID&&n.FoundByUUID!==_(M)&&n.OwnerUUID!==_(M)?(o(),F("span",ct," Returned ")):n.FoundByUUID&&n.FoundByUUID!==_(M)?(o(),F("span",pt," Found ")):n.OwnerUUID&&n.OwnerUUID!==_(M)?(o(),F("span",ft," Lost ")):(o(),F("span",Ut," Unknown "))]),"item.actions":e(({item:n})=>[p.value?(o(),g(x,{key:0,icon:"mdi:mdi-magnify",size:"x-small",color:"success",onClick:D=>ee(n),class:"mr-2"},null,8,["onClick"])):I("",!0),a.value?(o(),g(x,{key:1,icon:"mdi:mdi-pencil",size:"x-small",color:"warning",onClick:D=>G(n)},null,8,["onClick"])):I("",!0)]),_:1},8,["page","items-per-page","sort-by","headers","items-length","items","loading","search"])):I("",!0),V.value&&l.value?(o(),g(at,{key:1,convention:b.convention,modelValue:V.value,"onUpdate:modelValue":c[11]||(c[11]=n=>V.value=n),"lost-and-found":l.value,"onUpdate:lostAndFound":[c[12]||(c[12]=n=>l.value=n),ce],onNew:_(v)},null,8,["convention","modelValue","lost-and-found","onNew"])):I("",!0),T.value&&l.value?(o(),g(it,{key:2,title:l.value.Title,modelValue:T.value,"onUpdate:modelValue":c[13]||(c[13]=n=>T.value=n),"lost-and-found":l.value,"onUpdate:lostAndFound":c[14]||(c[14]=n=>l.value=n)},null,8,["title","modelValue","lost-and-found"])):I("",!0),S.value?(o(),g(ut,{key:3,convention:b.convention,modelValue:S.value,"onUpdate:modelValue":c[15]||(c[15]=n=>S.value=n)},null,8,["convention","modelValue"])):I("",!0)],64)):I("",!0)}}),Qt=z({__name:"OperationsView",emits:["pageTitle"],setup(d,{emit:O}){var R;const C=H(),l=O,s=Se(),m=Le();Ee(),l("pageTitle","Operations");const u=r(),E=r(["Costume Props","Lost and Found"]);let k=((R=s.params.convention)==null?void 0:R.toString())||"";const N=r();return k?C.getConvention(k).then(i=>{i&&(N.value=i)}).catch(()=>{m.push("/")}):m.push("/"),(i,p)=>(o(),g(Me,null,{default:e(()=>[t(xe,{color:"blue-darken-4"},{default:e(()=>[t($e,{modelValue:u.value,"onUpdate:modelValue":p[0]||(p[0]=a=>u.value=a),items:E.value,"show-arrows":""},null,8,["modelValue","items"])]),_:1}),t(Be,{modelValue:u.value,"onUpdate:modelValue":p[1]||(p[1]=a=>u.value=a),disabled:!0,touch:!1},{default:e(()=>[t(_e,{value:"Costume Props"},{default:e(()=>[u.value=="Costume Props"?(o(),g(we,{key:0,class:"pa-2"},{default:e(()=>[N.value?(o(),g(Xe,{key:0,convention:N.value},null,8,["convention"])):I("",!0)]),_:1})):I("",!0)]),_:1}),t(_e,{value:"Lost and Found"},{default:e(()=>[u.value=="Lost and Found"?(o(),g(we,{key:0,class:"pa-2"},{default:e(()=>[N.value?(o(),g(Ct,{key:0,convention:N.value},null,8,["convention"])):I("",!0)]),_:1})):I("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{Qt as default};
