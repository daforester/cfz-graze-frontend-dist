import{I as h,a4 as f,r as d,a1 as g,L as _,U as A,W as r,P as E,as as L,H as D,a0 as P}from"./index-46ae011d.js";import{G as k}from"./userData-2d13cd96.js";import{S as v}from"./setupLogin-e5f6a9a0.js";import{E as B}from"./emailFormVariant-e5e0aad4.js";const I=r("p",null,"Authorising...",-1),U=h({__name:"AuthLogin",props:{variant:{default:()=>B.COMBINED}},setup(n){const c=f(),a=d(c.params.method),u=P(),e=new URL(location.href),t=g(),i=e.searchParams.get("code")||"",m=e.searchParams.get("token")||"",l=e.searchParams.get("state")||"";return u.oAuthLogin(a.value,i,m,l).then(({created:s,tokens:o,user:p})=>{v(o,p,t,s)}),k()&&n.variant!=="ADD_CREDENTIAL"&&t.push("/"),(s,o)=>(_(),A(D,null,[r("p",null,E(L(a.value)),1),I],64))}});export{U as default};
