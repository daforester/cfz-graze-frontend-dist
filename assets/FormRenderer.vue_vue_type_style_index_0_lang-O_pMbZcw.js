import{i as ce,M as te,N as pe,V as Oe,r as E,w as ne,c as $e,n as t,B as q,D as j,y as z,f as i,v as a,F,Q as le,m as ye,q as D,A as x,x as W,C as m,k as be,z as Fe,a0 as Ce,P as Le,E as Ne,b as el,ap as ll,_ as tl,p as Je,d as We,a8 as al,a9 as xe,au as nl,u as sl,aM as ul,l as ol,aN as _e}from"./index-ytQigX2-.js";import{F as se}from"./form-0fJbSFPv.js";import{S as il}from"./submission-KjP5fLyB.js";import{u as Re}from"./useModel-9sD6wPGG.js";import{s as De}from"./index-2XRRB2DS.js";import{V as fe,b as Ke,a as ve,c as Te,d as Ie}from"./VList-Bntkr_k3.js";import{V as K,a as G}from"./VRow-7N7PEiUi.js";import{V as ge}from"./VCheckbox-l0n8VVzG.js";import{a as Ae,V as qe}from"./VAutocomplete-bmG6Z8Zp.js";import{T as rl}from"./ticket-hqexX1_U.js";import{b as Se,V as Q,n as dl,u as je,c as vl}from"./VContainer-J74wRNt1.js";import{c as cl}from"./copyToClipboard-aCoRGJiH.js";import{a as ml,l as me,_ as Pe}from"./SaveButton.vue_vue_type_script_setup_true_lang-R_iujN6l.js";import{u as ze}from"./useStoreAPI-9yenZ-rC.js";import{V as Be}from"./forwardRefs-UNyd8QBJ.js";import{a as Me,V as Ue,m as fl,b as pl}from"./VTextField-bZdpsEok.js";import{V as He}from"./VTooltip-0MOQFcJ_.js";import{V as hl}from"./VFileInput-1AxbPj3n.js";import{V as Qe}from"./VForm-KmbM_je-.js";import{V as gl}from"./VTextarea-I-EQqVPL.js";import{m as yl,a as Ze,b as bl,c as Ul}from"./VCheckboxBtn-uUmzDlU-.js";import{G as Il}from"./userData-EVt_ytbG.js";import{v as we}from"./v4-yQnnJER4.js";import{e as Dl,a as kl,b as Tl,c as Vl}from"./VCard-KWBkmckc.js";var ae=(n=>(n.ACCOMMODATION="ACCOMMODATION",n.AGE="AGE",n.BADGE_IMAGE="BADGE_IMAGE",n.CHECKBOX="CHECKBOX",n.DATE="DATE",n.EXTRAS="EXTRAS",n.HTML="HTML",n.INTERESTS="INTERESTS",n.RADIO="RADIO",n.SELECT="SELECT",n.TEXT="TEXT",n.TEXTAREA="TEXTAREA",n.TICKET="TICKET",n.NUMBER="NUMBER",n))(ae||{});const Yt=[{title:"Accommodation",value:"ACCOMMODATION"},{title:"Additional Purchase",value:"EXTRAS"},{title:"Age Check",value:"AGE"},{title:"Badge Image",value:"BADGE_IMAGE"},{title:"Button",value:"RADIO"},{title:"Checkbox",value:"CHECKBOX"},{title:"Date",value:"DATE"},{title:"Dropdown",value:"SELECT"},{title:"HTML",value:"HTML"},{title:"Interests",value:"INTERESTS"},{title:"Text",value:"TEXT"},{title:"Textarea",value:"TEXTAREA"},{title:"Ticket",value:"TICKET"},{title:"Number",value:"NUMBER"}],ke=n=>{n.sort((k,h)=>(k.Order?k.Order:0)-(h.Order?h.Order:0)),n.forEach((k,h)=>{k.Order=h})},Xt=(n,k)=>{const h=k.indexOf(n);if(h===0)return;const C=n.Order;n.Order=k[h-1].Order,k[h-1].Order=C,ke(k)},Ft=(n,k)=>{const h=k.indexOf(n);if(h>=k.length-1)return;const C=n.Order;n.Order=k[h+1].Order,k[h+1].Order=C,ke(k)},Cl={class:"extrasList"},Sl=ce({__name:"Extras",props:te({admin:{type:Boolean},convention:{},disabled:{type:Boolean},hint:{},label:{},name:{},items:{},persistentHint:{type:Boolean},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change"],["update:modelValue"]),setup(n,{emit:k}){const h=n,{admin:C=!1,convention:$,disabled:f=!1}=h,w=pe(n,"modelValue"),b=k,P=Oe.getInstance(),R=E({});try{R.value=JSON.parse(w.value)}catch{}const U=E([]),l=E([]);ne(h,()=>{L()}),ne(R.value,d=>{for(const S in d)if(d[S].checked){const s=U.value.map(o=>{var p;return(p=o.Options)==null?void 0:p.find(c=>c.OptionUUID===S)});if(s&&s.length>0)try{const o=s[0];d[S].choiceId===""&&o&&o.Choices&&o.Choices.length>0&&(d[S].choiceId=o.Choices[0].TagUUID),d[S].price=o==null?void 0:o.Price}catch{}}else d[S].choiceId="",d[S].price=0;w.value=JSON.stringify(d),r()});const y=$e({get:()=>U.value.map(d=>d.ExtraUUID),set:()=>{}}),L=()=>{var S;const d=((S=h.items.find(s=>s.Title==="SelectedExtras"))==null?void 0:S.Value)||"[]";try{const s=JSON.parse(d);U.value=l.value.filter(o=>s.find(p=>p===o.ExtraUUID))||[],y.value=[...U.value.map(o=>o.ExtraUUID)],U.value.forEach(o=>{var p;(p=o.Options)==null||p.forEach(c=>{R.value[c.OptionUUID]||(R.value[c.OptionUUID]={choiceId:"",checked:!1})})})}catch{}};"Extras"in $&&$.Extras.length?(l.value=$.Extras,L()):"ConventionUUID"in $&&(C?P==null||P.getConventionExtras($.ConventionUUID).then(d=>{d&&(l.value=d,L())}):P==null||P.getAvailableConventionExtras($.ConventionUUID).then(d=>{d&&(l.value=d,L())}));const r=(d=void 0)=>{setTimeout(()=>b("change",d),100)};return(d,S)=>(t(),q("div",Cl,[j("h4",null,z(d.label),1),i(fe,{opened:y.value,"onUpdate:opened":S[0]||(S[0]=s=>y.value=s)},{default:a(()=>[(t(!0),q(F,null,le(U.value,s=>(t(),D(Ke,{key:s.ExtraUUID,value:s.ExtraUUID},{activator:a(({props:o})=>[i(ve,ye({"prepend-icon":"mdi:mdi-group","append-icon":""},o),{default:a(()=>[s.Name?(t(),D(Te,{key:0},{default:a(()=>[j("strong",null,z(s.Name),1)]),_:2},1024)):x("",!0),s.Description?(t(),D(Ie,{key:1,class:"mt-2 d-inline"},{default:a(()=>[W(z(s.Description),1)]),_:2},1024)):x("",!0)]),_:2},1040)]),default:a(()=>[s.Options?(t(!0),q(F,{key:0},le(s.Options,o=>(t(),D(ve,{key:o.OptionUUID,class:"override-pl"},{default:a(()=>[i(K,null,{default:a(()=>[i(G,{cols:"12",sm:"6"},{default:a(()=>[i(ge,{label:`${o.Name} ${o.Price&&o.Price!==0?`(${m(De).currencySymbol}${o.Price})`:""}`,modelValue:R.value[o.OptionUUID].checked,"onUpdate:modelValue":p=>R.value[o.OptionUUID].checked=p,disabled:m(f),"hide-details":"",onChange:r},null,8,["label","modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),o.Choices&&o.Choices.length>1&&R.value[o.OptionUUID].checked?(t(),D(G,{key:0,cols:"12",sm:"6"},{default:a(()=>[i(Ae,{items:o.Choices.sort((p,c)=>p.Title.localeCompare(c.Title)).map(p=>({value:p.TagUUID,title:p.Title})),modelValue:R.value[o.OptionUUID].choiceId,"onUpdate:modelValue":p=>R.value[o.OptionUUID].choiceId=p,"item-value":"value","item-title":"title",variant:"outlined",disabled:m(f),"hide-details":"",onChange:r},null,8,["items","modelValue","onUpdate:modelValue","disabled"])]),_:2},1024)):x("",!0)]),_:2},1024)]),_:2},1024))),128)):x("",!0)]),_:2},1032,["value"]))),128))]),_:1},8,["opened"])]))}}),wl=["innerHTML"],El=ce({__name:"HTML",props:{data:{}},setup(n){const k=n,h=E({html:""}),C=()=>{try{const $=JSON.parse(k.data);$&&(h.value=$)}catch{}};return C(),ne(k,()=>{C()}),($,f)=>(t(),q("div",{innerHTML:h.value.html},null,8,wl))}}),Al={class:"interestList"},Ml=ce({__name:"Interests",props:te({admin:{type:Boolean},convention:{},disabled:{type:Boolean},hint:{},label:{},name:{},items:{},persistentHint:{type:Boolean},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change"],["update:modelValue"]),setup(n,{emit:k}){const h=n,{admin:C=!1,convention:$,disabled:f=!1}=h,w=pe(n,"modelValue"),b=k,P=Oe.getInstance(),R=E({});try{R.value=JSON.parse(w.value)}catch{}const U=E([]),l=E([]);ne(R.value,d=>{w.value=JSON.stringify(d)});const y=E([]),L=()=>{var S;const d=((S=h.items.find(s=>s.Title==="SelectedInterests"))==null?void 0:S.Value)||"[]";try{const s=JSON.parse(d);U.value=l.value.filter(o=>s.find(p=>p===o.InterestUUID))||[],y.value=[...U.value.map(o=>o.InterestUUID)]}catch{}};"ConventionUUID"in $&&(C?P==null||P.getConventionInterests($.ConventionUUID).then(d=>{d&&(l.value=d,L())}):P==null||P.getConventionInterests($.ConventionUUID).then(d=>{d&&(l.value=d,L())})),ne(h,()=>{L()});const r=(d=void 0)=>{setTimeout(()=>b("change",d),100)};return(d,S)=>(t(),q("div",Al,[j("h4",null,z(d.label),1),i(fe,{opened:y.value,"onUpdate:opened":S[0]||(S[0]=s=>y.value=s)},{default:a(()=>[(t(!0),q(F,null,le(U.value.sort((s,o)=>s.Order>o.Order?1:s.Order==o.Order?0:-1),s=>(t(),D(ve,{key:s.InterestUUID},{default:a(()=>[i(K,null,{default:a(()=>[i(G,null,{default:a(()=>[i(ge,{label:`${s.Name} ${s.Price&&s.Price>0?`(${m(De).currencySymbol}${s.Price})`:""}`,modelValue:R.value[s.InterestUUID],"onUpdate:modelValue":o=>R.value[s.InterestUUID]=o,disabled:m(f),messages:s.Description,onChange:r},null,8,["label","modelValue","onUpdate:modelValue","disabled","messages"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["opened"])]))}}),Ge=(n,k,h)=>{if(h>=n.length){let C=h-n.length+1;for(;C--;)n.push(void 0)}n.splice(h,0,n.splice(k,1)[0])},Ee=n=>(ke(n),n),Jt=n=>(k,h)=>k[n]<h[n]?-1:k[n]>h[n]?1:0,Ol={class:"ticketList"},$l={key:0,class:"text-orange-darken-1"},Ll=ce({__name:"Tickets",props:te({admin:{type:Boolean},convention:{},disabled:{type:Boolean},hint:{},label:{},name:{},items:{},persistentHint:{type:Boolean},registrationGroup:{},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change"],["update:modelValue"]),setup(n,{emit:k}){const h=n,{admin:C=!1,convention:$,disabled:f=!1,registrationGroup:w=void 0}=h,b=pe(n,"modelValue"),P=k,R=Oe.getInstance(),U=E({Ticket:[],AddonsChecked:[],ComponentsChecked:[]});try{U.value=JSON.parse(b.value),"ticket"in U.value&&(U.value.Ticket=U.value.ticket),"addonsChecked"in U.value&&(U.value.AddonsChecked=U.value.addonsChecked),"componentsChecked"in U.value&&(U.value.ComponentsChecked=U.value.componentsChecked)}catch{}const l=E([]),y=E([]),L=E([]),r=E({required:(p,c=void 0)=>()=>{if(f||!(w!=null&&w.Registration.Leader))return!0;if(c==null){if(U.value.Ticket.length===0&&h.required)return"Must select at least one ticket option.";if(p&&p.ComponentsRequired>0&&U.value.Ticket.includes(p.TicketUUID||"")){let H=0;if(p.TicketComponents.forEach(X=>{U.value.ComponentsChecked.forEach(J=>{X.TicketUUID===J&&(H+=1)})}),H<p.ComponentsRequired)return`Must select ticket ${p.ComponentsRequired} component${p.ComponentsRequired===1?"":"s"}`}}return!0}}),d=()=>{var c;const p=((c=h.items.find(H=>H.Title==="SelectedTickets"))==null?void 0:c.Value)||"[]";try{const H=JSON.parse(p);l.value=y.value.filter(X=>X.Type==="TICKET_TYPE_GROUP"&&H.find(J=>J===X.TicketUUID))||[],L.value=[...l.value.filter(X=>X.Type==="TICKET_TYPE_GROUP").map(X=>X.TicketUUID)]}catch{}};if("ConventionUUID"in $)if(C)R==null||R.getConventionTickets($.ConventionUUID).then(p=>{p&&(y.value=p,d())});else{const p=h.items.find(c=>c.Title==="SelectedTickets");p&&(R==null||R.getFieldTickets(p.FieldUUID).then(c=>{c&&(y.value=c,d())}))}ne(h,()=>{d()});const S=p=>{U.value.Ticket.length>1&&U.value.Ticket.shift(),U.value.ComponentsChecked=[];const c=[];l.value.forEach(H=>{(U.value.Ticket.includes(H.TicketUUID)||U.value.ComponentsChecked.includes(H.TicketUUID))&&c.push(...H.AddonTickets.map(X=>X.TicketUUID))}),U.value.AddonsChecked=U.value.AddonsChecked.filter(H=>c.includes(H)),o(p)},s=p=>{const c=y.value.find(H=>H.TicketUUID===U.value.Ticket[0]);if(c)for(;U.value.ComponentsChecked.length>c.ComponentsRequired;)U.value.ComponentsChecked.shift();o(p)},o=(p=void 0)=>{b.value=JSON.stringify(U.value),setTimeout(()=>P("change",p),100)};try{w!=null&&w.TicketData&&(U.value=JSON.parse(w.TicketData),"ticket"in U.value&&(U.value.Ticket=U.value.ticket),"addonsChecked"in U.value&&(U.value.AddonsChecked=U.value.addonsChecked),"componentsChecked"in U.value&&(U.value.ComponentsChecked=U.value.componentsChecked),o())}catch{}return(p,c)=>{var H;return t(),q("div",Ol,[j("h4",null,[W(z(p.label)+" ",1),(H=m(w))!=null&&H.Registration.Leader?x("",!0):(t(),q("small",$l,"(controlled by group leader)"))]),i(fe,{opened:L.value,"onUpdate:opened":c[4]||(c[4]=X=>L.value=X)},{default:a(()=>[(t(!0),q(F,null,le(m(Ee)(l.value.filter(X=>X.Type===m(rl).TICKET_TYPE_GROUP)),X=>(t(),q(F,{key:X.TicketUUID},[X.Tickets.length>0?(t(),D(Ke,{key:0,value:X.TicketUUID},{activator:a(({props:J})=>[i(ve,ye(J,{"prepend-icon":"mdi:mdi-group"}),{default:a(()=>[i(Te,null,{default:a(()=>[j("strong",null,z(X.Name),1)]),_:2},1024),i(Ie,{class:"d-inline"},{default:a(()=>[W(z(X.Description),1)]),_:2},1024)]),_:2},1040)]),default:a(()=>[(t(!0),q(F,null,le(X.Tickets,J=>(t(),D(ve,{key:J.TicketUUID,class:"override-pl"},{default:a(()=>{var V;return[i(Ie,{class:"d-inline"},{default:a(()=>[W(z(J.Description),1)]),_:2},1024),i(ge,{modelValue:U.value.Ticket,"onUpdate:modelValue":c[0]||(c[0]=I=>U.value.Ticket=I),value:J.TicketUUID,onChange:S,rules:[r.value.required(J)],"validate-on":"submit",disabled:m(f)||!((V=m(w))!=null&&V.Registration.Leader)},{label:a(()=>[i(Se,{icon:J.RequiresAccommodation?"mdi:mdi-home":J.ComponentsRequired>0?"mdi:mdi-ticket-confirmation":"mdi:mdi-ticket",class:"mx-2"},null,8,["icon"]),W(" "+z(`${J.Name} ${J.Price>0?`(${m(De).currencySymbol}${J.Price})`:""}`),1)]),_:2},1032,["modelValue","value","rules","disabled"]),U.value.Ticket.length>0&&J.TicketUUID===U.value.Ticket[0]?(t(),q(F,{key:0},[J.AddonTickets.length?(t(),D(fe,{key:0},{default:a(()=>[(t(!0),q(F,null,le(m(Ee)(J.AddonTickets),I=>(t(),q(F,{key:I==null?void 0:I.TicketUUID},[I?(t(),D(ve,{key:0},{default:a(()=>[i(Te,null,{default:a(()=>{var M;return[i(ge,{modelValue:U.value.AddonsChecked,"onUpdate:modelValue":c[1]||(c[1]=T=>U.value.AddonsChecked=T),value:I.TicketUUID,onChange:c[2]||(c[2]=T=>{U.value.ComponentsChecked=[],o(T)}),disabled:m(f)||!((M=m(w))!=null&&M.Registration.Leader)},{label:a(()=>[i(Se,{icon:I.RequiresAccommodation?"mdi:mdi-home-plus":I.ComponentsRequired>0?"mdi:mdi-ticket-confirmation":"mdi:mdi-ticket",class:"mx-2"},null,8,["icon"]),W(" "+z(`${I.Name} ${I.Price>0?`(${m(De).currencySymbol}${I.Price})`:""}`),1)]),_:2},1032,["modelValue","value","disabled"])]}),_:2},1024),i(Ie,{class:"d-inline"},{default:a(()=>[W(z(I.Description),1)]),_:2},1024)]),_:2},1024)):x("",!0)],64))),128))]),_:2},1024)):x("",!0),J.TicketComponents.length?(t(),D(fe,{key:1},{default:a(()=>[(t(!0),q(F,null,le(m(Ee)(J.TicketComponents),I=>(t(),q(F,{key:I==null?void 0:I.TicketUUID},[I?(t(),D(ve,{key:0},{default:a(()=>[i(Te,null,{default:a(()=>{var M;return[i(ge,{modelValue:U.value.ComponentsChecked,"onUpdate:modelValue":c[3]||(c[3]=T=>U.value.ComponentsChecked=T),value:I.TicketUUID,onChange:s,rules:[r.value.required(J,I)],"validate-on":"submit",disabled:m(f)||!((M=m(w))!=null&&M.Registration.Leader)},{label:a(()=>[i(Se,{icon:I.RequiresAccommodation?"mdi:mdi-home-plus":I.ComponentsRequired>0?"mdi:mdi-ticket-confirmation":"mdi:mdi-ticket",class:"mx-2"},null,8,["icon"]),W(" "+z(`${I.Name} ${I.Price>0?`(${m(De).currencySymbol}${I.Price})`:""}`),1)]),_:2},1032,["modelValue","value","rules","disabled"])]}),_:2},1024),i(Ie,null,{default:a(()=>[W(z(I.Description),1)]),_:2},1024)]),_:2},1024)):x("",!0)],64))),128))]),_:2},1024)):x("",!0)],64)):x("",!0)]}),_:2},1024))),128))]),_:2},1032,["value"])):x("",!0)],64))),128))]),_:1},8,["opened"])])}}}),Rl={key:0},xl=j("strong",null,"Your Sharing Group",-1),_l={class:"d-flex flex-wrap my-2"},ql=j("dt",{class:"v-col-12 v-col-sm-2 v-col-md-1 font-weight-bold pa-1 pt-4"}," Leader: ",-1),Pl={class:"v-col-12 v-col-sm-10 v-col-md-11 pa-1 align-content-center"},Bl={class:"d-inline-block position-relative ml-4",style:{top:"-5px"}},Hl=j("dt",{class:"v-col-12 v-col-sm-2 v-col-md-1 pa-1 pt-4"}," Member: ",-1),Gl={class:"v-col-12 v-col-sm-10 v-col-md-11 pa-1"},Yl={class:"d-inline-block position-relative ml-4",style:{top:"-5px"}},Xl=["href"],Fl=j("br",null,null,-1),Jl=j("small",null,"Link will be copied to clipboard for you to paste (ctrl+v) in to message or email",-1),Wl=j("strong",null,"Your Groups Accommodation",-1),Kl=j("br",null,null,-1),jl=j("small",null,"(in order of preference, controlled by group leader)",-1),zl=j("strong",null,"Accommodation Options",-1),Ql=j("br",null,null,-1),Zl=j("strong",null,"Your Chosen Accommodation",-1),Nl=j("small",null,"(in order of preference)",-1),et=ce({__name:"Accommodation",props:te({admin:{type:Boolean},convention:{},data:{},disabled:{type:Boolean},hint:{},items:{},label:{},name:{},persistentHint:{type:Boolean},registrationGroup:{},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change","update:items"],["update:modelValue"]),setup(n,{emit:k}){const h=n,{admin:C=!1,convention:$,disabled:f}=h,w=k,b=pe(n,"modelValue"),P=Re(h,w,void 0,void 0,"items"),R=Le(),U=ze(),l=Ne.getInstance(),y=E(be(b.value)),L=E([]),r=E(),d=E({sharing:!1}),S=()=>{try{const u=JSON.parse(h.data);u&&(d.value=u)}catch{}};S(),ne(h,()=>{S(),h.registrationGroup&&(L.value=h.registrationGroup.Members,r.value=h.registrationGroup.Registration)}),ne(y,u=>{b.value=be(u)},{deep:!0});const s=E(""),o=E(!1),p=()=>{var u;(u=r.value)!=null&&u.Leader&&R.getRegistrationInvite($.ConventionUUID).then(_=>{if(_){const ue=new URL(location.href);ue.searchParams.set("token",_),s.value=ue.toString()}})},c=()=>{cl(s.value),p(),o.value=!0,setTimeout(()=>o.value=!1,2200)},H=(u=void 0)=>{setTimeout(()=>w("change",u),100)},X=E({required:u=>!h.required||u.length>0||"Selections Required"}),J=u=>u?`${u.Reference?`#${u.Reference}`:"(not registered)"} ${u.Name}`:"",V=()=>{var u;l.emit("registration.group.leave",(u=r.value)==null?void 0:u.RegistrationUUID)},I=u=>{l.emit("registration.group.remove.member",u)},M=E([]);ne(P,()=>{T()});const T=()=>{C?R.getConventionAccommodation($.ConventionUUID).then(u=>{M.value=u.filter(_=>!!(P!=null&&P.value.find(ue=>ue.Value===_.AccommodationUUID)))||[]}):P.value.length>0&&R.getFieldAccommodation(P.value[0].FieldUUID).then(u=>{M.value=u.filter(_=>!!(P!=null&&P.value.find(ue=>ue.Value===_.AccommodationUUID)))||[]})};T(),(()=>{var u;if(h.registrationGroup)if(L.value=h.registrationGroup.Members,r.value=h.registrationGroup.Registration,(u=r.value)!=null&&u.Leader)p();else try{y.value=JSON.parse(h.registrationGroup.AccommodationData),H()}catch{}})();const Y=E({column:0,id:""}),oe=()=>{!f&&!y.value.includes(Y.value.id)&&(Y.value.column===0&&Y.value.id!==""&&y.value.push(Y.value.id),H())},ie=()=>{const u=y.value.findIndex(_=>_===Y.value.id);!f&&u>=0&&(y.value.splice(u,1),H())},he=()=>{if(f||Y.value.column!==1)return;const u=y.value.findIndex(_=>_===Y.value.id);u<=0||(Ge(y.value,u,u-1),H())},Z=()=>{if(f||Y.value.column!==1)return;const u=y.value.findIndex(_=>_===Y.value.id);u>=y.value.length-1||(Ge(y.value,u,u+1),H())};return(u,_)=>{var ue;return t(),q(F,null,[j("h4",null,z(u.label),1),i(K,null,{default:a(()=>[i(G,{cols:"12"},{default:a(()=>{var B,ee;return[L.value&&r.value&&d.value.sharing?(t(),q("div",Rl,[xl,!m(f)&&((B=L.value.find(N=>N.IsLeader))==null?void 0:B.UUID)!==r.value.RegistrationUUID?(t(),D(Q,{key:0,color:"red",variant:"text",onClick:V},{default:a(()=>[W("(leave group)")]),_:1})):x("",!0),j("dl",_l,[ql,j("dd",Pl,[i(Be,{class:"rounded-circle d-inline-block",src:m(U).GetProfileImageURL(((ee=L.value.find(N=>N.IsLeader))==null?void 0:ee.UserUUID)||""),height:"32",width:"32"},null,8,["src"]),j("div",Bl,z(J(L.value.find(N=>N.IsLeader))),1)]),(t(!0),q(F,null,le(L.value,N=>(t(),q(F,{key:N.UUID},[N.IsLeader?x("",!0):(t(),q(F,{key:0},[Hl,j("dd",Gl,[i(Be,{class:"rounded-circle d-inline-block",src:m(U).GetProfileImageURL(N.UserUUID),height:"32",width:"32"},null,8,["src"]),j("div",Yl,[W(z(J(N))+" ",1),r.value.Leader?(t(),D(Q,{key:0,variant:"text",class:"ml-4",icon:"mdi:mdi-close-circle",color:"red",size:"xs",title:"Remove Member",onClick:e=>I(N.UUID),disabled:m(f)},null,8,["onClick","disabled"])):x("",!0)])])],64))],64))),128))]),i(ml,{modelValue:o.value,"onUpdate:modelValue":_[0]||(_[0]=N=>o.value=N),message:"Invite Link Copied",timeout:2e3},null,8,["modelValue"]),s.value&&r.value.Leader&&!m(f)?(t(),q(F,{key:1},[j("a",{href:s.value,onClick:Fe(c,["prevent"]),class:"text-white text-decoration-none"},[i(Q,{color:"blue",class:"mb-2"},{default:a(()=>[W("Get Invite Link")]),_:1})],8,Xl),Fl,Jl],64)):x("",!0)])):x("",!0)]}),_:1})]),_:1}),r.value&&!r.value.Leader?(t(),D(K,{key:0},{default:a(()=>[i(G,{cols:"10",md:"5"},{default:a(()=>[Wl,Kl,jl,i(fe,null,{default:a(()=>[(t(!0),q(F,null,le(y.value.map(B=>M.value.find(ee=>ee.AccommodationUUID==B)).filter(B=>B!==void 0),(B,ee)=>(t(),q(F,null,[B?(t(),D(ve,{key:B.AccommodationUUID,title:`${ee+1}. ${B.Name}`,class:Ce(Y.value.column===1&&Y.value.id===B.AccommodationUUID?"bg-blue-accent-3":"border-dashed border")},null,8,["title","class"])):x("",!0)],64))),256))]),_:1})]),_:1})]),_:1})):(t(),D(K,{key:1},{default:a(()=>[i(G,{cols:"12",md:"5"},{default:a(()=>[zl,Ql,i(fe,null,{default:a(()=>[(t(!0),q(F,null,le(M.value,B=>(t(),D(ve,{key:B.AccommodationUUID,title:B.Name,class:Ce(Y.value.column===0&&Y.value.id===B.AccommodationUUID?"bg-blue-accent-3":"border-dashed border"),onClick:ee=>Y.value={column:0,id:B.AccommodationUUID},"append-icon":m(f)?"":"mdi:mdi-gesture-tap",onDblclick:_[1]||(_[1]=ee=>oe())},null,8,["title","class","onClick","append-icon"]))),128))]),_:1})]),_:1}),m(f)?x("",!0):(t(),D(G,{key:0,cols:"12",md:"1"},{default:a(()=>[i(K,{class:"d-md-none"},{default:a(()=>[i(G,{cols:"12",class:"text-center"},{default:a(()=>[i(Q,{icon:"mdi:mdi-arrow-down",size:"small",onClick:_[2]||(_[2]=B=>oe()),color:"primary",title:"Select"}),W("   "),i(Q,{icon:"mdi:mdi-arrow-up",size:"small",onClick:_[3]||(_[3]=B=>ie()),color:"secondary",title:"Remove"})]),_:1})]),_:1}),i(K,{class:"d-none d-md-flex h-100 align-content-center"},{default:a(()=>[i(G,{cols:"12"},{default:a(()=>[i(Q,{icon:"mdi:mdi-arrow-right",size:"small",onClick:_[4]||(_[4]=B=>oe()),color:"primary",title:"Select"})]),_:1}),i(G,{cols:"12"},{default:a(()=>[i(Q,{icon:"mdi:mdi-arrow-left",size:"small",onClick:_[5]||(_[5]=B=>ie()),color:"secondary",title:"Remove"})]),_:1})]),_:1})]),_:1})),i(G,{cols:"10",md:"5"},{default:a(()=>[Zl,i(fe,null,{default:a(()=>[(t(!0),q(F,null,le(y.value.map(B=>M.value.find(ee=>ee.AccommodationUUID==B)).filter(B=>B!==void 0),(B,ee)=>(t(),q(F,null,[B?(t(),D(ve,{key:B.AccommodationUUID,title:`${ee+1}. ${B.Name}`,class:Ce(Y.value.column===1&&Y.value.id===B.AccommodationUUID?"bg-blue-accent-3":"border-dashed border"),onClick:N=>Y.value={column:1,id:(B==null?void 0:B.AccommodationUUID)||""},"append-icon":m(f)?"":"mdi:mdi-gesture-tap",onDblclick:_[6]||(_[6]=N=>ie())},null,8,["title","class","onClick","append-icon"])):x("",!0)],64))),256))]),_:1}),Nl]),_:1}),m(f)?x("",!0):(t(),D(G,{key:1,cols:"2",md:"1"},{default:a(()=>[i(K,{class:"d-flex h-100 align-content-center mt-3"},{default:a(()=>[i(G,{cols:"12"},{default:a(()=>[i(Q,{icon:"mdi:mdi-arrow-up",size:"small",onClick:_[7]||(_[7]=B=>he()),color:"primary",title:"Higher Priority"})]),_:1}),i(G,{cols:"12"},{default:a(()=>[i(Q,{icon:"mdi:mdi-arrow-down",size:"small",onClick:_[8]||(_[8]=B=>Z()),color:"secondary",title:"Lower Priority"})]),_:1})]),_:1})]),_:1}))]),_:1})),(ue=r.value)!=null&&ue.Leader?(t(),D(Me,{key:2,modelValue:b.value,"onUpdate:modelValue":_[9]||(_[9]=B=>b.value=B),disabled:m(f)||!1,"persistent-hint":u.persistentHint||!1,"error-messages":u.errorMessages||"",rules:[X.value.required],class:"accommodation-field-warning"},null,8,["modelValue","disabled","persistent-hint","error-messages","rules"])):x("",!0)],64)}}}),lt=ce({__name:"AgeCheck",props:te({disabled:{type:Boolean},hint:{},label:{},name:{},items:{},persistentHint:{type:Boolean},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["blur","change","update:items"],["update:modelValue"]),setup(n,{emit:k}){const h=k,C=n,$=Re(C,h,void 0,void 0,"items"),f=pe(n,"modelValue"),w=E({required:l=>!C.required||!!l||"Required.",min:l=>{var p,c;const y=new Date,L=y.getFullYear(),r=(y.getMonth()+1).toLocaleString("en-US",{minimumIntegerDigits:2}),d=y.getDate().toLocaleString("en-US",{minimumIntegerDigits:2}),S=((p=$.value.find(H=>H.Title=="MIN_AGE"))==null?void 0:p.Value)||"18",s=((c=$.value.find(H=>H.Title=="BEFORE_DATE"))==null?void 0:c.Value)||`${L}-${r}-${d}`,o=R(s);return P(l,s,parseInt(S))||`You must be at least ${S} years old by ${o.toLocaleDateString(navigator.language,{timeZone:"UTC"})}.`}}),b=()=>(h("blur"),!(w.value.min(f.value||"")!==!0||w.value.required(f.value||"")!==!0)),P=(l,y,L)=>{if(l>=y)return!1;const r=R(l),S=R(y).getTime()-r.getTime(),s=1e3*60*60*24*365.25;return S/s>=L},R=l=>{const[y,L,r]=l.split("-");return new Date(parseInt(y),parseInt(L)-1,parseInt(r))},U=(l=void 0)=>{setTimeout(()=>h("change",l),100)};return(l,y)=>(t(),D(Ue,{modelValue:f.value,"onUpdate:modelValue":y[0]||(y[0]=L=>f.value=L),type:"date",hint:l.hint||"",label:l.label||"",name:l.name||"",variant:"outlined",disabled:l.disabled||!1,"persistent-hint":l.persistentHint||!1,"error-messages":l.errorMessages||"",rules:[w.value.required,w.value.min],onBlur:b,onChange:U},null,8,["modelValue","hint","label","name","disabled","persistent-hint","error-messages","rules"]))}});function Ye(n){const k=JSON.parse(n),h={charge:0,free:0,height:0,label:!1,maximum:0,tags:[],width:0};return k&&(k.charge&&me.isNumber(k.charge)&&(h.charge=k.charge),k.free&&me.isNumber(k.free)&&(h.free=k.free),k.height&&me.isNumber(k.height)&&(h.height=k.height),k.label&&me.isBoolean(k.label)&&(h.label=k.label),k.maximum&&me.isNumber(k.maximum)&&(h.maximum=k.maximum),k.tags&&Array.isArray(k.tags)&&(h.tags=k.tags),k.width&&me.isNumber(k.width)&&(h.width=k.width)),h}const tt={class:"text-center"},at={key:0},nt={key:0,class:"image-progress my-auto mx-auto"},st=["onMousemove","onMousedown","onMouseup","onTouchstart","onTouchmove","onTouchend"],ut=["src","onLoad","onDragstart","onKeydown","onKeyup"],ot={key:0},it={key:1},rt=ce({__name:"BadgeImage",props:te({disabled:{type:Boolean},hint:{},field:{},label:{},name:{},items:{},persistentHint:{type:Boolean},registration:{},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["blur","change","update:items"],["update:modelValue"]),setup(n,{emit:k}){var N;const h=k,C=n,$=pe(n,"modelValue"),f=E([]),w=E({charge:0,free:0,height:0,label:!1,maximum:0,tags:[],width:0}),b=E(1),P=Le(),R=ze(),U=E([]),l=E(""),y=E([]),L=E(),r=E([]),d=E([]),S=E([]),s=E(0),o=E(),p=E({imageNo:0,imageX:0,imageY:0,mouseDown:!1,mouseX:0,mouseY:0}),c=E(280),H=E(280),X=e=>{e+1>r.value.length||r.value[e]&&(f.value[e].left=parseInt(getComputedStyle(r.value[e]).left),f.value[e].top=parseInt(getComputedStyle(r.value[e]).top),f.value[e].height=r.value[e].height,f.value[e].width=r.value[e].width,$.value=JSON.stringify(f.value))},J=$e(()=>({"--preview-width":`${H.value}px`,"--preview-height":`${c.value}px`})),V=E([!1]);try{f.value=JSON.parse($.value||"[]"),me.isArray(f.value)||(me.isObject(f.value)?f.value=[f.value]:f.value=[]),f.value.forEach((e,A)=>{e.fileUUID&&(d.value[A]=R.GetBadgeImageURL(e.fileUUID)),e.values||(C.field&&C.field.Values?e.values=C.field.Values.map(g=>({key:g.Value,value:""})):e.values=[]),C.field&&C.field.Values&&C.field.Values.forEach(g=>{e.values.find(v=>{if(v.key==g.Value)return!0})||e.values.push({key:g.Value,value:""})})}),b.value=f.value.length,C.field&&"Data"in C.field&&(w.value=Ye(((N=C.field)==null?void 0:N.Data)||"")),b.value===0&&w.value.maximum===1&&(b.value=1)}catch{}C.registration&&P.getConBadgeDisplayName(C.registration.RegistrationUUID).then(e=>{e&&(l.value=e)}).catch(()=>{});const I=(e,A)=>{r.value[e]=A},M=e=>{var A;try{e.field&&"Data"in e.field&&(w.value=Ye(((A=e.field)==null?void 0:A.Data)||"")),w.value.height&&(c.value=w.value.height),w.value.width&&(H.value=w.value.width)}catch{}T()},T=()=>{if(b.value>f.value.length)for(let e=0;e<b.value-f.value.length;e+=1){let A=[];C.field&&C.field.Values&&(A=C.field.Values.map(g=>({key:g.Value,value:""}))),f.value.push({fileUUID:"",height:0,label:"",left:0,top:0,values:A,width:0})}else b.value<f.value.length&&b.value>=0&&(f.value=f.value.slice(0,b.value));if(b.value>y.value.length){const e=y.value.length;for(let A=0;A<b.value-e;A+=1)y.value.push(!0)}else b.value<y.value.length&&b.value>=0&&(y.value=y.value.slice(0,b.value));if(b.value>d.value.length){const e=d.value.length;for(let A=0;A<b.value-e;A+=1)d.value.push("")}else b.value<d.value.length&&b.value>=0&&(d.value=d.value.slice(0,b.value));if(b.value>S.value.length){const e=S.value.length;for(let A=0;A<b.value-e;A+=1)S.value.push(!1)}else b.value<S.value.length&&b.value>=0&&(S.value=S.value.slice(0,b.value));if(b.value>V.value.length){const e=V.value.length;for(let A=0;A<b.value-e;A+=1)V.value.push(!1)}else b.value<V.value.length&&b.value>=0&&(V.value=V.value.slice(0,b.value));$.value=JSON.stringify(f.value)};ne(C,e=>{M(e)}),M(C),ne(b,()=>{T()});const O=E({required:e=>!C.required||!!e||"Required.",saved:e=>!y.value[e]||"File not uploaded."}),Y=()=>(h("blur"),O.value.required($.value||"")!==!0),oe=(e,A=void 0)=>{f.value[e].top=0,f.value[e].left=0,f.value[e].width=0,f.value[e].height=0,he(e).then(()=>{setTimeout(()=>{ie(e)},100),setTimeout(()=>h("change",A),200)}).catch(()=>{})},ie=e=>{L.value[e].files.length>0&&(d.value[e]=URL.createObjectURL(L.value[e].files[0]))},he=async e=>{if(!U.value[e])return;const A=new FormData(U.value[e].$el);y.value[e]=!1,S.value[e]=!0;const g=await R.SaveFormFile(A);g.Saved&&(S.value[e]=!1,y.value[e]=!0,f.value[e].fileUUID=g.FileUUID,V.value[e]=!0)},Z=(e,A)=>{const g=A.target;g.style.left="0px",g.style.top="0px",g.width>g.height?g.width=H.value*(g.width/g.height):g.width=H.value,g.classList.remove("d-none"),e>=0&&e<b.value&&X(e)},u=(e,A,g=0,re=void 0)=>{if(re&&re.type)switch(re.type){case"touchstart":case"touchend":re.preventDefault();break}let v=500;if(!s.value)s.value=Date.now();else{const de=Date.now()-s.value;de>=3e3?v=1:de>=2500?v=2:de>=2e3?v=5:de>=1500?v=12:de>=1e3?v=25:de>=500?v=50:de>=250&&(v=100)}switch(g!==v&&(clearInterval(o.value),o.value=setInterval(()=>{u(e,A,v)},v)),A){case 0:s.value=0,clearInterval(o.value),X(e);break;case 6:r.value[e].width-=1;break;case 5:r.value[e].width+=1;break;case 1:r.value[e].style.top=`${(parseInt(getComputedStyle(r.value[e]).top)||0)-1}px`;break;case 2:r.value[e].style.left=`${(parseInt(getComputedStyle(r.value[e]).left)||0)+1}px`;break;case 3:r.value[e].style.top=`${(parseInt(getComputedStyle(r.value[e]).top)||0)+1}px`;break;case 4:r.value[e].style.left=`${(parseInt(getComputedStyle(r.value[e]).left)||0)-1}px`;break}ue(e)},_=(e,A)=>{switch(e===-1&&(e=p.value.imageNo),A.type){case"touchstart":A.preventDefault(),p.value.imageX=parseInt(getComputedStyle(r.value[e]).left),p.value.imageY=parseInt(getComputedStyle(r.value[e]).top),p.value.mouseX=A.touches[0].clientX,p.value.mouseY=A.touches[0].clientY,p.value.mouseDown=!0;break;case"mousedown":p.value.imageNo=e,p.value.imageX=parseInt(getComputedStyle(r.value[e]).left),p.value.imageY=parseInt(getComputedStyle(r.value[e]).top),p.value.mouseX=A.clientX,p.value.mouseY=A.clientY,p.value.mouseDown=!0;break;case"touchend":A.preventDefault();case"mouseup":p.value.mouseDown=!1,X(e);break;case"touchmove":if(!p.value.mouseDown)return;r.value[e].style.left=`${p.value.imageX+(A.touches[0].clientX-p.value.mouseX)}px`,r.value[e].style.top=`${p.value.imageY+(A.touches[0].clientY-p.value.mouseY)}px`;break;case"mousemove":if(!p.value.mouseDown)return;r.value[e].style.left=`${p.value.imageX+(A.clientX-p.value.mouseX)}px`,r.value[e].style.top=`${p.value.imageY+(A.clientY-p.value.mouseY)}px`;break;case"dragstart":A.preventDefault();break;case"keydown":switch(A.key){case"ArrowUp":A.preventDefault(),u(e,1);break;case"ArrowRight":A.preventDefault(),u(e,2);break;case"ArrowDown":A.preventDefault(),u(e,3);break;case"ArrowLeft":A.preventDefault(),u(e,4);break;case"+":A.preventDefault(),u(e,5);break;case"-":A.preventDefault(),u(e,6);break}break;case"keyup":u(e,0),X(e);break}ue(e)},ue=e=>{if(!(e+1>r.value.length)){if(r.value[e].width<H.value&&(r.value[e].width=H.value),r.value[e].height<c.value){const A=c.value-r.value[e].height,g=r.value[e].width/r.value[e].height;r.value[e].width+=Math.ceil(A*g)}(parseInt(getComputedStyle(r.value[e]).left)||0)>0&&(r.value[e].style.left="0px"),(parseInt(getComputedStyle(r.value[e]).top)||0)>0&&(r.value[e].style.top="0px"),(parseInt(getComputedStyle(r.value[e]).left)||0)<0-(r.value[e].width-H.value)&&(r.value[e].style.left=`${0-(r.value[e].width-H.value)}px`),(parseInt(getComputedStyle(r.value[e]).top)||0)<0-(r.value[e].height-c.value)&&(r.value[e].style.top=`${0-(r.value[e].height-c.value)}px`)}},B=()=>{try{clearInterval(o.value)}catch{}p.value.mouseDown=!1,s.value=0,p.value.imageNo&&X(p.value.imageNo)},ee=e=>{_(-1,e)};return window.addEventListener("mouseup",B),window.addEventListener("mousemove",ee),window.addEventListener("touchend",B),window.addEventListener("touchmove",ee),el(()=>{window.removeEventListener("mouseup",B),window.removeEventListener("mousemove",ee),window.removeEventListener("touchend",B),window.removeEventListener("touchmove",ee)}),(e,A)=>(t(),q("div",null,[(t(!0),q(F,null,le(b.value,g=>(t(),q("div",{style:ll(J.value),key:g},[i(Qe,{ref_for:!0,ref_key:"badgeImageForm",ref:U,enctype:"multipart/form-data"},{default:a(()=>{var re;return[i(K,null,{default:a(()=>[i(G,null,{default:a(()=>[i(hl,{label:e.label||"",hint:e.hint||"",name:e.name?"name":"badgeFile",variant:"outlined",ref_for:!0,ref_key:"imageFileInput",ref:L,accept:"image/avif, image/bmp, image/gif, image/jpeg, image/png, image/webp",rules:[O.value.required],"error-messages":e.errorMessages||"","persistent-hint":e.persistentHint||!1,disabled:!y.value[g-1]||e.disabled||!1,"hide-details":"",onChange:v=>oe(g-1,v),onBlur:Y},null,8,["label","hint","name","rules","error-messages","persistent-hint","disabled","onChange"]),j("p",tt,[y.value[g-1]?x("",!0):(t(),q("small",at,"File Uploading"))])]),_:2},1024)]),_:2},1024),w.value.label?(t(),D(K,{key:0},{default:a(()=>[i(G,null,{default:a(()=>[i(Ue,{label:"Display Name",variant:"outlined","prepend-icon":"mdi:mdi-label-outline","hide-details":"",modelValue:f.value[g-1].label,"onUpdate:modelValue":v=>f.value[g-1].label=v,onInput:v=>X(g-1),onChange:v=>X(g-1)},null,8,["modelValue","onUpdate:modelValue","onInput","onChange"])]),_:2},1024)]),_:2},1024)):x("",!0),(re=e.field)!=null&&re.Multiple&&e.field.Values.length>0?(t(),D(K,{key:1},{default:a(()=>[(t(!0),q(F,null,le(e.field.Values,(v,de)=>(t(),D(G,{cols:"12",sm:"6",md:"6",lg:"4",xl:"3",xxl:"2",key:v.FieldValueUUID},{default:a(()=>[i(Ue,{label:v.Title,variant:"outlined","prepend-icon":"mdi:mdi-label-outline","hide-details":"",modelValue:f.value[g-1].values[de].value,"onUpdate:modelValue":Ve=>f.value[g-1].values[de].value=Ve,onInput:Ve=>X(g-1),onChange:Ve=>X(g-1)},null,8,["label","modelValue","onUpdate:modelValue","onInput","onChange"])]),_:2},1024))),128))]),_:2},1024)):x("",!0),i(K,{class:"justify-center scale-down"},{default:a(()=>[i(G,{cols:"12",class:"text-center"},{default:a(()=>[W(" Preview "),S.value[g-1]?(t(),q("div",nt,[i(dl,{indeterminate:"",color:"primary",size:128,width:10},{default:a(()=>[W("Uploading")]),_:1})])):(t(),q(F,{key:1},[j("div",{class:"image-preview my-auto mx-auto",onMousemove:v=>_(g-1,v),onMousedown:v=>_(g-1,v),onMouseup:v=>_(g-1,v),onTouchstart:v=>_(g-1,v),onTouchmove:v=>_(g-1,v),onTouchend:v=>_(g-1,v)},[j("img",{src:d.value[g-1],ref_for:!0,ref:v=>I(g-1,v),alt:"Your badge image",onLoad:v=>Z(g-1,v),onDragstart:v=>_(g-1,v),onKeydown:v=>_(g-1,v),onKeyup:v=>_(g-1,v),tabindex:"0",class:"d-none"},null,40,ut)],40,st),w.value.label?(t(),q("h3",ot,z(f.value[g-1].label),1)):(t(),q("h3",it,z(l.value),1))],64))]),_:2},1024)]),_:2},1024),V.value[g-1]?(t(),D(K,{key:2,class:"justify-center"},{default:a(()=>[i(G,{cols:"12",class:"d-flex justify-space-between",style:{"max-width":"280px"}},{default:a(()=>[i(Q,{icon:"mdi:mdi-arrow-left",color:"primary",onMousedown:v=>u(g-1,4,0,v),onMouseup:v=>u(g-1,0,0,v),onTouchstart:v=>u(g-1,4,0,v),onTouchend:v=>u(g-1,0,0,v)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"]),i(Q,{icon:"mdi:mdi-arrow-up",color:"secondary",onMousedown:v=>u(g-1,1,0,v),onMouseup:v=>u(g-1,0,0,v),onTouchstart:v=>u(g-1,1,0,v),onTouchend:v=>u(g-1,0,0,v)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"]),i(Q,{icon:"mdi:mdi-arrow-down",color:"secondary",onMousedown:v=>u(g-1,3,0,v),onMouseup:v=>u(g-1,0,0,v),onTouchstart:v=>u(g-1,3,0,v),onTouchend:v=>u(g-1,0,0,v)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"]),i(Q,{icon:"mdi:mdi-arrow-right",color:"primary",onMousedown:v=>u(g-1,2,0,v),onMouseup:v=>u(g-1,0,0,v),onTouchstart:v=>u(g-1,2,0,v),onTouchend:v=>u(g-1,0,0,v)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"])]),_:2},1024)]),_:2},1024)):x("",!0),V.value[g-1]?(t(),D(K,{key:3,class:"justify-center"},{default:a(()=>[i(G,{cols:"12",class:"d-flex justify-space-between",style:{"max-width":"280px"}},{default:a(()=>[i(Q,{icon:"mdi:mdi-plus",color:"primary",onMousedown:v=>u(g-1,5,0,v),onMouseup:v=>u(g-1,0,0,v),onTouchstart:v=>u(g-1,5,0,v),onTouchend:v=>u(g-1,0,0,v)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"]),i(Q,{icon:"mdi:mdi-minus",color:"secondary",onMousedown:v=>u(g-1,6,0,v),onMouseup:v=>u(g-1,0,0,v),onTouchstart:v=>u(g-1,6,0,v),onTouchend:v=>u(g-1,0,0,v)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"])]),_:2},1024)]),_:2},1024)):x("",!0)]}),_:2},1536)],4))),128)),w.value.maximum===0||w.value.maximum>1?(t(),D(K,{key:0},{default:a(()=>[i(G,{class:"text-right"},{default:a(()=>[i(He,{text:"Add Badge",location:"top"},{activator:a(({props:g})=>[i(Q,ye({color:"success",icon:"mdi:mdi-plus",size:"xs",variant:"flat",disabled:e.disabled||b.value>=w.value.maximum&&w.value.maximum>0||!1},g,{onClick:A[0]||(A[0]=re=>b.value<w.value.maximum||w.value.maximum===0?b.value+=1:null)}),null,16,["disabled"])]),_:1})]),_:1}),i(G,null,{default:a(()=>[i(He,{text:"Remove Badge",location:"top"},{activator:a(({props:g})=>[i(Q,ye({color:"error",icon:"mdi:mdi-minus",size:"xs",variant:"flat",disabled:e.disabled||b.value==0||!1},g,{onClick:A[1]||(A[1]=re=>b.value>=1?b.value-=1:null)}),null,16,["disabled"])]),_:1})]),_:1})]),_:1})):x("",!0)]))}}),dt=tl(rt,[["__scopeId","data-v-e44ffba8"]]),vt=Je({...yl({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),ct=We()({name:"VRadio",props:vt(),setup(n,k){let{slots:h}=k;return je(()=>i(Ze,ye(n,{class:["v-radio",n.class],style:n.style,type:"radio"}),h)),{}}}),mt=Je({height:{type:[Number,String],default:"auto"},...fl(),...al(bl(),["multiple"]),trueIcon:{type:xe,default:"$radioOn"},falseIcon:{type:xe,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),ft=We()({name:"VRadioGroup",inheritAttrs:!1,props:mt(),emits:{"update:modelValue":n=>!0},setup(n,k){let{attrs:h,slots:C}=k;const $=nl(),f=$e(()=>n.id||`radio-group-${$}`),w=sl(n,"modelValue");return je(()=>{const[b,P]=ul(h),R=Me.filterProps(n),U=Ze.filterProps(n),l=C.label?C.label({label:n.label,props:{for:f.value}}):n.label;return i(Me,ye({class:["v-radio-group",n.class],style:n.style},b,R,{modelValue:w.value,"onUpdate:modelValue":y=>w.value=y,id:f.value}),{...C,default:y=>{let{id:L,messagesId:r,isDisabled:d,isReadonly:S}=y;return i(F,null,[l&&i(pl,{id:L.value},{default:()=>[l]}),i(Ul,ye(U,{id:L.value,"aria-describedby":r.value,defaultsTarget:"VRadio",trueIcon:n.trueIcon,falseIcon:n.falseIcon,type:n.type,disabled:d.value,readonly:S.value,"aria-labelledby":l?L.value:void 0,multiple:!1},P,{modelValue:w.value,"onUpdate:modelValue":s=>w.value=s}),C)])}})}),{}}}),Xe=ce({__name:"FormField",props:te({admin:{type:Boolean},convention:{},name:{},field:{},disabled:{type:Boolean},maxLength:{},minLength:{},persistentHint:{type:Boolean},registrationGroup:{},required:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change","input","update:field"],["update:modelValue"]),setup(n,{emit:k}){const h=n,{admin:C=!1,disabled:$=!1,persistentHint:f=!1,required:w=!1}=h,b=E(""),P=pe(n,"modelValue"),R=k,U=Re(h,R,void 0,void 0,"field"),l=E(be(U.value)),y=E({maxlength:s=>!h.maxLength||s.length<=h.maxLength||`Maximum length is ${h.maxLength} characters. (Current length: ${s.length})`,minlength:s=>!h.minLength||s.length>=h.minLength||`Minimum length is ${h.minLength} characters. (Current length: ${s.length})`,required:s=>!h.required||!!s.replace(/\s/g,"")||"Required field."}),L=E(!1),r=E([]),d=E("");try{const s=JSON.parse(P.value);Array.isArray(s)?r.value=s:r.value=[],typeof s=="boolean"?L.value=s:L.value=!1,d.value=P.value}catch{L.value=!1,r.value=[],d.value=P.value}ne(L,()=>{P.value=JSON.stringify(L.value),R("input"),R("change")}),ne(r,()=>{P.value=JSON.stringify(r.value),R("input"),R("change")},{deep:!0}),ne(d,()=>{P.value=d.value,R("input"),R("change")}),ne(U.value,()=>{l.value.Type!==U.value.Type?(l.value=be(U.value),L.value=!1,r.value=[],d.value=""):l.value=be(U.value)});const S=(s=void 0)=>{R("change",s)};return(s,o)=>{var p;return l.value.Type===m(ae).TEXT?(t(),D(Ue,{key:0,modelValue:d.value,"onUpdate:modelValue":o[0]||(o[0]=c=>d.value=c),name:s.name||"",hint:l.value.Hint,label:`${l.value.Label}${m(w)?"*":""}`,placeholder:l.value.Placeholder,variant:"outlined",disabled:m($)||!1,"persistent-hint":m(f)||!1,"error-messages":b.value,rules:[y.value.maxlength,y.value.minlength,y.value.required],onChange:S,autocomplete:"off"},null,8,["modelValue","name","hint","label","placeholder","disabled","persistent-hint","error-messages","rules"])):l.value.Type===m(ae).DATE?(t(),D(Ue,{key:1,modelValue:d.value,"onUpdate:modelValue":o[1]||(o[1]=c=>d.value=c),type:"date",name:s.name||"",hint:l.value.Hint,label:l.value.Label,placeholder:l.value.Placeholder,variant:"outlined",disabled:m($)||!1,"persistent-hint":m(f)||!1,"error-messages":b.value,rules:[y.value.maxlength,y.value.minlength,y.value.required],onChange:S,autocomplete:"off"},null,8,["modelValue","name","hint","label","placeholder","disabled","persistent-hint","error-messages","rules"])):l.value.Type===m(ae).NUMBER?(t(),D(Ue,{key:2,modelValue:d.value,"onUpdate:modelValue":o[2]||(o[2]=c=>d.value=c),type:"number",name:s.name||"",hint:l.value.Hint,label:l.value.Label,placeholder:l.value.Placeholder,variant:"outlined",disabled:m($)||!1,"persistent-hint":m(f)||!1,"error-messages":b.value,rules:[y.value.maxlength,y.value.minlength,y.value.required],onChange:S,autocomplete:"off"},null,8,["modelValue","name","hint","label","placeholder","disabled","persistent-hint","error-messages","rules"])):l.value.Type===m(ae).TEXTAREA?(t(),D(gl,{key:3,modelValue:d.value,"onUpdate:modelValue":o[3]||(o[3]=c=>d.value=c),name:s.name||"",hint:l.value.Hint,label:l.value.Label,placeholder:l.value.Placeholder,variant:"outlined",disabled:m($)||!1,"persistent-hint":m(f)||!1,"error-messages":b.value,rules:[y.value.maxlength,y.value.minlength,y.value.required],onChange:S,autocomplete:"off"},null,8,["modelValue","name","hint","label","placeholder","disabled","persistent-hint","error-messages","rules"])):l.value.Type===m(ae).CHECKBOX?(t(),q(F,{key:4},[l.value.Multiple?(t(!0),q(F,{key:0},le(l.value.Values,c=>(t(),D(ge,{key:c.ID,modelValue:r.value,"onUpdate:modelValue":o[4]||(o[4]=H=>r.value=H),name:s.name||"",hint:l.value.Hint,label:c.Title,value:c.Value,disabled:m($)||!1,"persistent-hint":m(f),"error-messages":b.value,rules:[y.value.required],onChange:S},null,8,["modelValue","name","hint","label","value","disabled","persistent-hint","error-messages","rules"]))),128)):(t(),D(ge,{key:1,modelValue:L.value,"onUpdate:modelValue":o[5]||(o[5]=c=>L.value=c),name:s.name||"",hint:l.value.Hint,label:l.value.Label,disabled:m($)||!1,"persistent-hint":m(f),"error-messages":b.value,required:m(w),rules:[c=>!m(w)||!!c||"You must tick to continue!"],onChange:S},null,8,["modelValue","name","hint","label","disabled","persistent-hint","error-messages","required","rules"]))],64)):l.value.Type===m(ae).SELECT?(t(),q(F,{key:5},[!l.value.Autofill&&l.value.Multiple?(t(),D(Ae,{key:0,modelValue:r.value,"onUpdate:modelValue":o[6]||(o[6]=c=>r.value=c),name:s.name||"",hint:l.value.Hint,label:l.value.Label,multiple:"",items:l.value.Values,"item-title":"Title","item-value":"Value",variant:"outlined",disabled:m($)||!1,"persistent-hint":m(f)||!1,"error-messages":b.value,rules:[y.value.required]},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages","rules"])):l.value.Autofill&&l.value.Multiple?(t(),D(qe,{key:1,modelValue:r.value,"onUpdate:modelValue":o[7]||(o[7]=c=>r.value=c),name:s.name||"",hint:l.value.Hint,label:l.value.Label,multiple:"",items:l.value.Values,"item-title":"Title","item-value":"Value",variant:"outlined",disabled:m($)||!1,"persistent-hint":m(f)||!1,"error-messages":b.value,rules:[y.value.required]},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages","rules"])):l.value.Autofill?l.value.Autofill?(t(),D(qe,{key:3,modelValue:d.value,"onUpdate:modelValue":o[9]||(o[9]=c=>d.value=c),name:s.name||"",hint:l.value.Hint,label:l.value.Label,items:l.value.Values,"item-title":"Title","item-value":"Value",variant:"outlined",disabled:m($)||!1,"persistent-hint":m(f)||!1,"error-messages":b.value,rules:[y.value.required]},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages","rules"])):x("",!0):(t(),D(Ae,{key:2,modelValue:d.value,"onUpdate:modelValue":o[8]||(o[8]=c=>d.value=c),name:s.name||"",hint:l.value.Hint,label:l.value.Label,items:l.value.Values,"item-title":"Title","item-value":"Value",variant:"outlined",disabled:m($)||!1,"persistent-hint":m(f)||!1,"error-messages":b.value,rules:[y.value.required]},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages","rules"]))],64)):l.value.Type===m(ae).RADIO?(t(),D(ft,{key:6,modelValue:d.value,"onUpdate:modelValue":o[10]||(o[10]=c=>d.value=c),name:s.name||"",hint:l.value.Hint,label:l.value.Label,disabled:m($)||!1,"persistent-hint":m(f),"error-messages":b.value,rules:[y.value.required],onChange:S},{default:a(()=>[(t(!0),q(F,null,le(l.value.Values,c=>(t(),D(ct,{key:c.Value,label:c.Title,value:c.Value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","name","hint","label","disabled","persistent-hint","error-messages","rules"])):l.value.Type===m(ae).ACCOMMODATION?(t(),D(et,{key:7,modelValue:r.value,"onUpdate:modelValue":o[11]||(o[11]=c=>r.value=c),name:s.name,admin:m(C),convention:s.convention,"registration-group":s.registrationGroup,data:s.field.Data,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:m($)||!1,"persistent-hint":m(f),"error-messages":b.value,required:m(w),onChange:S},null,8,["modelValue","name","admin","convention","registration-group","data","hint","label","items","disabled","persistent-hint","error-messages","required"])):l.value.Type===m(ae).AGE?(t(),D(lt,{key:8,modelValue:d.value,"onUpdate:modelValue":o[12]||(o[12]=c=>d.value=c),name:s.name,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:m($)||!1,"persistent-hint":m(f),"error-messages":b.value,onChange:S},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages"])):l.value.Type===m(ae).BADGE_IMAGE?(t(),D(dt,{key:9,modelValue:d.value,"onUpdate:modelValue":o[13]||(o[13]=c=>d.value=c),name:s.name,field:l.value,registration:(p=s.registrationGroup)==null?void 0:p.Registration,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:m($)||!1,"persistent-hint":m(f),"error-messages":b.value,onChange:S},null,8,["modelValue","name","field","registration","hint","label","items","disabled","persistent-hint","error-messages"])):l.value.Type===m(ae).EXTRAS?(t(),D(Sl,{key:10,modelValue:d.value,"onUpdate:modelValue":o[14]||(o[14]=c=>d.value=c),admin:m(C),convention:s.convention,name:s.name,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:m($)||!1,"persistent-hint":m(f),"error-messages":b.value,required:m(w),onChange:S},null,8,["modelValue","admin","convention","name","hint","label","items","disabled","persistent-hint","error-messages","required"])):l.value.Type===m(ae).INTERESTS?(t(),D(Ml,{key:11,modelValue:d.value,"onUpdate:modelValue":o[15]||(o[15]=c=>d.value=c),admin:m(C),convention:s.convention,name:s.name,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:m($)||!1,"persistent-hint":m(f),"error-messages":b.value,required:m(w),onChange:S},null,8,["modelValue","admin","convention","name","hint","label","items","disabled","persistent-hint","error-messages","required"])):l.value.Type===m(ae).TICKET?(t(),D(Ll,{key:12,modelValue:d.value,"onUpdate:modelValue":o[16]||(o[16]=c=>d.value=c),admin:m(C),convention:s.convention,name:s.name,"registration-group":s.registrationGroup,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:m($)||!1,"persistent-hint":m(f),"error-messages":b.value,required:m(w),onChange:S},null,8,["modelValue","admin","convention","name","registration-group","hint","label","items","disabled","persistent-hint","error-messages","required"])):l.value.Type===m(ae).HTML?(t(),D(El,{key:13,data:s.field.Data},null,8,["data"])):x("",!0)}}}),pt={key:0,class:"my-2 text-white text-center"},ht={key:1,class:"admin-header my-2 text-white text-center"},gt=["innerHTML"],yt=["innerHTML"],Wt=ce({__name:"FormRenderer",props:te({admin:{type:Boolean},convention:{},data:{},editable:{type:Boolean},preview:{type:Boolean},registrationGroup:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["close"],["update:modelValue"]),setup(n,{emit:k}){const h=k,C=pe(n,"modelValue");ke(C.value.Sections),C.value.Sections.forEach(V=>{V.Fields&&ke(V.Fields)});const $=E(),f=Il(),w=Le(),b=E(!1),P=E(!1),R=E(!1),U=E(!1),l=E(!1),y=E(!1),L=E(!1),r=E(!1),d=E(!1),S=E(!1),s=E(!1),o=E((()=>{if(n.data!==void 0){const I=be(n.data);return C.value.Sections.forEach(M=>{M.Fields&&M.Fields.forEach(T=>{const O=n.data.Data.find(Y=>Y.SectionFieldUUID===T.SectionFieldUUID&&Y.SectionFieldUUID==T.SectionFieldUUID);if(O)T.Value=O.Data;else{const Y={ID:0,SubmissionDataUUID:we(),SubmissionID:n.data.ID,SubmissionUUID:n.data.SubmissionUUID,SectionID:M.ID,SectionUUID:M.SectionUUID,SectionFieldID:T.ID,SectionFieldUUID:T.SectionFieldUUID,Data:T.Value,CreatedAt:"",DeletedAt:"",UpdatedAt:""};I.Data.push(Y),T.Value=""}})}),I}const V={ID:0,SubmissionUUID:we(),FormID:C.value.ID,FormUUID:C.value.FormUUID,UserID:(f==null?void 0:f.ID)||0,UserUUID:(f==null?void 0:f.UserUUID)||"",Data:[],Status:il.SUBMISSION_STATUS_OPEN};return V.Data=C.value.Sections.map(I=>I.Fields?I.Fields.map(M=>({ID:0,SubmissionDataUUID:we(),SubmissionID:V.ID,SubmissionUUID:V.SubmissionUUID,SectionID:I.ID,SectionUUID:I.SectionUUID,SectionFieldID:M.ID,SectionFieldUUID:M.SectionFieldUUID,Data:""})):[]).flat(),V})()),p=(V,I,M)=>{const T=o.value.Data.find(O=>O.SectionUUID===V&&O.SectionFieldUUID===I);T&&(T.Data=M)},c=(V,I,M,T,O)=>V!=null&&V.State.Independent?"/":V&&V.Type===se.FORM_TYPE_REGISTRATION?I&&!I.State.Independent&&(I.State.New||I.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/accommodation`:M&&!M.State.Independent&&(M.State.New||M.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/dealer`:T&&!T.State.Independent&&(T.State.New||T.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/badge`:O&&!O.State.Independent&&(O.State.New||O.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/additional`:"/":V&&V.Type===se.FORM_TYPE_ACCOMMODATION?M&&!M.State.Independent&&(M.State.New||M.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/dealer`:T&&!T.State.Independent&&(T.State.New||T.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/badge`:O&&!O.State.Independent&&(O.State.New||O.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/additional`:"/":V&&V.Type===se.FORM_TYPE_DEALER?T&&!T.State.Independent&&(T.State.New||T.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/badge`:O&&!O.State.Independent&&(O.State.New||O.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/additional`:"/":V&&V.Type===se.FORM_TYPE_BADGE?O&&!O.State.Independent&&(O.State.New||O.State.Edit)?`/register/${n.convention.Slug||n.convention.ConventionUUID}/additional`:"/":(V&&V.Type===se.FORM_TYPE_ADDITIONAL,"/"),H=({callback:V})=>{w.getRegistrationByConvention(n.convention.ConventionUUID).then(I=>{V&&V("Loading"),w.getAvailableConventionForms(n.convention.ConventionUUID).then(M=>{I.Submissions.forEach((Z,u)=>{Z.Form||(I.Submissions[u].Form=M.find(_=>_.FormUUID===Z.FormUUID))});const T=I.Submissions.find(Z=>Z.FormUUID===o.value.FormUUID),O=I.Submissions.find(Z=>{var u;return((u=Z.Form)==null?void 0:u.Type)===se.FORM_TYPE_ACCOMMODATION}),Y=I.Submissions.find(Z=>{var u;return((u=Z.Form)==null?void 0:u.Type)===se.FORM_TYPE_ADDITIONAL}),oe=I.Submissions.find(Z=>{var u;return((u=Z.Form)==null?void 0:u.Type)===se.FORM_TYPE_DEALER}),ie=I.Submissions.find(Z=>{var u;return((u=Z.Form)==null?void 0:u.Type)===se.FORM_TYPE_BADGE}),he=c(T==null?void 0:T.Form,O==null?void 0:O.Form,oe==null?void 0:oe.Form,ie==null?void 0:ie.Form,Y==null?void 0:Y.Form);_e.push(he)})})},X=({callback:V})=>{var I;(I=$.value)==null||I.validate().then(M=>{M.valid?w.saveSubmission(o.value).then(T=>{T?setTimeout(()=>{J(T,V,1)},1e3):V&&V("Failed to process request")}).catch(()=>{V&&V("Failed to process request")}):V&&V("Errors in form detected, please review and try again.")})},J=(V,I,M=1)=>{w.checkSubmission(V).then(T=>{if(T)if(T.Ready&&T.Submission){if(b.value=!1,o.value=T.Submission,I&&I("Saved"),n.admin)h("close");else if(T.Forms&&T.Forms.length>0){const O=T.Forms.find(u=>u.FormUUID===o.value.FormUUID),Y=T.Forms.find(u=>u.Type===se.FORM_TYPE_ACCOMMODATION),oe=T.Forms.find(u=>u.Type===se.FORM_TYPE_DEALER),ie=T.Forms.find(u=>u.Type===se.FORM_TYPE_BADGE),he=T.Forms.find(u=>u.Type===se.FORM_TYPE_ADDITIONAL),Z=c(O,Y,oe,ie,he);_e.push(Z)}}else{if(M>5&&(b.value=!0),M>10&&(P.value=!0),M>20&&(R.value=!0),M>30&&(U.value=!0),M>40&&(l.value=!0),M>50&&(y.value=!0),M>60&&(L.value=!0),M>70&&(r.value=!0),M>80&&(d.value=!0),M>90&&(S.value=!0),M>100&&(s.value=!0),M>200){I&&(b.value=!1,P.value=!1,R.value=!1,U.value=!1,l.value=!1,y.value=!1,L.value=!1,r.value=!1,d.value=!1,S.value=!1,s.value=!1,I("A problem was encountered during saving, please check form and try again."));return}setTimeout(()=>{J(V,I,M+1)},M<20?1e3*M:2e4)}else I&&(b.value=!1,P.value=!1,R.value=!1,U.value=!1,l.value=!1,y.value=!1,L.value=!1,r.value=!1,d.value=!1,S.value=!1,s.value=!1,I("A problem was encountered during saving, please check form and try again."))}).catch(()=>{I&&(b.value=!1,P.value=!1,R.value=!1,U.value=!1,l.value=!1,y.value=!1,L.value=!1,r.value=!1,d.value=!1,S.value=!1,s.value=!1,I("A problem was encountered during saving, please check form and try again."))})};return(V,I)=>{const M=ol("router-link");return t(),D(vl,null,{default:a(()=>[i(Qe,{ref_key:"formValidator",ref:$,autocomplete:"off",onSubmit:I[1]||(I[1]=Fe(()=>{},["prevent"]))},{default:a(()=>[C.value.Heading?(t(),q("h1",pt,z(C.value.Heading),1)):x("",!0),V.admin?(t(),q("h2",ht," (Admin Mode) ")):x("",!0),C.value.Description?(t(),q("div",{key:2,class:"my-2 form-description-container pa-5 border rounded-lg text-black",innerHTML:C.value.Description},null,8,gt)):x("",!0),(t(!0),q(F,null,le(C.value.Sections,T=>(t(),D(Dl,{key:`section_${C.value.ID}.${T.ID}`,class:"my-4 section-container rounded-lg",elevation:"4"},{default:a(()=>[T.Heading?(t(),D(kl,{key:0},{default:a(()=>[W(z(T.Heading),1)]),_:2},1024)):x("",!0),T.Description?(t(),D(Tl,{key:1,class:"text-wrap"},{default:a(()=>[j("div",{innerHTML:T.Description},null,8,yt)]),_:2},1024)):x("",!0),T.Fields?(t(),D(Vl,{key:2},{default:a(()=>[(t(!0),q(F,null,le(T.Fields,O=>(t(),q(F,{key:`field_${C.value.ID}.${T.ID}.${O.ID}`},[O.Field?(t(),D(K,{key:0},{default:a(()=>[i(G,null,{default:a(()=>[V.editable?(t(),D(Xe,{key:0,name:O.SectionFieldUUID,field:O.Field,modelValue:O.Value,"onUpdate:modelValue":Y=>O.Value=Y,admin:V.admin,convention:V.convention,"registration-group":V.registrationGroup,required:O.Required,"min-length":O.MinLength,"max-length":O.MaxLength,"persistent-hint":!0,onChange:Y=>p(T.SectionUUID,O.SectionFieldUUID,O.Value)},null,8,["name","field","modelValue","onUpdate:modelValue","admin","convention","registration-group","required","min-length","max-length","onChange"])):(t(),D(Xe,{key:1,name:O.SectionFieldUUID,field:O.Field,modelValue:O.Value,"onUpdate:modelValue":Y=>O.Value=Y,admin:V.admin,convention:V.convention,"registration-group":V.registrationGroup,required:O.Required,"min-length":O.MinLength,"max-length":O.MaxLength,"persistent-hint":!0,disabled:"",onChange:Y=>p(T.SectionUUID,O.SectionFieldUUID,O.Value)},null,8,["name","field","modelValue","onUpdate:modelValue","admin","convention","registration-group","required","min-length","max-length","onChange"]))]),_:2},1024)]),_:2},1024)):x("",!0)],64))),128))]),_:2},1024)):x("",!0)]),_:2},1024))),128)),V.preview?x("",!0):(t(),q(F,{key:3},[i(K,null,{default:a(()=>[V.admin?(t(),D(G,{key:1,class:"text-right"},{default:a(()=>[i(Q,{color:"red",onClick:I[0]||(I[0]=T=>h("close"))},{default:a(()=>[W("Cancel")]),_:1})]),_:1})):(t(),D(G,{key:0,class:"text-right"},{default:a(()=>[i(M,{to:{name:"Home"},class:"text-decoration-none text-white"},{default:a(()=>[i(Q,{color:"red"},{default:a(()=>[W("Close")]),_:1})]),_:1})]),_:1})),V.admin||V.editable?(t(),D(G,{key:2,class:"text-left"},{default:a(()=>[i(Pe,{onClick:X,type:"submit"})]),_:1})):(t(),D(G,{key:3,class:"text-left"},{default:a(()=>[i(Pe,{onClick:H,type:"submit",label:"Next",color:"green"})]),_:1}))]),_:1}),b.value?(t(),D(K,{key:0},{default:a(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>[W(" Your request is currently queued for processing. We have received your data, you do not need to resubmit it or refresh. The next page will load once the system has processed your details. Please be patient as this may take a while. ")]),_:1})]),_:1})):x("",!0),P.value?(t(),D(K,{key:1},{default:a(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>[W(" Honestly! It really is being handled by our systems, the web browser window will continue, to monitor progress whilst it remains open. ")]),_:1})]),_:1})):x("",!0),R.value?(t(),D(K,{key:2},{default:a(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>[W(" There seems to be a bit of Jam, don't worry because we have a fine selection of Jams at breakfast. Keep holding on in there, we'll get you on your way soon. ")]),_:1})]),_:1})):x("",!0),U.value?(t(),D(K,{key:3},{default:a(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>[W(" Reticulating splines ")]),_:1})]),_:1})):x("",!0),l.value?(t(),D(K,{key:4},{default:a(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>[W(" Downloading more RAM to process your registration. ")]),_:1})]),_:1})):x("",!0),y.value?(t(),D(K,{key:5},{default:a(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>[W(" Ever seen a loading screen with a jump scare? ")]),_:1})]),_:1})):x("",!0),L.value?(t(),D(K,{key:6},{default:a(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>[W(" We are not liable for any broken screens as a result of waiting. ")]),_:1})]),_:1})):x("",!0),r.value?(t(),D(K,{key:7},{default:a(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>[W(" Let's have a race, see if you can inflate a pool toy by mouth before we finish. NB. Inflating your toys in this fashion is not recommended for many reasons. ")]),_:1})]),_:1})):x("",!0),d.value?(t(),D(K,{key:8},{default:a(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>[W(" Apparently there were just under 1,000 of you at Scotiacon 2023, so where did the other 4,000 appear from? ")]),_:1})]),_:1})):x("",!0),S.value?(t(),D(K,{key:9},{default:a(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>[W(" Jesus titty fucking christ! Why are there so many of you, this is ridiculous. We're still working on your request, please don't panic. ")]),_:1})]),_:1})):x("",!0),s.value?(t(),D(K,{key:10},{default:a(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>[W(" We've run out of silly things to say, but if the save button is still spinning then the registration request is still queued for processing. ")]),_:1})]),_:1})):x("",!0)],64))]),_:1},512)]),_:1})}}});export{Yt as F,Xe as _,Ft as a,ae as b,Wt as c,Jt as d,Xt as m,Ye as p,ke as s};
