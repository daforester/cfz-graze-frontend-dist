import{d as p,V as l,y as h,D as _,o as d,N as f,f as s,G as g,aJ as k,F as A}from"./index-b32d0632.js";import{S as L}from"./setupLogin-ff06b26b.js";import{u as P}from"./useGrazeAPI-87ce7f3a.js";import"./userData-d733b0cf.js";const B=s("p",null,"Authorising...",-1),z=p({__name:"AuthLogin",setup(R){const n=l(),t=h(n.params.method),r=P(),e=new URL(location.href),c=_(),u=e.searchParams.get("code")||"",i=e.searchParams.get("token")||"",m=e.searchParams.get("state")||"";return r.oAuthLogin(t.value,u,i,m).then(({tokens:o,user:a})=>{L(o,a,c)}),(o,a)=>(d(),f(A,null,[s("p",null,g(k(t.value)),1),B],64))}});export{z as default};
