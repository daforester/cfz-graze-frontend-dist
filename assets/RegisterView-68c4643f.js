import{_ as g}from"./FormRenderer.vue_vue_type_script_setup_true_lang-f4598805.js";import{d as I,V as _,W as D,y as m,o as R,b as T,K as V}from"./index-e64203a3.js";import{G as h}from"./userData-d733b0cf.js";import"./FormField.vue_vue_type_script_setup_true_lang-61fbf103.js";import"./index-ba0d422e.js";import"./VList-07fd4c68.js";import"./index-8754a589.js";import"./rounded-45c96fbd.js";import"./ssrBoot-610bd96f.js";import"./index-e6f54349.js";import"./createSimpleFunctional-cd033a8e.js";import"./VBtn-6e5dd02f.js";import"./VAvatar-0c53fbcd.js";import"./VImg-3f31abb1.js";import"./VRow-c3f1c0bf.js";import"./VContainer-1e78ef63.js";import"./VSelect-3a0c81c0.js";import"./VTextField-3a4cc6ea.js";import"./VOverlay-2d543717.js";import"./scopeId-2e1e9f71.js";import"./VChip-4da44c7e.js";import"./ticket-b671e8ba.js";import"./VTextarea-ac164a2c.js";import"./VAutocomplete-5d9b0f27.js";import"./SaveButton.vue_vue_type_script_setup_true_lang-17310d42.js";import"./useGrazeAPI-d03a471c.js";import"./v4-a960c1f4.js";import"./VForm-f4ac5fc9.js";const to=I({__name:"RegisterView",emits:["pageTitle"],setup(x,{emit:p}){const C=_(),t=D.getInstance(),o=m(),n=m(),v=m(),s=m(!1);return t==null||t.getConvention(C.params.convention.toString()).then(i=>{var r;o.value=i||o.value,t==null||t.getConventionExtras((i==null?void 0:i.ConventionUUID)||"").then(a=>(o.value||{Extras:[]}).Extras=a),t.getConventionForms(((r=o.value)==null?void 0:r.ConventionUUID)||"").then(a=>{var l,u,U;if(n.value=a.find(e=>e.Type==="REGISTRATION"),n.value){const e=h();e!=null&&e.UserUUID&&((l=o.value)!=null&&l.ConventionUUID)&&t.getUserConventionSubmissions((e==null?void 0:e.UserUUID)||"",((u=o.value)==null?void 0:u.ConventionUUID)||"").then(c=>{c&&(v.value=c.find(d=>{var f;return d.FormUUID===((f=n.value)==null?void 0:f.FormUUID)})),s.value=!0}).catch(()=>{s.value=!0}),p("pageTitle",`Convention Registration - ${((U=o.value)==null?void 0:U.Name)||"New Convention"}`)}})}),p("pageTitle","Convention Registration"),(i,r)=>s.value&&n.value&&o.value?(R(),T(g,{key:0,modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=a=>n.value=a),convention:o.value,data:v.value},null,8,["modelValue","convention","data"])):V("",!0)}});export{to as default};
