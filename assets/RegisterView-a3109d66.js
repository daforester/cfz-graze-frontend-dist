import{c as g}from"./FormRenderer.vue_vue_type_script_setup_true_lang-53d83706.js";import{I as d,a3 as D,a4 as _,r as s,K as R,L as T,Q as h}from"./index-4b048e5a.js";import{G as x}from"./userData-713a4a5a.js";import"./VCheckbox-f09f1807.js";import"./VCheckboxBtn-e8f21805.js";import"./VContainer-e3d76a37.js";import"./VTextField-b5ed3798.js";import"./index-0b213796.js";import"./index-71069b21.js";import"./VList-9c97bf48.js";import"./VAvatar-1a87d924.js";import"./VRow-9bb8d02c.js";import"./VSelect-8f7f6f50.js";import"./VChip-20429996.js";import"./scopeId-e0a6e1ed.js";import"./filter-82077033.js";import"./v4-a960c1f4.js";import"./VForm-d352388e.js";const q=d({__name:"RegisterView",emits:["pageTitle"],setup(V,{emit:l}){const C=D(),o=_.getInstance(),e=s(),n=s(),v=s(),m=s(!1);return o==null||o.getConvention(C.params.convention.toString()).then(a=>{var i;e.value=a||e.value,o==null||o.getConventionExtras((a==null?void 0:a.ConventionUUID)||"").then(r=>(e.value||{Extras:[]}).Extras=r),o.getAvailableConventionForms(((i=e.value)==null?void 0:i.ConventionUUID)||"",!0).then(r=>{var u,p,U;if(n.value=r.find(t=>t.Type==="REGISTRATION"),n.value){const t=x();t!=null&&t.UserUUID&&((u=e.value)!=null&&u.ConventionUUID)&&o.getUserConventionSubmissions((t==null?void 0:t.UserUUID)||"",((p=e.value)==null?void 0:p.ConventionUUID)||"").then(c=>{c&&(v.value=c.find(I=>{var f;return I.FormUUID===((f=n.value)==null?void 0:f.FormUUID)})),m.value=!0}).catch(()=>{m.value=!0}),l("pageTitle",`Convention Registration - ${((U=e.value)==null?void 0:U.Name)||"New Convention"}`)}})}),l("pageTitle","Convention Registration"),(a,i)=>m.value&&n.value&&e.value?(R(),T(g,{key:0,modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=r=>n.value=r),convention:e.value,data:v.value},null,8,["modelValue","convention","data"])):h("",!0)}});export{q as default};
