import{O as R,G as f}from"./group-d2a77946.js";import{u as l}from"./nil-d01db1aa.js";const e=(n,s)=>{n.EditConvention=n.EditConvention||s.EditConvention,n.EditOrganisation=n.EditOrganisation||s.EditOrganisation,n.EditPaymentTransactions=n.EditPaymentTransactions||s.EditPaymentTransactions,n.EditRegistration=n.EditRegistration||s.EditRegistration,n.ManageUsers=n.ManageUsers||s.ManageUsers,n.ManageViews=n.ManageViews||s.ManageViews,n.ViewRegistration=n.ViewRegistration||s.ViewRegistration},I=(n,s,O="",E=void 0)=>{const P=n.Groups;O==""&&(O=l);const a={ID:0,PermissionUUID:l,GroupID:0,GroupUUID:l,EditConvention:!1,EditRegistration:!1,EditOrganisation:!1,EditPaymentTransactions:!1,ManageUsers:!1,ManageViews:!1,ViewRegistration:!1},d=R.OWNER_TYPE_CONVENTION,w=R.OWNER_TYPE_ORGANISATION;return P&&P.length>0&&P.forEach(i=>{i.OwnerType==d&&(i.Permission.EditOrganisation=!1),s==null?e(a,i.Permission):s==f.GROUP_TYPE_SYSTEM||s==f.GROUP_TYPE_ADMIN?i.OwnerType==null&&e(a,i.Permission):s==f.GROUP_TYPE_ORGANISATION?(i.OwnerType==null||i.OwnerType==w&&i.OwnerUUID!=null&&i.OwnerUUID==O)&&e(a,i.Permission):s==f.GROUP_TYPE_CONVENTION&&(i.OwnerType==null||i.OwnerType==w&&i.OwnerUUID!=null&&(i.OwnerUUID==(E==null?void 0:E.OrganisationUUID)||E===void 0&&O===l)||i.OwnerType==d&&i.OwnerUUID!=null&&(i.OwnerUUID==O||E===void 0&&O===l))&&e(a,i.Permission)}),a};export{I as C};
