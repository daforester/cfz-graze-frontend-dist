import{s as ze}from"./index-26b71cef.js";import{I as be,r as I,M,N as J,O as w,v as r,P as F,W as Ne,a3 as De,a0 as le,a1 as Ee,e as T,w as ne,V as lt,H as Q,p as C,z as nt,n as O,B as ot,G as pe,t as B,i as L,af as xe,ag as st,ah as oe,ai as ut,c as q,u as Z,y as it,m as he,aj as Se,ak as jt,x as se,j as H,al as Fe,am as Me,an as Ce,ao as ge,ap as Wt,R as ye,aq as ce,b as Xt,ar as Yt,S as Ie,Q as He,a4 as qt,a9 as Le,a5 as Kt,s as N,A as rt,D as Jt,as as Qt,at as Zt,au as ct,E as ea}from"./index-4de96cb5.js";import{v as ta}from"./v4-a960c1f4.js";import{u as _e}from"./nil-d01db1aa.js";import{V as $,b as dt,c as Be,d as vt,e as ft,m as aa,u as je}from"./VBtn-9c7ca98e.js";import{V as Y,j as la,m as ee,a as ve,u as G,R as na,f as Te,c as oa,d as sa,g as ua,h as ia,k as ra,l as ca,L as da,n as va,o as fa,p as ma}from"./VContainer-8f09938d.js";import{a as mt,V as gt}from"./VToolbar-c48ce8b2.js";import{V as ht}from"./scopeId-999558de.js";import{V as yt}from"./VToolbarItems-d4011a1a.js";import{V as ga,a as We}from"./VRow-1ec7f5b7.js";import{V as Xe}from"./VTextField-727c1955.js";import{c as bt,e as pt}from"./VCard-33b71a38.js";import{V as xt,f as ha,u as ya,s as Ye,a as ba,m as pa}from"./FormRenderer.vue_vue_type_style_index_0_lang-64670569.js";import{V as xa}from"./VDialog-58d4fc7f.js";import{a as Sa,u as Ta}from"./VList-2bdb1a52.js";import{V as ka}from"./VDivider-66c0935f.js";import{V as Pa}from"./copyToClipboard-c674cd24.js";import{a as $e}from"./VCheckbox-81a4c335.js";import{m as wa,V as qe}from"./VTable-0df16d66.js";import{a as Va,b as Ia,s as Ca,c as Ke}from"./forwardRefs-062cf798.js";import{b as Ue,u as St}from"./SaveButton.vue_vue_type_script_setup_true_lang-7e76a8aa.js";import{M as Da}from"./VAvatar-165bac10.js";const Ea=be({__name:"AddTag",props:{convention:{},organisation:{}},emits:["save","close"],setup(e,{emit:l}){const a=I(""),t=I("");typeof e.convention=="object"?(a.value=e.convention.ConventionUUID,t.value=e.convention.OrganisationUUID):a.value=e.convention||"",typeof e.organisation=="object"?t.value=e.organisation.OrganisationUUID:t.value.length===0&&(t.value=e.organisation||"");const s=I({ID:0,TagUUID:ta(),ConventionID:0,ConventionUUID:a.value||_e,OrganisationID:0,OrganisationUUID:t.value||_e,Title:"",Key:""}),c=De(),n=()=>{c.saveTag(s.value).then(o=>{o&&(s.value=o,l("save",o),l("close"))})};return(o,i)=>(M(),J(pt,null,{default:w(()=>[r(gt,{dark:"",color:"primary"},{default:w(()=>[r($,{icon:"",dark:"",onClick:i[0]||(i[0]=u=>l("close"))},{default:w(()=>[r(Y,null,{default:w(()=>[F("mdi:mdi-close")]),_:1})]),_:1}),r(mt,null,{default:w(()=>[F("Add Tag")]),_:1}),r(ht),r(yt,null,{default:w(()=>[r($,{variant:"text",onClick:n},{default:w(()=>[F(" Save ")]),_:1})]),_:1})]),_:1}),r(bt,null,{default:w(()=>[r(la,{fluid:!0},{default:w(()=>[r(ga,null,{default:w(()=>[r(We,{cols:"12"},{default:w(()=>[r(Xe,{label:Ne(ze).formLabelDisplayName,type:"text",variant:"outlined",modelValue:s.value.Title,"onUpdate:modelValue":i[1]||(i[1]=u=>s.value.Title=u)},null,8,["label","modelValue"])]),_:1}),r(We,{cols:"12"},{default:w(()=>[r(Xe,{label:Ne(ze).formLabelTagKey,type:"text",variant:"outlined",modelValue:s.value.Key,"onUpdate:modelValue":i[2]||(i[2]=u=>s.value.Key=u)},null,8,["label","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),tn=be({__name:"SelectTags",props:le({convention:{},organisation:{},chips:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},hint:{default:""},label:{},variant:{}},{modelValue:{required:!0}}),emits:le(["change"],["update:modelValue"]),setup(e,{emit:l}){const a=Ee(e,"modelValue"),t=I([]),s=De(),c=I([]),n=I([]),o=I(""),i=I(""),u=I(0),d=T(()=>[...c.value,...n.value].map(v=>({title:v.Title,value:t.value.find(y=>y.TagUUID===v.TagUUID)||v})));typeof e.convention=="object"?(o.value=e.convention.ConventionUUID,i.value=e.convention.OrganisationUUID):o.value=e.convention||"",typeof e.organisation=="object"?i.value=e.organisation.OrganisationUUID:i.value.length===0&&(i.value=e.organisation||""),(async()=>{const b=[];o.value&&b.push(s.getConventionTags(o.value)),i.value&&b.push(s.getOrganisationTags(i.value));const v=await Promise.all(b);if(o.value&&i.value?(n.value=v[0].sort((y,x)=>y.Title.localeCompare(x.Title)),c.value=v[1].sort((y,x)=>y.Title.localeCompare(x.Title))):o.value&&v.length==1?n.value=v[0].sort((y,x)=>y.Title.localeCompare(x.Title)):i.value&&v.length==1&&(c.value=v[0].sort((y,x)=>y.Title.localeCompare(x.Title))),Array.isArray(a.value))u.value=2,d.value.forEach(y=>{Array.isArray(a.value)&&a.value.find(V=>V.TagUUID===y.value.TagUUID)&&t.value.push(y.value)});else if(typeof a.value=="string"){u.value=1;try{const y=JSON.parse(a.value);d.value.forEach(x=>{y.find(S=>S.TagUUID===x.value.TagUUID)&&t.value.push(x.value)})}catch{}}})();const h=I(!1),f=()=>{h.value=!0},m=b=>{b.ConventionUUID.length>0?n.value.push(b):b.OrganisationUUID.length>0&&c.value.push(b),t.value.push(b),g()},g=()=>{switch(u.value){default:case 2:{a.value=t.value,l("change");break}case 1:{a.value=JSON.stringify(t.value),l("change");break}}};return ne(t,g),(b,v)=>(M(),lt(Q,null,[r(xt,{modelValue:t.value,"onUpdate:modelValue":v[1]||(v[1]=y=>t.value=y),chips:b.chips,multiple:"",label:b.label||"Tags",variant:b.variant||"solo",hint:b.hint,"persistent-hint":!0,clearable:b.clearable,items:d.value,"item-title":"title","item-value":"value"},{"prepend-item":w(()=>[r(Sa,{title:"New Tag",onClick:v[0]||(v[0]=y=>f())},{prepend:w(()=>[r(Y,{icon:"mdi:mdi-plus"})]),_:1}),r(ka,{class:"mt-2"})]),_:1},8,["modelValue","chips","label","variant","hint","clearable","items"]),r(xa,{modelValue:h.value,"onUpdate:modelValue":v[3]||(v[3]=y=>h.value=y),scrollable:!0},{default:w(()=>[r(Ea,{convention:b.convention,organisation:b.organisation,onClose:v[2]||(v[2]=y=>h.value=!1),onSave:m},null,8,["convention","organisation"])]),_:1},8,["modelValue"])],64))}}),an=be({__name:"SelectGroups",props:le({convention:{},organisation:{},chips:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},hint:{default:""},label:{},variant:{}},{modelValue:{required:!0}}),emits:le(["change"],["update:modelValue"]),setup(e,{emit:l}){const a=Ee(e,"modelValue"),t=I([]),s=De(),c=I([]),n=I([]),o=I(""),i=I(""),u=I(0),d=T(()=>[...c.value,...n.value].map(m=>({title:m.Name,value:t.value.find(g=>g.GroupUUID===m.GroupUUID)||m})));return typeof e.convention=="object"?(o.value=e.convention.ConventionUUID,i.value=e.convention.OrganisationUUID):o.value=e.convention||"",typeof e.organisation=="object"?i.value=e.organisation.OrganisationUUID:i.value.length===0&&(i.value=e.organisation||""),(async()=>{const f=[];o.value&&f.push(s.getConventionGroups(o.value)),i.value&&f.push(s.getOrganisationGroups(i.value));const m=await Promise.all(f);if(o.value&&i.value?(n.value=m[0].sort((g,b)=>g.Name.localeCompare(b.Name)),c.value=m[1].sort((g,b)=>g.Name.localeCompare(b.Name))):o.value&&m.length==1?n.value=m[0].sort((g,b)=>g.Name.localeCompare(b.Name)):i.value&&m.length==1&&(c.value=m[0].sort((g,b)=>g.Name.localeCompare(b.Name))),Array.isArray(a.value))u.value=2,d.value.forEach(g=>{Array.isArray(a.value)&&a.value.find(v=>v.GroupUUID===g.value.GroupUUID)&&t.value.push(g.value)});else if(typeof a.value=="string"){u.value=1;try{const g=JSON.parse(a.value);d.value.forEach(b=>{g.find(y=>y.GroupUUID===b.value.GroupUUID)&&t.value.push(b.value)})}catch{}}})(),ne(t,()=>{switch(u.value){default:case 2:{a.value=t.value,l("change");break}case 1:{a.value=JSON.stringify(t.value),l("change");break}}}),(f,m)=>(M(),J(xt,{modelValue:t.value,"onUpdate:modelValue":m[0]||(m[0]=g=>t.value=g),chips:f.chips,multiple:"",label:f.label||"Tags",variant:f.variant||"solo",hint:f.hint,"persistent-hint":!0,clearable:f.clearable,items:d.value,"item-title":"title","item-value":"value"},null,8,["modelValue","chips","label","variant","hint","clearable","items"]))}});const de=Symbol.for("vuetify:v-expansion-panel"),Ba=["default","accordion","inset","popout"],$a=C({color:String,variant:{type:String,default:"default",validator:e=>Ba.includes(e)},readonly:Boolean,...ee(),...dt(),...ve(),...nt()},"VExpansionPanels"),Ua=O()({name:"VExpansionPanels",props:$a(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:a}=l;Be(e,de);const{themeClasses:t}=ot(e),s=T(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return pe({VExpansionPanel:{color:B(e,"color")},VExpansionPanelTitle:{readonly:B(e,"readonly")}}),G(()=>r(e.tag,{class:["v-expansion-panels",t.value,s.value,e.class],style:e.style},a)),{}}}),Aa=C({...ee(),...Ue()},"VExpansionPanelText"),Tt=O()({name:"VExpansionPanelText",props:Aa(),setup(e,l){let{slots:a}=l;const t=L(de);if(!t)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:s,onAfterLeave:c}=St(e,t.isSelected);return G(()=>r(Va,{onAfterLeave:c},{default:()=>{var n;return[xe(r("div",{class:["v-expansion-panel-text",e.class],style:e.style},[a.default&&s.value&&r("div",{class:"v-expansion-panel-text__wrapper"},[(n=a.default)==null?void 0:n.call(a)])]),[[st,t.isSelected.value]])]}})),{}}}),kt=C({color:String,expandIcon:{type:oe,default:"$expand"},collapseIcon:{type:oe,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...ee()},"VExpansionPanelTitle"),Pt=O()({name:"VExpansionPanelTitle",directives:{Ripple:na},props:kt(),setup(e,l){let{slots:a}=l;const t=L(de);if(!t)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:s,backgroundColorStyles:c}=Te(e,"color"),n=T(()=>({collapseIcon:e.collapseIcon,disabled:t.disabled.value,expanded:t.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly}));return G(()=>{var o;return xe(r("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":t.isSelected.value},s.value,e.class],style:[c.value,e.style],type:"button",tabindex:t.disabled.value?-1:void 0,disabled:t.disabled.value,"aria-expanded":t.isSelected.value,onClick:e.readonly?void 0:t.toggle},[r("span",{class:"v-expansion-panel-title__overlay"},null),(o=a.default)==null?void 0:o.call(a,n.value),!e.hideActions&&r("span",{class:"v-expansion-panel-title__icon"},[a.actions?a.actions(n.value):r(Y,{icon:t.isSelected.value?e.collapseIcon:e.expandIcon},null)])]),[[ut("ripple"),e.ripple]])}),{}}}),Oa=C({title:String,text:String,bgColor:String,...ee(),...oa(),...vt(),...Ue(),...sa(),...ve(),...kt()},"VExpansionPanel"),Ra=O()({name:"VExpansionPanel",props:Oa(),emits:{"group:selected":e=>!0},setup(e,l){let{slots:a}=l;const t=ft(e,de),{backgroundColorClasses:s,backgroundColorStyles:c}=Te(e,"bgColor"),{elevationClasses:n}=ua(e),{roundedClasses:o}=ia(e),i=T(()=>(t==null?void 0:t.disabled.value)||e.disabled),u=T(()=>t.group.items.value.reduce((f,m,g)=>(t.group.selected.value.includes(m.id)&&f.push(g),f),[])),d=T(()=>{const f=t.group.items.value.findIndex(m=>m.id===t.id);return!t.isSelected.value&&u.value.some(m=>m-f===1)}),h=T(()=>{const f=t.group.items.value.findIndex(m=>m.id===t.id);return!t.isSelected.value&&u.value.some(m=>m-f===-1)});return q(de,t),pe({VExpansionPanelText:{eager:B(e,"eager")}}),G(()=>{const f=!!(a.text||e.text),m=!!(a.title||e.title);return r(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":t.isSelected.value,"v-expansion-panel--before-active":d.value,"v-expansion-panel--after-active":h.value,"v-expansion-panel--disabled":i.value},o.value,s.value,e.class],style:[c.value,e.style]},{default:()=>{var g;return[r("div",{class:["v-expansion-panel__shadow",...n.value]},null),m&&r(Pt,{key:"title",collapseIcon:e.collapseIcon,color:e.color,expandIcon:e.expandIcon,hideActions:e.hideActions,ripple:e.ripple},{default:()=>[a.title?a.title():e.title]}),f&&r(Tt,{key:"text"},{default:()=>[a.text?a.text():e.text]}),(g=a.default)==null?void 0:g.call(a)]}})}),{}}});const Ga=C({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),wt=Symbol.for("vuetify:data-table-pagination");function za(e){const l=Z(e,"page",void 0,t=>+(t??1)),a=Z(e,"itemsPerPage",void 0,t=>+(t??10));return{page:l,itemsPerPage:a}}function Na(e){const{page:l,itemsPerPage:a,itemsLength:t}=e,s=T(()=>a.value===-1?0:a.value*(l.value-1)),c=T(()=>a.value===-1?t.value:Math.min(t.value,s.value+a.value)),n=T(()=>a.value===-1||t.value===0?1:Math.ceil(t.value/a.value));it(()=>{l.value>n.value&&(l.value=n.value)});function o(f){a.value=f,l.value=1}function i(){l.value=he(l.value+1,1,n.value)}function u(){l.value=he(l.value-1,1,n.value)}function d(f){l.value=he(f,1,n.value)}const h={page:l,itemsPerPage:a,startIndex:s,stopIndex:c,pageCount:n,itemsLength:t,nextPage:i,prevPage:u,setPage:d,setItemsPerPage:o};return q(wt,h),h}function Fa(){const e=L(wt);if(!e)throw new Error("Missing pagination!");return e}function Ma(e){const{items:l,startIndex:a,stopIndex:t,itemsPerPage:s}=e;return{paginatedItems:T(()=>s.value<=0?l.value:l.value.slice(a.value,t.value))}}const Vt=C({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Je=O()({name:"VDataTableFooter",props:Vt(),setup(e,l){let{slots:a}=l;const{t}=Se(),{page:s,pageCount:c,startIndex:n,stopIndex:o,itemsLength:i,itemsPerPage:u,setItemsPerPage:d}=Fa(),h=T(()=>e.itemsPerPageOptions.map(f=>({...f,title:t(f.title)})));return()=>{var f;return r("div",{class:"v-data-table-footer"},[(f=a.prepend)==null?void 0:f.call(a),r("div",{class:"v-data-table-footer__items-per-page"},[r("span",null,[t(e.itemsPerPageText)]),r(Pa,{items:h.value,modelValue:u.value,"onUpdate:modelValue":m=>d(Number(m)),density:"compact",variant:"outlined","hide-details":!0},null)]),r("div",{class:"v-data-table-footer__info"},[r("div",null,[t(e.pageText,i.value?n.value+1:0,o.value,i.value)])]),r("div",{class:"v-data-table-footer__pagination"},[r($,{icon:e.firstIcon,variant:"plain",onClick:()=>s.value=1,disabled:s.value===1,"aria-label":t(e.firstPageLabel)},null),r($,{icon:e.prevIcon,variant:"plain",onClick:()=>s.value=Math.max(1,s.value-1),disabled:s.value===1,"aria-label":t(e.prevPageLabel)},null),e.showCurrentPage&&r("span",{key:"page",class:"v-data-table-footer__page"},[s.value]),r($,{icon:e.nextIcon,variant:"plain",onClick:()=>s.value=Math.min(c.value,s.value+1),disabled:s.value===c.value,"aria-label":t(e.nextPageLabel)},null),r($,{icon:e.lastIcon,variant:"plain",onClick:()=>s.value=c.value,disabled:s.value===c.value,"aria-label":t(e.lastPageLabel)},null)])])}}}),Ae=jt({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(e,l)=>{let{slots:a,attrs:t}=l;const s=e.tag??"td";return r(s,se({class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding},`v-data-table-column--align-${e.align}`],style:{height:H(e.height),width:H(e.width),left:H(e.fixedOffset||null)}},t),{default:()=>{var c;return[(c=a.default)==null?void 0:c.call(a)]}})}),Ha=C({headers:{type:Array,default:()=>[]}},"DataTable-header"),It=Symbol.for("vuetify:data-table-headers");function La(e,l){const a=I([]),t=I([]);it(()=>{var m,g,b;const c=e.headers.length?Array.isArray(e.headers[0])?e.headers:[e.headers]:[],n=c.flatMap((v,y)=>v.map(x=>({column:x,row:y}))),o=c.length,i={title:"",sortable:!1},u={...i,width:48};if((m=l==null?void 0:l.groupBy)!=null&&m.value.length){const v=n.findIndex(y=>{let{column:x}=y;return x.key==="data-table-group"});v<0?n.unshift({column:{...i,key:"data-table-group",title:"Group",rowspan:o},row:0}):n.splice(v,1,{column:{...i,...n[v].column},row:n[v].row})}if((g=l==null?void 0:l.showSelect)!=null&&g.value){const v=n.findIndex(y=>{let{column:x}=y;return x.key==="data-table-select"});v<0?n.unshift({column:{...u,key:"data-table-select",rowspan:o},row:0}):n.splice(v,1,{column:{...u,...n[v].column},row:n[v].row})}if((b=l==null?void 0:l.showExpand)!=null&&b.value){const v=n.findIndex(y=>{let{column:x}=y;return x.key==="data-table-expand"});v<0?n.push({column:{...u,key:"data-table-expand",rowspan:o},row:0}):n.splice(v,1,{column:{...u,...n[v].column},row:n[v].row})}const d=Fe(o).map(()=>[]),h=Fe(o).fill(0);n.forEach(v=>{let{column:y,row:x}=v,V=y.key;V==null&&(V="");for(let S=x;S<=x+(y.rowspan??1)-1;S++)d[S].push({...y,key:V,fixedOffset:h[S],sortable:y.sortable??!!y.key}),h[S]+=Number(y.width??0)}),d.forEach(v=>{for(let y=v.length;y--;y>=0)if(v[y].fixed){v[y].lastFixed=!0;return}});const f=new Set;a.value=d.map(v=>{const y=[];for(const x of v)f.has(x.key)||(f.add(x.key),y.push(x));return y}),t.value=d.at(-1)??[]});const s={headers:a,columns:t};return q(It,s),s}function ke(){const e=L(It);if(!e)throw new Error("Missing headers!");return e}const _a={showSelectAll:!1,allSelected:()=>[],select:e=>{var t;let{items:l,value:a}=e;return new Set(a?[(t=l[0])==null?void 0:t.value]:[])},selectAll:e=>{let{selected:l}=e;return l}},Ct={showSelectAll:!0,allSelected:e=>{let{currentPage:l}=e;return l},select:e=>{let{items:l,value:a,selected:t}=e;for(const s of l)a?t.add(s.value):t.delete(s.value);return t},selectAll:e=>{let{value:l,currentPage:a,selected:t}=e;return Ct.select({items:a,value:l,selected:t})}},Dt={showSelectAll:!0,allSelected:e=>{let{allItems:l}=e;return l},select:e=>{let{items:l,value:a,selected:t}=e;for(const s of l)a?t.add(s.value):t.delete(s.value);return t},selectAll:e=>{let{value:l,allItems:a,selected:t}=e;return Dt.select({items:a,value:l,selected:t})}},ja=C({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]}},"DataTable-select"),Et=Symbol.for("vuetify:data-table-selection");function Wa(e,l){let{allItems:a,currentPage:t}=l;const s=Z(e,"modelValue",e.modelValue,v=>new Set(v),v=>[...v.values()]),c=T(()=>a.value.filter(v=>v.selectable)),n=T(()=>t.value.filter(v=>v.selectable)),o=T(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return _a;case"all":return Dt;case"page":default:return Ct}});function i(v){return Me(v).every(y=>s.value.has(y.value))}function u(v){return Me(v).some(y=>s.value.has(y.value))}function d(v,y){const x=o.value.select({items:v,value:y,selected:new Set(s.value)});s.value=x}function h(v){d([v],!i([v]))}function f(v){const y=o.value.selectAll({value:v,allItems:c.value,currentPage:n.value,selected:new Set(s.value)});s.value=y}const m=T(()=>s.value.size>0),g=T(()=>{const v=o.value.allSelected({allItems:c.value,currentPage:n.value});return i(v)}),b={toggleSelect:h,select:d,selectAll:f,isSelected:i,isSomeSelected:u,someSelected:m,allSelected:g,showSelectAll:o.value.showSelectAll};return q(Et,b),b}function Pe(){const e=L(Et);if(!e)throw new Error("Missing selection!");return e}const Xa=C({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Bt=Symbol.for("vuetify:data-table-sort");function Ya(e){const l=Z(e,"sortBy"),a=B(e,"mustSort"),t=B(e,"multiSort");return{sortBy:l,mustSort:a,multiSort:t}}function qa(e){const{sortBy:l,mustSort:a,multiSort:t,page:s}=e,c=i=>{let u=l.value.map(h=>({...h}))??[];const d=u.find(h=>h.key===i.key);d?d.order==="desc"?a.value?d.order="asc":u=u.filter(h=>h.key!==i.key):d.order="desc":t.value?u=[...u,{key:i.key,order:"asc"}]:u=[{key:i.key,order:"asc"}],l.value=u,s&&(s.value=1)};function n(i){return!!l.value.find(u=>u.key===i.key)}const o={sortBy:l,toggleSort:c,isSorted:n};return q(Bt,o),o}function Ka(){const e=L(Bt);if(!e)throw new Error("Missing sort!");return e}function Ja(e,l,a){const t=Se();return{sortedItems:T(()=>a.value.length?Qa(l.value,a.value,t.current.value,e.customKeySort):l.value)}}function Qa(e,l,a,t){const s=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"});return[...e].sort((c,n)=>{for(let o=0;o<l.length;o++){const i=l[o].key,u=l[o].order??"asc";if(u===!1)continue;let d=Ce(c.raw,i),h=Ce(n.raw,i);if(u==="desc"&&([d,h]=[h,d]),t!=null&&t[i]){const f=t[i](d,h);if(!f)continue;return f}if(d instanceof Date&&h instanceof Date)return d.getTime()-h.getTime();if([d,h]=[d,h].map(f=>f!=null?f.toString().toLocaleLowerCase():f),d!==h)return ge(d)&&ge(h)?0:ge(d)?-1:ge(h)?1:!isNaN(d)&&!isNaN(h)?Number(d)-Number(h):s.compare(d,h)}return 0})}const $t=C({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:oe,default:"$sortAsc"},sortDescIcon:{type:oe,default:"$sortDesc"},...ra()},"VDataTableHeaders"),Qe=O()({name:"VDataTableHeaders",props:$t(),setup(e,l){let{slots:a,emit:t}=l;const{toggleSort:s,sortBy:c,isSorted:n}=Ka(),{someSelected:o,allSelected:i,selectAll:u,showSelectAll:d}=Pe(),{columns:h,headers:f}=ke(),{loaderClasses:m}=ca(e),g=(S,p)=>{if(!(!e.sticky&&!S.fixed))return{position:"sticky",zIndex:S.fixed?4:e.sticky?3:void 0,left:S.fixed?H(S.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${p})`:void 0}};function b(S){const p=c.value.find(D=>D.key===S.key);return p?p.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:v,backgroundColorStyles:y}=Te(e,"color"),x=T(()=>({headers:f.value,columns:h.value,toggleSort:s,isSorted:n,sortBy:c.value,someSelected:o.value,allSelected:i.value,selectAll:u,getSortIcon:b,getFixedStyles:g})),V=S=>{let{column:p,x:D,y:U}=S;const z=p.key==="data-table-select"||p.key==="data-table-expand";return r(Ae,{tag:"th",align:p.align,class:["v-data-table__th",{"v-data-table__th--sortable":p.sortable,"v-data-table__th--sorted":n(p)},m.value],style:{width:H(p.width),minWidth:H(p.width),...g(p,U)},colspan:p.colspan,rowspan:p.rowspan,onClick:p.sortable?()=>s(p):void 0,lastFixed:p.lastFixed,noPadding:z},{default:()=>{var j;const _=`column.${p.key}`,R={column:p,selectAll:u,isSorted:n,toggleSort:s,sortBy:c.value,someSelected:o.value,allSelected:i.value,getSortIcon:b};return a[_]?a[_](R):p.key==="data-table-select"?((j=a["column.data-table-select"])==null?void 0:j.call(a,R))??(d&&r($e,{modelValue:i.value,indeterminate:o.value&&!i.value,"onUpdate:modelValue":u},null)):r("div",{class:"v-data-table-header__content"},[r("span",null,[p.title]),p.sortable&&r(Y,{key:"icon",class:"v-data-table-header__sort-icon",icon:b(p)},null),e.multiSort&&n(p)&&r("div",{key:"badge",class:["v-data-table-header__sort-badge",...v.value],style:y.value},[c.value.findIndex(W=>W.key===p.key)+1])])}})};G(()=>r(Q,null,[a.headers?a.headers(x.value):f.value.map((S,p)=>r("tr",null,[S.map((D,U)=>r(V,{column:D,x:U,y:p},null))])),e.loading&&r("tr",{class:"v-data-table-progress"},[r("th",{colspan:h.value.length},[r(da,{name:"v-data-table-progress",active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:a.loader})])])]))}}),Za=C({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Ut=Symbol.for("vuetify:data-table-group");function el(e){return{groupBy:Z(e,"groupBy")}}function tl(e){const{groupBy:l,sortBy:a}=e,t=I(new Set),s=T(()=>l.value.map(u=>({...u,order:u.order??!1})).concat(a.value));function c(u){return t.value.has(u.id)}function n(u){const d=new Set(t.value);c(u)?d.delete(u.id):d.add(u.id),t.value=d}function o(u){function d(h){const f=[];for(const m of h.items)"type"in m&&m.type==="group"?f.push(...d(m)):f.push(m);return f}return d({type:"group",items:u,id:"dummy",key:"dummy",value:"dummy",depth:0})}const i={sortByWithGroups:s,toggleGroup:n,opened:t,groupBy:l,extractRows:o,isGroupOpen:c};return q(Ut,i),i}function At(){const e=L(Ut);if(!e)throw new Error("Missing group!");return e}function al(e,l){if(!e.length)return[];const a=new Map;for(const t of e){const s=Ce(t.raw,l);a.has(s)||a.set(s,[]),a.get(s).push(t)}return a}function Ot(e,l){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!l.length)return[];const s=al(e,l[0]),c=[],n=l.slice(1);return s.forEach((o,i)=>{const u=l[0],d=`${t}_${u}_${i}`;c.push({depth:a,id:d,key:u,value:i,items:n.length?Ot(o,n,a+1,d):o,type:"group"})}),c}function Rt(e,l){const a=[];for(const t of e)"type"in t&&t.type==="group"?(t.value!=null&&a.push(t),(l.has(t.id)||t.value==null)&&a.push(...Rt(t.items,l))):a.push(t);return a}function ll(e,l,a){return{flatItems:T(()=>{if(!l.value.length)return e.value;const s=Ot(e.value,l.value.map(c=>c.key));return Rt(s,a.value)})}}const nl=C({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),ol=O()({name:"VDataTableGroupHeaderRow",props:nl(),setup(e,l){let{slots:a}=l;const{isGroupOpen:t,toggleGroup:s,extractRows:c}=At(),{isSelected:n,isSomeSelected:o,select:i}=Pe(),{columns:u}=ke(),d=T(()=>c([e.item]));return()=>r("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[u.value.map(h=>{var f,m;if(h.key==="data-table-group"){const g=t(e.item)?"$expand":"$next",b=()=>s(e.item);return((f=a["data-table-group"])==null?void 0:f.call(a,{item:e.item,count:d.value.length,props:{icon:g,onClick:b}}))??r(Ae,{class:"v-data-table-group-header-row__column"},{default:()=>[r($,{size:"small",variant:"text",icon:g,onClick:b},null),r("span",null,[e.item.value]),r("span",null,[F("("),d.value.length,F(")")])]})}if(h.key==="data-table-select"){const g=n(d.value),b=o(d.value)&&!g,v=y=>i(d.value,y);return((m=a["data-table-select"])==null?void 0:m.call(a,{props:{modelValue:g,indeterminate:b,"onUpdate:modelValue":v}}))??r("td",null,[r($e,{modelValue:g,indeterminate:b,"onUpdate:modelValue":v},null)])}return r("td",null,null)})])}}),sl=C({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Gt=Symbol.for("vuetify:datatable:expanded");function ul(e){const l=B(e,"expandOnClick"),a=Z(e,"expanded",e.expanded,o=>new Set(o),o=>[...o.values()]);function t(o,i){const u=new Set(a.value);i?u.add(o.value):u.delete(o.value),a.value=u}function s(o){return a.value.has(o.value)}function c(o){t(o,!s(o))}const n={expand:t,expanded:a,expandOnClick:l,isExpanded:s,toggleExpand:c};return q(Gt,n),n}function zt(){const e=L(Gt);if(!e)throw new Error("foo");return e}const il=C({index:Number,item:Object,onClick:Function},"VDataTableRow"),rl=Wt({name:"VDataTableRow",props:il(),setup(e,l){let{slots:a}=l;const{isSelected:t,toggleSelect:s}=Pe(),{isExpanded:c,toggleExpand:n}=zt(),{columns:o}=ke();G(()=>r("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!e.onClick}],onClick:e.onClick},[e.item&&o.value.map((i,u)=>r(Ae,{align:i.align,fixed:i.fixed,fixedOffset:i.fixedOffset,lastFixed:i.lastFixed,noPadding:i.key==="data-table-select"||i.key==="data-table-expand",width:i.width},{default:()=>{var m,g;const d=e.item,h=`item.${i.key}`,f={index:e.index,item:e.item,columns:o.value,isSelected:t,toggleSelect:s,isExpanded:c,toggleExpand:n};return a[h]?a[h](f):i.key==="data-table-select"?((m=a["item.data-table-select"])==null?void 0:m.call(a,f))??r($e,{disabled:!d.selectable,modelValue:t([d]),onClick:ye(()=>s(d),["stop"])},null):i.key==="data-table-expand"?((g=a["item.data-table-expand"])==null?void 0:g.call(a,f))??r($,{icon:c(d)?"$collapse":"$expand",size:"small",variant:"text",onClick:ye(()=>n(d),["stop"])},null):ce(d.columns,i.key)}}))]))}}),Nt=C({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,"onClick:row":Function},"VDataTableRows"),Ze=O()({name:"VDataTableRows",props:Nt(),setup(e,l){let{emit:a,slots:t}=l;const{columns:s}=ke(),{expandOnClick:c,toggleExpand:n,isExpanded:o}=zt(),{isSelected:i,toggleSelect:u}=Pe(),{toggleGroup:d,isGroupOpen:h}=At(),{t:f}=Se();return G(()=>{var m;return e.loading&&t.loading?r("tr",{class:"v-data-table-rows-loading",key:"loading"},[r("td",{colspan:s.value.length},[t.loading()])]):!e.loading&&!e.items.length&&!e.hideNoData?r("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[r("td",{colspan:s.value.length},[((m=t["no-data"])==null?void 0:m.call(t))??f(e.noDataText)])]):r(Q,null,[e.items.map((g,b)=>{var x;if(g.type==="group")return t["group-header"]?t["group-header"]({index:b,item:g,columns:s.value,isExpanded:o,toggleExpand:n,isSelected:i,toggleSelect:u,toggleGroup:d,isGroupOpen:h}):r(ol,{key:`group-header_${g.id}`,item:g},t);const v={index:b,item:g,columns:s.value,isExpanded:o,toggleExpand:n,isSelected:i,toggleSelect:u},y={...v,props:{key:`item_${g.key??g.index}`,onClick:c.value||e["onClick:row"]?V=>{var S;c.value&&n(g),(S=e["onClick:row"])==null||S.call(e,V,{item:g})}:void 0,index:b,item:g}};return r(Q,null,[t.item?t.item(y):r(rl,y.props,t),o(g)&&((x=t["expanded-row"])==null?void 0:x.call(t,v))])})])}),{}}}),cl=C({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataTable-items");function dl(e,l,a,t){const s=e.returnObject?l:ce(l,e.itemValue),c=ce(l,e.itemSelectable,!0),n=t.reduce((o,i)=>(o[i.key]=ce(l,i.value??i.key),o),{});return{type:"item",key:e.returnObject?ce(l,e.itemValue):s,index:a,value:s,selectable:c,columns:n,raw:l}}function vl(e,l,a){return l.map((t,s)=>dl(e,t,s,a))}function fl(e,l){return{items:T(()=>vl(e,e.items,l.value))}}function ml(e){let{page:l,itemsPerPage:a,sortBy:t,groupBy:s,search:c}=e;const n=Xt("VDataTable"),o=T(()=>({page:l.value,itemsPerPage:a.value,sortBy:t.value,groupBy:s.value,search:c.value}));ne(()=>c==null?void 0:c.value,()=>{l.value=1});let i=null;ne(o,()=>{Yt(i,o.value)||(n.emit("update:options",o.value),i=o.value)},{deep:!0,immediate:!0})}const gl=C({...Nt(),width:[String,Number],search:String,...sl(),...Za(),...Ha(),...cl(),...ja(),...Xa(),...$t(),...wa()},"DataTable"),hl=C({...Ga(),...gl(),...ha(),...Vt()},"VDataTable"),ln=O()({name:"VDataTable",props:hl(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,l){let{emit:a,slots:t}=l;const{groupBy:s}=el(e),{sortBy:c,multiSort:n,mustSort:o}=Ya(e),{page:i,itemsPerPage:u}=za(e),{columns:d,headers:h}=La(e,{groupBy:s,showSelect:B(e,"showSelect"),showExpand:B(e,"showExpand")}),{items:f}=fl(e,d),m=B(e,"search"),{filteredItems:g}=ya(e,f,m,{transform:ae=>ae.columns}),{toggleSort:b}=qa({sortBy:c,multiSort:n,mustSort:o,page:i}),{sortByWithGroups:v,opened:y,extractRows:x,isGroupOpen:V,toggleGroup:S}=tl({groupBy:s,sortBy:c}),{sortedItems:p}=Ja(e,g,v),{flatItems:D}=ll(p,s,y),U=T(()=>D.value.length),{startIndex:z,stopIndex:_,pageCount:R,setItemsPerPage:j}=Na({page:i,itemsPerPage:u,itemsLength:U}),{paginatedItems:W}=Ma({items:D,startIndex:z,stopIndex:_,itemsPerPage:u}),A=T(()=>x(W.value)),{isSelected:K,select:te,selectAll:ue,toggleSelect:ie,someSelected:we,allSelected:Ve}=Wa(e,{allItems:f,currentPage:A}),{isExpanded:k,toggleExpand:P}=ul(e);ml({page:i,itemsPerPage:u,sortBy:c,groupBy:s,search:m}),pe({VDataTableRows:{hideNoData:B(e,"hideNoData"),noDataText:B(e,"noDataText"),loading:B(e,"loading"),loadingText:B(e,"loadingText")}});const E=T(()=>({page:i.value,itemsPerPage:u.value,sortBy:c.value,pageCount:R.value,toggleSort:b,setItemsPerPage:j,someSelected:we.value,allSelected:Ve.value,isSelected:K,select:te,selectAll:ue,toggleSelect:ie,isExpanded:k,toggleExpand:P,isGroupOpen:V,toggleGroup:S,items:A.value,groupedItems:W.value,columns:d.value,headers:h.value}));return G(()=>{const[ae]=Je.filterProps(e),[fe]=Qe.filterProps(e),[me]=Ze.filterProps(e),[X]=qe.filterProps(e);return r(qe,se({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},X),{top:()=>{var re;return(re=t.top)==null?void 0:re.call(t,E.value)},default:()=>{var re,Oe,Re,Ge;return t.default?t.default(E.value):r(Q,null,[(re=t.colgroup)==null?void 0:re.call(t,E.value),r("thead",null,[r(Qe,fe,t)]),(Oe=t.thead)==null?void 0:Oe.call(t,E.value),r("tbody",null,[t.body?t.body(E.value):r(Ze,se(me,{items:W.value}),t)]),(Re=t.tbody)==null?void 0:Re.call(t,E.value),(Ge=t.tfoot)==null?void 0:Ge.call(t,E.value)])},bottom:()=>t.bottom?t.bottom(E.value):r(Q,null,[r(Je,ae,{prepend:t["footer.prepend"]})])})}),{}}}),nn=be({__name:"EditOrderedItems",props:le({closeable:{type:Boolean,default:!1},newItem:{type:[Function,Boolean]},label:{default:"Name"},labelParent:{default:""},title:{default:"Edit Ordered Items"},showSave:{type:Boolean,default:!1},slotNamePrefix:{default:"item"}},{modelValue:{required:!0}}),emits:le(["add","save","close"],["update:modelValue"]),setup(e,{emit:l}){const a=Ee(e,"modelValue"),t=()=>{l("save"),l("close")},s=()=>{if(e.newItem){const u=e.newItem();u.Order=a.value.length+1,a.value.push(u)}else a.value.push({Order:a.value.length+1})},c=u=>{a.value.splice(u,1)},n=u=>{ba(u,a.value)},o=u=>{pa(u,a.value)},i=u=>e.labelParent&&u[e.labelParent]?u[e.labelParent][e.label]:u[e.label];return a.value.find(u=>u.Order===0)&&Ye(a.value),a.value.find(u=>a.value.find(d=>d.Order===u.Order&&d!==u))&&Ye(a.value),(u,d)=>(M(),J(pt,null,{default:w(()=>[r(gt,{dark:"",color:"primary"},{default:w(()=>[u.closeable?(M(),J($,{key:0,icon:"",dark:"",onClick:d[0]||(d[0]=h=>l("close"))},{default:w(()=>[r(Y,null,{default:w(()=>[F("mdi:mdi-close")]),_:1})]),_:1})):Ie("",!0),r(mt,null,{default:w(()=>[F(He(u.title),1)]),_:1}),r(ht),r(yt,null,{default:w(()=>[u.newItem!==void 0?(M(),J($,{key:0,variant:"text",onClick:s},{default:w(()=>[F(" Add ")]),_:1})):Ie("",!0),u.showSave?(M(),J($,{key:1,variant:"text",onClick:t},{default:w(()=>[F(" Save ")]),_:1})):Ie("",!0)]),_:1})]),_:1}),r(bt,{class:"pa-0"},{default:w(()=>[r(Ua,null,{default:w(()=>[(M(!0),lt(Q,null,qt(a.value,(h,f)=>(M(),J(Ra,{key:h.Order,class:"mt-0"},{default:w(()=>[r(Pt,null,{actions:w(({expanded:m})=>[r($,{icon:"mdi:mdi-close",size:"x-small",color:"red",class:"mr-1",onClick:g=>c(f)},null,8,["onClick"]),r(Y,{class:"align-self-center text-h5",icon:m?"mdi:mdi-chevron-up":"mdi:mdi-chevron-down",variant:"flat",size:"x-small"},null,8,["icon"])]),default:w(()=>[r($,{icon:"mdi:mdi-menu-up",size:"x-small",color:"primary",class:"mr-1",onClick:ye(m=>o(h),["stop"])},null,8,["onClick"]),r($,{icon:"mdi:mdi-menu-down",size:"x-small",color:"secondary",class:"mr-4",onClick:ye(m=>n(h),["stop"])},null,8,["onClick"]),Le(u.$slots,`${u.slotNamePrefix}_${f}_title`,{},()=>[F(He(i(h)),1)])]),_:2},1024),r(Tt,{class:"px-0"},{default:w(()=>[Le(u.$slots,`${u.slotNamePrefix}_${f}`)]),_:2},1024)]),_:2},1024))),128))]),_:3})]),_:3})]),_:3}))}});const Ft=Symbol.for("vuetify:v-tabs"),yl=C({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Kt(aa({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),bl=O()({name:"VTab",props:yl(),setup(e,l){let{slots:a,attrs:t}=l;const{textColorClasses:s,textColorStyles:c}=va(e,"sliderColor"),n=T(()=>e.direction==="horizontal"),o=N(!1),i=I(),u=I();function d(h){var m,g;let{value:f}=h;if(o.value=f,f){const b=(g=(m=i.value)==null?void 0:m.$el.parentElement)==null?void 0:g.querySelector(".v-tab--selected .v-tab__slider"),v=u.value;if(!b||!v)return;const y=getComputedStyle(b).color,x=b.getBoundingClientRect(),V=v.getBoundingClientRect(),S=n.value?"x":"y",p=n.value?"X":"Y",D=n.value?"right":"bottom",U=n.value?"width":"height",z=x[S],_=V[S],R=z>_?x[D]-V[D]:x[S]-V[S],j=Math.sign(R)>0?n.value?"right":"bottom":Math.sign(R)<0?n.value?"left":"top":"center",A=(Math.abs(R)+(Math.sign(R)<0?x[U]:V[U]))/Math.max(x[U],V[U]),K=x[U]/V[U],te=1.5;Ia(v,{backgroundColor:[y,"currentcolor"],transform:[`translate${p}(${R}px) scale${p}(${K})`,`translate${p}(${R/te}px) scale${p}(${(A-1)/te+1})`,"none"],transformOrigin:Array(3).fill(j)},{duration:225,easing:Ca})}}return G(()=>{const[h]=$.filterProps(e);return r($,se({symbol:Ft,ref:i,class:["v-tab",e.class],style:e.style,tabindex:o.value?0:-1,role:"tab","aria-selected":String(o.value),active:!1,block:e.fixed,maxWidth:e.fixed?300:void 0,rounded:0},h,t,{"onGroup:selected":d}),{default:()=>{var f;return[((f=a.default)==null?void 0:f.call(a))??e.text,!e.hideSlider&&r("div",{ref:u,class:["v-tab__slider",s.value],style:c.value},null)]}})}),{}}});function et(e){const a=Math.abs(e);return Math.sign(e)*(a/((1/.501-2)*(1-a)+1))}function tt(e){let{selectedElement:l,containerSize:a,contentSize:t,isRtl:s,currentScrollOffset:c,isHorizontal:n}=e;const o=n?l.clientWidth:l.clientHeight,i=n?l.offsetLeft:l.offsetTop,u=s&&n?t-i-o:i,d=a+c,h=o+u,f=o*.4;return u<=c?c=Math.max(u-f,0):d<=h&&(c=Math.min(c-(d-h-f),t-a)),c}function pl(e){let{selectedElement:l,containerSize:a,contentSize:t,isRtl:s,isHorizontal:c}=e;const n=c?l.clientWidth:l.clientHeight,o=c?l.offsetLeft:l.offsetTop,i=s&&c?t-o-n/2-a/2:o+n/2-a/2;return Math.min(t-a,Math.max(0,i))}const xl=Symbol.for("vuetify:v-slide-group"),Mt=C({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:xl},nextIcon:{type:oe,default:"$next"},prevIcon:{type:oe,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...ee(),...ve(),...dt({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),at=O()({name:"VSlideGroup",props:Mt(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:a}=l;const{isRtl:t}=rt(),{mobile:s}=Jt(),c=Be(e,e.symbol),n=N(!1),o=N(0),i=N(0),u=N(0),d=T(()=>e.direction==="horizontal"),{resizeRef:h,contentRect:f}=je(),{resizeRef:m,contentRect:g}=je(),b=T(()=>c.selected.value.length?c.items.value.findIndex(k=>k.id===c.selected.value[0]):-1),v=T(()=>c.selected.value.length?c.items.value.findIndex(k=>k.id===c.selected.value[c.selected.value.length-1]):-1);if(Qt){let k=-1;ne(()=>[c.selected.value,f.value,g.value,d.value],()=>{cancelAnimationFrame(k),k=requestAnimationFrame(()=>{if(f.value&&g.value){const P=d.value?"width":"height";i.value=f.value[P],u.value=g.value[P],n.value=i.value+1<u.value}if(b.value>=0&&m.value){const P=m.value.children[v.value];b.value===0||!n.value?o.value=0:e.centerActive?o.value=pl({selectedElement:P,containerSize:i.value,contentSize:u.value,isRtl:t.value,isHorizontal:d.value}):n.value&&(o.value=tt({selectedElement:P,containerSize:i.value,contentSize:u.value,isRtl:t.value,currentScrollOffset:o.value,isHorizontal:d.value}))}})})}const y=N(!1);let x=0,V=0;function S(k){const P=d.value?"clientX":"clientY";V=(t.value&&d.value?-1:1)*o.value,x=k.touches[0][P],y.value=!0}function p(k){if(!n.value)return;const P=d.value?"clientX":"clientY",E=t.value&&d.value?-1:1;o.value=E*(V+x-k.touches[0][P])}function D(k){const P=u.value-i.value;o.value<0||!n.value?o.value=0:o.value>=P&&(o.value=P),y.value=!1}function U(){h.value&&(h.value[d.value?"scrollLeft":"scrollTop"]=0)}const z=N(!1);function _(k){if(z.value=!0,!(!n.value||!m.value)){for(const P of k.composedPath())for(const E of m.value.children)if(E===P){o.value=tt({selectedElement:E,containerSize:i.value,contentSize:u.value,isRtl:t.value,currentScrollOffset:o.value,isHorizontal:d.value});return}}}function R(k){z.value=!1}function j(k){var P;!z.value&&!(k.relatedTarget&&((P=m.value)!=null&&P.contains(k.relatedTarget)))&&A()}function W(k){m.value&&(d.value?k.key==="ArrowRight"?A(t.value?"prev":"next"):k.key==="ArrowLeft"&&A(t.value?"next":"prev"):k.key==="ArrowDown"?A("next"):k.key==="ArrowUp"&&A("prev"),k.key==="Home"?A("first"):k.key==="End"&&A("last"))}function A(k){var P,E,ae,fe,me;if(m.value)if(!k)(P=Zt(m.value)[0])==null||P.focus();else if(k==="next"){const X=(E=m.value.querySelector(":focus"))==null?void 0:E.nextElementSibling;X?X.focus():A("first")}else if(k==="prev"){const X=(ae=m.value.querySelector(":focus"))==null?void 0:ae.previousElementSibling;X?X.focus():A("last")}else k==="first"?(fe=m.value.firstElementChild)==null||fe.focus():k==="last"&&((me=m.value.lastElementChild)==null||me.focus())}function K(k){const P=o.value+(k==="prev"?-1:1)*i.value;o.value=he(P,0,u.value-i.value)}const te=T(()=>{let k=o.value>u.value-i.value?-(u.value-i.value)+et(u.value-i.value-o.value):-o.value;o.value<=0&&(k=et(-o.value));const P=t.value&&d.value?-1:1;return{transform:`translate${d.value?"X":"Y"}(${P*k}px)`,transition:y.value?"none":"",willChange:y.value?"transform":""}}),ue=T(()=>({next:c.next,prev:c.prev,select:c.select,isSelected:c.isSelected})),ie=T(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!s.value;case!0:return n.value||Math.abs(o.value)>0;case"mobile":return s.value||n.value||Math.abs(o.value)>0;default:return!s.value&&(n.value||Math.abs(o.value)>0)}}),we=T(()=>Math.abs(o.value)>0),Ve=T(()=>u.value>Math.abs(o.value)+i.value);return G(()=>r(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!d.value,"v-slide-group--has-affixes":ie.value,"v-slide-group--is-overflowing":n.value},e.class],style:e.style,tabindex:z.value||c.selected.value.length?-1:0,onFocus:j},{default:()=>{var k,P,E;return[ie.value&&r("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!we.value}],onClick:()=>K("prev")},[((k=a.prev)==null?void 0:k.call(a,ue.value))??r(Ke,null,{default:()=>[r(Y,{icon:t.value?e.nextIcon:e.prevIcon},null)]})]),r("div",{key:"container",ref:h,class:"v-slide-group__container",onScroll:U},[r("div",{ref:m,class:"v-slide-group__content",style:te.value,onTouchstartPassive:S,onTouchmovePassive:p,onTouchendPassive:D,onFocusin:_,onFocusout:R,onKeydown:W},[(P=a.default)==null?void 0:P.call(a,ue.value)])]),ie.value&&r("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!Ve.value}],onClick:()=>K("next")},[((E=a.next)==null?void 0:E.call(a,ue.value))??r(Ke,null,{default:()=>[r(Y,{icon:t.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:c.selected,scrollTo:K,scrollOffset:o,focus:A}}});function Sl(e){return e?e.map(l=>typeof l=="string"?{title:l,value:l}:l):[]}const Tl=C({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Mt({mandatory:"force"}),...fa(),...ve()},"VTabs"),on=O()({name:"VTabs",props:Tl(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:a}=l;const t=Z(e,"modelValue"),s=T(()=>Sl(e.items)),{densityClasses:c}=ma(e),{backgroundColorClasses:n,backgroundColorStyles:o}=Te(B(e,"bgColor"));return pe({VTab:{color:B(e,"color"),direction:B(e,"direction"),stacked:B(e,"stacked"),fixed:B(e,"fixedTabs"),sliderColor:B(e,"sliderColor"),hideSlider:B(e,"hideSlider")}}),G(()=>{const[i]=at.filterProps(e);return r(at,se(i,{modelValue:t.value,"onUpdate:modelValue":u=>t.value=u,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},c.value,n.value,e.class],style:[{"--v-tabs-height":H(e.height)},o.value,e.style],role:"tablist",symbol:Ft}),{default:()=>[a.default?a.default():s.value.map(u=>r(bl,se(u,{key:u.title}),null))]})}),{}}});const kl=e=>{const{touchstartX:l,touchendX:a,touchstartY:t,touchendY:s}=e,c=.5,n=16;e.offsetX=a-l,e.offsetY=s-t,Math.abs(e.offsetY)<c*Math.abs(e.offsetX)&&(e.left&&a<l-n&&e.left(e),e.right&&a>l+n&&e.right(e)),Math.abs(e.offsetX)<c*Math.abs(e.offsetY)&&(e.up&&s<t-n&&e.up(e),e.down&&s>t+n&&e.down(e))};function Pl(e,l){var t;const a=e.changedTouches[0];l.touchstartX=a.clientX,l.touchstartY=a.clientY,(t=l.start)==null||t.call(l,{originalEvent:e,...l})}function wl(e,l){var t;const a=e.changedTouches[0];l.touchendX=a.clientX,l.touchendY=a.clientY,(t=l.end)==null||t.call(l,{originalEvent:e,...l}),kl(l)}function Vl(e,l){var t;const a=e.changedTouches[0];l.touchmoveX=a.clientX,l.touchmoveY=a.clientY,(t=l.move)==null||t.call(l,{originalEvent:e,...l})}function Il(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const l={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:a=>Pl(a,l),touchend:a=>wl(a,l),touchmove:a=>Vl(a,l)}}function Cl(e,l){var o;const a=l.value,t=a!=null&&a.parent?e.parentElement:e,s=(a==null?void 0:a.options)??{passive:!0},c=(o=l.instance)==null?void 0:o.$.uid;if(!t||!c)return;const n=Il(l.value);t._touchHandlers=t._touchHandlers??Object.create(null),t._touchHandlers[c]=n,ct(n).forEach(i=>{t.addEventListener(i,n[i],s)})}function Dl(e,l){var c,n;const a=(c=l.value)!=null&&c.parent?e.parentElement:e,t=(n=l.instance)==null?void 0:n.$.uid;if(!(a!=null&&a._touchHandlers)||!t)return;const s=a._touchHandlers[t];ct(s).forEach(o=>{a.removeEventListener(o,s[o])}),delete a._touchHandlers[t]}const Ht={mounted:Cl,unmounted:Dl},El=Ht,Lt=Symbol.for("vuetify:v-window"),_t=Symbol.for("vuetify:v-window-group"),Bl=C({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...ee(),...ve(),...nt()},"VWindow"),sn=O()({name:"VWindow",directives:{Touch:Ht},props:Bl(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:a}=l;const{themeClasses:t}=ot(e),{isRtl:s}=rt(),{t:c}=Se(),n=Be(e,_t),o=I(),i=T(()=>s.value?!e.reverse:e.reverse),u=N(!1),d=T(()=>{const S=e.direction==="vertical"?"y":"x",D=(i.value?!u.value:u.value)?"-reverse":"";return`v-window-${S}${D}-transition`}),h=N(0),f=I(void 0),m=T(()=>n.items.value.findIndex(S=>n.selected.value.includes(S.id)));ne(m,(S,p)=>{const D=n.items.value.length,U=D-1;D<=2?u.value=S<p:S===U&&p===0?u.value=!0:S===0&&p===U?u.value=!1:u.value=S<p}),q(Lt,{transition:d,isReversed:u,transitionCount:h,transitionHeight:f,rootRef:o});const g=T(()=>e.continuous||m.value!==0),b=T(()=>e.continuous||m.value!==n.items.value.length-1);function v(){g.value&&n.prev()}function y(){b.value&&n.next()}const x=T(()=>{const S=[],p={icon:s.value?e.nextIcon:e.prevIcon,class:`v-window__${i.value?"right":"left"}`,onClick:n.prev,ariaLabel:c("$vuetify.carousel.prev")};S.push(g.value?a.prev?a.prev({props:p}):r($,p,null):r("div",null,null));const D={icon:s.value?e.prevIcon:e.nextIcon,class:`v-window__${i.value?"left":"right"}`,onClick:n.next,ariaLabel:c("$vuetify.carousel.next")};return S.push(b.value?a.next?a.next({props:D}):r($,D,null):r("div",null,null)),S}),V=T(()=>e.touch===!1?e.touch:{...{left:()=>{i.value?v():y()},right:()=>{i.value?y():v()},start:p=>{let{originalEvent:D}=p;D.stopPropagation()}},...e.touch===!0?{}:e.touch});return G(()=>xe(r(e.tag,{ref:o,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},t.value,e.class],style:e.style},{default:()=>{var S,p;return[r("div",{class:"v-window__container",style:{height:f.value}},[(S=a.default)==null?void 0:S.call(a,{group:n}),e.showArrows!==!1&&r("div",{class:"v-window__controls"},[x.value])]),(p=a.additional)==null?void 0:p.call(a,{group:n})]}}),[[ut("touch"),V.value]])),{group:n}}}),$l=C({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...ee(),...vt(),...Ue()},"VWindowItem"),un=O()({name:"VWindowItem",directives:{Touch:El},props:$l(),emits:{"group:selected":e=>!0},setup(e,l){let{slots:a}=l;const t=L(Lt),s=ft(e,_t),{isBooted:c}=Ta();if(!t||!s)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const n=N(!1),o=T(()=>c.value&&(t.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function i(){!n.value||!t||(n.value=!1,t.transitionCount.value>0&&(t.transitionCount.value-=1,t.transitionCount.value===0&&(t.transitionHeight.value=void 0)))}function u(){var g;n.value||!t||(n.value=!0,t.transitionCount.value===0&&(t.transitionHeight.value=H((g=t.rootRef.value)==null?void 0:g.clientHeight)),t.transitionCount.value+=1)}function d(){i()}function h(g){n.value&&ea(()=>{!o.value||!n.value||!t||(t.transitionHeight.value=H(g.clientHeight))})}const f=T(()=>{const g=t.isReversed.value?e.reverseTransition:e.transition;return o.value?{name:typeof g!="string"?t.transition.value:g,onBeforeEnter:u,onAfterEnter:i,onEnterCancelled:d,onBeforeLeave:u,onAfterLeave:i,onLeaveCancelled:d,onEnter:h}:!1}),{hasContent:m}=St(e,s.isSelected);return G(()=>r(Da,{transition:f.value,disabled:!c.value},{default:()=>{var g;return[xe(r("div",{class:["v-window-item",s.selectedClass.value,e.class],style:e.style},[m.value&&((g=a.default)==null?void 0:g.call(a))]),[[st,s.isSelected.value]])]}})),{groupItem:s}}});export{Qe as A,Ze as B,Ua as V,tn as _,an as a,Ra as b,Pt as c,Tt as d,ln as e,nn as f,on as g,bl as h,un as i,sn as j,gl as k,Vt as l,Ga as m,el as n,Ya as o,za as p,La as q,qa as r,tl as s,Na as t,fl as u,ll as v,Wa as w,ul as x,ml as y,Je as z};
