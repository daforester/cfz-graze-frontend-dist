import{I as M,a0 as ue,a1 as ce,r as C,w as q,M as e,N as r,O as t,v as m,P as i,R as de,Q as h,S as T,a2 as me,X as y,a3 as W,K as J,V as f,H as A,a4 as j,W as w,e as $,L as H,Y as ve,Z as pe,_ as ae}from"./index-26d0dbb1.js";import{G as X}from"./userData-a1d6dbdb.js";import{_ as fe}from"./LoginView.vue_vue_type_script_setup_true_lang-fa77e6f4.js";import{s as B}from"./index-26b71cef.js";import{F as E}from"./form-29fd1dbb.js";import{S as ee,a as _e}from"./submission-9dd916bb.js";import{V as re,a as ye}from"./scopeId-28e98f55.js";import{c as z}from"./canEditForm-787038d8.js";import{s as ge}from"./sortSubmissions-8ed80f07.js";import{P as Y,a as Se,f as Te,u as he}from"./useDisplayTransactions-f9a9aa1a.js";import{_ as we}from"./ModelDialog.vue_vue_type_script_setup_true_lang-eaa25677.js";import{V as ke}from"./VAlert-b061e612.js";import{V as Ee}from"./VForm-d98253ee.js";import{V as x,a as O}from"./VRow-684a14d6.js";import{V as g,a as Ie}from"./VBtn-4792c39e.js";import{j as K}from"./VContainer-77491802.js";import{V as Ue}from"./SaveButton.vue_vue_type_script_setup_true_lang-a14aa268.js";import{V as Ae}from"./VAvatar-0bc93986.js";import{V as te,a as Ce,b as Pe,c as ne,d as Re,e as be}from"./VCard-9261adb4.js";import"./emailFormVariant-e5e0aad4.js";import"./LoginButton-2a3de67b.js";import"./createSimpleFunctional-8454c229.js";import"./forwardRefs-8cc8d336.js";import"./VDialog-d223460e.js";import"./VToolbar-c1998423.js";var se="https://js.stripe.com/v3",De=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,oe="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Fe=function(){for(var s=document.querySelectorAll('script[src^="'.concat(se,'"]')),d=0;d<s.length;d++){var u=s[d];if(De.test(u.src))return u}return null},Ve=function(s){var d=s&&!s.advancedFraudSignals?"?advancedFraudSignals=false":"",u=document.createElement("script");u.src="".concat(se).concat(d);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(u),u},Oe=function(s,d){!s||!s._registerWrapper||s._registerWrapper({name:"stripe-js",version:"2.1.2",startTime:d})},G=null,Me=function(s){return G!==null||(G=new Promise(function(d,u){if(typeof window>"u"||typeof document>"u"){d(null);return}if(window.Stripe&&s&&console.warn(oe),window.Stripe){d(window.Stripe);return}try{var a=Fe();a&&s?console.warn(oe):a||(a=Ve(s)),a.addEventListener("load",function(){window.Stripe?d(window.Stripe):u(new Error("Stripe.js not available"))}),a.addEventListener("error",function(){u(new Error("Failed to load Stripe.js"))})}catch(o){u(o);return}})),G},Ne=function(s,d,u){if(s===null)return null;var a=s.apply(void 0,d);return Oe(a,u),a},ie=Promise.resolve().then(function(){return Me(null)}),le=!1;ie.catch(function(v){le||console.warn(v)});var $e=function(){for(var s=arguments.length,d=new Array(s),u=0;u<s;u++)d[u]=arguments[u];le=!0;var a=Date.now();return ie.then(function(o){return Ne(o,d,a)})};const Ye=y("p",{class:"my-4"},[i(" Payments are non-refundable, please check our "),y("a",{target:"_blank",href:"https://www.scotiacon.org.uk/policies"},"policies"),i(" for further information. ")],-1),xe=y("p",{class:"my-4"}," You must be over 18 to attend the convention and be able to produce valid ID matching the details on your registration. ",-1),Le=y("p",{class:"my-4"}," If you are unable to provide valid ID when asked at the convention you will not be issued your attendee badge. ",-1),ze=y("p",{class:"my-4"}," Payments should be made by the authorised card holder only. ",-1),Ge=y("p",{class:"my-4"},[i(" Please contact "),y("a",{href:"mailto:registration@scotiacon.org.uk"},"registration@scotiacon.org.uk"),i(" if you need any further assistance. ")],-1),je=y("div",{id:"link-authentication-element"},null,-1),Be=y("div",{id:"payment-element"},null,-1),He=M({__name:"StripePayment",props:ue({paymentTransactions:{},registration:{}},{modelValue:{type:Boolean,required:!0}}),emits:["update:modelValue"],setup(v){const s=ce(v,"modelValue"),d=W(),u=X(),a=C(),o=C(),S=C((u==null?void 0:u.Additional.Email)||""),I=C(!1),b=C("");let F;const V=C(!1);q(s,c=>{c&&d.stripePublicKey().then(async p=>{p&&(o.value=await $e(p),await L(o.value),await n(o.value))})});async function L(c){var U;if(!c)return;const p=await d.stripePaymentIntent(((U=v.registration)==null?void 0:U.RegistrationUUID)||"");F=c.elements({clientSecret:p});const _=F.create("linkAuthentication",{defaultValues:{email:S.value}});_.mount("#link-authentication-element"),_.on("change",D=>{S.value=D.value.email});const P={layout:"tabs"};F.create("payment",P).mount("#payment-element")}async function N(c,p){if(!p)return;c.preventDefault(),V.value=!0;const _=new URL(location.href);_.pathname+="payment/stripe/processing";const{error:P}=await p.confirmPayment({elements:F,confirmParams:{return_url:_.toString(),receipt_email:S.value}});P.type==="card_error"||P.type==="validation_error"?k(P.message):k("An unexpected error occurred."),V.value=!1}async function n(c){if(!c)return;const p=new URLSearchParams(window.location.search).get("payment_intent_client_secret");if(!p)return;const{paymentIntent:_}=await c.retrievePaymentIntent(p);switch(_==null?void 0:_.status){case"succeeded":k("Payment succeeded!");break;case"processing":k("Your payment is processing.");break;case"requires_payment_method":k("Your payment was not successful, please try again.");break;default:k("Something went wrong.");break}}function k(c){b.value=c,I.value=!0}return(c,p)=>(e(),r(we,{modelValue:s.value,"onUpdate:modelValue":p[3]||(p[3]=_=>s.value=_),title:"Make a Payment",color:"blue-darken-4",fullscreen:"",persistent:""},{default:t(()=>[m(K,{class:"pa-0"},{default:t(()=>[m(ke,{class:"mb-2",closable:!0},{title:t(()=>[i(" Payment Information ")]),text:t(()=>[Ye,xe,Le,ze,Ge]),_:1}),m(Ee,{ref_key:"paymentForm",ref:a,id:"payment-form",onSubmit:p[0]||(p[0]=de(_=>N(_,o.value),["prevent"]))},{default:t(()=>[m(x,null,{default:t(()=>[m(O,null,{default:t(()=>[je]),_:1})]),_:1}),m(x,null,{default:t(()=>[m(O,null,{default:t(()=>[Be]),_:1})]),_:1}),m(x,null,{default:t(()=>[c.registration?(e(),r(O,{key:0,class:"font-weight-bold text-right"},{default:t(()=>[i(" Payment Amount: £"+h(c.registration.Total-c.registration.Paid),1)]),_:1})):T("",!0)]),_:1}),m(x,null,{default:t(()=>[m(O,{class:"text-right",cols:"12",sm:"3",md:"2",lg:"2",xl:"1"},{default:t(()=>[m(g,{color:"error",class:"w-100"},{default:t(()=>[i("Cancel")]),_:1})]),_:1}),m(re),m(O,{class:"text-left",cols:"12",sm:"3",md:"2",lg:"2",xl:"1"},{default:t(()=>[m(g,{type:"submit",color:"success",class:"w-100"},me({default:t(()=>[i(" Pay Now ")]),_:2},[V.value?{name:"prepend",fn:t(()=>[m(Ie,{size:"20",indeterminate:""})]),key:"0"}:void 0]),1024)]),_:1})]),_:1})]),_:1},512)]),_:1}),m(Ue,{modelValue:I.value,"onUpdate:modelValue":p[2]||(p[2]=_=>I.value=_)},{actions:t(()=>[m(g,{variant:"text",onClick:p[1]||(p[1]=_=>I.value=!1)},{default:t(()=>[i(" Close ")]),_:1})]),default:t(()=>[i(h(b.value)+" ",1)]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]))}}),qe={key:0},We={key:1,class:"v-row"},Xe={key:0,class:"v-col v-col-10 py-1 v-row mx-0 pl-0"},Ke={class:"v-col v-col-12 v-col-sm-4 v-col-md-3 font-weight-bold pb-0 pr-0"},Qe={class:"v-col v-col-12 v-col-sm-8 v-col-md-9 font-italic pt-0 pt-sm-3 pb-sm-0 pl-sm-0"},Ze={key:1,class:"v-col v-col-10 py-1 v-row mx-0 pl-0"},Je={class:"v-col v-col-12 v-col-sm-4 v-col-md-3 font-weight-bold pb-0 pr-0"},et={class:"v-col v-col-12 v-col-sm-8 v-col-md-9 font-italic pt-0 pt-sm-3 pb-sm-0 pl-sm-0"},tt={class:"v-col v-col-2 align-self-end text-right py-1 text-no-wrap"},nt=y("dt",{class:"v-col v-col-9 py-1 font-weight-bold totals"}," Total Charges ",-1),ot={class:"v-col v-col-3 align-self-end text-right py-1 totals text-no-wrap"},at=y("dt",{class:"v-col v-col-9 py-1 font-weight-bold"}," Current Payments ",-1),rt={class:"v-col v-col-3 align-self-end text-right py-1 text-no-wrap"},st=y("dt",{class:"v-col v-col-9 py-1 font-weight-bold totals"}," Balance Due ",-1),it={class:"v-col v-col-3 align-self-end text-right py-1 totals text-no-wrap"},lt=M({__name:"AttendeeTransactionList",props:{paymentTransactions:{},registration:{}},setup(v){const s=v,d=C(J(s.paymentTransactions));q(s,()=>{d.value=J(s.paymentTransactions)});const u=(a,o)=>a.Type===Y.PAYMENT_TRANSACTION_TYPE_CHARGE&&o.Type!==Y.PAYMENT_TRANSACTION_TYPE_CHARGE?-1:a.Type!==Y.PAYMENT_TRANSACTION_TYPE_CHARGE&&o.Type===Y.PAYMENT_TRANSACTION_TYPE_CHARGE||(a.UpdatedAt||0)>(o.UpdatedAt||0)?1:a.UpdatedAt===o.UpdatedAt?0:-1;return(a,o)=>a.registration.Total==0?(e(),f("p",qe," Your registration is currently being processed, payment information will appear here when ready. ")):(e(),f("dl",We,[(e(!0),f(A,null,j(d.value.sort(u),S=>{var I;return e(),f(A,{key:S.PaymentTransactionUUID},[S.Type===w(Y).PAYMENT_TRANSACTION_TYPE_CHARGE?(e(),f("dt",Xe,[y("div",Ke,h(S.Description.split(":")[0]),1),y("div",Qe,h(S.Description.split(":")[1]),1)])):(e(),f("dt",Ze,[y("div",Je,h((I=w(Se).find(b=>b.value===S.Type))==null?void 0:I.title),1),y("div",et," [ "+h(w(Te)(S.UpdatedAt||""))+" ] "+h(S.Description),1)])),y("dd",tt," £"+h(S.Amount),1)],64)}),128)),nt,y("dd",ot," £"+h(a.registration.Total),1),at,y("dd",rt," £"+h(a.registration.Paid),1),st,y("dd",it," £"+h(a.registration.Total-a.registration.Paid),1)]))}}),ut=v=>(ve("data-v-d218a137"),v=v(),pe(),v),ct=["innerHTML"],dt={key:0},mt={key:0,class:"font-weight-bold float-left pt-1 w-50"},vt={key:1,class:"pa-1"},pt={key:0,class:"font-weight-bold float-left pt-1 w-50"},ft={key:1},_t={class:"font-weight-bold float-left pt-1 w-50"},yt={class:"text-red-darken-4"},gt={key:1,class:"text-red-darken-4 mt-4"},St=ut(()=>y("strong",null,"There are forms above that require completion, please edit and save them.",-1)),Tt=[St],ht=M({__name:"OpenConvention",props:{convention:{},forms:{default:()=>[]}},setup(v){const s=ye(),d=W(),{getPaymentTransactions:u}=he(),a=C(s.GetConventionLogoURL(v.convention.ConventionUUID)),o=C(),S=C([]),I=C(!1),b=$(()=>{var n;return z(v.forms,((n=o.value)==null?void 0:n.Submissions)||[],E.FORM_TYPE_REGISTRATION)}),F=$(()=>{var n;return z(v.forms,((n=o.value)==null?void 0:n.Submissions)||[],E.FORM_TYPE_DEALER)}),V=$(()=>{var n;return z(v.forms,((n=o.value)==null?void 0:n.Submissions)||[],E.FORM_TYPE_ACCOMMODATION)}),L=$(()=>{var n;return z(v.forms,((n=o.value)==null?void 0:n.Submissions)||[],E.FORM_TYPE_ADDITIONAL)}),N=$(()=>{var n,k;return o.value&&((n=o.value)!=null&&n.Submissions)?!!((k=o.value)!=null&&k.Submissions.find(c=>{var p;return((p=c.Form)==null?void 0:p.Type)==E.FORM_TYPE_REGISTRATION&&(c.Status==ee.SUBMISSION_STATUS_ACCEPTED||c.Status==ee.SUBMISSION_STATUS_CONFIRMED)})):!1});return q(()=>v.forms,()=>{d.getRegistrationByConvention(v.convention.ConventionUUID).then(n=>{var k;n&&(n.Submissions?(n.Submissions.forEach((c,p)=>{c.Form||(n.Submissions[p].Form=v.forms.find(_=>_.FormUUID===c.FormUUID))}),ge(n.Submissions)):n.Submissions=[],o.value=n,N.value&&u(((k=o.value)==null?void 0:k.RegistrationUUID)||"").then(c=>{S.value=c}))})}),(n,k)=>{const c=H("router-link"),p=H("RouterLink");return e(),r(be,{class:"elevation-5 flex-1-0 d-flex flex-column"},{default:t(()=>[m(Pe,{class:"flex-1-1 align-content-start"},{default:t(()=>[a.value?(e(),r(Ae,{key:0,src:a.value,title:n.convention.Name,class:"logo text-center"},null,8,["src","title"])):T("",!0),n.convention.Name?(e(),r(te,{key:1,class:"text-center"},{default:t(()=>[i(h(n.convention.Name),1)]),_:1})):T("",!0),n.convention.Description?(e(),r(Ce,{key:2,class:"text-wrap subtitle"},{default:t(()=>[y("div",{innerHTML:n.convention.Description},null,8,ct)]),_:1})):T("",!0)]),_:1}),m(ne,null,{default:t(()=>{var _,P;return[o.value?(e(),f("dl",dt,[o.value.Reference?(e(),f("dt",mt," Badge No: ")):T("",!0),o.value.Reference?(e(),f("dd",vt," #"+h(o.value.Reference),1)):T("",!0),(e(!0),f(A,null,j((_=o.value)==null?void 0:_.Submissions,l=>{var U,D,Q,Z;return e(),f(A,{key:l.SubmissionUUID},[l.Form?(e(),f(A,{key:0},[l.Form?(e(),f("dt",pt,h(l.Form.Heading),1)):T("",!0),l.Form?(e(),f("dd",ft,[i(h(w(_e)(l.Status))+" ",1),((U=l.Form)==null?void 0:U.Type)===w(E).FORM_TYPE_REGISTRATION?(e(),r(c,{key:0,to:`/register/${n.convention.Slug||n.convention.ConventionUUID}/registration`},{default:t(()=>{var R;return[(R=l.Form)!=null&&R.State.Edit&&b.value?(e(),r(g,{key:0,size:"small",variant:"text",color:"success"},{default:t(()=>[i(" Edit ")]),_:1})):(e(),r(g,{key:1,size:"small",variant:"text",color:"warning"},{default:t(()=>[i("View")]),_:1}))]}),_:2},1032,["to"])):((D=l.Form)==null?void 0:D.Type)===w(E).FORM_TYPE_ACCOMMODATION?(e(),r(c,{key:1,to:`/register/${n.convention.Slug||n.convention.ConventionUUID}/accommodation`},{default:t(()=>{var R;return[(R=l.Form)!=null&&R.State.Edit&&V.value?(e(),r(g,{key:0,size:"small",variant:"text",color:"success"},{default:t(()=>[i(" Edit ")]),_:1})):(e(),r(g,{key:1,size:"small",variant:"text",color:"warning"},{default:t(()=>[i("View")]),_:1}))]}),_:2},1032,["to"])):((Q=l.Form)==null?void 0:Q.Type)===w(E).FORM_TYPE_DEALER?(e(),r(c,{key:2,to:`/register/${n.convention.Slug||n.convention.ConventionUUID}/dealer`},{default:t(()=>{var R;return[(R=l.Form)!=null&&R.State.Edit&&F.value?(e(),r(g,{key:0,size:"small",variant:"text",color:"success"},{default:t(()=>[i(" Edit ")]),_:1})):(e(),r(g,{key:1,size:"small",variant:"text",color:"warning"},{default:t(()=>[i("View")]),_:1}))]}),_:2},1032,["to"])):((Z=l.Form)==null?void 0:Z.Type)===w(E).FORM_TYPE_ADDITIONAL?(e(),r(c,{key:3,to:`/register/${n.convention.Slug||n.convention.ConventionUUID}/additional`},{default:t(()=>{var R;return[(R=l.Form)!=null&&R.State.Edit&&L.value?(e(),r(g,{key:0,size:"small",variant:"text",color:"success"},{default:t(()=>[i(" Edit ")]),_:1})):(e(),r(g,{key:1,size:"small",variant:"text",color:"warning"},{default:t(()=>[i("View")]),_:1}))]}),_:2},1032,["to"])):T("",!0)])):T("",!0)],64)):T("",!0)],64)}),128)),((P=o.value)==null?void 0:P.Submissions.length)>=1?(e(!0),f(A,{key:2},j(n.forms,l=>{var U;return e(),f(A,{key:l.FormUUID},[(U=o.value)!=null&&U.Submissions.find(D=>D.FormUUID===l.FormUUID)?T("",!0):(e(),f(A,{key:0},[y("dt",_t,h(l.Heading),1),y("dd",yt,[i(" Requires Completion "),l.Type===w(E).FORM_TYPE_REGISTRATION?(e(),r(c,{key:0,to:`/register/${n.convention.Slug||n.convention.ConventionUUID}/registration`},{default:t(()=>[l.State.Edit&&b.value?(e(),r(g,{key:0,size:"small",variant:"text",color:"success"},{default:t(()=>[i(" Edit ")]),_:1})):(e(),r(g,{key:1,size:"small",variant:"text",color:"warning"},{default:t(()=>[i("View")]),_:1}))]),_:2},1032,["to"])):l.Type===w(E).FORM_TYPE_ACCOMMODATION?(e(),r(c,{key:1,to:`/register/${n.convention.Slug||n.convention.ConventionUUID}/accommodation`},{default:t(()=>[l.State.Edit&&V.value?(e(),r(g,{key:0,size:"small",variant:"text",color:"success"},{default:t(()=>[i(" Edit ")]),_:1})):(e(),r(g,{key:1,size:"small",variant:"text",color:"warning"},{default:t(()=>[i("View")]),_:1}))]),_:2},1032,["to"])):l.Type===w(E).FORM_TYPE_DEALER?(e(),r(c,{key:2,to:`/register/${n.convention.Slug||n.convention.ConventionUUID}/dealer`},{default:t(()=>[l.State.Edit&&F.value?(e(),r(g,{key:0,size:"small",variant:"text",color:"success"},{default:t(()=>[i(" Edit ")]),_:1})):(e(),r(g,{key:1,size:"small",variant:"text",color:"warning"},{default:t(()=>[i("View")]),_:1}))]),_:2},1032,["to"])):l.Type===w(E).FORM_TYPE_ADDITIONAL?(e(),r(c,{key:3,to:`/register/${n.convention.Slug||n.convention.ConventionUUID}/additional`},{default:t(()=>[l.State.Edit&&L.value?(e(),r(g,{key:0,size:"small",variant:"text",color:"success"},{default:t(()=>[i(" Edit ")]),_:1})):(e(),r(g,{key:1,size:"small",variant:"text",color:"warning"},{default:t(()=>[i("View")]),_:1}))]),_:2},1032,["to"])):T("",!0)])],64))],64)}),128)):T("",!0)])):T("",!0),o.value&&o.value.Submissions.length>=1&&n.forms.filter(l=>{var U;return!((U=o.value)!=null&&U.Submissions.find(D=>D.FormUUID==l.FormUUID))}).length?(e(),f("div",gt,Tt)):T("",!0)]}),_:1}),N.value&&o.value?(e(),f(A,{key:0},[m(te,{class:"pb-4 text-center"},{default:t(()=>[i("Payment Information")]),_:1}),m(ne,null,{default:t(()=>[m(lt,{"payment-transactions":S.value,registration:o.value},null,8,["payment-transactions","registration"])]),_:1})],64)):T("",!0),m(Re,null,{default:t(()=>{var _,P;return[n.convention.DetailLink?(e(),r(g,{key:0,color:"orange",href:n.convention.DetailLink},{default:t(()=>[i(h(w(B).buttonDetails),1)]),_:1},8,["href"])):T("",!0),m(re),b.value?(e(),f(A,{key:1},[(_=o.value)!=null&&_.Submissions.find(l=>{var U;return((U=l.Form)==null?void 0:U.Type)===w(E).FORM_TYPE_REGISTRATION})?(e(),r(p,{key:1,to:`/register/${n.convention.Slug||n.convention.ConventionUUID}`},{default:t(()=>[m(g,{color:"primary"},{default:t(()=>[i(h(w(B).buttonViewRegistration),1)]),_:1})]),_:1},8,["to"])):(e(),f(A,{key:0},[(P=n.forms.find(l=>l.Type===w(E).FORM_TYPE_REGISTRATION))!=null&&P.State.New?(e(),r(p,{key:0,to:`/register/${n.convention.Slug||n.convention.ConventionUUID}`},{default:t(()=>[m(g,{color:"primary"},{default:t(()=>[i(h(w(B).buttonRegister),1)]),_:1})]),_:1},8,["to"])):T("",!0)],64))],64)):N.value&&o.value&&o.value.Total>o.value.Paid?(e(),f(A,{key:2},[m(g,{color:"success",variant:"elevated",onClick:k[0]||(k[0]=l=>I.value=!0)},{default:t(()=>[i("Make Payment")]),_:1}),o.value?(e(),r(He,{key:0,"payment-transactions":S.value,registration:o.value,modelValue:I.value,"onUpdate:modelValue":k[1]||(k[1]=l=>I.value=l)},null,8,["payment-transactions","registration","modelValue"])):T("",!0)],64)):T("",!0)]}),_:1})]),_:1})}}});const wt=ae(ht,[["__scopeId","data-v-d218a137"]]),kt=M({__name:"Conventions",setup(v){const s=W(),d=C([]),u=C([]);return s.getOpenConventionsList().then(a=>{a&&(d.value=[...d.value,...a],s.getAvailableConventionForms(d.value.map(o=>o.ConventionUUID)).then(o=>{u.value=[...u.value,...o]}).catch(o=>{console.error(o)}))}),(a,o)=>(e(),r(K,null,{default:t(()=>[m(x,{class:"justify-center"},{default:t(()=>[(e(!0),f(A,null,j(d.value,S=>(e(),r(O,{key:S.ConventionUUID,cols:"12",sm:"11",md:"11",lg:"8",xl:"6",class:"d-flex flex-column"},{default:t(()=>[m(wt,{convention:S,forms:u.value.filter(I=>I.ConventionUUID===S.ConventionUUID)},null,8,["convention","forms"])]),_:2},1024))),128))]),_:1})]),_:1}))}}),Et={};function It(v,s){return e(),f("div")}const Ut=ae(Et,[["render",It]]),At=M({__name:"MainView",emits:["pageTitle"],setup(v,{emit:s}){s("pageTitle","Scotiacon Registration System"),sessionStorage.getItem("reload")==="true"&&(sessionStorage.removeItem("reload"),setTimeout(()=>{location.reload()},500));const u=localStorage.getItem("gjt_token"),a=localStorage.getItem("ajt_token");u?(localStorage.removeItem("gjt_token"),location.href=u):a&&(localStorage.removeItem("ajt_token"),location.href=a);const o=C(X());return(S,I)=>{const b=H("router-link");return e(),f(A,null,[o.value&&!o.value.Additional.Email?(e(),r(K,{key:0,class:"bg-red-darken-4 text-center",fluid:!0},{default:t(()=>[i(" Please enter a Contact Email on the "),m(b,{to:"/profile",class:"text-white font-weight-bold"},{default:t(()=>[i("manage account page")]),_:1}),i(" to ensure we can contact you. ")]),_:1})):T("",!0),m(kt),m(Ut)],64)}}}),Jt=M({__name:"Home",emits:["pageTitle"],setup(v,{emit:s}){const d=X();return s("pageTitle","Telegram Login"),(u,a)=>(e(),f("div",null,[w(d)?(e(),r(At,{key:0,onPageTitle:a[0]||(a[0]=o=>s("pageTitle",o))})):(e(),r(fe,{key:1}))]))}});export{Jt as default};
