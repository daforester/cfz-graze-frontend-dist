import{p as $,a as W,c as n,m as Y,s as R,h as b,i as ce,j as ae,k as P,l as oe,C as ve,n as de,u as me,q as fe,t as j,v as he,x as ge,y as C,z as ye,A as pe,B as we,T as be,F as Ve,d as ke,D as _e,E as Se,r as J,o as H,b as A,w as V,e as Te,G as xe,H as Be,_ as Me}from"./index-03084228.js";import{G as Le,R as U,S as Ee}from"./userData-887aea4a.js";import{u as Ie}from"./useAvatar-0736bc16.js";import{u as Ce}from"./useGrazeAPI-d28dcd3a.js";import{V as Re}from"./VToolbar-77250284.js";import{V as Pe}from"./VSpacer-0635af43.js";import{V as De}from"./VTextField-af5784b0.js";import{m as Ne,V as He,u as Ae,t as Ue,a as Ye}from"./VBtn-46db6200.js";import{u as z,m as ne,a as $e,b as We,c as ze,d as Oe,e as Xe,f as K,g as Fe,h as Ge}from"./rounded-7666c9d2.js";import{V as qe}from"./VAppBar-2d6cbf5f.js";import{V as Q,a as D,b as Ze}from"./VList-ad147349.js";import{V as je}from"./VImg-7fc4ecca.js";import{m as Je,c as Ke,a as Qe,u as et,V as tt}from"./VMain-c6969859.js";import{u as at}from"./scopeId-68f0792b.js";import{u as ot}from"./ssrBoot-b3e151e6.js";import"./index-6ad385cd.js";import"./createSimpleFunctional-a4504c97.js";import"./index-55725bbd.js";import"./VAvatar-088a953f.js";const nt=$({...Ne({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),lt=W()({name:"VAppBarNavIcon",props:nt(),setup(e,i){let{slots:l}=i;return z(()=>n(He,Y(e,{class:["v-app-bar-nav-icon"]}),l)),{}}});const ut=$({...ne(),...Je()},"VLayout"),it=W()({name:"VLayout",props:ut(),setup(e,i){let{slots:l}=i;const{layoutClasses:u,layoutStyles:a,getLayoutItem:t,items:m,layoutRef:p}=Ke(e);return z(()=>{var y;return n("div",{ref:p,class:[u.value,e.class],style:[a.value,e.style]},[(y=l.default)==null?void 0:y.call(l)])}),{getLayoutItem:t,items:m}}});function rt(e){let{rootEl:i,isSticky:l,layoutItemStyles:u}=e;const a=R(!1),t=R(0),m=b(()=>{const g=typeof a.value=="boolean"?"top":a.value;return[l.value?{top:"auto",bottom:"auto",height:void 0}:void 0,a.value?{[g]:ce(t.value)}:{top:u.value.top}]});ae(()=>{P(l,g=>{g?window.addEventListener("scroll",y,{passive:!0}):window.removeEventListener("scroll",y)},{immediate:!0})}),oe(()=>{document.removeEventListener("scroll",y)});let p=0;function y(){const g=p>window.scrollY?"up":"down",c=i.value.getBoundingClientRect(),h=parseFloat(u.value.top??0),f=window.scrollY-Math.max(0,t.value-h),r=c.height+Math.max(t.value,h)-window.scrollY-window.innerHeight,v=parseFloat(getComputedStyle(i.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-h?(a.value="top",t.value=h):g==="up"&&a.value==="bottom"||g==="down"&&a.value==="top"?(t.value=window.scrollY+c.top-v,a.value=!0):g==="down"&&r<=0?(t.value=0,a.value="bottom"):g==="up"&&f<=0&&(v?a.value!=="top"&&(t.value=-f+v+h,a.value="top"):(t.value=c.top+f,a.value="top")),p=window.scrollY}return{isStuck:a,stickyStyles:m}}const st=100,ct=20;function ee(e){const i=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*i}function te(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let i=0;for(let l=e.length-1;l>0;l--){if(e[l].t===e[l-1].t)continue;const u=ee(i),a=(e[l].d-e[l-1].d)/(e[l].t-e[l-1].t);i+=(a-u)*Math.abs(a),l===e.length-1&&(i*=.5)}return ee(i)*1e3}function vt(){const e={};function i(a){Array.from(a.changedTouches).forEach(t=>{(e[t.identifier]??(e[t.identifier]=new ve(ct))).push([a.timeStamp,t])})}function l(a){Array.from(a.changedTouches).forEach(t=>{delete e[t.identifier]})}function u(a){var g;const t=(g=e[a])==null?void 0:g.values().reverse();if(!t)throw new Error(`No samples for touch id ${a}`);const m=t[0],p=[],y=[];for(const c of t){if(m[0]-c[0]>st)break;p.push({t:c[0],d:c[1].clientX}),y.push({t:c[0],d:c[1].clientY})}return{x:te(p),y:te(y),get direction(){const{x:c,y:h}=this,[f,r]=[Math.abs(c),Math.abs(h)];return f>r&&c>=0?"right":f>r&&c<=0?"left":r>f&&h>=0?"down":r>f&&h<=0?"up":dt()}}}return{addMovement:i,endTouch:l,getVelocity:u}}function dt(){throw new Error}function mt(e){let{isActive:i,isTemporary:l,width:u,touchless:a,position:t}=e;ae(()=>{window.addEventListener("touchstart",S,{passive:!0}),window.addEventListener("touchmove",B,{passive:!1}),window.addEventListener("touchend",L,{passive:!0})}),oe(()=>{window.removeEventListener("touchstart",S),window.removeEventListener("touchmove",B),window.removeEventListener("touchend",L)});const m=b(()=>["left","right"].includes(t.value)),{addMovement:p,endTouch:y,getVelocity:g}=vt();let c=!1;const h=R(!1),f=R(0),r=R(0);let v;function _(o,d){return(t.value==="left"?o:t.value==="right"?document.documentElement.clientWidth-o:t.value==="top"?o:t.value==="bottom"?document.documentElement.clientHeight-o:I())-(d?u.value:0)}function x(o){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const s=t.value==="left"?(o-r.value)/u.value:t.value==="right"?(document.documentElement.clientWidth-o-r.value)/u.value:t.value==="top"?(o-r.value)/u.value:t.value==="bottom"?(document.documentElement.clientHeight-o-r.value)/u.value:I();return d?Math.max(0,Math.min(1,s)):s}function S(o){if(a.value)return;const d=o.changedTouches[0].clientX,s=o.changedTouches[0].clientY,w=25,T=t.value==="left"?d<w:t.value==="right"?d>document.documentElement.clientWidth-w:t.value==="top"?s<w:t.value==="bottom"?s>document.documentElement.clientHeight-w:I(),M=i.value&&(t.value==="left"?d<u.value:t.value==="right"?d>document.documentElement.clientWidth-u.value:t.value==="top"?s<u.value:t.value==="bottom"?s>document.documentElement.clientHeight-u.value:I());(T||M||i.value&&l.value)&&(c=!0,v=[d,s],r.value=_(m.value?d:s,i.value),f.value=x(m.value?d:s),y(o),p(o))}function B(o){const d=o.changedTouches[0].clientX,s=o.changedTouches[0].clientY;if(c){if(!o.cancelable){c=!1;return}const T=Math.abs(d-v[0]),M=Math.abs(s-v[1]);(m.value?T>M&&T>3:M>T&&M>3)?(h.value=!0,c=!1):(m.value?M:T)>3&&(c=!1)}if(!h.value)return;o.preventDefault(),p(o);const w=x(m.value?d:s,!1);f.value=Math.max(0,Math.min(1,w)),w>1?r.value=_(m.value?d:s,!0):w<0&&(r.value=_(m.value?d:s,!1))}function L(o){if(c=!1,!h.value)return;p(o),h.value=!1;const d=g(o.changedTouches[0].identifier),s=Math.abs(d.x),w=Math.abs(d.y);(m.value?s>w&&s>400:w>s&&w>3)?i.value=d.direction===({left:"right",right:"left",top:"down",bottom:"up"}[t.value]||I()):i.value=f.value>.5}const E=b(()=>h.value?{transform:t.value==="left"?`translateX(calc(-100% + ${f.value*u.value}px))`:t.value==="right"?`translateX(calc(100% - ${f.value*u.value}px))`:t.value==="top"?`translateY(calc(-100% + ${f.value*u.value}px))`:t.value==="bottom"?`translateY(calc(100% - ${f.value*u.value}px))`:I(),transition:"none"}:void 0);return{isDragging:h,dragProgress:f,dragStyles:E}}function I(){throw new Error}const ft=["start","end","left","right","top","bottom"],ht=$({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>ft.includes(e)},sticky:Boolean,...$e(),...ne(),...We(),...Qe(),...ze(),...Oe({tag:"nav"}),...de()},"VNavigationDrawer"),gt=W()({name:"VNavigationDrawer",props:ht(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,i){let{attrs:l,emit:u,slots:a}=i;const{isRtl:t}=me(),{themeClasses:m}=fe(e),{borderClasses:p}=Xe(e),{backgroundColorClasses:y,backgroundColorStyles:g}=K(j(e,"color")),{elevationClasses:c}=Fe(e),{mobile:h}=he(),{roundedClasses:f}=Ge(e),r=Ae(),v=ge(e,"modelValue",null,k=>!!k),{ssrBootStyles:_}=ot(),{scopeId:x}=at(),S=C(),B=R(!1),L=b(()=>e.rail&&e.expandOnHover&&B.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),E=b(()=>Ue(e.location,t.value)),o=b(()=>!e.permanent&&(h.value||e.temporary)),d=b(()=>e.sticky&&!o.value&&E.value!=="bottom");e.expandOnHover&&e.rail!=null&&P(B,k=>u("update:rail",!k)),e.disableResizeWatcher||P(o,k=>!e.permanent&&ye(()=>v.value=!k)),!e.disableRouteWatcher&&r&&P(r.currentRoute,()=>o.value&&(v.value=!1)),P(()=>e.permanent,k=>{k&&(v.value=!0)}),pe(()=>{e.modelValue!=null||o.value||(v.value=e.permanent||!h.value)});const{isDragging:s,dragProgress:w,dragStyles:T}=mt({isActive:v,isTemporary:o,width:L,touchless:j(e,"touchless"),position:E}),M=b(()=>{const k=o.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):L.value;return s.value?k*w.value:k}),{layoutItemStyles:N,layoutItemScrimStyles:le}=et({id:e.name,order:b(()=>parseInt(e.order,10)),position:E,layoutSize:M,elementSize:L,active:b(()=>v.value||s.value),disableTransitions:b(()=>s.value),absolute:b(()=>e.absolute||d.value&&typeof O.value!="string")}),{isStuck:O,stickyStyles:ue}=rt({rootEl:S,isSticky:d,layoutItemStyles:N}),X=K(b(()=>typeof e.scrim=="string"?e.scrim:null)),ie=b(()=>({...s.value?{opacity:w.value*.2,transition:"none"}:void 0,...le.value}));we({VList:{bgColor:"transparent"}});function re(){B.value=!0}function se(){B.value=!1}return z(()=>{const k=a.image||e.image;return n(Ve,null,[n(e.tag,Y({ref:S,onMouseenter:re,onMouseleave:se,class:["v-navigation-drawer",`v-navigation-drawer--${E.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":B.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":o.value,"v-navigation-drawer--active":v.value,"v-navigation-drawer--sticky":d.value},m.value,y.value,p.value,c.value,f.value,e.class],style:[g.value,N.value,T.value,_.value,ue.value,e.style]},x,l),{default:()=>{var F,G,q,Z;return[k&&n("div",{key:"image",class:"v-navigation-drawer__img"},[a.image?(F=a.image)==null?void 0:F.call(a,{image:e.image}):n("img",{src:e.image,alt:""},null)]),a.prepend&&n("div",{class:"v-navigation-drawer__prepend"},[(G=a.prepend)==null?void 0:G.call(a)]),n("div",{class:"v-navigation-drawer__content"},[(q=a.default)==null?void 0:q.call(a)]),a.append&&n("div",{class:"v-navigation-drawer__append"},[(Z=a.append)==null?void 0:Z.call(a)])]}}),n(be,{name:"fade-transition"},{default:()=>[o.value&&(s.value||v.value)&&!!e.scrim&&n("div",Y({class:["v-navigation-drawer__scrim",X.backgroundColorClasses.value],style:[ie.value,X.backgroundColorStyles.value],onClick:()=>v.value=!1},x),null)]})])}),{isStuck:O}}}),yt=ke({__name:"DashboardLayout",setup(e){const i=Ce(),l=C(!1),u=C("Default Title"),a=C(""),t=C(""),m=C(""),p=Ie(),y=_e(),g=Le();Se.getInstance().getTokenByService("GrazeAPI")?g?(m.value=g.DisplayName,t.value=p(g.UserUUID)):i.whoAmI().then(r=>{r?(Ee(r),m.value=r.DisplayName,t.value=p(r.UserUUID)):(U(),y.push("/"))}).catch(()=>{U(),y.push("/")}):(U(),y.push("/"));const f=r=>{u.value=r};return(r,v)=>{const _=J("RouterLink"),x=J("RouterView");return H(),A(it,null,{default:V(()=>[n(qe,{color:"primary"},{default:V(()=>[n(Re,null,{default:V(()=>[Te(xe(u.value),1)]),_:1}),n(Pe),n(De,{modelValue:a.value,"onUpdate:modelValue":v[0]||(v[0]=S=>a.value=S),"prepend-inner-icon":"mdi:mdi-magnify",label:"Search",variant:"underlined","hide-details":"",clearable:!0,class:"d-none"},null,8,["modelValue"]),n(lt,{variant:"text",onClick:v[1]||(v[1]=Be(S=>l.value=!l.value,["stop"]))})]),_:1}),n(gt,{modelValue:l.value,"onUpdate:modelValue":v[2]||(v[2]=S=>l.value=S),location:"right",temporary:!0},{default:V(()=>[n(Q,null,{default:V(()=>[n(_,{to:{name:"Profile"}},{default:V(()=>[n(D,{title:m.value},{prepend:V(()=>[t.value?(H(),A(je,{key:0,src:t.value,class:"rounded-circle mr-2",height:"32",width:"32"},null,8,["src"])):(H(),A(Ye,{key:1,icon:"mdi:mdi-account-circle",size:"x-large"}))]),_:1},8,["title"])]),_:1})]),_:1}),n(Ze),n(x,{name:"navigation"},{default:V(()=>[n(Q,null,{default:V(()=>[n(_,{to:"/dashboard"},{default:V(()=>[n(D,{"prepend-icon":"mdi:mdi-view-dashboard-outline",title:"Home",value:"home"})]),_:1}),n(_,{to:"/dashboard/admin"},{default:V(()=>[n(D,{"prepend-icon":"mdi:mdi-domain",title:"Admin",value:"Admin"})]),_:1}),n(_,{to:"/logout"},{default:V(()=>[n(D,{"prepend-icon":"mdi:mdi-logout",title:"Logout",value:"Logout"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(tt,null,{default:V(()=>[n(x,{onPageTitle:f})]),_:1})]),_:1})}}});const Ht=Me(yt,[["__scopeId","data-v-087a7593"]]);export{Ht as default};
