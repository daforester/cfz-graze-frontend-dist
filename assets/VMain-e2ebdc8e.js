import{j as te,m as oe,d as ae,u as ne}from"./rounded-1f0fa06f.js";import{p as A,aa as B,ar as se,an as Z,a7 as _,s as D,aM as le,aN as ue,h as r,l as ie,y as re,aG as $,i as z,j as ce,aO as ve,a as de,c as K}from"./index-f7084bbd.js";import{u as ye}from"./ssrBoot-21dbc320.js";const R=Symbol.for("vuetify:layout"),X=Symbol.for("vuetify:layout-item"),U=1e3,xe=A({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Se=A({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function me(){const o=B(R);if(!o)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:o.getLayoutItem,mainRect:o.mainRect,mainStyles:o.mainStyles}}function we(o){const c=B(R);if(!c)throw new Error("[Vuetify] Could not find injected layout");const a=o.id??`layout-item-${se()}`,v=Z("useLayoutItem");_(X,{id:a});const n=D(!1);le(()=>n.value=!0),ue(()=>n.value=!1);const{layoutItemStyles:l,layoutItemScrimStyles:u}=c.register(v,{...o,active:r(()=>n.value?!1:o.active.value),id:a});return ie(()=>c.unregister(a)),{layoutItemStyles:l,layoutRect:c.layoutRect,layoutItemScrimStyles:u}}const fe=(o,c,a,v)=>{let n={top:0,left:0,right:0,bottom:0};const l=[{id:"",layer:{...n}}];for(const u of o){const f=c.get(u),g=a.get(u),M=v.get(u);if(!f||!g||!M)continue;const h={...n,[f.value]:parseInt(n[f.value],10)+(M.value?parseInt(g.value,10):0)};l.push({id:u,layer:h}),n=h}return l};function Le(o){const c=B(R,null),a=r(()=>c?c.rootZIndex.value-100:U),v=re([]),n=$(new Map),l=$(new Map),u=$(new Map),f=$(new Map),g=$(new Map),{resizeRef:M,contentRect:h}=te(),q=r(()=>{const t=new Map,d=o.overlaps??[];for(const e of d.filter(i=>i.includes(":"))){const[i,s]=e.split(":");if(!v.value.includes(i)||!v.value.includes(s))continue;const m=n.get(i),p=n.get(s),S=l.get(i),w=l.get(s);!m||!p||!S||!w||(t.set(s,{position:m.value,amount:parseInt(S.value,10)}),t.set(i,{position:p.value,amount:-parseInt(w.value,10)}))}return t}),b=r(()=>{const t=[...new Set([...u.values()].map(e=>e.value))].sort((e,i)=>e-i),d=[];for(const e of t){const i=v.value.filter(s=>{var m;return((m=u.get(s))==null?void 0:m.value)===e});d.push(...i)}return fe(d,n,l,f)}),j=r(()=>!Array.from(g.values()).some(t=>t.value)),I=r(()=>b.value[b.value.length-1].layer),F=r(()=>({"--v-layout-left":z(I.value.left),"--v-layout-right":z(I.value.right),"--v-layout-top":z(I.value.top),"--v-layout-bottom":z(I.value.bottom),...j.value?void 0:{transition:"none"}})),x=r(()=>b.value.slice(1).map((t,d)=>{let{id:e}=t;const{layer:i}=b.value[d],s=l.get(e),m=n.get(e);return{id:e,...i,size:Number(s.value),position:m.value}})),k=t=>x.value.find(d=>d.id===t),V=Z("createLayout"),E=D(!1);ce(()=>{E.value=!0}),_(R,{register:(t,d)=>{let{id:e,order:i,position:s,layoutSize:m,elementSize:p,active:S,disableTransitions:w,absolute:Y}=d;u.set(e,i),n.set(e,s),l.set(e,m),f.set(e,S),w&&g.set(e,w);const N=ve(X,V==null?void 0:V.vnode).indexOf(t);N>-1?v.value.splice(N,0,e):v.value.push(e);const T=r(()=>x.value.findIndex(L=>L.id===e)),P=r(()=>a.value+b.value.length*2-T.value*2),J=r(()=>{const L=s.value==="left"||s.value==="right",C=s.value==="right",ee=s.value==="bottom",H={[s.value]:0,zIndex:P.value,transform:`translate${L?"X":"Y"}(${(S.value?0:-110)*(C||ee?-1:1)}%)`,position:Y.value||a.value!==U?"absolute":"fixed",...j.value?void 0:{transition:"none"}};if(!E.value)return H;const y=x.value[T.value];if(!y)throw new Error(`[Vuetify] Could not find layout item "${e}"`);const O=q.value.get(e);return O&&(y[O.position]+=O.amount),{...H,height:L?`calc(100% - ${y.top}px - ${y.bottom}px)`:p.value?`${p.value}px`:void 0,left:C?void 0:`${y.left}px`,right:C?`${y.right}px`:void 0,top:s.value!=="bottom"?`${y.top}px`:void 0,bottom:s.value!=="top"?`${y.bottom}px`:void 0,width:L?p.value?`${p.value}px`:void 0:`calc(100% - ${y.left}px - ${y.right}px)`}}),Q=r(()=>({zIndex:P.value-1}));return{layoutItemStyles:J,layoutItemScrimStyles:Q,zIndex:P}},unregister:t=>{u.delete(t),n.delete(t),l.delete(t),f.delete(t),g.delete(t),v.value=v.value.filter(d=>d!==t)},mainRect:I,mainStyles:F,getLayoutItem:k,items:x,layoutRect:h,rootZIndex:a});const G=r(()=>["v-layout",{"v-layout--full-height":o.fullHeight}]),W=r(()=>({zIndex:a.value,position:c?"relative":void 0,overflow:c?"hidden":void 0}));return{layoutClasses:G,layoutStyles:W,getLayoutItem:k,items:x,layoutRect:h,layoutRef:M}}const pe=A({scrollable:Boolean,...oe(),...ae({tag:"main"})},"VMain"),$e=de()({name:"VMain",props:pe(),setup(o,c){let{slots:a}=c;const{mainStyles:v}=me(),{ssrBootStyles:n}=ye();return ne(()=>K(o.tag,{class:["v-main",{"v-main--scrollable":o.scrollable},o.class],style:[v.value,n.value,o.style]},{default:()=>{var l,u;return[o.scrollable?K("div",{class:"v-main__scroller"},[(l=a.default)==null?void 0:l.call(a)]):(u=a.default)==null?void 0:u.call(a)]}})),{}}});export{$e as V,Se as a,Le as c,xe as m,we as u};
