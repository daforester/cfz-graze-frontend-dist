import{O as t,G as P}from"./group-d2a77946.js";import{u as l}from"./nil-d01db1aa.js";const e=(i,s)=>{i.EditConvention=i.EditConvention||s.EditConvention,i.EditOrganisation=i.EditOrganisation||s.EditOrganisation,i.EditPaymentTransactions=i.EditPaymentTransactions||s.EditPaymentTransactions,i.EditRegistration=i.EditRegistration||s.EditRegistration,i.ManageUsers=i.ManageUsers||s.ManageUsers,i.ManageViews=i.ManageViews||s.ManageViews,i.ViewPaymentTransactions=i.ViewPaymentTransactions||s.ViewPaymentTransactions,i.ViewRegistration=i.ViewRegistration||s.ViewRegistration},y=(i,s,O="",E=void 0)=>{const w=i.Groups;O==""&&(O=l);const a={ID:0,PermissionUUID:l,GroupID:0,GroupUUID:l,EditConvention:!1,EditRegistration:!1,EditOrganisation:!1,EditPaymentTransactions:!1,ManageUsers:!1,ManageViews:!1,ViewPaymentTransactions:!1,ViewRegistration:!1},f=t.OWNER_TYPE_CONVENTION,d=t.OWNER_TYPE_ORGANISATION;return w&&w.length>0&&w.forEach(n=>{n.OwnerType==f&&(n.Permission.EditOrganisation=!1),s==null?e(a,n.Permission):s==P.GROUP_TYPE_SYSTEM||s==P.GROUP_TYPE_ADMIN?n.OwnerType==null&&e(a,n.Permission):s==P.GROUP_TYPE_ORGANISATION?(n.OwnerType==null||n.OwnerType==d&&n.OwnerUUID!=null&&n.OwnerUUID==O)&&e(a,n.Permission):s==P.GROUP_TYPE_CONVENTION&&(n.OwnerType==null||n.OwnerType==d&&n.OwnerUUID!=null&&(n.OwnerUUID==(E==null?void 0:E.OrganisationUUID)||E===void 0&&O===l)||n.OwnerType==f&&n.OwnerUUID!=null&&(n.OwnerUUID==O||E===void 0&&O===l))&&e(a,n.Permission)}),a};export{y as C};
