var WW=Object.defineProperty;var $W=(le,De,de)=>De in le?WW(le,De,{enumerable:!0,configurable:!0,writable:!0,value:de}):le[De]=de;var Ad=(le,De,de)=>($W(le,typeof De!="symbol"?De+"":De,de),de);import{i as Xr,M as Ri,N as ll,r as Do,k as eg,w as Qg,c as _l,n as $e,q as No,v as Ke,y as Uo,D as ps,F as xn,x as jo,B as to,Q as pi,f as ot,C as vo,A as Zn,P as tg,G as GW,H as KW,_ as $L,U as YW,E as GL,a2 as __,O as KL,am as QW,Y as EN,o as JW,b as XW,an as e$,ao as t$,a6 as rF,z as o$,ac as n$,a7 as s$,W as r$,ap as a$,aq as aF,ar as i$,T as l$}from"./index-LGeNF9kk.js";import{u as YL}from"./useModel-j1LB-urB.js";import{_ as A_}from"./ModelDialog.vue_vue_type_script_setup_true_lang-PrQFiCYd.js";import{h as ah,a as TN}from"./date-RO2WHkId.js";import{c as ih,V as Vr,b as I1,n as bF}from"./VContainer-CoYY8mK9.js";import{V as il,a as xs}from"./VRow-2zBmr9Nv.js";import{V as x_,a as w_,c as ZL,d as c$}from"./VList-3qHrpjMp.js";import{a as OE,V as yF}from"./VAutocomplete-SJBlPFe8.js";import{G as DE}from"./userData-bLVGl_M0.js";import{C as ON}from"./canEditRegistrations-YxeaeuZa.js";import{T as d$}from"./ticket-hqexX1_U.js";import{u as QL}from"./useStoreAPI-FbUfUPrD.js";import{b as u$,_ as iF,V as vF}from"./SaveButton.vue_vue_type_script_setup_true_lang-tJWJS17M.js";import{G as m$}from"./group-7fhbY6WJ.js";import{C as f$}from"./canDo-q45uN98J.js";import{V as JL,a as zN,c as XL,d as kF,e as e6}from"./VCard-Vti6kzBS.js";import{V as xF}from"./forwardRefs-_okEgm8X.js";import{V as Ub}from"./VTextField-_TEQ63fZ.js";import{F as CN}from"./form-0fJbSFPv.js";import{b as g$,c as p$,S as h$}from"./submission-WqULzQVB.js";import{v as zE}from"./v4-yQnnJER4.js";import{b as t6,c as o6,d as n6,a as s6,V as r6}from"./VDataTable-gPnnuCOk.js";import{_ as b$}from"./DeleteDialog.vue_vue_type_script_setup_true_lang-nvuiniTI.js";import{_ as y$}from"./SelectGroups.vue_vue_type_script_setup_true_lang-xnsZLz4b.js";import{V as C_}from"./scopeId-V1U4BI0B.js";import{a as v$,V as k$}from"./VToolbar-tzduaFaI.js";import{V as x$}from"./VDivider-wea3q7io.js";import{V as wF}from"./VTextarea-uauHuO6h.js";import{V as lF}from"./VDialog-KaYoBIfA.js";import{V as w$,a as qL}from"./VChip-XNRRPP2o.js";import{a as _$,b as A$,c as cF,P as dF,u as C$}from"./useDisplayTransactions-EN7zfkYr.js";import{V as S$}from"./VForm-kp652smp.js";import{b as E$,V as T$}from"./VNavigationDrawer-Jvxo9tlq.js";var O$=(le=>(le.ADMIN_LAYOUT_PANELS="ADMIN_LAYOUT_PANELS",le.ADMIN_LAYOUT_TABLE="ADMIN_LAYOUT_TABLE",le))(O$||{});const _Y=[{title:"Panel Layout",value:"ADMIN_LAYOUT_PANELS"},{title:"Table Layout",value:"ADMIN_LAYOUT_TABLE"}];var SN=(le=>(le.LAYOUT_ITEM_SOURCE_FORM="LAYOUT_ITEM_SOURCE_FORM",le.LAYOUT_ITEM_SOURCE_META="LAYOUT_ITEM_SOURCE_META",le.LAYOUT_ITEM_SOURCE_USER="LAYOUT_ITEM_SOURCE_USER",le))(SN||{});const AY=[{title:"Form Field Submission Data",value:"LAYOUT_ITEM_SOURCE_FORM"},{title:"Miscellaneous Data",value:"LAYOUT_ITEM_SOURCE_META"},{title:"User Profile Data",value:"LAYOUT_ITEM_SOURCE_USER"}];var Wl=(le=>(le.META_DATA_SOURCE_NULL="",le.META_DATA_SOURCE_ACCOMMODATION_ALLOCATION="META_DATA_SOURCE_ACCOMMODATION_ALLOCATION",le.META_DATA_SOURCE_ACCOMMODATION_FORM="META_DATA_SOURCE_ACCOMMODATION_FORM",le.META_DATA_SOURCE_ADMIN_FORM="META_DATA_SOURCE_ADMIN_FORM",le.META_DATA_SOURCE_BADGE_DISPLAY="META_DATA_SOURCE_BADGE_DISPLAY",le.META_DATA_SOURCE_BADGE_FORM="META_DATA_SOURCE_BADGE_FORM",le.META_DATA_SOURCE_CHECKIN_CONTROL="META_DATA_SOURCE_CHECKIN_CONTROL",le.META_DATA_SOURCE_CHECKIN_STATUS="META_DATA_SOURCE_CHECKIN_STATUS",le.META_DATA_SOURCE_DATA_LAYOUT="META_DATA_SOURCE_DATA_LAYOUT",le.META_DATA_SOURCE_DEALER_FORM="META_DATA_SOURCE_DEALER_FORM",le.META_DATA_SOURCE_EMAILS="META_DATA_SOURCE_EMAILS",le.META_DATA_SOURCE_NOTES="META_DATA_SOURCE_NOTES",le.META_DATA_SOURCE_PAYMENT_STATUS="META_DATA_SOURCE_PAYMENT_STATUS",le.META_DATA_SOURCE_PAYMENTS="META_DATA_SOURCE_PAYMENTS",le.META_DATA_SOURCE_REGISTRATION_ACTIONS="META_DATA_SOURCE_REGISTRATION_ACTIONS",le.META_DATA_SOURCE_REGISTRATION_FORM="META_DATA_SOURCE_REGISTRATION_FORM",le.META_DATA_SOURCE_REGISTRATION_GROUP="META_DATA_SOURCE_REGISTRATION_GROUP",le.META_DATA_SOURCE_REGISTRATION_REFERENCE="META_DATA_SOURCE_REGISTRATION_REFERENCE",le.META_DATA_SOURCE_REGISTRATION_TOOLS_DROP="META_DATA_SOURCE_REGISTRATION_TOOLS_DROP",le.META_DATA_SOURCE_SUBMISSION_DATE="META_DATA_SOURCE_SUBMISSION_DATE",le.META_DATA_SOURCE_SUBMISSION_STATUS="META_DATA_SOURCE_SUBMISSION_STATUS",le.META_DATA_SOURCE_TAGS="META_DATA_SOURCE_TAGS",le))(Wl||{});const CY=[{title:"Accommodation Allocation",value:"META_DATA_SOURCE_ACCOMMODATION_ALLOCATION"},{title:"Accommodation Form",value:"META_DATA_SOURCE_ACCOMMODATION_FORM"},{title:"Actions",value:"META_DATA_SOURCE_REGISTRATION_ACTIONS"},{title:"Actions Dropdown",value:"META_DATA_SOURCE_REGISTRATION_TOOLS_DROP"},{title:"Badge Display",value:"META_DATA_SOURCE_BADGE_DISPLAY"},{title:"Badge Form",value:"META_DATA_SOURCE_BADGE_FORM"},{title:"Check In Control",value:"META_DATA_SOURCE_CHECKIN_CONTROL"},{title:"Check In Status",value:"META_DATA_SOURCE_CHECKIN_STATUS"},{title:"Data Display",value:"META_DATA_SOURCE_DATA_LAYOUT"},{title:"Dealer Form",value:"META_DATA_SOURCE_DEALER_FORM"},{title:"Emails",value:"META_DATA_SOURCE_EMAILS"},{title:"Notes",value:"META_DATA_SOURCE_NOTES"},{title:"Payment Status",value:"META_DATA_SOURCE_PAYMENT_STATUS"},{title:"Payments",value:"META_DATA_SOURCE_PAYMENTS"},{title:"Registration Group",value:"META_DATA_SOURCE_REGISTRATION_GROUP"},{title:"Registration Reference",value:"META_DATA_SOURCE_REGISTRATION_REFERENCE"},{title:"Registration Form",value:"META_DATA_SOURCE_REGISTRATION_FORM"},{title:"Submission Date",value:"META_DATA_SOURCE_SUBMISSION_DATE"},{title:"Submission Status",value:"META_DATA_SOURCE_SUBMISSION_STATUS"},{title:"Tags",value:"META_DATA_SOURCE_TAGS"}];var sh=(le=>(le.PANEL_STYLE_FLEX="PANEL_STYLE_FLEX",le.PANEL_STYLE_NAV_BOTTOM="PANEL_STYLE_NAV_BOTTOM",le.PANEL_STYLE_NAV_LEFT="PANEL_STYLE_NAV_LEFT",le.PANEL_STYLE_NAV_RIGHT="PANEL_STYLE_NAV_RIGHT",le.PANEL_STYLE_NAV_TOP="PANEL_STYLE_NAV_TOP",le))(sh||{});const SY=[{title:"Body Flexible",value:"PANEL_STYLE_FLEX"},{title:"Fixed Bottom",value:"PANEL_STYLE_NAV_BOTTOM"},{title:"Fixed Left",value:"PANEL_STYLE_NAV_LEFT"},{title:"Fixed Right",value:"PANEL_STYLE_NAV_RIGHT"},{title:"Fixed Top",value:"PANEL_STYLE_NAV_TOP"}];var lk=(le=>(le.USER_DATA_SOURCE_NULL="",le.USER_DATA_SOURCE_AVATAR="USER_DATA_SOURCE_AVATAR",le.USER_DATA_SOURCE_CONTACTS="USER_DATA_SOURCE_CONTACTS",le.USER_DATA_SOURCE_DATE_OF_BIRTH="USER_DATA_SOURCE_DATE_OF_BIRTH",le.USER_DATA_SOURCE_DISPLAY_NAME="USER_DATA_SOURCE_DISPLAY_NAME",le.USER_DATA_SOURCE_EMAIL="USER_DATA_SOURCE_EMAIL",le.USER_DATA_SOURCE_FIRST_NAME="USER_DATA_SOURCE_FIRST_NAME",le.USER_DATA_SOURCE_HANDLE="USER_DATA_SOURCE_HANDLE",le.USER_DATA_SOURCE_LAST_NAME="USER_DATA_SOURCE_LAST_NAME",le.USER_DATA_SOURCE_TELEGRAM="USER_DATA_SOURCE_TELEGRAM",le))(lk||{});const EY=[{title:"Avatar",value:"USER_DATA_SOURCE_AVATAR"},{title:"Contact Details",value:"USER_DATA_SOURCE_CONTACTS"},{title:"Date of Birth",value:"USER_DATA_SOURCE_DATE_OF_BIRTH"},{title:"Email Address",value:"USER_DATA_SOURCE_EMAIL"},{title:"Display Name",value:"USER_DATA_SOURCE_DISPLAY_NAME"},{title:"First Name",value:"USER_DATA_SOURCE_FIRST_NAME"},{title:"Handle",value:"USER_DATA_SOURCE_HANDLE"},{title:"Last Name",value:"USER_DATA_SOURCE_LAST_NAME"},{title:"Telegram Username",value:"USER_DATA_SOURCE_TELEGRAM"}];var qu=(le=>(le.CHECK_IN_STATUS_PENDING="CHECK_IN_STATUS_PENDING",le.CHECK_IN_STATUS_COMPLETED="CHECK_IN_STATUS_COMPLETED",le.CHECK_IN_STATUS_REJECTED="CHECK_IN_STATUS_REJECTED",le.CHECK_IN_STATUS_REVOKED="CHECK_IN_STATUS_REVOKED",le))(qu||{});const z$=[{title:"Pending",value:"CHECK_IN_STATUS_PENDING"},{title:"Completed",value:"CHECK_IN_STATUS_COMPLETED"},{title:"Rejected",value:"CHECK_IN_STATUS_REJECTED"},{title:"Revoked",value:"CHECK_IN_STATUS_REVOKED"}],ak=le=>{var De;return((De=z$.find(de=>de.value===le))==null?void 0:De.title)||""},D$=le=>{switch(le){case"EMAIL_STATUS_QUEUED":return"Queued";case"EMAIL_STATUS_QUEUE_ERROR":return"Processing";case"EMAIL_STATUS_QUEUE_FAILURE":return"Internal Error";case"EMAIL_STATUS_SENDING":return"Sending";case"EMAIL_STATUS_SENT":return"Sent";case"EMAIL_STATUS_SEND_ERROR":return"Failed to Send"}return"Unknown"},TY=le=>`${le.charAt(0).toUpperCase()}${le.slice(1)}`,R$=ps("br",null,null,-1),N$=ps("h3",null,"Assigned Accommodation",-1),M$=ps("br",null,null,-1),I$=ps("br",null,null,-1),B$=ps("h3",null,"Accommodation Preferences",-1),L$=ps("h3",null,"Selected Tickets",-1),P$=ps("br",null,null,-1),F$=Xr({__name:"EditAccommodationAssignmentDialog",props:Ri({convention:{},registration:{},selectedAccommodation:{},title:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:Ri(["update:field"],["update:modelValue"]),setup(le,{emit:De}){const de=le,{convention:xe,registration:Le,title:ze=""}=de,Tt=De,Oe=tg(),Pe=ll(le,"modelValue"),je=Do({capacity:{max:lo=>{var Je;const Vt=ae.value.find(O=>O.room.RoomUUID===lo);return!Vt||Vt.room.MaximumCapacity===0?!0:(((Je=Se.value)==null?void 0:Je.Members.length)||0)<=Vt.room.MaximumCapacity||"Too many people in the group for this room"},min:lo=>{var Je;const Vt=ae.value.find(O=>O.room.RoomUUID===lo);return!Vt||Vt.room.MinimumCapacity===0?!0:(((Je=Se.value)==null?void 0:Je.Members.length)||0)>=Vt.room.MinimumCapacity||"Not enough people in the group for this room"}}}),rt=Do([]),zt=YL(de,Tt,void 0,void 0,"field"),ct=Do(eg(zt.value));Qg(zt,()=>{ct.value=eg(zt.value)});const Se=Do(),Ue=Do(""),xt=Do(""),so=Do([]),We=Do({Ticket:[],AddonsChecked:[],ComponentsChecked:[]}),At=async()=>{var Je;const lo=await Oe.getConventionAvailableAccommodation(xe.ConventionUUID);lo&&(rt.value=lo);const Vt=await Oe.getRegistrationGroup(Le.RegistrationUUID||"");Vt&&(Se.value=Vt);const _e=await Oe.getConventionTickets(xe.ConventionUUID);_e&&(so.value=_e);try{We.value=JSON.parse(((Je=Se.value)==null?void 0:Je.TicketData)||"")}catch{}};Qg(Ue,()=>{xt.value=ae.value.length>0?ae.value[0].value:""});const Qe=_l(()=>{const lo=Lt.value;return rt.value.map(Vt=>{let _e;return lo.forEach(Je=>{Vt.Costs.forEach(O=>{O.DateStart===(Je==null?void 0:Je.DateStart)&&O.DateEnd===Je.DateEnd&&(_e===void 0||_e>O.Availability)&&(_e=O.Availability)})}),{label:`${Vt.Name}`,title:`${Vt.Name} (${_e} Available)`,value:Vt.AccommodationUUID}})}),ae=_l(()=>{const lo=Lt.value,Vt=rt.value.find(_e=>_e.AccommodationUUID===Ue.value);return(Vt==null?void 0:Vt.Pool.map(_e=>{var O,ft;let Je;return lo.forEach(dt=>{_e.Costs.forEach(Jt=>{Jt.DateStart===(dt==null?void 0:dt.DateStart)&&Jt.DateEnd===dt.DateEnd&&(Je===void 0||Je>Jt.Availability)&&(Je=Jt.Availability)})}),{label:`${(O=_e.Venue)==null?void 0:O.Name} - ${_e.Name}`,title:`${(ft=_e.Venue)==null?void 0:ft.Name} - ${_e.Name} (${Je} Available)`,value:_e.RoomUUID,room:_e}}))||[]}),Lt=_l(()=>[...We.value.Ticket,...We.value.AddonsChecked,...We.value.ComponentsChecked].map(lo=>so.value.find(Vt=>Vt.TicketUUID===lo)).filter(lo=>lo!==void 0&&lo.RequiresAccommodation)),he=lo=>{var Vt;Oe.assignAccommodation(((Vt=Se.value)==null?void 0:Vt.Registration.RegistrationUUID)||"",Ue.value,xt.value,!1).then(_e=>{_e?(At(),lo&&lo("Room Assigned")):lo&&lo("Room not assigned")}).catch(()=>{lo&&lo("Room not assigned")})},tt=lo=>{var Vt,_e;(Vt=Se.value)!=null&&Vt.Registration.AllocationUUID?Oe.deleteAllocation(((_e=Se.value)==null?void 0:_e.Registration.AllocationUUID)||"").then(Je=>{Je?(At(),lo&&lo("Allocation Deleted")):lo&&lo("Allocation not deleted")}).catch(()=>{lo&&lo("Allocation not deleted")}):lo&&lo("Nothing to Delete")},sn=lo=>{var _e,Je;const Vt=(_e=rt.value.find(O=>O.AccommodationUUID===lo.AccommodationUUID))==null?void 0:_e.Pool;if(Vt){const O=Vt.find(ft=>ft.RoomUUID===lo.RoomUUID);if(O)return`${(Je=O.Venue)==null?void 0:Je.Name} - ${O.Name}`}return""};return At(),(lo,Vt)=>{var _e;return $e(),No(A_,{modelValue:Pe.value,"onUpdate:modelValue":Vt[2]||(Vt[2]=Je=>Pe.value=Je),title:vo(ze),color:"primary","show-close-action":!0,"show-delete-action":!!((_e=Se.value)!=null&&_e.Registration.Allocation),"show-save-action":!!xt.value,"save-button-label":"Assign Room",onDelete:tt,onSave:he,fullscreen:!0,persistent:!0},{default:Ke(()=>[ot(ih,{class:"pa-0",fluid:!0},{default:Ke(()=>[ot(il,null,{default:Ke(()=>{var Je;return[ot(xs,{cols:"12",md:"6"},{default:Ke(()=>{var O,ft;return[ps("h3",null,"Group Members ("+Uo((O=Se.value)==null?void 0:O.Members.length)+")",1),($e(!0),to(xn,null,pi((ft=Se.value)==null?void 0:ft.Members,dt=>($e(),to(xn,{key:dt.UUID},[jo(" #"+Uo(dt.Reference)+" "+Uo(dt.Name),1),R$],64))),128))]}),_:1}),(Je=Se.value)!=null&&Je.Registration.Allocation?($e(),No(xs,{key:0,cols:"12",md:"6"},{default:Ke(()=>[N$,ot(x_,null,{default:Ke(()=>{var O;return[($e(!0),to(xn,null,pi((O=Se.value)==null?void 0:O.Registration.Allocation.Periods,ft=>($e(),No(w_,{key:ft.AllocationPeriodUUID},{default:Ke(()=>{var dt;return[jo(Uo((dt=rt.value.find(Jt=>Jt.AccommodationUUID===ft.AccommodationUUID))==null?void 0:dt.Name)+" ",1),M$,jo(" "+Uo(sn(ft))+" ",1),I$,ps("small",null,"("+Uo(vo(ah)(ft.DateStart))+" - "+Uo(vo(ah)(ft.DateEnd))+")",1)]}),_:2},1024))),128))]}),_:1})]),_:1})):Zn("",!0)]}),_:1}),ot(il,null,{default:Ke(()=>[ot(xs,{cols:"12",md:"6"},{default:Ke(()=>[lo.selectedAccommodation.length?($e(),to(xn,{key:0},[B$,ot(x_,null,{default:Ke(()=>[($e(!0),to(xn,null,pi(lo.selectedAccommodation,(Je,O)=>($e(),No(w_,{key:Je.AccommodationUUID},{default:Ke(()=>[jo(Uo(O+1)+". "+Uo(Je.Name),1)]),_:2},1024))),128))]),_:1})],64)):Zn("",!0)]),_:1}),ot(xs,{cosl:"12",md:"6"},{default:Ke(()=>[L$,ot(x_,null,{default:Ke(()=>[($e(!0),to(xn,null,pi(Lt.value,Je=>($e(),No(w_,{key:Je==null?void 0:Je.TicketUUID},{default:Ke(()=>[jo(Uo(Je.Name)+" ",1),P$,ps("small",null,"("+Uo(vo(ah)(Je.DateStart))+" - "+Uo(vo(ah)(Je.DateEnd))+")",1)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),ot(il,null,{default:Ke(()=>[ot(xs,{cols:"12",md:"6"},{default:Ke(()=>[ot(OE,{modelValue:Ue.value,"onUpdate:modelValue":Vt[0]||(Vt[0]=Je=>Ue.value=Je),items:Qe.value,"item-title":"title","item-value":"value",label:"Accommodation"},null,8,["modelValue","items"])]),_:1}),ot(xs,{cols:"12",md:"6"},{default:Ke(()=>[ot(OE,{modelValue:xt.value,"onUpdate:modelValue":Vt[1]||(Vt[1]=Je=>xt.value=Je),items:ae.value,"item-title":"title","item-value":"value",label:"Room Pool",rules:[je.value.capacity.min,je.value.capacity.max]},null,8,["modelValue","items","rules"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","title","show-delete-action","show-save-action"])}}}),U$=le=>(GW("data-v-33548a38"),le=le(),KW(),le),H$={key:0,class:"accommodationList"},V$={key:0,class:"text-orange-darken-2"},j$={key:1,class:"accommodationList"},Z$=U$(()=>ps("br",null,null,-1)),q$=Xr({__name:"DataTableItemAccommodation",props:{accommodations:{default:()=>[]},convention:{},forms:{},registration:{},tickets:{default:()=>[]},value:{default:""},venues:{}},setup(le){const De=DE(),de=ON(De,le.convention),xe=Do(!1),Le=_l(()=>le.registration.Allocation.Periods.map(Oe=>{var Pe;return{DateStart:Oe.DateStart,DateEnd:Oe.DateEnd,Accommodation:Oe.Accommodation||((Pe=le.accommodations)==null?void 0:Pe.find(je=>je.AccommodationUUID==Oe.AccommodationUUID))}}).sort((Oe,Pe)=>Oe.DateStart>Pe.DateStart?1:Oe.DateStart==Pe.DateStart?0:-1));le.registration&&le.registration.Allocation&&le.registration.Allocation.Periods&&le.registration.Allocation.Periods.forEach(Oe=>{var je;if(Oe.Accommodation)return;const Pe=(je=le.accommodations)==null?void 0:je.find(rt=>rt.AccommodationUUID==Oe.AccommodationUUID);Pe&&(Oe.Accommodation=Pe)});const ze=_l(()=>{if(!le.value)return[];const Oe=JSON.parse(le.value),Pe=le.accommodations.filter(je=>Oe.includes(je.AccommodationUUID)).sort((je,rt)=>{const zt=Oe.findIndex(Se=>Se===je.AccommodationUUID),ct=Oe.findIndex(Se=>Se===rt.AccommodationUUID);return zt>ct?1:-1});return eg(Pe)}),Tt=_l(()=>{let Oe;const Pe=le.forms.find(je=>!!je.Sections.find(rt=>{var zt;return rt.Fields?!!((zt=rt.Fields)!=null&&zt.find(ct=>{var Se;return((Se=ct.Field)==null?void 0:Se.Type)==="TICKET"?(Oe=ct,!0):!1})):!1}));return Oe?!!le.registration.Submissions.find(je=>{if(je.FormUUID==(Pe==null?void 0:Pe.FormUUID))return!!je.Data.find(rt=>{if(rt.SectionFieldUUID==(Oe==null?void 0:Oe.SectionFieldUUID)){const zt=JSON.parse(rt.Data);return le.tickets.filter(ct=>ct.RequiresAccommodation).find(ct=>zt.Ticket.includes(ct.TicketUUID)||zt.AddonsChecked.includes(ct.TicketUUID)||zt.ComponentsChecked.includes(ct.TicketUUID))}})}):!1});return(Oe,Pe)=>Tt.value?($e(),to(xn,{key:0},[Oe.value?($e(),to("ol",H$,[($e(!0),to(xn,null,pi(ze.value,je=>($e(),to("li",{key:je.AccommodationUUID},[Oe.registration&&Oe.registration.Allocation&&Oe.registration.Allocation.Periods.find(rt=>rt.AccommodationUUID===je.AccommodationUUID)?($e(),to("strong",V$,Uo(je.Name),1)):($e(),to(xn,{key:1},[jo(Uo(je.Name),1)],64))]))),128))])):($e(),to("ul",j$,[($e(!0),to(xn,null,pi(Le.value,je=>{var rt;return $e(),to("li",{key:je.DateStart},[jo(Uo((rt=je.Accommodation)==null?void 0:rt.Name)+" ("+Uo(vo(ah)(je.DateStart))+" - "+Uo(vo(ah)(je.DateEnd))+")",1),Z$])}),128))])),vo(de)?($e(),No(Vr,{key:2,onClick:Pe[0]||(Pe[0]=je=>xe.value=!0),variant:"flat",color:"success"},{default:Ke(()=>[jo("Assign Accommodation")]),_:1})):Zn("",!0),Oe.convention&&xe.value?($e(),No(F$,{key:3,modelValue:xe.value,"onUpdate:modelValue":Pe[1]||(Pe[1]=je=>xe.value=je),title:"Accommodation Allocation",convention:Oe.convention,registration:Oe.registration,tickets:Oe.tickets,"selected-accommodation":ze.value},null,8,["modelValue","convention","registration","tickets","selected-accommodation"])):Zn("",!0)],64)):Zn("",!0)}}),W$=$L(q$,[["__scopeId","data-v-33548a38"]]),$$={key:0,class:"addonList"},G$={key:0},K$={key:0},Y$=Xr({__name:"DataTableItemExtras",props:{extras:{default:()=>[]},value:{default:""}},setup(le){const De=_l(()=>{if(!le.value)return;const de=JSON.parse(le.value),xe=Object.keys(de),Le=eg(le.extras);return Le.forEach(ze=>{ze.Options=ze.Options.filter(Tt=>xe.includes(Tt.OptionUUID)?(Tt.Choices=Tt.Choices.filter(Oe=>Oe.TagUUID===de[Tt.OptionUUID].choiceId),de[Tt.OptionUUID].checked):!1)}),Le.filter(ze=>ze.Options.length>0),Le});return(de,xe)=>de.value?($e(),to("ul",$$,[($e(!0),to(xn,null,pi(De.value,Le=>($e(),to(xn,{key:Le.ExtraUUID},[Le.Options.length?($e(),to("li",G$,[ps("strong",null,Uo(Le.Name),1),ps("ul",null,[($e(!0),to(xn,null,pi(Le.Options,ze=>($e(),to("li",{key:ze.OptionUUID},[jo(Uo(ze.Name)+" ",1),ze.Choices.length==1?($e(),to("small",K$,"("+Uo(ze.Choices[0].Title)+")",1)):Zn("",!0)]))),128))])])):Zn("",!0)],64))),128))])):Zn("",!0)}}),Q$=$L(Y$,[["__scopeId","data-v-55786e01"]]),J$={key:0},X$=Xr({__name:"DataTableItemInterests",props:{interests:{default:()=>[]},value:{default:""}},setup(le){const De=_l(()=>{if(!le.value)return;const de=JSON.parse(le.value);return Object.entries(de).filter(([,xe])=>xe).map(([xe,Le])=>le.interests.find(ze=>ze.InterestUUID===xe)).filter(xe=>xe!==void 0)});return(de,xe)=>de.value?($e(),to("ul",J$,[($e(!0),to(xn,null,pi(De.value,Le=>($e(),to("li",{key:Le.InterestUUID},Uo(Le.Name),1))),128))])):Zn("",!0)}}),eG=ps("br",null,null,-1),tG=ps("small",null,"Options:",-1),oG=ps("br",null,null,-1),nG=ps("small",null,"Addons:",-1),sG=Xr({__name:"DataTableItemTicket",props:{tickets:{default:()=>[]},value:{default:""}},setup(le){const De=_l(()=>{if(!le.value)return;let de={Ticket:[],AddonsChecked:[],ComponentsChecked:[]};try{de=JSON.parse(le.value),"ticket"in de&&(de.Ticket=de.ticket),"addonsChecked"in de&&(de.AddonsChecked=de.addonsChecked),"componentsChecked"in de&&(de.ComponentsChecked=de.componentsChecked)}catch{}return de.Ticket.filter(xe=>{const Le=le.tickets.find(ze=>ze.TicketUUID===xe);return!(!Le||Le.Type!==d$.TICKET_TYPE_TICKET)}).map(xe=>{const Le=le.tickets.find(Tt=>Tt.TicketUUID===xe),ze=eg(Le);return ze.TicketComponents=Le.TicketComponents.filter(Tt=>de.ComponentsChecked.includes(Tt.TicketUUID)),ze.AddonTickets=Le.AddonTickets.filter(Tt=>de.AddonsChecked.includes(Tt.TicketUUID)),ze})});return(de,xe)=>de.value?($e(!0),to(xn,{key:0},pi(De.value,Le=>($e(),to("div",{key:Le.TicketUUID},[ps("strong",null,Uo(Le.Name),1),Le.TicketComponents.length>0?($e(),to(xn,{key:0},[eG,tG,jo("  "),($e(!0),to(xn,null,pi(Le.TicketComponents,ze=>($e(),to(xn,{key:ze.TicketUUID},[ps("small",null,Uo(ze.Name),1),jo("  ")],64))),128))],64)):Zn("",!0),Le.AddonTickets.length>0?($e(),to(xn,{key:1},[oG,nG,jo("  "),($e(!0),to(xn,null,pi(Le.AddonTickets,ze=>($e(),to("small",{key:ze.TicketUUID},[jo("("),ps("em",null,Uo(ze.Name),1),jo(")")]))),128))],64)):Zn("",!0)]))),128)):Zn("",!0)}}),_F=Xr({__name:"DataPanelAccommodation",props:Ri({accommodations:{},convention:{},data:{},forms:{},tickets:{},venues:{},registration:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(le){return ll(le,"modelValue"),(De,de)=>($e(),to("div",null,[ot(W$,{value:De.data,accommodations:De.accommodations,convention:De.convention,forms:De.forms,registration:De.registration,tickets:De.tickets,venues:De.venues},null,8,["value","accommodations","convention","forms","registration","tickets","venues"])]))}}),rG={key:0,class:"text-red-darken-4 font-weight-bold"},aG={key:1,class:"text-orange-darken-2 font-weight-bold"},iG=Xr({__name:"DataPanelAge",props:Ri({data:{},forms:{},registration:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(le){const De=ll(le,"modelValue"),de=new Date,xe=de.getFullYear(),Le=(de.getMonth()+1).toLocaleString("en-US",{minimumIntegerDigits:2}),ze=de.getDate().toLocaleString("en-US",{minimumIntegerDigits:2}),Tt=Do(!1),Oe=Do(`${xe}-${Le}-${ze}`),Pe=Do(18);le.forms.find(ct=>ct.Sections.find(Se=>Se.Fields?Se.Fields.find(Ue=>{var xt;return Ue.SectionFieldUUID===De.value.SectionFieldUUID?(De.value.SectionField=Ue,(xt=Ue.Field)==null||xt.Values.forEach(so=>{switch(so.Title){case"UNDER_AGE_APPLY_TAG":so.Value.length>0&&(Tt.value=!0);break;case"BEFORE_DATE":Oe.value=so.Value;break;case"MIN_AGE":Pe.value=parseInt(so.Value);break}}),!0):!1}):!1));const je=ct=>({registration:rt(ct,le.registration.CreatedAt||"",Pe.value),convention:rt(ct,Oe.value,Pe.value)}),rt=(ct,Se,Ue)=>{if(ct>=Se)return!1;const xt=zt(ct),We=zt(Se).getTime()-xt.getTime(),At=1e3*60*60*24*365.25;return We/At>=Ue},zt=ct=>{const[Se,Ue,xt]=ct.split("-");return new Date(parseInt(Se),parseInt(Ue)-1,parseInt(xt))};return(ct,Se)=>($e(),to("div",null,[ps("p",null,[jo(Uo(vo(ah)(ct.data,{withDay:!1,withYear:!0}))+" ",1),Tt.value&&je(ct.data).convention&&je(ct.data).registration?($e(),No(I1,{key:0,icon:"mdi:mdi-check",color:"success"})):Tt.value&&!je(ct.data).convention?($e(),No(I1,{key:1,icon:"mdi:mdi-alert",color:"error"})):Tt.value&&je(ct.data).convention&&!je(ct.data).registration?($e(),No(I1,{key:2,icon:"mdi:mdi-alert",color:"warning"})):Zn("",!0)]),Tt.value?($e(),to(xn,{key:0},[je(ct.data).convention?je(ct.data).registration?Zn("",!0):($e(),to("p",aG," Attendee was under "+Uo(Pe.value)+" at time of registration ",1)):($e(),to("p",rG," Attendee is under "+Uo(Pe.value),1))],64)):Zn("",!0)]))}}),AF=(le,De)=>le===void 0?!1:f$(le,m$.GROUP_TYPE_CONVENTION,De.ConventionUUID,De).CheckIn,ck=class ck{constructor(){Ad(this,"reader");Ad(this,"ready",!1);Ad(this,"scanning",!1);"NDEFReader"in window&&(this.reader=new window.NDEFReader,this.ready=!0)}static getInstance(){return ck.instance===void 0&&(ck.instance=new ck),ck.instance}isReady(){return this.ready}scan(){return new Promise((De,de)=>{this.ready||de("ndef reader not available"),this.scanning&&de("scan already in progress"),this.scanning=!0;const xe=()=>{this.reader.removeEventListener("readingerror",xe),this.reader.removeEventListener("reading",Le),this.scanning=!1,de("error reading card")},Le=ze=>{this.reader.removeEventListener("readingerror",xe),this.reader.removeEventListener("reading",Le),this.scanning=!1,De(ze)};this.reader.addEventListener("readingerror",xe),this.reader.addEventListener("reading",Le),this.reader.scan()})}};Ad(ck,"instance");let WL=ck;const lG={key:0,class:"font-weight-bold pt-2"},CF=Xr({__name:"Badges",props:Ri({cardClass:{default:""},convention:{},hideDownload:{type:Boolean,default:!1},hideNfc:{type:Boolean,default:!1},showTitle:{type:Boolean,default:!0}},{registration:{required:!0},registrationModifiers:{}}),emits:["update:registration"],setup(le){const De=ll(le,"registration"),de=tg(),xe=GL.getInstance(),Le=QL(),ze=YW(),Tt=Do([]),Oe=WL.getInstance(),Pe=Do(Oe.isReady()),je=Do(De.value.BadgeSerialNumber),rt=Do(ze.currentRoute.value.name=="RunnerView"),zt=Do(""),ct=Do(!1),Se=Do(2),Ue=DE();let xt=!1,so=!1;le.convention&&(xt=AF(Ue,le.convention),so=ON(Ue,le.convention)),Qg(()=>De,()=>{he(),je.value=De.value.BadgeSerialNumber}),xe.on("badge_serial_update",tt=>{const sn=tt;sn.RegistrationUUID===De.value.RegistrationUUID&&(De.value.BadgeSerialNumber=sn.BadgeSerial,je.value=De.value.BadgeSerialNumber)});const We=tt=>{var lo;const sn=document.createElement("a");sn.download=`${((lo=le.convention)==null?void 0:lo.Name)||""} Badge Image - ${De.value.Reference} - ${De.value.User.DisplayName}.jpg`,sn.href=tt,document.body.appendChild(sn),sn.click(),document.body.removeChild(sn)},At=async tt=>Le.GetConBadgeImageURL(De.value.RegistrationUUID,tt),Qe=()=>{if(Pe.value)try{Oe.scan().then(tt=>{Lt(tt)}).catch(()=>{ae()})}catch{ae()}},ae=()=>{zt.value="Error Reading Card",ct.value=!0},Lt=tt=>{if(tt.serialNumber){const sn=tt.serialNumber;zt.value="Obtained Card Details",ct.value=!0,je.value=sn,de.setBadgeSerial(De.value.RegistrationUUID,je.value).then(lo=>{lo?(zt.value="Badge Serial Saved",ct.value=!0,xe.emit("badge_serial_update",{RegistrationUUID:De.value.RegistrationUUID,BadgeSerial:je.value})):(zt.value="Failed to Save Badge Serial",ct.value=!0)})}else zt.value="Serial Number not Found",ct.value=!0},he=()=>{de.getConBadgeList(De.value.RegistrationUUID).then(tt=>{tt&&(Tt.value=[],tt.forEach(sn=>{At(sn).then(lo=>{Tt.value.push({template:sn,url:lo})})}))}).catch(()=>{Tt.value.push({template:"404",url:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAQDAwQDAwQEAwQFBAQFBgoHBgYGBg0JCggKDw0QEA8NDw4RExgUERIXEg4PFRwVFxkZGxsbEBQdHx0aHxgaGxr/2wBDAQQFBQYFBgwHBwwaEQ8RGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhr/wgARCAIoAuQDASIAAhEBAxEB/8QAHAABAAEFAQEAAAAAAAAAAAAAAAYBAgMEBQcI/8QAGgEBAAMBAQEAAAAAAAAAAAAAAAECAwQFBv/aAAwDAQACEAMQAAAB9/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALS5gxm20kt1qZDOtugAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAa/Lme5SJaGlploxhee1qaC9s2EsCZAUqgy4hvbXHViSbsOVrProD0M4lzidTOucRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAxGWzhcTW0i4+g1uGlgAAAAAAAAAAAh0OxF1Kz2+B9nKkjYM+VQAAAAAAAAAAAAAAAAAAAAAAAAAAFvOjV7drg43RoF5AF0LV1oEgAAAAAAAAAgEgLuxxVYnOeA93npIVl+dAAAAAAAAAAAAAAAAAAAAAAABom1G+fr9GgbXAAAvsutgutvLBIAAAAArdCxfQpWlC9YL6Wi+lovpaL6Wi9YNqRxKtKz9FZLz55RWAAAAAAAAAAAAAAAAAAAACkdmduN43VqXLTavFi4WqiitStl9YWVWyCQABdWFl1bS5YK0AJAAAAAAAAM2FCYdCASHnz7ylcqAAAAAAAAAAAAAAAAAAKItaa8g6tQtIACtEKqCqgAvWC5ahdWwXrEq0AJAAAAAAAAAAAAAdaTwLexpMmLLz5gAAAAAAAAAAAAAAAKVjczi5B16haQAAC/NEazSa13XK0rTIhjYAAAApiRmc/U0jto9tS66lcrAAAAAAAG5zVczSppG84O6nojOwG3L4LtZVmzDm5sgAAAAAAAAAAAAABzzUjVadeoXsAAAOrWOr1jkxCGh5d6l5b3W79aVagADpxGn3uvk5s8OWrOtKhhj8mXeSYvXId2206xeTW0uGcgAAANzUmeVdq45sgIhDZnDPS0kIzuABtzCCb+NJitu58wAAAAAAAAAAABQxQvd5nRoG1wAAAMs25/V5cgzqBo+W+peW91u/WlWoAvhuS/DscuIxUjJyIjyuy0468LUt6AiErwpktuViFQ717znvvvOT1puFZAAG7EdTv0rx4hACIwyZwz0tJCM7gACsOtKYDIcM+6MaAAAAAAAAAAAOP0oTpbGOrUAAAB1ufNcaZTFz55UHm91RRo+W+peW91u/WlWoDv8AAnONM4580QknlnTbFI8eTp0DOXb4l9Ynqy/jxRqS6dp8okfG3/S02hjYAC6Z8zvc2Q4ede4jsikFURhkzhnpaSEZ3AF0KVWitEpjvweacmWQUqAAAAAAAAANI4nHOzYLSAAAOvWOr1DkxRXs+W9Fs/rkFnQHNXR8t9S8t7rd+tKtQN6ZRyR8uQZ14Hns2hPo3kIpoABLenH5Bx4hWINF5zBvS0kIzuA3tOaZV2aqc2Wt5bJIx6F59IeT1uKoUiIwyZwz0tJCM7lboLaAJCsKdzjW1iftDf5MQAAAAAAAAER78O2uHRoAKwovFi+kMs00ulz5Lbo9SI7zOfJvTvuTSEzbggMqaPlvqXl/dbu1urGti60k/Z5vS5MQrEMiMpi/p6SAZXAA68piUt5cgzrwvPPSfNu+8gEaDerHV7tK8mLjdPzPWeXJdDodukq63J63nZhWIjDJnDvS0796zK91oBIXwW0AS3JnAJRhTsDDMAAAAAAAaxHOWr2bUXpmlbaF9LQEnY501xpkKc+er5dJIx6F+tslb7U2hM25qBlTR8t9S8t7rd+tKta1tQmW9ob/AB4hEQSNyiL+nr3xlYADpS6JS3lyDOvJ809J8377yDTjeDPbb9h5newxHNpTiwhIPT0vGN5V1uT1uPEKxE4XMoZ6WkhGdwBdCtgBIBsa6In13H7HHiEAAAAAAEekEH0tjpa6dQkAAOnWO30jkxcjr6yfJJJ2uf6E6zZVlNozJuWoZRo+W+u8fomM3bGPe2JFu7paddLi9rzswrEKikxhvpaSOtjK99tKlF1TqSmOSPlyCleH5H6t5736ac/05lhO1U58qQGf8zSfC/Q97zrr0n7LWKyHq6m3xUCEQhvqfB7bcxs8W89BG5JN61rZlIWAAAbc18/mOGe+MKAAAAAAc+H9zh9Oga3AAASWNSfKvZHNkAAAAAApWh5nhzYfU1l0lhc08+gZ1jUD9L809C8hUrXQAc2E27nD7nJiKViJQzs6Pp6dycwec8UBjQByesPOvRfM/QF9wKAAI7Io7e0AkccknoXtoZWAAAAdnjZKxPFt3HiAAAAAMJENQ7dgmQAAHV5SsSekZUrJkZEmRkSZGcaZl0vP5/jSopWyP9Xy3pn0TBwazeN97M6LJrCuzzRJ2OL82co89wc7XS/t+bbfZaX8LP3cbRHqyKXUr0KnPg5vShl5iEhj8h9HS6SxhzTJkZVrJkZEmRkSLz2QRmL+w5YlLcMQiNDj4IZ2W9HiWdN+N262WkIkAAAAXwlnRjsi5MQrAAAADmdPgWmPDs2AAAAOVH8dJHHLu/5fV0ruh5t380h4maYbVhGSZLRxfV/JPW8MqjPPR8r9U8c69MPUdNrw9eX7BCKza05E05Uxwyyqs8+VDPSG0+WdmdLtHeOaBpGt5dsdT077NxloAAAABFvYOb59x09ccnrVziPmXpsM9HTDJ4ROMdbrK0tUJAAAAXUushvTKAzznzuGVAAAAEWlMP0tzx1agAADBCEbXEmvi90mtzxO3NiiPZ5PP25e7HcUX9I2IDL/AHvN4/ZrIa05F+5jpWPwv0qMdkyJrqzsUwE5664z7GgRPuh5j1uek5R7cyp1XN0zvUhMa6E288zdTqvi2sTO+Vi0InHH7JV5m3Cu5/p2V4h1PIsuk+yORv8Ap8uy1kpv14L0ObLj6UjpW0Djkty91sMk592U7bHkmAAAAF9qFBJNoTLsadIc+YAAAFIXNIPrfAOnQAABhza9XN9L8i1OG3t/Eg/odZ8+hv0Ly8r+Z9b0CH9lLLcrrphpnGvTZGq2hqNsabc5MNlupaVN4aLeGi3rjn06VhoN8aDfGhXeEQ809I888zrll0e2ePX1HU876u2MPWX4bpHxZl05SzPkzevx6zZGvXOMNcotvusgEgAABdCtlaASSmLSfKnZHNmAAABSDTqD7X1x0aAADJCNczDOq35un3mcxnq9mT1xz5fLN6lfReD3I7NdXDNGloPbOkoInQguWa68TFteQalL6uv2Y9jbLQ9CoAAC+xCtLhaJAeca/p2jx7eL9S6WeZ6UL3ZFTl6oTl3W3D6rteeTD2eDptfN0ZXCwAtxVbVluOGZl5UR0BpIAC+ltQWAJTFpdlTpDmzAAAAQuaRLW3MHTqAL4LAgU95EareeIPVE4nPiXt2WTm9JTPx7P6xpV0jcu8K3cOj21we90cYSaO8ifMNyfuXpuicu5fZzxgdWoAAACtEL7F5YJABCJcT22BeTv5wU4u/W2tbZmKVImVevfP8A9Ad3neNcH0jzLm61Ksttr1fx67XH3jhcnse154agBfBYASATaFzzDO4YUAAAARuSce8xcdewvgsBtx6zz95XtcGe2wiGnO8PRnwUjj2SRNHemiPZd+JiWlI7eHt0OF6k7uTzOb9CEE8eXj1BCZernpVMRLRm3mO+vYtjUQ9CvoF3mVO2npfR8n9o47arrc/g0wi0gX2xvh8ms/RHtaR1DmaUnXkElp51/NKVef6Rr7CATd7p4TTXGYw8pdSvosx51ue17vRy+E+o+PzjTSUD1eMCta2QCQAHQmHB73LkGdQAAAGtsjz9tavbtVdYkJQeQdLNxbU6XOdeEx2oL08qSbl8mmc9rLz+1NOJ3isLY9qRfu15uLLTsXR7W1iY4uJv5NCG+g6S3mW9K9TTTTgfp+j3YeQd7bw/U8urbW+8avr/AJH6z42+/q43lahaXA7/AJpz6cu7N6T5vZ5c9JhdWlTAw1zYcPc0z5OO/Vz0yZyA1zYa6WwwZYXSqIW2r9KeWRfS6ebFda5OyTSry9283r93E7np8dtC8BIAdGsSbZOPEAAAAACPcOawrfSwb3AFYUurYX7ejLaV2M2tGcqS9Esku9Ds2K19fYNbBIDZ7cby8s99EMPPMxj8j4msa99l/ZFIPNuFExCnelPq5ec+4QHtYRJI/jcFwvZob6FtwBLiaXfhfDvJtSBOXfLhrTk3rbtz7qxglfUnZz+c9SZL143Nlerevjq+zxe/r+geUOjL03mybb9Dn8843rmtz6eX+j+c7nNt6YPa4AAEv4Mv58wxoAAAAAAi0p1rTCF1vXsVuFLQEqK6+USyN7OtYF5AAACBdUsszDsYM2Tzp4ltHow5/QRMfkBUGkAAAAAaEz4O7yViF3aa6x3c6wpU2oAABG456Ow086i3t3m/Lr3JZ5d6pvmtU6coLDPW4L5vX6XWlfS5AkutkVI6e2cmIAAAAAAAHA4M8h++mlabXpbbZK+llJX0sonJTGMlMYyMQyMYyMYy1wkZaYyclLKQ2+pwnNOVir1RlYqmWuKsRlrirLNdhywqAAWlzBabWLDSrbadLN1pUN5o0N9oJb7QG+0EN9oVN6EyXyLk3v8AaPH/AFTKd9qV9Dn2mvcZgDciM8ssycmQVgAAAAAAABgziDYJrD+nXENbCsKLxStgvtoAkAAAAAAAAAAAAABZblGG3YGvTZGq2hqNsajbGo2xqN2sNJuWy1eb3ETq3bCYwVzDHdcBuxFkwZuXIKQAAAAAAAAAA1doQfDOYr0aaNtGtwkLoWrxYvQtEqrRctFy0XUpUUrUtX0hauStXixdUsXUKK0AkAAAKwouFq8WXKFywVoSAAAALpHSNCT3V5sgrAAAAAAAAAAAAClRwo9PtfW0Jr0+TtpdaWkJAAAAAAAAAABBWguWi9YL1gvWC9YLlorQAkAAAAANuI1Oj2+phTW2TGgAAAAAAAAAAAAAAADT3BFuVPsWt4IknJ1tojSwAAAAAAAAAAAAAAAAAAAAABs9SkcLek25lTldSrKgQAAAAAAAAAAAAAAAAAAAAwc7sJmL6U1XmA2z/FaYKmttphlJxkhBKz26Igd85EIumqEMumJEQrLkIlWWCKJWIqlQiqVCKpUIolYidJaIilwiFJglDaTMQu+YiJ7MjQ5G9sqQEQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/8QAMxAAAAUCBQIFBAIBBQEAAAAAAAECAwQFERASEyAwFDQGFSExQCIjM1AWJDUlMkJggEP/2gAIAQEAAQUC/wDIFyIazZDqWR1bI6tkdSyCebMEZH/1FUlpAVUWyCqkswqY8oG6tXCTq0hMx5ITUXCCakkImMrBGR/9HW8hsLqSSC5zygpal/DSo0hE51ARUUGEPIc/6CaiSTtQQkOTHXPltzHWw3UEKCVEov3a3Etk7UQtxTh/OQ4ps2qiZBt1DpftzUSSeqFgtanD/REZpNmoKSG3UOl+0fmIZDr63j32FvnJUaTYqASoll+wWtKCkTlOcJemJ/BsMosPQXIXGYZhmGYXFx6D0DTi2TYmJd/XvyUsE68t5XCeJ+3JYWHoLi/PcMTlNhDiXE/q5M0mwd1Hxe5AiuD4rD0Fxf4rTqmVR5aX/wBVKm3xuPQegyjKLGLCwsLGCIyFhfgsPQX+V7CNOv8Ap/YS5mpxXFxcXxuLDKLGMosPQX+fFmG0EqJRfo72EuXq/uI8lTBoWlxP6KXL1f3TEhTCm3Eup/QTZV+NCFOKehyko6erjp6uHSqrJdc+yrjNYU7JIHLlJHmpJDdTiuAjuXO3FdcS7HqZL6erjQq4N2opOHK6pG1h9TCm3Euo+dNlZC44UfSRjM7asdnwNMreNqnIIJbQjYtpCxKosd8PUd2GpuoG2vljMa7hFYsZ3cwO73R3zYWhZOJ+ZKkaCDO58UGPqL2TO2rHab4sQ3whBITvWhLiZ9OTlJTlLWRkouIiNRx2dBvZO7mB3e+LJNhSTJRfKccJpDrpvL4mmzdW2gm0bJnbVjtN0WPrrIrFjKqkSGTVajvBEppewyJRTYhIEdR0+RxQI+6d3MDu+CFJ0z+VMkay+OFH0kbZnbVjtNqUmtTLRMt4LWTaarVlpKNTySeEeWpk0KJacHmiebnROoap8k5DHBFY13C9C2zu5gd3v98IMm/yZ0jInjgx9Re6Z21Y7TbTmtlQkkaqeg5DmynvWVjUWrKX/UqW8iNRx2SYb3Tu5gd3uIhfAjscWRrt/GccJpDizcXxNNm6ttBNoDiybQ9WFx3MZnbVjtNrLek3hJc0maqs9FtBNo2JVkUk8ycJLeozU2tWJHd12N0CPbGZLNs6TUfMG8Z3cwO72kQvsZdNlxCiWn4s9/OvjhR9FGFRklemJObPxmdtWO02REZ5GNSX6L+9V90FeaPjIbyu0r6EbYrGu57YPvEy3UpC1HRmEx4WM7uYHd7LWF90B7IfxJL2i1xwY+orCW/otzlqlPQ0E27jM7asdpspqfqxqCrvwvrn7qYrZUU2eb+1V9iSNRx2SYbwqU1IpzSlHT+3xndzA7vAiuPbcRC9sIj+s38Oa9qu8TTSnVoQTaQZkkqnOJtFOi6LUcvv4zO2rPabKcX2cZR3k0n1Rupx/fxqRfRK+ipbIEexYT38iHv9QmCn9vjO7mB3YsL7rC98Yz2i78KW7os7rCw9BcXENjSRhUJAb/1GYI3cYy+2rJ/0/QWFsIJf1sZB/eo/aboHc41H8FR9H8YrGu5g44TSKpNUhMOMUVgU/t8Z3c08v7d9/tugPZ2/gzndR7GwsQuL7IMfOrCQ8TLdSfWs2GUx2hG7jGZ21Y7THMIfbYv/AJKP2W6B3ONQ7eo/mEiUzEQisqmLjs6LWFRlFeEk5b+FP7fGcf8AYgd3u9t7Dui4R3Lnfc0mhYWFxfcy0bziEE2nCpTUinNKVjG7jGZ21Y7TZC7bF8vu0bs90DuMaj+Cf6zKtWekVBoV1U+NkThMf0W5qjlvpSSE4U/t8Z3cwO72lw093M3z1Fdz9CF+GHH0W8J7xttzP7E62Mf8+Mztqz2ZepYwDvGxk+kikfS3cegsLY078+NSP7ddlKiu0Sk9ImIxruYzpKjSh6TTQytMhqxC4p/4MZ3cwO82F6g+GM7ovc7zmq5wwWtR7F5hD5SaFFlF/F4g/i8QfxeIIdCjQnsVJJROUqO6j+LQwvwvGyv00mGYrpvRqaf2sZxWkwfomY3GYXIU0vrxqPqo2UyKzlEdrRaxVBaUavC0FQk0lqhVP+MQx/F4gjR0RWcXorb5yPD0SQv+LxBL8Psx1RiVFnD2LihuarHLMc02OKml9vnP2mdpTuxpqvrxqSfufirG6mp+jGcrNIp33H2Su7uqUBqpw/DE50uGp+6v8yXJTnMrnLUl/VxU38POftM7SndjFXpv41BGZiqfbHvtmT2IDVIcN6nYH6FOkZGqa1pQmPzb/E0ZyG7FktzI++p+6v8AM+xcba9NZHcuSSvO/wAUSWTBeYtDzJseZNjzJseZNjzJseZNjzJsMzW3VYqUSSk1mPFbTU2zJ+pHpLYqD6WmyZbEdzVawWnOmXH1G6Y9qMB2bGZDviOCgdZVZwpnh9BysZrmmxUfvuhKsqiqTY8ybHmTY8ybHmTY8ybHmTYcnMuooM7yeY24l1GL0ptg262w695k2KlImSXokR0nz5YS80fjcVkb+GpaUiLJZOTjM7asdntp72ValkgpXiWlxB/L+oD/APIpwkUuooEehxJiGvD9OaDTDTBERqOJH0EY1CSnNTkKdVxVqCqSx4cnoqNNxndzA7vAuUhTV/Vxz1ZY/JLllGSioPJcI8xCbVIsAddU5o8mlSAnwzAECgQY8zGX21c+mBS63FKn+fU4grxJTkj+SNLHmNVeBRq0+IvhWNNKLQabDFrYPwUOiR4fc1CjVhsR4U5wMRkMbJsjSQ+o6jIIiSXG4Tvh6Uw+3JZwndz/AH+rp9UW6+D9uMiBmIassjjqSvTimzkwk+bSlK6R1xUWha4kJiRSfmqeco8CKhNh6DMEzHn65jM7bxI8TdPg0mOxEKDFIJabQLkLCwYeNhbbiXUcMiQTCZk1ya9GjoitckNtLsRbEvwk9AqMapMCd3MDu6kZO1sgfIeBHlMjuXFUTu9xVFeepU+XTmVR46XJD8nqBVf68NKciW3VtKYqhkGX25BCRAlIqBeKn4gR41pKgvxpSElJ8SS57UinOJRqENQag1BqDWMaoZlrYVHmNyOCoVmPCJyTKqhsNpjN6hjUMahioVLomotXloCq26CrEgiRW2bR5zUpOoNQahDUIU07xxN8LI1iqlepwk+KG1uxps+Q9TaWUEFyexYxlZmOKad5PC66llCcyzTRUO1OWz0lPrFLKqw5tMap1KwW4lsQY0gpQSo0KKrKC56XAmY2g58x+YymAZr4Wai80EVZswVRjmOvjhdXjoD1ddD7tRmBmAy0ex+axGEPpKhM8S6amaZT11CTV2koory/riSDivsTGJGyLOXGLzdQ83WPNliQ1JkvR46YyLmM6gkzPiIHsgHeNxSe44XG0vIntM0ER3jfYUklE7SmliuQZLUIRKM8+hmCwwvKQyENMhpjTGmNMxpmMhjIYyGMpjKYymLGLGLC3HWX1x4ZFYIYp0qFUJTUhyntx6jRaP4aODBP1dwjVp5gmjJ5vTMaZjTGmNMaZDIQJBcnsWynfg4n/wA3C9IZioqHjMrRPG8p1TtUqMsqe1IYhhmmxGFyUG4zyeYsnwEYtweJD/qGWRphwnUBKjSa6rMcaL3DMZ6QInh30aaQw3vLjLdTvw8T35eCq1PoCjUElqdpkSTHV4djyDOgKp7sbxSuK624h5GDjCJRHEeIaLhDIoW2E0sx07oMjI4xEa63/iD9+D3Htu8ROmuREpcp9lctbTpsTlNME9lyKIlMmSkM+scmiZ4T4z9N1O/BxP8A59/sKUXWVXFj88mKzMac8PTaSuF4sa1UqJZUL/GbbYPvpjtlVGDbbmtTVIjmwdXVqK4ri26Yh5yO1SZ0CQ11ah1yCNc1rJhTqh0ykVCMsE+0oZiPaaiIdQyQSonB0099ZUVRhjMiRuLfBK0bilFaRu9sIayplaxI7GXqQmQI1Qal0iZ4fTA8TN0yOxW9QNuJdRtlx+pYcbU0qA2bkoyuUpKkvcd7D34C8OTHRNpsiBij8uNKrK4SsqHE1eKuny9VY98I8l2K5Ta41LR1qRYiPce+MnKxxTytI2+2NQpzVSZS9VqYP5Igh53LeDbFZmOYmRGJcNiczK8PrgPwPEMqkHArMGpFtUhKwlCUEJzedrl998c8zPiCqMutD2DP+3FhrXeabJlrxUktLYRmk6fN6tvcXpvSWZRehcVST9ez2xaciobQ5BeNdOC47zeEONnGcyreKHVzKjVe7hleVP8ACtNnH0FfpIb8XpYXEqUSeW6UxorwMySSqnFSZVGKYdqLKEtOE63uuDK21j0ZrdPVDlD32pUaFQqkxNZ8QVBEx/YcV9LMN/p5G498JGeRx1FN2cSxkykIcFOYQ8/gppCwXoJ8ZbwiSDksioyVtpixkQ49RgreXT4C2l4ONodTL8IU2SflVepw/klRgiL4spUoNPNvpwcbJ1Ml5ykLdrbGm/KdknbCP+aDT1KhHTnQ42ppWyoVLpzTWZKQ3XCDVQjvYTZZRGYM1bkPxNNRkwcM78HhmI04hVLhrckZCjikzNRGz2LfTW/TjfRqM4EDPF0nWjixCab9gzMW0Gn0PYewdcTePKS6cqU3DZgRnM2BnlLVVfWUNZQ1hqJtrCTAhTRI8LU5CklW4gTXq80E+Iatav1F6oSIbedaUEkf/ZH4o3+5h51tkpjxBbinFY1SoFCZ9wSTVi3IdZDry31JlOtNKkuyXApRIS2ky4aFUChShXawUjBKjQpiuLQ5Hmx5WBcLDek1ySEabwP02G0hS9iJjqCXLccMorzgbp5kZpI8Z1VTHXHVpl1KAcogclQNxShFP6cJDZrC2TIjZSGFORlVelM1l1yku0ox/wA2vxxSBehba5fr4EF6SIsVERuTTmZIlU96Lif1n5XIbjBP3VYmv1zmM41Bf0zkM4jrlS0ONraVspsvqmT4ITWo9y1JsF6cFhcRmNdaG0tljIksxGn6jInBllEdG1heReKyzJwL2+haahEKG4abArEUVGVzr2THUxVBdjXjIhsSgREksX6XHeCaG0EHDp4crTCQ8pLq8L+vlk4FSZhhFCkqDfh9IapUVoVxn+phTJJRZZyYckOUeOsLoZhykyUBSFINp1bDkKYmY3vhs6TPK83qtq99th7YxEZGH3NJo5bxgpjxDrng44p3hXIfJrWqRhcybEIPJyuD2ITjbEFxUeQbSDHlyeo433kx2n3J0tnZGjPTThU5qEW2QyUhhSTQrGK7rx8H4zclt9o47tNe05W6Gzqu889nI5stYX2HUH0Rp6rM8ykktMexMSk3L2xmREzGYrT+pyyaY9UQ0yiPHRSYqQdKimPJY4apsZoEVi31CklLV5BLB+H5ORJ3Kgv5mARYVxGR5tXTL2kRqOOyTDfO+0TzZkaTBFcXtuW0noHnjfXx2MZRYegY/G6V2/hR5CznRJS5NL56zFRHfpL2jNsDO+E2IUxlujSG3S9NsCPb4U+OLC+OYhnIahDUGoNQag1DGoY1DGoYzmM5jOYzmNRQ1VDUUM5jOYOUiOl5yVGgPSCbRqGNQag1BqDUIZyGchcuJhKG3o5rbg8/iAyBHlNK9RPBDjayvhe4lR9BzA0EY0xpmMhjIYyGMpjKYsYsfJa4Xdw7CwsYymMpjIY0zGmY0xplvM7DUGoNQxnMZjGYxcxfiuFKUSVPuSFworswI+2jOY1DGoNQtkeOb60IJCfhutk6h1pTK99h6C4v8/KQyENMhpjTGmY0zGmYyGMhjIYyGMhjIYyGMhjTUNMxpmFUqMsE1lLTGmNMhkIWIsWGFPqbbS0j4r7CX0ONqaVjYegv+xsPQhfjjxlPm22lpPx32EvpdZUyqw9CF+KxiwymMoyjKYyixiwt82wsLi/JGhm6EpJBfJW2lxMiKpndYWIeguMwuYvwXFzGYZhcXIeg9BYhYZRYxblsMosQ9BcX5UpNZx4JI+dIgXBpNJ2HoL/LuLmMwzDMLi4uLi4zDMLmL/BYhreDTCGS+e4yh0n4K0fuWozjwYhIa/SOxm3g7T1pBkaT/ZtRHXQ1Abb/AFC20uE5TkmHIjrf69EdxwN00w3Gba/WraQ4F05swqnOEFRXkgyMt9jGRQ0XB07o6V4dI8OifHQvjoHh0Dw8veHl7w8vdHlzo8udHlzo8udHlzo8udHl7o8veHl7w6B4dA8OhfHQvjonx0bw6R4dI8OifBU94wmmmE05oghhtv8Aam0gx0zQ6VkFHaIaaCFi/wDKn//EACwRAAEDBAEEAQQBBQEAAAAAAAEAAhEDEBIgMSEwQFFBBBMiQjIUI1BgcWH/2gAIAQMBAT8B/wBuhYrFQNoCxWKj/Ahqgd6AsfNDUBHhQi3yg3xiJREeMBKAjyS3xAJXHllvhASh01lZBZDfIKR2ZCyCm5E+CBHY/XUu0CB2Ji/rQie+0bE3/U6EzaFiiIsOq515v61cO60bOOn6m7rD2gIsetghzo4rm/rYiO4Om49oiLfqbu52PNvVyYt/5f14LRsTKHVBOt+puebetHc2+NB7QRt63cO+46Ot+pubfOjubfCj5KcZ4sLG3rwG7hSskTNvhZIFHm3rR3NhwnOsE0yIWV5WSHXZ3Ybxq7js/Kdzb40PN3aO96N5Q2PexCxCxCxREW+FiFCcEASg0jlAAdJXRF0WCHtESsQsQsQgBwj0NoWKAjc87DnZtNzuEG06bfyTKZqcI/iYWRT5s0SF+K6KU4m0qTcDf+X/AG3pHsO2bzs78GAIdfyVEyE5jXcpwAPRHqoHpdYgDUtUFQoKDbQm45Bif9thDYTqQ+FFsSuvyh/zsu2bqEWVKiqUqn03Kp/U4jqEarqnfpcJtNoOSdQM9DZ5b8913GzdeE2q9gIBRPtY+kFkslkspUO9IdltQgQFQ+04f3XIUKOP81CfTc0qNZB3dxs3XlYlPEWzB/kn0gRLVxYGDKP1EhNPbp1nudFhb6kAEEKkcmTapSbUWOJjd2w50bSkdVUAYYCyXNxUaKaDivxKw9KCLNKLwFmUHdVNxSc4SjTcEASYVLJlSNKlIVE1uAgJ78Gyv6r0FWZP5bu57Rq9OlsUBCMWDZUBQEGhcKaZ5CqAfCJszm9MZOT6oYmVWuUBfi06TZwDhBVKiGu6mxoA8IjEx3G6kwgJWJQbHYbTbU5T6GPymt9oCLcXZmflfYHzZ9UNX3nL7rkHGZNnMyMr7jx8ptc/KqMD2zo49gGNh07QMIku53cXHos3e1m4/OoqOCpvJMFVBDrMqDGDcmO00+fSb1lVo1Jntgz506kz3Q7/AABMIme+HecXeGHKR5ErLx5WSyWSyWSyWSyKyKyKyKyKyKyKyKyKyKyKyKyWRU/7Z//EADQRAAIBAgUCBQEHBAMBAAAAAAECAAMREBIgITEEEyIwM0BBURQyQmGBkaFQUmBiBUNxsf/aAAgBAgEBPwH/AAS0sZb+kBSYKZnbEyiW0WmUTtiGmYQR/QRTJgQDzigMNMj3qoTAoX2RAMKW49zzFS3PsbY2loyXhUj2wGaKuX3LJbj2irmgFtNpb2rJ9PZAXgFtN97TJ/sP3gpE8W/fVzBTYw0ag+PJWzG15k/2H7w0yBfF0v7DmKuUaSbCE3w6P1BoJtC5OKuycGJ1GfapHTLv8anawxo+m2h0v56LbU7Xx6P1BoZsxwSgLZqkNNfiFSuFCoD4W4jKVNjoJtCbnGj6baXX581FvqdrbYMjLucOj9QY1Dth09PO8ds7XwYXGCmxjeJA36aHa+0AvGUocpwo+m2plt5fMUWGkm0JvOnp52nUNnbDo/UGNQ+LDp9kJ/LQ2xwonNTYYu1hh06ZB3GjkliThR9NtRFxOPKpj51O1zALmMO0mQfrKnOHR+oMW5wp7Um/TRU5w6Xn98CbQm8o0zUa0qMD4V4EbnCl6Ta6i/PlDYaXa22HTpkHcaXvuZU5w6P1BiecE9E/poqc4dJz+8vHN4BeAdmn+Z/+YNzhR9NvIIsfIpi5ltBNhDvBzO7SZQCbWmaj/d/EqFSfDhQqCk1zM1H+7+IyALmBvG5wpb0m/TQ/OHTcE/kYxyjbCmwU3MepTd735l6P938Q84UqqAFWgNE/i/iOuQ6qg+fIpjbTU+75P/T+sqc4dLv4froY3OFMZaJlTyE+9Kv4f/NTC48gbaSLztrO2s7azIscAHbDp6a1GAMyLeM5YWlQXGFNshj3bxgbTeNtgi5mlXw2T6QqGnbWdtZ21hQQ4U6SshJiAIb2jMXNzrYWOpedT1kp8mNWqVX8MfqVQRWzi8tH5w6dspvBeby0dbYJWenxG6gt8DGmv2dbnnW3OFL0mg8ioN9VPnTe0JWpUJnHhlQW4lOo6fdlMlluRaOh+J22nToqeJjjaWENL6TKwgRj8RenJ+8bRe3S+5uYdzczYSpUc+NTtFeqwLXidUwNmgIPGDU2vO20ChUtmlvIqcaqXOk2tvLCnAUrR+nvxKFJU1XtLy8vLy8vLy86onNaNUYjKYtey2Ih5lBal7r5tT7uqlzpAvGoq5uYy2wBtM5ncnchqQdQt4/jqbeS9AMxZt5UDA+BYXa/EvKVZGWXGNwJcCB766nGqnzp4mYR8UY3tfEi4tB09jzFsGv5dWkiDBucOnJI3lTwtbCnUKGU8pFxrq6k50VuoINllKo5FzA8ZrnEo3c1I19pS6V6nO0+wp9Z1FKnRpg/nAwOLdQiG0WtTbgxmCi5lXK6ZsLYU6hpxmzG8Rc5tPs/1M6SrY5Drc3OsYjpt7tLCFPpDTvzDb4wN/iBahgpVPrHJU2iNvvMlT8JvOiftVQ1TaUcrLmGHW/cUf8AssMK7FU2lPpzUP5Sp0705c2tAHZbCATnC2CkqbypVZl4wTq2Ub7xWDi40E2HkUztbSxsIFJmQwJ9dFamW3E7LzpzyMPtVXpLMnEo/wDKioLlJ1jpXy5YFtgQDjV7KHcbw9U34Racyl07PueJ9kSDpqYjUxkKjCnWKC07FJ97R+kH4ZQqGk1joqH48hTY6XF4osPIBy1MGUMLGIgQWGsr4yZ2af0gpUxuBpNCmTe06iiqrdZ0z5qeFWi2e4+cWOUeUjfHmEXEWhY747a8m9/I6lrLadIrb6CbRmzHy0a/vLy8IvzoJtGbN5qvf+gFgIWLeetS0Bv7y9oan09mKh+YHB9wWAhqfSE359sCRO4Z3J3RO7O7O7O4Z3DO4Z3Gncadxp3Gncadxp3GncadwzuGdwzuNLn/ACz/xABJEAABAgIECgYHBQYFBQEAAAABAAIDEQQSITEQEyAiMDJBUWFxBSMzQIGRQlBSYnKCsRQkc6HBNENTkpPRBhVgY+ElgIOi8PH/2gAIAQEABj8C/wC0C0q17fNdo3zXaNXaNXaN81Y9vmrD/pG14WaC5ZrQFry5K17j46Gx7h4rX81nBpWewha8uast/wBD57gF1bS7mrDV5LOcTz7nmkjkrTW5rrGlqzHA/wCgZuMgurFcrWqjh3u+sOK6zMKm0zHrybzIKUEeJU3uJ7/Nji1SjCfELMdP1xNxkFKDbxKm8zPqObTIqUYVhvU2GfrWQznblnnw9TzaZFSj/wAwU2mY9YzeZBVYWa3ft0M+7X4LldlXYL1OG5SdmO9X22u3Kbz4aIYRpre5yiZzVWYZj1ZVh2u+inOZ71Z3abCpXP3eqiyCebsm/ulnerFVjfzep7VUh6n17harDkX4LO/1YlrPopttHqS1VWan19cb2bQqzDMeo6kPU+vrqYtG0Ksw2eoTDh3bTo6rBMqcGCIjt1cBfscL+ov2OF/UU30OHL4037bAENjjKs03aTMhxYnwQyVm9H0o/Ks7o6kDwXW0aOzwXaVT71imLR3Cs1tiOIojC3e6ILV+xwv6i/Y4X9REOojJj3k6baj2mTm7sqbbtoVZl3f8WzWN/DSVnazsiJyXzjQyYJrrTWKzWgZGe0FajfEKdEiOgn2Ta0rFU9mJfsd6J00vRF6kMh3gqd+JlzF20IOZaD32zWNymb9HXdqtyYnJfONBWdYz6qTBIaCTxMIh7a8I/kg2ITEohudtYptMwdHIXlS27cl3IKn/AImg9w3qYtHey51wRc7RhrdqDW3DJicl84y7dQXqQsGR94jNbwvK6tsaW/FkBZrxkSNoRa4VoT19mimcF/ZO3cNHjXfLlO5BU/8AE0NR+ofy73VbqN0lZ2u7Kicl84yg1t5Qa3CXPsAQZDE3vsYxY2lddHO07MMjnM3IObaDhLSnwnWPF3ArrO1Zmv0MvRF+W7kFT/xNDYsU+/0e81G6zvppK7tVuXE5L5xlGIeQyDM9XDT6ZFvdZDG4ZOLNxuyBEG2wpr7odIsPPQAC0lVdu3LdyCp/4mgswTC94X93LnbEXOvOjDW7UGtuGAudcFDrZ2MeGhmRE5L5xlNbuGFztuxNgs1ozqqaxtzRLJDhsQI24XDbsTpazM4KHE9oZeNdt1cNSEbdpUUyshvqh3tZDuQVP/E0YcPFBzbj3bFtubfz0k3a7sJbOTGWuKbS4moHVYQ/XIicl84yWcLchjPFQ27IMOtljhZkRGG5RoBvhRJZVuqL8Jdt2IUeEZxo1/AIQ2XA5DuQVP8AxMm3Lxb7jd3Unbs0ld2q3DZrG5NocI32xTuCgtYJNBAGRE5L5xkvd4ZEtwVNicQ3LiN8cgHeFFGyLDrZIDbSUGjxwviOPVsuTqXH7SLdwC+bIdyCp/4mjswW6wv7pIarbNGGhBrbhgmbk+MeTGovjHrotr1Dt9LIicl84yXHe7IfzVIf7UU5Z4tyGHiqG7fNuTjXXm7DUbrO+ixI7CDa/icHzZDuQVP/ABMFuXbkA+jt7mSLzYNFdgm7XOHFN+ZYw/s8HV4nBD+LIicl84wX4W+ORE+Ione85Y5HI+ZUI/7uRbqi/CXO2LNtjxTJgQZe69x3nB82Q7wVPn/EVmlqG9v07lIXNsyrMnGO1W3YS7bsQo8IzjRr+ATYbLhgh/FkROS+cZLMiLzKHxHLHI5HzBUL8XBXpMVsMcVU6LoUalTMqxzWoN27cJE5Q4d5TqZFFl0IcMPzZDuQVP8AxNMHeamO4OdhtVmWGtQa24YXRHdmy5OpUftIt3AYYfxZETkvnGSzIicyuTzl+GQPiVBHvzQo1DbjaW7ZfVX2jpZ32mkH0SZhqrkS9kbhhs1nXJtDhGy+KeCDWiQFgw+OQ7kFT/xMqehqG9v07g1g5lb9Fna7r8NVt7lAozzKFKufeyIfxZETkvnCBFoyG5ET4lHb7MU4bMg/DkMHFQokO17GmrzKNIpedS4lpn6P/Kt1RfkRY3stMgm02X2iiRe2kLWlNiwXB0NwmCMFgXjkO8FThtr6dp2XHuDnbzopm5tuRJ6GNrzFxDrV2lJ/qLtKT/UXaUn+osbDMR7xdXfOWQQ60FOY+sWnZNWRKQP/ACI1ItIB+NPiwY0UPYJjOUKI69zbU4bnZDuKpsP362VcnkbshgRrisILARzwBu3bkG8TTrYzWn0Q+xQ2Up8X/K6QZNeHSxbuK7Wkf1F2lI/qJsKCJMbkTfOfBV3Yxr97XSXaUn+ohVjR6p95GjV3PhuZWFbZpRvFh0zt5s0bzx7jH+AqB8Ke3eMhjt4XCNDy3njkHhYqZG9p8gmD3hlxaNSBmvF+471G6K6Q/a6HYPeZsOhh+Kb+DpSz2tM1m63Ru+LuMf4CoHwph8MifslUekD90+3krMmvSX1dw2lQIrmGGYgrVTsyI8Y8SoYN7s4qH8Q0EDpqhDraMZRR7UNQ48A1ocRtZugh+Kb+DpWuGwqY0rzx0Za8THBXOWq5arlquWq5arlquWq5VRMHjkEusARiRA8icrAgajwnfZoc4mysZBGHFiQmsdeWhNhtuaJYGu27cJabiosB+2xYt/aQs12DrY8JnN4Uob3x3bobVKh0UUNh/eRr/JCLTYjqZSLy59w8Mg73WKBRG+maz+SsQcNita5arlquWq5arlquWq5OZEhuc1wkRvUfoqPWMGeMop4bv/uKrMuyJOmTwUSExkQmHrGVi1XIfZRCZDaPStJRj0p4fFIkKtwGmbO8WaRztw7pnOa3mVCAjQ5l11cZETkvnGUYZuddzU3kNG8o42mQydzM76KXRXRtLpfGrVCxgolHoYl6TqxTqQ6mkuOviRKxV30qk0jfN6sowd8RJUoMNkP4WyUhaVbrm/Ic5x6uGFEpcXWiavBujbGo1lKo5rwyPomxWWOnJ7dxyHeCp34ncJp7fHSHjZpd7zcFWe6s3aECLjg+8RM/2Ba5fcaI2jQz+8j3+S+/9JRXe7DzQs5sSIeMRQIsKBJ7Hgg1jkROSJGxwUEUylNEYCTq16/ameRVkYu5MK+7UWlRuTF936MxfGK9dbTIVFH+021YzpGmUqmP2h8Sxfd6HCB3lsz+aswTbmOWMojsTE3tNh8FI0eHG4h0l18ODBHx1irLXb8iq3Xcvs8I9Qy2K7fwQAsA0n+Z0ZpfQYzqtKhj0feTIsB4iQ3ibXDbhdyCpY6NEHXzzETqJT4WIpbROWxw4dwZxs0jG+OjbmmJEfqsC7KCxvMuKLqQapPmgSHNZvJVWs6YFwtRdBiuxR1ZGViMRjK0eec95rFWnDR6HRbGQiHx3cPZyInJVZ573SaN6gsjQIT4gbnEsBtVlGg/0ws2FDHJgW5WYKzfEKsw2aLe7YE6BRDN57SJsahDh+J36VzIjQ5jpgg7U6LQ2upXRLzN8L0oXEIRqHFERu3eOeB3IKnfiLo2HB7VhLnnc3TSwA7lPRgbm6N+6FDa3ztP6IOj0uDjjcJ6qdEidnDE0XRHYuBsE5eajRIdxYZIN3CSrQ3FpUqQJjeETAeHgGRlswCm9ERGikmQdDfc9Vel+iqTAO10MVmrOiRIfxQis2kOfwbDKe3ojo2MWfxowqtC+1dIRsfSi4Aey3BcrlcrsFymzxCssd7J0BFcF6N8GCb3G8qpCEh9ciwAxHaoQdSmV4T9Uyl5LMhsHO1VnQWlm+RXWgw/zU4Jrb+CuV2H5jgNK6GjO6OpXuarvBVekOjRTWj95Rz+iJfQqXDd7JYqT/ltGqYx1r4voJ8WK8x6VE14hR7hDPDRv0Re+4J74naRXFzv7IUvFxXOqVDDczNukmQodgnJ0li4ZaIglULrk1kOtWLobXZxkTO+WHPMp3cU2Pi8QyWdWNrxywBzbwrYY81n0aE7mpsokFp4BYqG7EA3kWlNdSIz41W4HRSJrjis9jm/mteXgu1Csxj/AIWFSotDdzivAXX0kQWezCCnKu7e63JlHitafZ2p1J6VpMKBAaZNhuiSLv8AhUJ0EtLLatW6ViDBMMFr3bgozILQGMAkBzVTYBNNiN2XjeEMVEaTu25BbIOauyHmuzb5rs2+afEfS3tLtjRYFVbMk2knar8Fo07dHE56ItiCYVHi/YI1OrG8OsaVDiuhvhF7Z1H3tUnCYU4ZMM8FWPWQ2RGuMt08BixupggTtvKrw4Yxh9I2lXYb1er8m5XK5XK7TdUS1z3Bs9y4lUDHxnQYtHcS8NhTr2qVEhCBR2zqsHG8o0SGQyLVNcTlnbzvCeKXGeIzq1YQ4pqVeIUQ8ZYQ2KMcz/2TYkI1mOEwcN6vV+G5Wdw+bRxPiOir0mI2E33iiOjo8NpG+E501UfCok/ac8tWLo0UNivGY2Az9TsUJlOjfaI4Ge+V+CvCgMDt6eG36WYxhh1quNEM1J/FobNBBH+8PoVjHAngFNoLRxwAtJaRtCMN9IeWG9P+I4JUeE6IeCrU98z7EMy/NNhwm1WNEgO8n4tHE+I6FkKjtxtMjdmzdxWP6WeaXSDeCc0LEuBgWgtMJo/MbV18aj1d7YUnLGf4cp74UQ/uolrXeKFG/wARUZ1Ci7IgGY5B8Jwex1zmmYOERqI5rg7cbCtQ+CtY7yWqfLJsY7yXZu8lIiRVuxUoe5IeY7jChSIawT5kqbQ2ENmM2p0KIwF7XVc3eq7IDW8Cc7yX3jW3SuUy0y5J0rQTNZ925M+zgNhysl3WWV82jifFoLF0hTIlpY/FQ+GRD+JGFSoTYsM7HBGN/hukmreaNFMwV9n6YhO6OpPv6p8UHNIcDcQmSuMSJLlXdoK8S5OdaCPRO1YqLDqE6pmjO2dyo1EHpxMY/wCBtv1l3J7aM6pEPpLGQ2VjvLayzqKfoiHhzSEZTcd0sNSIZwtvBWRmjnYs2Iw/MrCMm0gK2LD/AJlmEO5WpwY2HRIYMq8TPceTR+q63pClOPu1WfoqVAMUx2QXgNe6+6ZHhpm8dHE56GlUaNmw6UcZCPHInuw4umQWxW8dixvQdNdi3uDBRolsydyh0HpOixaHGhMqtraruKDiGPhnawoOYZtOUWXG8KrEFUplX0TMqRRDvDlpbNAX9WyZmJuQ+0NzTc4GYwxfD6ZAZHOMo+4+jyVzXNcPNFjHvxTs5mdsWu7+ZW4BEo7yxwUo3Vxx6PtclY0p1VobWJcZb8uWXDHDRniNDUjWEarxe1VI0H/MIIue3WWfQqUHbqq+59FxjxfYmfaI0Ohwqwm2HacgTFyMGlQ2xGHeE/8Ay6kOgPGw2tKLOlqK50E/vIS+50hj3ezc7yys9odzCkxoaOAwVhe3urU6iQc94fnHYJYLUXH0zPIhwgZV3Bs0yGzVYJBUZ22sRkgtMiFndo3W/vlzywN+kY7hoK0Z1d3shSFaGeK6t/mrWnwwV3XbEwOJqxKJmidkw636jIOKcW0ai2Ol6cTdyH15L5QoQ95V8V9ni+3BzV9wpbOkYI/dxtb/AO8Vi+mqFHoMTfVm1TodIhxuAdb5ZdmobsM3GQ3ldsPBdu1DFuEU7mlNe24jLtymS3JzxbCiklp/TBbkhzbwZhCI17WulnNJuTIcA1ocLbvOSIzoLxCPpVbEx+ycjy0zeFukB3HInhZBnnv2DB1uqB54c9oPgrEx1HIZSYD68Em7i08Cg98GJAfc5jxcf154GQKL+1x82H7u93gmQYWqwbbzxQiQbTKRCxsYSPojDUita9p2OEwq0KG6ixPagul+S/6d0k2lwx+7pAX/AFfoiK0fxINo/wDvFS+04l26KKqrQIjYjd7XTwlr7kIfSZD2O7OOzbzbsX3Y41+6UpKcZ0+GzDE+EfqoBDhawFXtPiqr78nFwJGJt4K2o7m1dbCl8JWbEAO51mCte86oXRpMQ5tLxcW2+YMp+YTaIBN9jyd2EMZebzuGhjR4jQ94dVExcsY6jQ63JRcb2dQ1uWDERDnN1eI0r377NI9u8ZcV11LpMWozbUb/APlqaxtjB5lWKRz28VmG3dhmbAqu3ZxToscyaN15O4cU+l0wSpMb0f4TNjP78cNuDYtitCvVgX3qhwYh31bfNE0SJSaFElMVH2L7v0mYg9mMJqUWh0aPxaZfqpu6CiOG9j5qEaTQ4lCcxkqr9tt6ieGDwTlG8PoobQ9wk0bV2irPMzkWHrHXcFMrNBMtww9VEc3kVWiuLiosFjqrIsibLiLinPpRLo3pHfgJKJfruv0NWKZQYth4HfgNGopnCGu72v8AjAHNMiLij9sZOEbnMGr4I/Z4rYktG1u7SvbxwSyGvc0F7bjuyLFnEO5qz8lMt/mQLokvhQrCcsOIozcfSvZnYzi47E40ikOjxXmbjKQHBo2BbfJWNKskFa4ojCC29Z7bFuU4T7NoNxTYwjmjxQyrJzZtUoxa/GWhzDYcD+WCJ8eWXxBmQ4Yq8VMC06zjcFVh+J3qZFR/tNUyKzPaGENYKx4IxHi70NssFb0Bq8eORZhuU8FyMCFEe5jROpXsVWI0tPHJk49a3W/upaAHY23TNiDkVPQWqxW6ovUmNlkGLSYjYTBtcVVolaiUf+K4dY7kPR5lVITaov5nflcDkEYSsXHbXhG8KJJ3VNdKZRmJb1YmjfEn+azmHyVrf/ROqWNnZkD7RDD5KTRIZEwMW73VnxIjuFyk0w4Z8yurY558k4hgY13o4QAC5zrGtF5WdBPIELsZcyFnGGzxmutjE/CFZCrHe61Mc0SqOwtc+xhscgwxIUSdwJWbWh8iurjfzNVga/4SqrwWncUHwjVcFMWPGsNBbrOtOmc3epbtE3ebU5y1ytdXjyXWGtoZQMXX3xJy/JdrRB/4XH9Vj48WHHgt7RjYVXN3i3ZgOQ5tJtZEIZbxTaJSTW/gvPpjdzCtY0+CEQGTZzqy0joj7gnR6jxRvduyfuzczbEdqj+6m3PinWiOv/4yokI+kJItfY4GRyIUT2m4asYcjtCfDfe1QiDmvsOXbqtv7hXFzvrk25PSdIhuni3tgQGm4GwT83fkg3aTpy1wm0iRCYG3NEkCrcLobjKe3cqlOhNfi85kVtxPLYdMwMe2HCbeTtKbCaOrY2StaX8ytQjk5XxB4rs6/wAdqkLBoMZCdUi7Z3FWxKOP5kSI0Iu2Nqm1TuT4RvYZjkcFuBsTYW2+CbLsiZtO45QAvKDdu3uBaUQ68YbMqLR4VjnxhFmTtrA/oqzvAaa/C7ucOC10oUOC6LF4zMh+qh0iKA10VlaQ43dwDoQkIk3HnNM3PzSrcNQ2HYVDg0hmMo7jKu22Q4qzJxr7/R7ljW/Mrci/DcrldpL8Lose1jBOQ2nYFFfHiTpceTIUNosY42ADfz4Ko11d8pTw3K5XYb9HGimtOLCxf1/uqNR3y6qG1pltl3CAPStKBF4tTX+0J6Gs7UH590903ZF+RcrlcrldpLRNMMSbiwzbPZhuVyuyL9FdhvV6v0jqtplYnRozphCQsN7tya1tzRLDdky9HaUGtsA7oWuVV2is9QXYb1fp86BDUhIDgr1flSbdtKqsu7tI37Cqr78qz19ZY3aVVYJDvEneBUn+tLVZpa0Sxn1UmiQ71J4mp6zN+Xfgu09yuw3q/uV/cJNEyq0a127v1aDYdyk4SPqO5XK5XK7uszmt3qTB4+oM8KbM8fn65zRZvKm7Pdx9SZwt3rq88KThI+tLqo3lTdnnj6ok9oK6t1XmtWY4er81hXWOlyWa23efVue0FZhLVmkOVsM+CtBGXctV3ktR3kuzd5Ls3LsytT81q/mtUeauHmvR816PmvR81e3zV7fNXt81e3zV7fNej5r0fNej5r0fNXDzVw81qjzWr+a1PzWouzK7MrU/NW1R4rOePALOrOWYwD1raxvkuzb5Ls2rs2+SsY3yV3/ap//EACwQAAECBAQFBQEBAQEAAAAAAAEAESExUWEgQXHwEDCBkaFAscHR8VDhYID/2gAIAQEAAT8h/wDIBlAalGQXSiKa36y/WQMtMH0qSB0P/IEgByWCz72Lr6zl5L4r4YAL36KMZxxiEoLxUEpEZ0OvplR/gy6kAFSBBXMBb/h+368VCrpAFJQbEQfWT+jLuduZS4G1QwhURCF9tP8AwLSFQlO4JUkE9jQQ+qBYuIFQ7TR+VDwPcCZwrA/3GDbyn7PRPZN/XuRFipYW2CdQveP7BgACZJQ3Dd0uydPvfwxggGYXRBJptv3D+q+aWy1TyfGQSHIB5wT8o+uBjhZgqSLoe4QaMaRH9ErEFmU6Od4+uTAd0RLzQLSWU19CCOSdmmZp1ngG0LQE6ydZOstITM0c8imJOqQMimgdkyOn8/PwkK6aASHKl0egQI5KGZQ1KtACdXnghmmx7zhCQJqfzCBNVOSPRupkogifK8PEE5tygZTBMuoZE45+lgzHMZFCuqP4/kyWWLI+OIPVOUwyYpJqCcrSfROonUVpEE2KOQQHIBlMEy6hkZEkz9SCSBJiJEKGOxyq1U/4xIAkmARHlbMdpclzVOqnVTqp1eALSTDImlDuE5XgoalQyMiSZ+uZHso5oAkBJEfxCAEkwGaIZOwzO0vSOa/xG3O2BDbg/hGCeEkEztL+1Oa9RDbgvH8F+XBAWduWAEHyCJ8i2Duvxf2vxf2mQlQf8qX0166/Ldpou3arMvKKAUsS5fScd5ejrAaQoARQSRBcegDnZyJLIYAsnLodfi/tNj4f2hwMwftBII/bNinOLqIaI5ePXvRagZOZCGF2FMGwupW+aEuRqFjkFESUhAIa2ljg3AC2ohBTMo95miGr6gOOiSkRlzTCuDsgCAwEAMHi+xeK+cc3B9ZH49aA5qV+UQxXIuSeXAmN3OHYXUvfNCWMhEHn8EDCCyHIKBDZFai2ntVGQC3iEMiAOCJEcsZC5GAQwjE4nU4dwovEfPIiNzIfKCTuBwR6s0bInVGQoKcub14Ie7Aw7C6l75oSxHys1WyEILEABgcRQyCJ0CjZFfzCJs6oYYDkIJAgo63xmPsgUwtyZttvy2g3E7HFuFF4j55JnygavVxgiQua8yBlSwpi2F1L3zQlhGg5GCyIpmp4n4QICLZ53KedNGILRxHCmoy0RcJgHjnDyNCm0OY6KYEBWDUZ8kgSrH8IAAAMBi3Ci8R88gBCWDI3BYZjmKepjfAjbmIExoXOPYXUvfNCWF8j7Y4IKoCSdJlAPikjfs4TnPm68DPId4oegdPdu55Ay3DAIJCMxVOPcKLxHzjcRYGk4EERiIghAcMIQ/Pp5Rwd1N3OXN6zUFUHNgQ4F2gOmzAxkMiYnpg2F1L3zQlgAJLCJQAtzXiy2RtSc9Dhpn8KDyIHTCebTcIMhA44sfkfUE+8r0/8QwmSTrn5xtGY+CvEfAAxpInSxgMC+DcKLxHziciYBHIJYI+eQVCKw4HB9NED3nMQGqWFOJTDZh/8Q0SAS8g+BsLqXvmhLA1DIndMDQ2ZJKsCOo/oxtUzPAGMTnsUZmtBocR2Ko/hAAGEAOBmRkCpTypxdwoOMXGprg3Ci8R84QEXaiRxRcj9J9K1s8NanOJ5cJ4kLni/vy/ujFhJexuyYiELYNhdS980JYHqYDA0NhaKF6fmPwGBvPZWCOobOELThgFEIMyqeIAgH1fqCpS9te8wbhReI+eJJE4liUS+FywTPlTl3eKYzR/f0jiTJfPLG3OZoEKtgQ4HJWAOSjBueoOQ+URxDPGYshQsjBsLqTvmhLA3gB2nW0Lb42g7HwabMeFoebfXDCmhoK8YtwI2SCjmdEqW7oQkveYNwovEfKmoPii+AgMQZHsR4j8zQ0oFw4iPROkxwCMgryyhzdMEkfkia62txzC/0UbGKw5V924eCwG2xNPA+90CQomGSP4NXCXnBE0dcftyyA42D5VzhntghlX9UAwYQHCUcCJDKUyv0Q1xOCPeYPE9ipSD5TBjsIzNEvPC+Hp39EfDfOzwAymJl9E0SJ5zwQtidR4kZGQKlPjjF3CpZ/3NeHgsGwupe+aEuAJEinZxWVoff0O9kiMe8uFODvidBMocKmAvOUCF5jGZ4klNBN5N3J7lVu/H3mBhoR+BRaT5xiFzNTxEDyHcEIRHBiPQBzkCGqJJJJiTNAjJMEyaJESM8WYFM0CEQwGHCSABkPq/UVHp+3x8Fg2F1L3zQlg8M++AJGDFQEmKP2xy9eA2uB8rqP7ESCXAAMdKGZt3UX0X0Sv7IQxHBmm4kHPKsuj1BL8qN2TdpsDIcfe4NwovEfOIGDkS55DuSj6A6KA/w4AmeTEgzLLcRCFBJshySBVGHhCgeExomNEJ6bBsLrMyD/lHPIHBCY0TGnDQBI84AZIRkrNXh1HZRzJ4y4g5KF7jBrD4oL4LgMYjBEcUexkDlqz7KSM++yAYMOBLB0NQckaUkGOAN1pvse6ryFMExNynDIREx14PE9iJj5xLWimNExpxByJ5S5LwzdjnksHMkQqYQNOUJjfyssACEwkRMIG2VA8Lbfpbb9LbfpCk5Fpc2ADTBiEBEKxQAwBUH+Fb2XePZEx9MXCClIQsqndwbBoUD4XSQOr4HDNOzinJoCOQEecBkHkCUJBg0ZDL7pyHqQr4CwwJgDBNATD7EymvKep2fEcigYONvRbf9JnNIOXOpOAJEAhnJk79oxfjrBbb9JwwGDxjwhdjbnJ8MjM8t0kv4znQlR9eW3mS3x6CZotjotndN0Qe2BiwO36txmPzG1XiO2BpjKELPQ7WGwnGkfcxukIZkcoLgoKRFePTNIdCOT4HwXkvlC5RLl+W40ghqOc6Nkdy9hYegmaLY6LZ3TqSJd1wQTNzogJhxD1ECABJwYjC1sBlx0QqwFcAyfo3EgQmQWZBgamSPKl3P8ZbRXkPGRg86uj+bJg6BLHkeB8F5L5XdPMJNTyEKQQ45tL4B05ZFJS4Kflj7W3H2tuPtbcfa24+1tx9rbj7W3H2mGFyZPARpg5KCRoQLknqisfh2LOPKjoKGbANSoBHIwyk24H4W8Nq4gk0YqSAgerIo8nO0ZwluyMA5gLoCsBumZ5fqVrjR4f4RTiORNkAYNxbIOR+UROPCDsoAAAAwEgjToQITGFOgRyS9B9rbj7W3H2tuPtbcfa24+0SoY4BgMxNCd2MmZOe2YQQM5YBl8h2CSKbhmQd3WzH2i4ywPcVsmD0IEjc80glS5l+grX0U5RXh8QiXIoAEJPfBsLqVvnicygJRTMjBM4Pz3+5F1y5e8xTg6fh0j7IXKnu/Y6ARTI2xoQogRqtZDbHsQyEkkBmopH2VsBzNKj7oTzFYdmxy3McwA1RkJ33WPnB4nsXivnjACeaDByivMAOYw6xzTEDfuShyJpMGshELgccALDGSKdPtCLkEWIVH6RlTMx7OyD60N8I1AgxmPfBuLp5cHKHlFEfARMBLEwoyM90voU2O+UgVygfaoaZNvEEQBoxwOv+pkjGUO0n5TSzv9k4oADAwpwIE+hI9EMX7FCEWTSfNERUUXYAbyg0NQ54IhwOwqhAx1hmo37IZYAYAZDmXfrGeADr3cZoaYsoDjuFE9UHI0A8qBggHXcEADmPTknNE7sid15msieWfk1INAdpkkyATC1C+oCBN4og7MivI0ziwQw3yiwXQ3yAcZUmy/5Eh5JiHCQdOygj0g3/AGBrBDjsLqH5vm5nQy534MxipKdtF4qR8ISI6FHM6JBAsQSqBDTgvHKf5idVdCLAoEEGA1CqeaT8oM4A5FRBnU5fYv3qjorIJtAyPDcKLxXyopwydk9j3uhchE5PLAdEwZ14NrMgUwBIx5e1iPLnXsUuUcUCPDqMnTX7EnkTuKJAoWM2bkgBA71BeJhPqhBpC7FeSIRoAUtiOii1dGah4BXTk7kocbmtp+lTb6fEdOQjUz7I7FCLIVb/AFOCAAIBoFYKbUtzrc63OgDIIkcqgSbMkUNAOvM/3kWSOC7JqjYV2shYPMOZVK0FoKwE2GE5Pc2RZkxMzarMIowW4pHODMAHo6NMnR0HsigcBJI6gmo2pWCtRBfCCAQxiEZOIPusntZddDc3P+Aiv4AJtOOk/AZsq91+QY4WUILmCZmZYNBPL0gw8cohvzWWWMoZE/AMEEMBkFYSbZJqIKOQZpaQA6IVL8nRAZhhWqJXA/C13SwlxAAxBgmSoBmnpCkMrIAjKMY8DGMdwUGA7NjC8Nt/hX88EfCYROhXLWQQITyT8kQiJoEAKc/dTiLQL5qNfilSiXaiiXJHIR7BynMHtJ5/1O6dfwjYIcnOXREzCxqAN5HNPrACZgk1jNBlITNbHKy4hcAAIxakC1Ki/CDvAQV2s5bswAYaLsSzFUE/0qOU9rRQoPCAoIo4KUzYkBSJBpndZIX5QOUTnBoAkeeWb8pvxFVgdlWwYCJ1ohOEGBnsjdE4x5ghwU7dVg7I4I9aNgmaeakh4GIA7Y+SiYWBjKNTLorZW/KuFNqW5k+hXAtHutPurPBXyvlcK87K0eydQ9k6hTGhTGh7JimTJkyZMUxoVB69GYFyW6BAIkXCYk6lSFs85ez9BHVApKkIwcnYkHoEa+BBMjEzUZB6ISYoqCEASBq7I8yg7BwlETTCvMS8AtXqhPAQ2YWirgT6FuZNqWohT8p7IiACWAcsyMzhKOxcsn3EeVSThYf7TYWwfLXgB2QMGoH8oSNsxEm5daowUsqyx3+SdEAggxBUVNvA7aPJTSgcX5oKDrCaIsBknB5cgonEKKPZyAVxY6KAQD2lBMqGDhI7kRiEDPjATMUJmoib34EyBmdsBqZBBLjYgaznoyAebnkORCCeWMXyCJcvh897Dl7RXkTRpLxh9RTrj6E39rI4YoqWIyYgsmY8TP8Aeh5ULcQQaQs9wiMDAob1ujjRDP47QLHi856PYFnNqBRln1ogmHqThMHtxZ5KZzr4OdSBkQitjscJoZTAVyIeVM15AgnE8CiDNiLA5CTLODSSAs6Lh2CKJo0QLIWgjmGHjWIOTIjCCULANRQnC5A2ShDG6TNPt1wjDlQgDlwPLEEdy5YsG7GA8lRMUPNBGWI9h5OA20Cm3seD/ED4M9mMn5Y3RLOYEAelk6wumrREhwRqoyTTrNYWFAmUHZMBIIsKWQAEyU8kPc0ITySXRRTPIKym9IrRfc3yxkMQjmERhIBmAWQE4LAixAtdNItEO/ZmjbBJzP8AtOqgxzTYMgNxHcgpgESdQuzB9y8QwITQ0PFjQpjQryeFkCIZrVHxpOdB5pCAkMBq6IB2JuwVnyWhGRJaBLhG+POTkp4tYCfPL7zYgHkiWsJ8DgMJMjFDyR0wEEEycImDUcKa3bHQZjoq+Kl9gMpPaU0BC5o7NV55i6JsrS6AGEcHFELNbonNDkUzqAD0AQzSCsgER8wMhMIpqYxNGTERgR2JsEfaus7Bpx8/hMKKUkS4UsYhv+i7CBACmLJil0dF+uR1NUyzmBCR1GaZcwiErvoi0YvJyEDxiQDORcnEIqGDLHoZ5broHFKwnxbkY+cN5IExgyZL59x1UonEm4yKz2+U+XmA6Hk/+4IIC5w4kUIwknmuKFPVY7zHLZdXaQIBq0vZBToE5Y6o4h7CqOK0gGOEFHO/TPmyUJ4FENPEck0ZO2AIeiFTwJAEkwESUJIJjA2y8YDBA3xk5ZP5MXqBUV9Mz/GE7QpwRkUAoYJauNCJdMbIzIBAwBIctqqIYZb8XISHNggExspESblhU0oqThaqV4ZamqAwRmYZdVsAByyTkz47gmNyTLKgU7i4siADngznq0lohoLNSUHpRPI3z7rtEye7FMRRYbNttxOxBzIwTEJdBKl4dXCMhMZGGqcQDoPjDgydBhAWIVptOhmS4EACAcGYOEwrDEuFJIhIJ59LoREUuMizbthloMMkIPLdxTWkRhAcsjiwkMdhRvQO4MHIlzwdcJYAcsJk0ArwgC7gAlgXHzDoAAAGAkAgGY0sSGsAt2OSBQRLGIpxkFAnwPqHS6HAZ9gjcsM0Ocwjk5JkjmSXJ1TCU426hGYQgzr9eJXNsIToVn2cQE+C0wkRo5f3ClBGZfvCMzBM75S8qzBkPjiCpy8IslywDjQUSuHGiHc+Zi1CnmaZA0Cc7MXUVEagfKBi4IQc4oCSQ7C02HVxTEW6qfAU+lEQPc94Kbhqo+VMOJVR9BAVzXRTilsjoZ0APFNFxYaniUeaMDZbCwM8AcegvNZ3ZBpES7ho7SKMm1kVKBCSyyUZ7HTCOseQwbmZzKwEbXiDmyc04mKz1ZB27AdRQezWl6hNygAAAMAmItibuh3VFPgSAcwCjnqZoiOA5sil9QADlSBmWQTTwQETgEg+Sz0DiNyRFwQWFFsBWOxA8g6Keai35k/PLOzsRUSKScu6x8qEiW2LqWhqe2iDEvZkD4KJuEB3IF2QQRCHYAB7qTBzUrNZBe66mrjt1QwYEBoWZDqAjJ0YIWACKiv0iSRISTEkp+qqI3H4gzsoV7ZzRVGKB04KEFkRwIllcLWy4Swx5Q2qLKDpyTqEJT0vgng+U3URVQc9Bs/A0I5wZFACBJvqzC4QGLDECB7HgLxMgiXOMB5TVQwjrzW8lENDwgM64H6sviLgxwAkF3A2TQCWxTWgoARtwLkyczBGD5UBDzhxI14lIhw7WCPRLTOQR3WgC2iZnNEOZJmxqUfL5FOp1T9OX4hRXDJOTqkTJ9BU4JJIENlGKJPSaYGidhAId+An0Qe508L2+AEDAoMTB8DdyLn4RUxC/aPRRBEmJ5knKxBu4zTh2X9acQJUKYAHJTYwMWYKv84Qef6m0MBrC0k+gVyATlBEUo8KL7itZp8KymwbACQQQYiRTS/gumRkhNByHsGe+OdtlZQHdOQM8ChU5nkTHwm8tOCGDItI0ubJ7EdNgG/J1LBMxOui5zCMybnEwvQOC64wJiADY+VxQqKwwFiHMPcIJRI5ggYQAIMYIfdU+oRWW+qGYByBbAULITvV0MACkAGAwFSSbOEHpJOYBQyCzmlF35T9c0qMfCSIClwMTiYXLQBExcOhIDys9aF8qQZf4ghe3s+6jYKz+UAiQSwGYGH1xJGxJqA5qgPkKci+1h2KySbfQncjer2KMwzMDFHGyJVA0on65DUznAArkhqnAihI2IEU4kiUS8+FmLuqZkORIXRB2tIKpNQCoSZME7C4fI25MdwSGATPJH2l9wr3Uu8xmM6MzZh0CCHBcGRCauRiOHdPBhE0AHeQBOArHy1uIivZ+owbwM5uZLJZVNEGg4zFh1MzrgkHMAm0KJvCKrBHzorTCwosMUgE7qHI90P5yBQ4M1GSdc/PE5c/oBTYGdRVTdgNSIONuIZ3wHoIR18Jnwou04mRTR8G7ig3Uo9Rf2HPBKNEZgzQAZgRFAIJkxEFigBH2IlzHgQk3AJlMEXBiihKmMRrnR5w/rzuCbAt8p+ZAzmGj3TrFjB+ApBe/wBESGHSfpCSwEYPtCAAAAGAGXIJBGpHd+0C/KPhAhPDgE6jkwTGw1AzBonNbYdeGZIiXKAThHtqFRUguqm0TvGuEZbkYBAJGYqn0GYdI0KG0xGI4dAmfJiZJOmBpqGsAdgctinsk7Nk3NGrKFhyckhNKz+jbGeGETL0YlQDVIBH2N6BlzwH1vdR2W89LyyDA/ECU7BdqRQg0UugDKjoAAAMAGAwt2IpKCvonoMofZABFS7TgSBM8Nr9lYKbUtzrc6dQKwFYC0Fo9lp9lp9lf8K+OyAsx2V0duAvjstPshukyyjlFyWCFxIAQv5sdyXYpTkL5G6sBPoFudbnTalYK1+3BAkiOU5yEJpAAkEYNF9nBAz+gZvzNWgjw2VmoVrHuHJg7HjdRAMGHoiABBiCjQIz/wAcSjxC3MrgWmrfngrpXHZXnZXnZMaJuUQBmE4hRoIJE8hiR0TqFOoVedlcK+VlaPdXAhX4IZhJQDBhiADlEcgU/IFoq744a6V53TqnunNSnvjc1TqlGaFIg8yioSZmZvYWUYwiGEB/E8iLQNAr/haCvQEm4wNZAOkgYsGA9IHuB8I46JqOQD0UF1DIyJGZ9eT5Frq8VubhXArgWitNW/Kt+VbVtW1bVvygaQ8ojp3T0CyAEMJMAwTYypAGC3Mm/hXChTQlABxlkDoIaEwefTSlh0CjkDB5wAimCZdQyMnef9AGU0yJRM25eQykZYHqM2okTCb9oRIoVwTyIokeSxorSfwHJ3AcrSfROom9YDKYJkwSIkZ8xuc8yBogJAeqMmgo+QfwNcQPRMTSHIlWgnK8nVTmqfA6c1Tqq8nJ1lpcBpKas8BpJytJ1Expy2NE+idmmJpDk6tACcZnmgpxpAJsYyso+/WkOGMQgvZqZdEbmBmCgecFBdPygnefqXKdVXk5OstAWkm0JtCbQtJaAnK8nV9CzaumdAoTRzKZ/gNJyhzCd3fGUp/2DMvTBM2oyDp/E8RkCnMlYkU+ADIhv6kUHSqaPZ3ZAMIfx2Ym4UUMVIgnZ76NSLGf86dQVIYIiI7I/Kl/1B/m+W0KZnq4X1nL7El5WA2MGkR6IHkbqQPLv0DrAigf7AnP8lY9q/E8N2ODV9W1fS/VfS/VfS/VfS/VfSu7tFf3aYaHb/yKse1bgK/7hbwLahAlOoL3gpk91FOWoWXdib+oQDOKm41FE81vylIExKDoQFIB0/8AKn//2gAMAwEAAgADAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADzTQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABjAwkwAEkgkbggAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEYwAAAAAAAAAAAEg7QgAAAAAAAAAAAAAAAAAAAAAAAAAADggABigAAAAAAAAAAgAESgAAAAAAAAAAAAAAAAAAAAAAABywAAAGMAAAAAACBOAkEEkAFTAAAAAAAAAAAAAAAAAAAAADkLAijijqAAAAAAAgAAAAAAAAEgiAAAAAAAAAAAAAAAAAAAIwAAIkAMgLqgggAAAAAAAAAAAAAFSAAAAAAAAAAAAAAAAFgwAAADARAAAAACziwAAAAAAACRQwAIAgAAAAAAAAAAAAAB6wAAAB4QJaAAAecIAUZAAAAAHoANQAANwAAAAAAAAAAAABOwAAAAKAAFaAAuROkjwNSQAAAQwAFQAAAqwAAAAAAAAAAABwAAAAGwDQFaACwE4AACFCgAAERSAFQAAsALgAAAAAAAAAByQAAABIXigFaAAAJQAAIgMAAAhHKAFQDOABggwAAAAAAAACwAAglsBswAGaAgAJQAAIQKgByy26AFZAgBGAEAAAAAAAABiwAAgExJowgFaEggDAAAKwOiuRRQKABAABmAAA4QAAAAAAFQAAABwQmQKQGzrSAJYECAgOtYAcCiwKQwogAAAIQAAAAAAKQAAABgAAAAAAAAowBCAAwAKeAAEZgAAFqwAAAABCAAAAABAQAAAE4QwzBgJywEjPq4mIA2oowwwgANQIgAAAAAIwAAAABgAAAABCIKfHANDQIIEAMow84AAAAAOyVyigAAABEBgAAAAFwAAAB7AItzilQM0kIXhilMM9OYbGUoDlhgAAAAHAAAAAAALgAAAB2qACEcc44580ww1c849CxCq6U48YAAAAAggBwAAAANAAAGGE6ThwOScETgAAAMCAAHbs04ywDBzgwAADgAEQAAAAAQAHAoCgwf/AAsAB0MAAAAAIwgBIkCKBPLDJMABIIAA0AAAAAEAKhijfQA69JEcNCQOVcgABc4b4AMCaFE+0ABgAAAAAAAABIHAAMOIuWMre+IFmjibJMBPQOI9sMcQMrhLcMIABeAAAAAACsAAZxSwvIIAAQmgCNjCMBGIDnDVVIJcDEDe8AAAMAAAAAABcJgACcAAAAAYJBkAAMAAAAABwJIAAAACGghmIAaIAAAAAAAAAI/HRp67JLFLDppiNGYAAQ9A8cc008tjs8YAFoAAAAAAAABC4AYCgIAAAAAAAAAAAAAADBEOPMMMPEAFFAGkAAAAAAAAAAANNIA4JJhzL55wYwAoYIAAAAIYIgAAAAAAwgAAAAAAAAAAAABBW3IAAAAAAAAAAALJIIIIKIIAAAAAAFsIAAAAAAAAAAAAAAABOI8gAAAAAAAAAAAAAAAAAAAAAAZtEAAAAAAAAAAAAAAAAAAAACLMsRBMDLEMNBPGKDOMGHGBIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/8QAKxEBAAIBAwQBAgYDAQAAAAAAAQARIRAgMTBBUWFAcbFQgZGh4fBgwdHx/9oACAEDAQE/EP8ABKZTKfwgTwQfeB7wDtKNlSztERfaKOfwFHmBdZaKOPmowOHwkPMQ4+SFyjL8YYT4xOEDh8mjJ8RFUAFHy7snwkVEAKNqDnSE3KHM9su79FLnSA6845+AFtShtWi4tt6HLYoFsR41FIvGPtLN1Te5x16C3dc6mwsaDcSvmJoSL7kEFmxaLi2voO6dWxt3UFGiU1oaiorQ0MUNBStHTMEbLGoCqOiudMLxBStq0XFtuCjVDUWgMB52ClpfLWpoGKcscPQJZUSmul3t1yC1Q232OJz0NTk077gaVouLbcHd2hrLzOXRdzo8wKK20FaBRXmBWJz0NTk6dn98bgmoQNVAW1BbXY05OhvckSmugLdq0XFtuUHMKqy/jUCWIPxEWknJp33CgL8xuXRhcwIyfv8AzL+ItulaPUE4CLcPfoCusP8AWCtF8/GoK0Tk0DIeJz1FGyAce/32nf8AXcLK6Bg2oJTsArLmgFnQANywnAExGEyDKY+WVqMaG2Z5d4HLYBnLvBYaBx7lIAo3mtw2NwNjE7gf3tGHge4RqZJ7JmL0RAjk8y/GeoTycaWqmVd4q8wLwSzB+e9rH/1ERpg1aAw+egc304FaJfjfMVf0H5f9iIsKxjsVk4LLnvfr/EsKhcqVKlDPDPVLeIJ2id4AFEE4IQgteYgtl/aZ8qMOijDGhcRZ4e4qtvQGN3N2pGzmKl5fb/2JAwXsN/rLAufUvLceJcuXLlwt4ly5cuXLly4S7KgbYluJbzoEqbly5fXObtXiSqMPPD97h8G/vG+cz95gKQc+mfTBKghWrgSrnogsfuWqo+q++YBJeVijFnmW8agvBMHMOA9U57UMznQwMwUyQwBcqv8AzEVTohCIpWZQ10y9LNOGmHBZXLnQDPPmLZb323OtjNKXFh5wbsqoYLlBvNVBFOT3PVX7zLkP99x5hoCZnET1R1j4gHjWuJzZKk5mJ5vnQb0JLaSEPahM4hQgwp23q9wxDJqmEIPMfGFmzJiXcfJnoj49EXwZ4JBFH7y5rQZflADQ6GAeWYHhmS6zFsuFiwKi1KQRjfvS3WJxKvEatVHRdti0X0HZW2pFz0iydg9oU946KJ4RHRaOXqAqs1Y1iQttqwKKmDMs9BFe8MU0HIpg2oE4ygOdnY6Fzag8w0rocmiOyOXvCC4J7UTUraDQy9EvPelWlJrQvpdh1xvo0JdmzG2pUqVKlSpUqXeqJId5WthlljpcSp8a5cuXLly5cEcS9VAt6qGpdh/AAhFnroYYI8fMUJ4Jz8Ea4iHMG+Qgj4xV5+MI4gifTKyvifTL+JfqxAABX0FP+Wf/xAAqEQEAAgECBAUFAQEBAAAAAAABABExECEgQVFhMHGhscFAgZHR8OFQYP/aAAgBAgEBPxD/AMIJ5TtS3T/kYAissCzA+UAY0qVKMXyReCwzKH/AzMxtOVTHiVOXTEbxKz9ZuPKYzVag34d6m7x+p9SCqIe7LhI7cdkt5TeVoCVqAZmfpnVEEbS2XLJZLINQ334LgrKleEglMzsPpEVEM0cFalSpTKZUCvHv3+iO6IZo4abifmpT/B+4PvXkHiBwmGr8n7gFr9/bwcAHmh7yn+D9zf8AE7I+2oGzMStnxwVRAo4d6Yit09TwAbZjNtULYg7e+/P88/JiVDaw/wBz4sNnX0R7nBkGfHrW54rNGNfU6qGY1nKZh71DgMv6O8Y5n3v4IxvoY52e3R+3tEeY4AFsdl19Ee5wM5PxbtuDirUzA5QUDZx9tPU60UOelEf3f0l4Mcuxy0BjSrZ32bvtj09uC5SI6I9Gk09Ee5rcDS728MFUTZuEzbEVs3Z2DL0ObK1CgKDof2dPU62U6aDtfuQ+eA26eRI/cf1eu1GdAUMY7vI+2WMxaunoj3NF6StLqbVEVT4V7quXLmxciPUQOZO/wPlmLT1MumWRW9PSnu8Tvp1B6OgC2I7YBEQOgHfq/eZdPSHuTMCtLgXpyHghbRCVS4DKNKlNAUMY7vL8ZYpORmPT1OiEzaet+XE4f5hl3YiqriKiFQfp/wBe3npl09Ee5qtQNUEplgeBuvThXTEq2MAsWooxV885ncfzzm8VnlX70GcpuWuX885sxLrFQU9Ng7L8NfMCbkLjt6CjcvU2+YFOijlxTfXZjoZnWX884xSY0vYBKurw3GaF/POUhdiWPZhv4uov18YMvJ7MFX66K70E+T1DVQ3ZYull60fL7EzPAxTHyPmY4bI4zeClcJmnhI6VowtrUCtUNUA6BU3Xpo9svO/eWzz8u039Iw7tujAEpR83m5/X2mc4KhG0AO2meYD1alfh89+NAssTiNniYrel0uBg/cszu9CAZdmV6Sps0I3gZsyudhbLEe2NG98Aqp6g/uvSKrbAVog8y4Ond+PzM8WXQ2HY9yPI8oY4guVB4hw0BV2iP36RB3a5sABhvF975f5A1p0imxOxEDGbrd/yUSiUixTHzLmEwCm/gPO38F/EJ7O4/B+4ltxYoWy2qDHfuy6kCFBEhdqyURDQnZisXUNg+X4hUohw5hDs4hu4SkYQE0Udv8hihYc6lkvRD1M9dLZbLZcTlLS0tLcEtHG+1TEQIUAapH4Z6QWt5bLZbN74jwDJwXcyWFcx3hOiXEVkJW6TySktJQC5ipF0hwVBrOqBvZK7Z+YndWLd2GrQekGw6uYypdwHRwZ1ePE9awKgu1xoK020RraGut57JL0Blzm44TeHEkxwKW6dORMRcbghVDtp1UdIh43VhqsHEqOi1Aueu/SYpkjCumYrHa7lTEuXojM2b9td8/ibOXp+ob3dRfWrmxDq9bc23c/EQtsR2XmaNDRRou4jrnFEwYLAGTOPPU3eD7TxDTcVlw66EtbLx7RYqKQmWj1gG0G0qLFzDDOcp6xb0y6r2ie4D8e0oBQvv7RhWxVv7w3fzKLuavX/AGBNhoifJGzddX6m8ZOpLtzaMgUPSE7uIqrYFy0pgAcpsCg84WYlEMCcTDUEWZ347OxqtTdmK5zeTXwBqqZ5QWkrfuxlzcJ3HD/v8xDQ8m/idmB+yw8XQCkuABRobVuVHzKNAIqrZy1juvp+pmi/OPBCyYzNtxIk6nTaV7dPecmy08F+zwN+g3F6Suujgqbc8NyyWMC8xcDQRTnjDqGAFV/Edo3wsluYDKqlAOTaG8tRsp/eZDGg2MVW3wbt0CoVKJRKJRKJRKJRKIKEOx3KJRKjbhplIVKlMqVKlM87wV02lMp0AWxLPCxBNOdGX0lMoPCrjtlstlstlstLQMVy6lugC2Ou3iCjZC2OYFaWS5bN5vKZvN5bLYMuWSyDfDcsly2VxG7xjfx02O8DeMo8SpRKJRKJRKJRKONAtnLhV3foRTchuqc6+nuZZjuETN9NhGB5h1k7Ep0nkluk7XieAAX29NTnFsv/AKz/xAAsEAEAAQMCBAUFAQEBAQAAAAABEQAhMUFRYXGBkRAgMKGxQMHR8PHhUGCA/9oACAEBAAE/EP8A5APnlYVM2Pf8lfYRaQzQGxQwHUJXsYfkr2ex8Z/8aqEGqwVIEdpI7E1Lj5qgfe/tUwDaLX9qlhY2+yTXuXfkpKlK43qDY8sGx2pOTotSHaF96wD7B8iokH3hfs1Am6JH7NJAs0X52og0aqT/AMOfct0l0L1Jotz8zUoLdL/dmnivi0xj6LiZJfhUED9LnchqN3Mf9qmXArh0z/4F6bZEBUEW/Wt3oVKEv9zn3pVVVVyrK/UoSoYRhKhVF0/9Kit7n5y51KBvmBJ/3Gg9q4nlvWsWkHx+XatmpSscjB9fvMFinmYetQAdih64PSo5rUGOYZP+wXTZgA61DHgis5autJE7VzHLbp/w8fTnhOtRUAtbDzMPtUI/qDHMMn/VkjDaSy4tOWaksB0HKPvn0FEoPGmKUHh9dhY1GaUuJg/QcztWYATkf+jkemlv7V4ps4D9nv6IFCXApHKlpHOVAYbA+hwyo1AUHg6VZRDhPNoDAVIwXSuB2VwOyjYXSjOajTelagOtaZHOrE05b80qGJbSXeL7P/PirjXl3i7HGr6wbQeB9/SsDTxWB6uG7rVHBOVTgF41MqF8qlnPrYZdabCCwzb4bnBrWhEsOyaPD/mHuxZ/yvx7UE22USrWAJ6UQJdz8GXAy1jsLHohOKy1jjV/c7FRwSnKX0oV+sXHZNaAq0XGeK1Pf/kqBVgC7TTQxRnhwce3gMYtQ7MDjX2yrbHOpOGrgz1rjK4quOrjq4iphAGotSqJQ0KnEeR584rRoN2jW7YqAgKZQv1LlHSiEd6KPY2scGx44oQSY/4xlBSqwBvSrRsHZ/H5ehKYUqLV3riu9cdXFVxXelXKtI5UVt53K0B1rZh5NG170a8HWgmJQZJa2imUL9cmjBycnc4dqDaMokT/AIhNDSpgDel7I2F7/YfRimGuI71K5V/4c4SmZccdj80YzDT4TR4f8JAVYAutMqjW9f66/wDazRJO2G/B41756LUTR/4OWWlMtnDft6eESNCYCw/MlOOV/EaNHsrEcjxi2gmdYDTEJbdtc1EZ9JAVAGZahs/sT7Huqeid5HpK1IITWltQhlhHxQZ51r7tveseFGTklvoNBkBlxJ0pjrwK4kLDg38BqwzRoTVdq0PeO1ZeMzl4Lsw9nzaJMO2P2dmvfHxaiaP16wOV9k05vsepj6ZRzp/c9NvIRnJs+Ffs96YOXoKHQyW5jRJrVMP3fajJw2yoqFRSsM8zvmk8RmCOhs7tOAdzkaP5GsXnXHEnTnKbxSAKESRGRPVUokRvZzfzRABAMAaeQBEF/Qnd+cclsd+ZRxRSP2dn61tIGi/LgU8hpCVXX08kTQJbTORl6VjyezfCv3e9MHLz34hhZW3BxrDlMI9DMNIPfg8aiUbZN3S5cdh/Zc34Sjq4cMOSGyAhi8owjt6aDyAZV0qOawP6QYPWYziM1t6cHH5oVYSEib/VwGBPFdA4tILdgMaQ9MB713QaryqywA3d14vl9m+Ffu96YOXmcoUCVuAc/YofoQCADTxUM0e1BPlAWnRTxz4mE0WVerPsxQz4gPFAkTahiIC6Jq+Jo9aeChfI3TzY5o+m09EB0NerBwnf6BjMQxa5+0P+70XLfUthrOtBDGJ5ND/fUxyAQ9L7n/PN7N8K/d70wcvLFeYOLV4YPE1F8T6ild+Bu1LgAcymLeThheS0jGnK7ZxbfsFN838MOZqSndfbFCTFC1PGz1GYsWGoBnV8yIvs45NE5NTjSXMO4+iKKQcF9z+aEMAACANvXYzdQdXajTFq71cxG6wfI04cvqcHbyN/zOO/qZyWBLfjM9vP7N8K/d70wcvKMiRM3u+3eseIqGmEoexEH+08XaILSfH+vLkcUzg5Op8UeJWCbOzD1Pij0cuDEPVl6A6MQWq1EKtn+kaHrsZo9gy0SW9Tv4JCeIQiYamyQeI2cH6dpM6NVoHFaQiZzw2DgFvTN+5fRqLlVtQ3FxeL4QspTjsHFoZGOwwQHNj1YNaPH2b4V+73pg5eQEMiAbtRHWhb6nvPjLSB1ix+acq43Xiu/wAqBYHfAR/vXytlBek0+sl5ST4x+n5YPiOtKfZlGRzju7UyQsa0xHY+fT9QHTV1acOfiDTpAPCXtxazCsJAIk0uvSHX02M4WB13qchj5+SdEGTzyhlnbg+mj5D3GP8AD5X1MKwGedL7njy8YPAUOAZXgPejrmDguhvnquxR4+zfCv3e9MHLyRql3vD3jySAxLgWPlq5rsGhj/TTzyIlT5DJ7J46VNmRQ6lPw08uVN5j3Hv5gZNngtOZ+JoyYCACANvCNfqNwfd5U+Z8luqybTfoPCokRFkMRK4rL6LGecUBk2pnbGh5Qlgu0kFJUno9fnn9KbYx3Fr0zSqVKMq5X08rbSlvxnzFFvAIBdLbfo+YqQSS5Q3lxbPNG9FMLHQYo8fZvhX7vemDl5JzMZ1Zfg8jKH5Zl+9RQuOeEp+Hnsq6kdx+DyAWWjXio+Eqz7DjeKfju8qlRBarUIS/LX7HgoCrAUmIXAbvFuKgOlaupTojaQOgbtZv1x6DGaHyq6ONXSkSrL5VMvMaQQOqiJJBkZuULgsFu6dX5+j0q7VNDhdXe3T0gXAtKKF3C2o1bccPu8fAhjSMAa0esidqT+R1qxPyMlzpmXi8KCoKWetHj7N8K/V70wcvIUTdL8AD8+OlTVbA7AKvLL53jztmU9h5Jv8AZEvtRgbTLeZihjyaSCG6nV8c/GEiXUz+Rx3pKZHc1IT7ndtQAAACACAKzfrjzMYgqAloJldFMOgHmA9mjZWNDxZw4f5dM96AlEJE1PorYHTV16EvnyA0MxUjIuSjGutT2AcioTWRnp0/Lj46HCyz1PuelCFX/G7eMw8gaviM8UQZB8KUwN/rQJI2ZKManZpPSeVIjCQ1Nv7j8eSTjzsv4o8Z52OA3L28ki1T7CrG3Ln5LmLaTfbq+JoiAAgAseCRxOjVdA4rSiOcFTaHAIHFONLyIg6uWdjBwPDN+uPIJjvUBlQJapUEbrSqysvlCaAZHg2pEuXlvRAXdDtjt9FcEttnW+Dp5MGQbtfB1NAnFp2TlU+OeFgT9w+fGFbI3Lj8tLqev51k2m/QeFBzEOYvrLit/EZ4+zfCv3e9MHLwygUYCc5UJxApHV5P0G7X7/c85/e08n7nOuMUPgl6eUPBD2BoZDBxKxLMwZcMUWBEME+XlocPEk7DNkDL0Lc5pABLptI8+b7vB45v1x5IfuCjkN189BkHg2pVKt3zSHSQDVyUAAYhqOv0DG0Z3Vg70iKiU6tYlNcfbFaGOLWRPmsbKmKxZasXuPBQK2ClXi4jd4txUBwqWZeQ5I2kDoG75Bnj7N8K/d70wcvEpTwy93kjCwoebRkJlopjNvMZfb7Pkgf6in6jR/ijHNl06gy5NJeyzCx0fNJozYg6Dmrd9QBuBgn45+M5Cm3Rr0fNAoCXiK5z4ebxUSY3BAQHhyoIpI/z9NjMkwmDekZdfQvzPHEsdm3b6BCwPr4Hy1OK7jirFg2PQCWC7wrGQDgNPy4+MpkkGhz3kO9Q9E0sQsO2HVpABQLAQCuM7NcZ2aIyPJo8fZvhQcV1WxNAQAVwESyNcZ2agJUdPCEf3n58krap73+9GVVCc4/FDbEK3BdRwWnVHlSRm3m2RBul7L80fPKYDWjWG8axFRdCpZqy4l/RYZcZraezq+KAgALAaeEwsBLUgPHwAUfd60H70Z52/Vd7oYtQOKrgJ8JhG4yNbk8CgEdlTFz2+XlcJwAHW6kbXO9cZ2rjOzSIwiPHwsmmtTowY9F1UN1WvRh6UXN/WJkgErsU7hQh0Fj2j0jcBinDL/T0ot4oXDlsJwaiZPJU3IOiv5zx88ho1EGpCABMOWYm1FvEAKiMJUwMztTtPJzQMI4KByqxD4rNHZKSClJmSIBtRchGSDIU5xNXfuj0Q/bySgtB+z7Vf1rLw/0PIYSogsOipGDlSwrgnjL7eOlRM3/qh9quIIQkSk3FpxB0o00euaDoWcU8/jp5H1OIbLJCNuFKSexxFySVuDTRrZymrEOqYJWqY0iJIgqVqnmAKsrKi6rKr5MgBCE2d6L2GACYyTz8ORplJOQbk5ZKgcsIgcD0fbXwXvjl6a+5wsHqR60rcQfK9p9MYSz6Afn6D3Kv0m6vbflUmuF5qH58kcFlbxU03LQTj+/v55hLE9H++SXVh+eX5rS1N9LQLxATootPmCpAgEV+WDxuYWl6kwmSgQ5AidzmfR/Wb0/Xb0uDgu1P+mnTn/q2nt601rLzmx7D39P3f6A9yr9Jur235USKOlbPx5LVSLrWfkqykRnX+I60ZYQhqOHysCs5D21+dg1SpIybyyosL5Ofio8Aq7BUqoEzyD3SiRhE2ZclH7bZ6GMQzZkJDNwXQnpogevShMOyYTRH0P1m9P129GwcT1MAA5wb+1IRJk3G56mlQQz2Ow+PTtUJxIxDZ5FMVndoqfwav4NX8Gr+DV/Bq/g1fwah+JsoWwi38gdVFaBRsaAxC0CKRqFDvNGETRBRMoQshKhmAvwokVThesLa8znUxs05IavFz1rGGHegXZXIGz+eviNEr5SVZjKrofuA0llf0pIXYigYl3BBSpjshnsM+1L8JSK6B80h0BS47oZ6udHIIHJrs08hcTYKAAQBAeNlbtrl2+acNZi3Gey6FAgEAaBgoGBOnEjNMLA7ggPOaC2beCn8Gr+DV/Bq/g1fwal99OhImxFKd2FRk1WWJgWDuCtAT2ITcTfyKBIE5G7egASYItBvXOmjX82pJRLujKoIFgCXnVl+Omoixf8ALmakYwWPVYCZelj2T1BRY9tGpW6lc8/ogcDyE1I2j9lSkbMtk4AkvCjx9m+Ffs96GDl5TiK/LQadT4ovgyGXNbU3qxl3aAB5pTPrMXm8C3nFazOM8NUNwcFR7eEI+UjBF7cb3pxsiHfCCj1vo0mA+6Oix7VpZWPewNIBOASqhaCAsvDQcvnyGQnGljI5sB0pS7T9BgjnAf69NfNmIs9WBDcjVpLAGW5hY2cOCeh5zf8AyPVDtJSzOJcmH5PUhbPvkvseqfEO82D4PmnJJcg3LCztUNQE3EkfCQnFvwtuOcCif0NIPbmoOb+BnwKATrxxewqLT022zDBoseIkFiy/RUsLWC4M+KdUhiQkClZM0cqo3dZ7g6a7hSt27Zes/CsENkTjdWVuB7eQzQ1CcoXImDpQFQdAj4/eKKEEgBAHKoKkqd1Mpx+4qWeKojmERPC3ChxvYRPFs+KUpX9nA7qTieIyXLY5eQ2xERnG82h/lCUDTsDZNductABkOgAgD08Ys1ZNFs8kRdI4kljDbJBlOptsjcbN/IwZhGlaCxOOVtCifSwyK68ul4lElGyFcV5fUkrYM1JtyFXahHSR8xR6cRnLHIg+X0yNoosU2wJJWboArQ1cMM32hCSY0agVWLKktJgRg02oiORZjgBLzxQnMAaGILoCxvNHqhUSSCxy5njRbXbQKyJgTUJkZWopQnWGWtW8TUBYchWrDSxfIS3nYZw8fZvhV7Q8OkEGwJfdDWp/POFyIZhY6U1LhU0f8faaILA2VqjcCrIDV2IuGDa/FGO7xaiaPpWID4y3dipCVY3YqHa3IvKahiQ4vicNCD1TbZ/FAg5EafSQjabo/gS0WGeBCRCtbfhOdJL1PixzEjl02nkIsOykCqZGPTRAZaLaMvBsJL0Z+1FiADk+nGuC7qfTErIxOFdRF3IoiQxNyWGCD4tudAa2XTVJ3APZQltBYcDEldCbVgMjxFGNVxesb7OQD7VYRUK5NkwnOlqm3WhwekU3zryw5DI8GsZtSVkDI4QlwwGUwIjMlFlsgN0wRy5lWzXAKUJtBUThcHvUL314jCUP7hrM9ebqp6ttADQW9BBGPhWx3Khu8AloKalGy1OQLuLWclFxDx/NHTjuI6NnKhnzSFKkYQiFxC68DqlMLFaRshpwFuLijH+6E7g1fjSuH21w+2v5tTY4y0EZvYWtqsb0w5qS0oUAAbOY3pls2S+QoijX5tiaTwoG0zeeEETPBKSfoSPNBJ8Uai70ancreLtXB7aYyxBfpSoBCESZpavlCzTKHg6hPEpK6YIh7Ab1tR5AghG58VAuF8JwlWbnow09ejmy3m/ckErdgwAHIpB6l89inPwzapsZUl4lvt6fBxPoPz6UfQZgbvQcXBUOQYCRsAdQOhUeUUBcO45hN+FBGr5QBQdhANhUILTxOoQi0BbRha1SXE8NCMsBZpZV38C82BHZBdcAacsM8EK8JEAqQki8VLqzUaaY2EZKEoTdEXlFOsM7XzpxkonuVYgwrBGQKkJibS1ExbscZu1z9BKEQMiMI0INWyg4C/eaGDWzH7D7UDLNsX7UkKtyT7USwTR09QHvQ7GwG4zp3K1HxcI2bF6qhE1yzk7hjy5sHXSjL3g40Z+Uai6ykEzakwOUcpMSEJegi1EvBDdMegHXA1nZlCd04hKucrUbCWNZEDse9H0sgsSf0OIVBAchT4LvPKfJEbNYtRE3gtTHYPF/iv2r7UsYcLL+Cr1UZ4gDEDrrU3MJTvWsEetGwWyTU3bRwely4u1PRgseSFzPzT8+k4al3GdrelbK9SYRMI6NXZ2lWU7ZJYhDxWouAtlCYxQGtAImBgcRppJ4F7650abgvZQIpYBJibFRg8qcsjDkWHwPANhopeTFQRBJDcgNKZ6FqUwjlR0x606HYpWndTZ7DXHe9OhKnDo/elcV3PDv4Ffxa/uq/pK/vK/jNfyGo8h1VwHtUtntUtntUtntUtntUtntXCe1fyKnFpuwErRlB0maG6UlyvdLrzavVsXDT2kwQlARFE/LoRIFug0CJytQyR5dBGSFiYbHEUWE1pGRVuFAJMTar8WEdwT5XwFQiBkRuPCnlRTIj6sMzFziaXzc1lLPDlo2qTZ1o1h70avYaFqKGp2KDyvrQNTzoghk1vUVAWII9P3Y8sw7H2PTku/zPSmvmJm4GeQGkEiMoTdQu8uZmkVIB7RzN4FGLwZjeiDEoA4wIjLaBVWAAkCBAsSl6FEBCJIlIkaBNvmPZFSdJA3DMdYrCjZ9QsZIicQMkQTJCajR84Ecg0gqz5k+BEZ7qL7UenoQExMSXSgpxjAxtucfBGxS+zcS5UUX9Z1gEjrenKZfmn28ENqCV1gkQObRRcLP6Ol6HOiASnYLS9+/oezz05ktynZa+bwY9L9Vu9AFQEtHOdEgkxBqTYLSjKA1axFC8OEWdNmqirZ7iZEQlhVmClx+ZecJiuLDg1JCFsisWCJXNEtyuAIYSYLDii1pDJpHcAUfDNqnaATKiiotMiPKl2eN+AaZj9Q2r3fi+1OM+aKh2e3gJQFdgmiex/gq1J3FMsrFCdGnIrETDJeo8BFREEIaXEUEFzKe/oJUjDRZcK05A5PmCa91kDoB5lqHhIl03ITDixOk0qdnLKEQmblorBBCebiwngs8KcUBNsNmDPDSmu4UDvFWYEhquj1mobOBWuJuTpPChQzRyD8u63n0eVWDpd8JN/QCWKsRnPmRLufYPT4MfO+dFFzUl9eBdqxk8XQyJswn5PISXB8tY0D9NuariQm9dFTpatF2oSTLBZMSly7y4lCDMFWwgsnKmaGG3rphPGXd7171k+Cv4yjEDkUW2wDKsAU2nBCBtDIftSMpZMOCYEe40fkqCc19nhwoZoNQxSXoO99qlbuXPpRkP2KjJfs+WFvCSSYavU3QKZXDG1cVbM5CQ5RdrMyN3ehbZgZK7w7d6lArbCIw3HcqYpYSBk1XSixHgzK5FNkgcbScZ5jks7j9hXuKv717Qq/em2bUI4Sv5FfwKJkvh/Jp+7Cfy1gMgRC7WmnBCBwxiIM0ZXZUi1haeSHutQF4RpQSKBAHBuecxosOdKpXXzTt/wBJ+PS0qLb+8D5kcZUCXdTQpcyXohlqOxy4leYBqeR14JzBkqUSEGNpPB5d7W+53eKKid9/OnBnDBKgamsqkwRhklKQuMUnqu0qDgynJaoJ4n+2eHmIsyCsBmJ4Mp1pRfwjE8R1OJUuiccMm7xbdaDGaCxIsBZlb3zx9Rl7ikrY1UiPNAC6JSf/AMikIswSJrSsd0Ka91kYvCHjnmLvPL2jwkyHpRyOVqG9oSNvN4NcUxDV1JsEKFvsj70pTJFolFs3UJxIaUEVHI/lpqlT3uqBgO1I8S10NksODS408FS1l91c4lHkWwB51HCEsSSDVVV8wUBlpAMGXF82KRGyM80n7+naSD2aPt5QVgutKTEvLt4zXEmnGm42lWYMINRMJL4nEIUxuc1BYqswt+bHxRd9yY+LYUmTgtA5glJJMaiJjE+KKbkwbCSbMLfjSq7AVvdbhuRWVkCoXWqCaCFIZ0WIzjZGSVYtTfIh6+R9RJxrWNfKBK8CJ3rXi0I9jwvtwAvP+Hp6oqkYaEI5nekUeZkMOvCn2qTpmzRMo6lmLF7+BlDqMAZaZ4/NkVj2HfyC5QYI0uk0Mon9LDBPG1NcEXdVFe48pwkLwhhGomWACA6A2dTR6efsBRZVcvme9xvVijsIAOR6aCFneYz9/KRPrLcK51jNirEjopHjiecxTJlCdCukyneKHIdkF7n4oxSOu9qlVRqmRzSpjTjH8h88qVpayALGUalmDx0qGCbNFrjUwwiaqYmaF9/zSgQFQkdUm0TSmkwItwk3jA8aIzgFQDQkdhyqyMyQm4wQ5HNQyYEouooPUrhr5UEAIkI60wWkU93R8eJy9kAOa2pM9GFP7hFeyD+UqHIKUhutOFBeGLI4PXzhoOjS8Wh8pph3jd96KN3V9eLCqbjwfAyhoBInErHk4PTkSR7hRO6GOfYimUxglDdJXMbJagAnVmPFQJUDdrJJjeo4VRxDhnZ0cNRwEDMC0S5Z6UIkoTCYTfysQ1oXgDz3iTP0se6UenCJKa8mT5jyE2hgpEXL4MlQH2CYGylWlChEszUAmCMCgHHMx45N9yXvQtjgCANqVm6XnEDeecYkLipkwWEQAZOQguahSttmIyz33MVCfYCQS6qZGqqHgJQExMI21iKYkaAQtlRYtYOL4n5aOfoCUkMmXDclI6BQVQ6827PiVNzjhzmRQfBtEtHjfUTZrndRPj71ArROJROKogODEgTW2TFRTRoNFnKDpg9qivxt9i2OeeNCwJshmohMMb0f6fp9qPfxCJD8q9nhHyUOUwsZEdR8uEvjw+Cb8GmtJPD8PdDThuyK/TjSadx/mHo0ICCsC49aSFzZ3HBl6GtHG2oi025WraQ2KQ63SQEAMtzkc/FcO9g27zWzmunlcAPM8hw5tGCgrSzE7FtaKSYSBNUx1CsWMm8yP7tWLODNGGVkXH5fDl5bl5XD0Ik3B+Bd907epCZPQi57njnsMtSbYY8DJLHGj6cSAKs6Q5NSmg93ZmKypuoqrlWjKWAGlTxDaaw4flUrCJoz016eDlQMrRmEiBy6KnKNK/RPCkpR5JyD7ssF1aPGRuUFwSixMjp4iVoHvVysbQkKB3U4x1fmj4TiirSZJgZeVqNM/NR7FTnPAfbPdU0ZsoaDIXNlN46mD2kv3KBAOSk7UFiiTigEqZK15YgnMIxo0SAnOcyq79cGhl/3iv1hYozs+1lQAdsUAG0Vh+aX2puJglAsaQeSFuqQm9FurNhq8qVA9wlW6vGgmMJaQbsFqziuDTc8NU+x7VZiYqWGgFgqQO7chl24iE2KXTYLwRcWFhwR4M2x4MrAG6sBzqIqUjZNrwFucvolPmOgFvcLq4M6UgbQBKVo3nbjTgYM2wtm1DedXAvQq3MwhhKM5JJLwCEqyLkJiEimS5coMDEAtnQ8JTuDU8uNPOiAKmANWjMwedXff1Y2Qfdh80CsF2ldL5XkRSjmEkDmW8hVAsioTk0OASxJ3ENWNp1d6F6vwf7Tf2qYhwZB5vxQ0yJzUcDZu3N2gjHgW9q0xCjvAHrAf9zAwguAjSXIlxguRVC9oD81Lg/KXvUzE7WHag1Ltk/zxloVGUSNSVaJAh+Kwr9DWsjhluYGHiXpgoCKAFxFSr8rVa1FxwhcIGpxPBc+HtVkbvwqY6v21pJtAX4FSbnlikA1EWxNzCdVp6EKa4R3haC6ytRXTLFvnY2NKNJfBEvY6r8aUj5sKg4M9VuPjF5oojYDNZBZB3RRa3VHKKUBVACZW1Obm6Ly3lMdTt44zashs4ZoDIulfvNC0I4NHpyqS4naamIvto32c6O5pOSYQJhJTZSk335Nzc5eRSg0gwjuOlCEHCX+oM8TjRHRM8fQvpdTdHe/T1sAxc918lESgsqt186RJH3pBgRxqERxLK6Di0eBaou83L5EcUQArA1TQSuhQ1hMnnEkNBvtmqeoNZLZNV6or5iU4CbbZ7+Ti9hz0rGc+NBLJ8t5HRL6VALA8AAnozBPGhfExAvOjUeADR6hBsTZkOhQlMu8/fVAQfI+xS13F8krHkTTRJRYAGEkkmH70DS4GBwCx4wIjcSGaYpEsSN1/CKHx7GfmgtQsJHvBvUwDsAF6t/al/YZozkvo7YvQAAICweCE0iHaRdfY1Sm4BIGDi5PttxWjmKQ0bwlR0+5UC7wc95PtSYH6tdn7KKLezA3A4nit/1VdIg0EHlSKg4QFdp15UsBukJ0H5oEuxIPdfahAVsfAaz8eMOjSBSkNdxNR1KhsQZc8Y3Wj09BLGg3icHQ+X1tv/WwuPeKI0pK2JnzXksbtfPlIpU+BniOo8PaKc0jjYUwTwpupuhAdIrXf7zFYl3eFOcSMkbwwPEv6KgQjeBkQmMX51+s64NCjqkbsTKhksAsw0AEQbgTROFQoQnSf9nwiWcvg0AXADiyMXtOlqSakCGMyuhAmwNak7hu32oBePWANB0JJx6ibt9DLWBxWkJaFIBhgsGuHKozGufFREAyrAVJQEGTelnpO6VYCqQnsFv9RW/mckBC5nQA06lo9BhPGXRR0dnegFZdKo9h8T1FLRC7mnLDrTEkkTYgkHBIacTWpTZx7w9PO87KTYX8l+RR68fwA0Ge5fv5AVgJaCSr6UcRjYePsKHOSQmIWWXJOAVCOPMESC7HOPXxnhMMgeCKUQgxlYMC98BSSt0U49/mtUXQU7PggmYWYE2YAOVWgfKAwYHFYJMw6esOwzR2Wcw3QmhlA4ox5O5ebWQwqFIsAgWIKEszcfytTQ7YT5pDnSswckJ8KDUIaAGgFg9BsWjIXCzC44ITbS1ETwUYfZTL9iosa4xMOauxGQcCUVxER5UGOkdT2D38ADGMG9Oy9Ch3EyC0pn2O1TOXTwzBu5uOjaiEwhPfysiMFqtRlYHq5ft9BCuJnaMNORcVongl2NzUBL3WiqysvlmPP3QjJkG0iYmo4AkDE2Oe76YmBelH5ijUDrUOHpUGU6U80QAdnWoKyMcy9ZZz9FA22mSZySAt4m02p34CCQRurM58Zo9e78qiXlk4mDGCo9eV6252d1FgzQ3pFLY0PA8M95ECImojD/lTJcha0XCIIYlpqEomwAgOx5cLRhNTPVpw5/RMb9AAaafY9KBwGhvT2ltnhhA5tIaHleksK5UdNadDuU7KpaCn95r9lr+LXB7fAONRxKOAoHQww9NfytL59nhjjUXmoAYgt2HFKvwmFDJEkzjMkARReIJ2cEKGqJjjQX+tbveaFsobqtzuUax9qGyigug5kVlVyfShVZ0S6BmZc30Kn6oGBYlC1rW1+gtrSjUME9U9mniQVNEk9yo0bB8AH7+ikg1D9Bv2oCCAwH0RlgIRLJTS5SrpxcT48UEkdmaco7qOk/ekt3WuC7KR1V/I8Ff0VQZ7quI7VLZ7V0ah280O3hGlIQkJGRvqIPMpLa46lNoVJOy0aHaqfHaofFIfHYqegfb1KEyChrD1pNDpQX4CgDAY80qYOValc7U6I5s0piHSl9J0Vxlb3cr+yqf8yv71S3d6l3e9S7vepd3vUu73qXd71Lu964jvX9alKU4UAKHepCAsMibtCGBpR4cmANZBdWy2aVyouFgg+KD0POgOR9KFodGsQ6E+S5low4bHFoGMIPpJ9R2TK0TjRP3LmW0k84TYvSrsDjUZ1fCp4FMgPlg2qDaoNioNqg2+myHQtS2AcmnQLtXB30VoO1bXvVxXrX6GuF3VwVOD7K4LuVwfcrgu5XB9yuC7KxbRKGpEyRIRclNAsEmAiCCDQoRelKcgsULU0NRUDytBynm1mM3jxg9brlj93Yr3hNWquq/TKByCL/i3K0P8dBuOp5MeW3a3s2KtQApWSf8AoaFBu0ZDhFAQWbHpxeTbhjgbtA+7pd11fqERReBd/HCmmbjWdz8UsSwca0GW7WVbbHoAuChsLtQmquH71wDvXJ71y+9cI71wfev2NQ6q4rtUjI9vq+FYIjnXHOxX361kHqKiywxydjj23ojzwCAPqiCd0O46NPUpsS/CNOePKC4F5UslgcWvxKhkjmKgYFbMHTwHFd64jvUt2p4+Epq1Ld71Fq71xXegNVG77VuC6VFylSZHRoVkOtSaHSpMdxUXCVso9aS3daj1Ulq7VDs+jFDYXah/yrcBX4AVOBLjUyocofVxgSUrUdhXyPx3e1AH1gMIhCOGt2qWhc2nLHKrYPBQlZTBxrnunFAcClZF+pgwveuO8Ibp2rcF0ri7VRo3vGqglEjHYqzodPCK5Xem+foIxL3hsfpdq/yGs5r9v+BCews25DSSg6BY5a9O1IpAiMIkJ/2CDvFh/PSoNQXiucPuaiP+GGpmm29detR7HyPTD0pRmYpHR/6katOEjgZaiijeRa8PymgIAAQBp/x22gV6OTpU/wDu1OT3qXMWvHtn2pFAQZEhP+dDzz/YNR4zUpd34qOUn+k46f8ANNTiYydc1OKTQ9k396m07QZf3PepyYGoD7UvChv/ACqRwnfySbnei+L17ATa9nj8VZFfttWC7krDdQD71oxzD70awc/z0Npc/wAlC5HnUJk+j8ULkP1wriDr/FH+/wDxRqd15UiRIkf0lP7unE7v4pPR/rhSWF/XCuOdFRavKj9o+9Ifj+ekc9P81I56b+VCfe/1WsuR/esA6j8DS+yJ8kqIVdbJ6H5qAVTQV7t6j/pRQkAGyTWS/iPtU32BKBp4LdFe3AX2r2egUAYt4xUG1R9NFQbVH/xt/9k="})})};return he(),(tt,sn)=>($e(!0),to(xn,null,pi(Tt.value,lo=>($e(),No(e6,{key:lo.template,class:__(tt.cardClass)},{default:Ke(()=>[ot(JL,null,{default:Ke(()=>[tt.showTitle?($e(),No(zN,{key:0,class:"text-center"},{default:Ke(()=>[jo(" Badges (#"+Uo(De.value.Reference)+" "+Uo(De.value.User.DisplayName)+") ",1)]),_:1})):Zn("",!0)]),_:1}),ot(XL,{class:"text-center"},{default:Ke(()=>[ot(xF,{class:"d-block ma-auto",src:lo.url,height:"280",width:"280"},null,8,["src"]),je.value?($e(),to("p",lG,Uo(je.value),1)):Zn("",!0)]),_:2},1024),!tt.hideDownload||!tt.hideNfc?($e(),No(kF,{key:0,class:"justify-center"},{default:Ke(()=>[!tt.hideNfc&&Pe.value&&(vo(so)||vo(xt)||rt.value)?($e(),No(Vr,{key:0,"prepend-icon":"mdi:mdi-nfc",color:"warning",variant:"flat",onClick:Qe},{default:Ke(()=>[jo("Link Card")]),_:1})):Zn("",!0),tt.hideDownload?Zn("",!0):($e(),No(Vr,{key:1,color:"primary","prepend-icon":"mdi:mdi-download",variant:"flat",onClick:Vt=>We(lo.url)},{default:Ke(()=>[jo("Download")]),_:2},1032,["onClick"]))]),_:2},1024)):Zn("",!0),ot(u$,{modelValue:ct.value,"onUpdate:modelValue":sn[0]||(sn[0]=Vt=>ct.value=Vt),message:zt.value,timeout:Se.value*1e3},null,8,["modelValue","message","timeout"])]),_:2},1032,["class"]))),128))}}),cG=Xr({__name:"DataPanelText",props:Ri({convention:{},data:{},forms:{}},{modelValue:{required:!0},modelModifiers:{},registration:{required:!0},registrationModifiers:{}}),emits:["update:modelValue","update:registration"],setup(le){const De=ll(le,"modelValue"),de=ll(le,"registration"),xe=Do(le.data),Le=_l(()=>Pe.value?"":xe.value!==le.data?"mdi:mdi-content-save":""),ze=DE(),Tt=tg(),Oe=Do(ON(ze,le.convention)),Pe=Do(!1),je=()=>{Pe.value=!0,Tt.directEditFieldData(de.value.RegistrationUUID,De.value.LayoutItemUUID,xe.value).then(rt=>{rt&&de.value.Submissions.find(zt=>!!zt.Data.find(ct=>{if(ct.SectionFieldUUID===De.value.SectionFieldUUID)return ct.Data=rt,!0})),Pe.value=!1}).catch(()=>{})};return(rt,zt)=>De.value.Meta&&De.value.Meta.DirectEdit&&(Oe.value||De.value.Meta.DirectEditPermission==="View")?($e(),No(Ub,{key:0,modelValue:xe.value,"onUpdate:modelValue":zt[0]||(zt[0]=ct=>xe.value=ct),"append-inner-icon":Le.value,"onClick:appendInner":je},KL({_:2},[Pe.value?{name:"append-inner",fn:Ke(()=>[ot(bF,{color:"primary",indeterminate:"",size:30})]),key:"0"}:void 0]),1032,["modelValue","append-inner-icon"])):($e(),to(xn,{key:1},[jo(Uo(rt.data),1)],64))}}),dG={key:4},uG={key:8},mG=Xr({__name:"FormDataItem",props:Ri({accommodations:{},convention:{},extras:{},forms:{},interests:{},itemClass:{},tickets:{},venues:{}},{modelValue:{required:!0},modelModifiers:{},registration:{required:!0},registrationModifiers:{}}),emits:["update:modelValue","update:registration"],setup(le){const De=ll(le,"modelValue"),de=ll(le,"registration"),xe=_l(()=>{var zt,ct,Se,Ue;const je=De.value,rt=()=>{var xt;for(let so=0;so<le.forms.length;so+=1)for(let We=0;We<le.forms[so].Sections.length;We+=1)if(le.forms[so].Sections[We].Fields){const At=(xt=le.forms[so].Sections[We].Fields)==null?void 0:xt.find(Qe=>Qe.SectionFieldUUID===je.SectionFieldUUID);if(At)return At}};return((ct=(zt=je.SectionField)==null?void 0:zt.Field)==null?void 0:ct.Type)||((Ue=(Se=rt())==null?void 0:Se.Field)==null?void 0:Ue.Type)}),Le=_l(()=>{for(let je=0;je<de.value.Submissions.length;je+=1){const zt=de.value.Submissions[je].Data.find(ct=>ct.SectionFieldUUID===De.value.SectionFieldUUID);if(zt)return zt.Data}return""}),ze=tg(),Tt=QL(),Oe=Do(""),Pe=Do("");if(xe.value==="BADGE_IMAGE")try{const je=JSON.parse(Le.value||"{}");je.fileUUID&&(Pe.value=Tt.GetBadgeImageURL(je.fileUUID)),de.value&&ze.getConBadgeDisplayName(de.value.RegistrationUUID).then(rt=>{rt&&(Oe.value=rt)}).catch(()=>{})}catch{}return(je,rt)=>xe.value==="ACCOMMODATION"?($e(),No(_F,{key:0,convention:je.convention,tickets:je.tickets,accommodations:je.accommodations,venues:je.venues,registration:de.value,forms:je.forms,modelValue:De.value,"onUpdate:modelValue":rt[0]||(rt[0]=zt=>De.value=zt),data:Le.value},null,8,["convention","tickets","accommodations","venues","registration","forms","modelValue","data"])):xe.value==="EXTRAS"?($e(),No(Q$,{key:1,value:Le.value,extras:je.extras},null,8,["value","extras"])):xe.value==="TICKET"?($e(),No(sG,{key:2,value:Le.value,tickets:je.tickets},null,8,["value","tickets"])):xe.value==="INTERESTS"?($e(),No(X$,{key:3,value:Le.value,interests:je.interests},null,8,["value","interests"])):xe.value==="CHECKBOX"?($e(),to("div",dG,[Le.value?($e(),No(I1,{key:0,icon:"mdi:mdi-check",color:"success"})):($e(),No(I1,{key:1,icon:"mdi:mdi-close",color:"error"}))])):xe.value==="AGE"?($e(),No(iG,{key:5,data:Le.value,forms:je.forms,registration:de.value,modelValue:De.value,"onUpdate:modelValue":rt[1]||(rt[1]=zt=>De.value=zt)},null,8,["data","forms","registration","modelValue"])):xe.value==="BADGE_IMAGE"?($e(),No(CF,{key:6,convention:je.convention,registration:de.value,"show-title":!1,"card-class":je.itemClass},null,8,["convention","registration","card-class"])):xe.value==="TEXT"?($e(),No(cG,{key:7,convention:je.convention,data:Le.value,forms:je.forms,modelValue:De.value,"onUpdate:modelValue":rt[2]||(rt[2]=zt=>De.value=zt),registration:de.value,"onUpdate:registration":rt[3]||(rt[3]=zt=>de.value=zt)},null,8,["convention","data","forms","modelValue","registration"])):($e(),to("div",uG,Uo(Le.value),1))}}),fG={key:0},gG={key:0},pG=ps("strong",null,"Total:",-1),hG=Xr({__name:"DataPanelRegistrationGroup",props:{registration:{}},setup(le){const De=_l(()=>{const de=[];let xe;return le.registration.Leader?xe=le.registration:xe=le.registration.Primary,de.push({Name:xe.User.DisplayName,UUID:xe.UserUUID,UserUUID:xe.User.UserUUID,IsLeader:!0,Reference:xe.Reference,Paid:xe.Paid,Total:xe.Total}),de.push(...xe.Members.map(Le=>({Name:Le.User.DisplayName,UUID:Le.UserUUID,UserUUID:Le.User.UserUUID,IsLeader:!1,Reference:Le.Reference,Paid:Le.Paid,Total:Le.Total}))),de});return(de,xe)=>de.registration.Members.length===0&&!de.registration.Primary?($e(),to("em",fG," Not in a group ")):($e(),to(xn,{key:1},[ps("ul",null,[($e(!0),to(xn,null,pi(De.value,Le=>($e(),to("li",{key:Le.UUID,class:"ml-0"},[jo(" #"+Uo(Le.Reference)+" : "+Uo(Le.Name)+" ",1),Le.IsLeader?($e(),to("strong",gG,"(Leader)")):Zn("",!0)]))),128))]),pG,jo(" "+Uo(De.value.length),1)],64))}}),bG=Xr({__name:"DataPanelSubmissionDate",props:{registration:{}},setup(le){const De=_l(()=>{const de=le.registration.Submissions.find(xe=>{var Le;return((Le=xe.Form)==null?void 0:Le.Type)===CN.FORM_TYPE_REGISTRATION});return de?de.CreatedAt||"":le.registration.CreatedAt||""});return(de,xe)=>($e(),to("div",null,Uo(vo(ah)(De.value,{withDay:!1,withYear:!0})),1))}}),yG={class:"text-grey-lighten-1"},vG=Xr({__name:"DataPanelSubmissionStatus",props:{convention:{},forms:{},registration:{}},emits:["showForm"],setup(le,{emit:De}){const de=De,xe=DE(),Le=ON(xe,le.convention),ze=_l(()=>le.registration.Submissions.map(Pe=>{const je=le.forms.find(rt=>rt.FormUUID===Pe.FormUUID);if(je)return{Heading:je.Heading,Form:je,Submission:Pe,Registration:le.registration}}).filter(Pe=>!!Pe)),Tt=(Pe,je,rt)=>{de("showForm",Pe,je,rt)},Oe=Pe=>({ID:0,SubmissionUUID:zE(),FormID:Pe.ID,FormUUID:Pe.FormUUID,Form:Pe,UserID:le.registration.UserID,UserUUID:le.registration.UserUUID,RegistrationID:le.registration.ID,RegistrationUUID:le.registration.RegistrationUUID,Registration:le.registration,Data:[],Status:h$.SUBMISSION_STATUS_NULL});return(Pe,je)=>($e(),to(xn,null,[ps("ul",null,[($e(!0),to(xn,null,pi(Pe.forms.filter(rt=>rt.Type===vo(CN).FORM_TYPE_ADMIN&&ze.value.findIndex(zt=>zt.Form.ID===rt.ID)<0),rt=>($e(),to("li",{key:rt.Heading},[ps("strong",yG,Uo(rt.Heading),1),vo(Le)?($e(),No(Vr,{key:0,class:"text-grey-lighten-1",icon:"mdi:mdi-form-select",title:"Edit Submitted Data",variant:"flat",onClick:zt=>Tt(Pe.registration,rt,Oe(rt))},null,8,["onClick"])):Zn("",!0)]))),128))]),ps("ul",null,[($e(!0),to(xn,null,pi(ze.value,rt=>($e(),to("li",{key:rt.Heading},[ps("strong",null,[jo(Uo(rt.Heading),1),rt.Form.Type!==vo(CN).FORM_TYPE_ADMIN?($e(),to(xn,{key:0},[jo(": ")],64)):Zn("",!0)]),rt.Form.Type!==vo(CN).FORM_TYPE_ADMIN?($e(),to("span",{key:0,class:__(vo(g$)(rt.Submission.Status))},Uo(vo(p$)(rt.Submission.Status)),3)):Zn("",!0),vo(Le)?($e(),No(Vr,{key:1,icon:"mdi:mdi-form-select",title:"Edit Submitted Data",variant:"flat",onClick:zt=>Tt(rt.Registration,rt.Form,rt.Submission)},null,8,["onClick"])):Zn("",!0)]))),128))])],64))}}),kG={key:0,class:"text-blue"},xG={key:1,class:"text-red"},wG={key:2,class:"text-orange"},_G={key:3,class:"text-orange"},AG={key:4,class:"text-orange"},CG={key:5,class:"text-orange"},SG={key:6,class:"text-green"},EG=Xr({__name:"DataPanelPaymentStatus",props:{registration:{}},setup(le){const De=_l(()=>{if(le.registration.Paid===0&&le.registration.Total)return"REQUIRED";if(le.registration.Total>le.registration.Paid)return"ADDITIONAL_REQUIRED";const de=le.registration.Members.find(xe=>xe.Paid===0&&(xe.Total||0)>0);return de?le.registration.Total===0&&de.Total===0?"NOT_REQUIRED":le.registration.Total===0&&de.Total||le.registration.Total>0&&de.Total===0?"MISSING_REQUIRED":le.registration.Paid>=le.registration.Total?"AWAITING_PARTNER":"ALL_REQUIRED":le.registration.Total===0?"NOT_REQUIRED":"COMPLETE"});return(de,xe)=>De.value=="NOT_REQUIRED"?($e(),to("div",kG,"No Payment Requested")):De.value=="MISSING_REQUIRED"?($e(),to("div",xG,"Partner Payment Not Requested")):De.value=="AWAITING_PARTNER"?($e(),to("div",wG,"Awaiting Partner Payment")):De.value=="ALL_REQUIRED"?($e(),to("div",_G,"Awaiting Payments")):De.value=="REQUIRED"?($e(),to("div",AG,"Awaiting Payment")):De.value=="ADDITIONAL_REQUIRED"?($e(),to("div",CG,"Awaiting Additional Payments")):($e(),to("div",SG,"Completed"))}});var TG={exports:{}};(function(le){(function(){var De=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},de=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},xe=function(e,t){var o=Array.prototype.slice.call(e);return o.sort(t)},Le=function(e,t){return ze(function(o,s){return e.eq(t(o),t(s))})},ze=function(e){return{eq:e}},Tt=ze(function(e,t){return e===t}),Oe=Tt,Pe=function(e){return ze(function(t,o){if(t.length!==o.length)return!1;for(var s=t.length,a=0;a<s;a++)if(!e.eq(t[a],o[a]))return!1;return!0})},je=function(e,t){return Le(Pe(e),function(o){return xe(o,t)})},rt=function(e){return ze(function(t,o){var s=Object.keys(t),a=Object.keys(o);if(!je(Oe).eq(s,a))return!1;for(var c=s.length,d=0;d<c;d++){var g=s[d];if(!e.eq(t[g],o[g]))return!1}return!0})},zt=ze(function(e,t){if(e===t)return!0;var o=De(e),s=De(t);return o!==s?!1:de(o)?e===t:o==="array"?Pe(zt).eq(e,t):o==="object"?rt(zt).eq(e,t):!1});const ct=Object.getPrototypeOf,Se=(e,t,o)=>{var s;return o(e,t.prototype)?!0:((s=e.constructor)===null||s===void 0?void 0:s.name)===t.name},Ue=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&Se(e,String,(o,s)=>s.isPrototypeOf(o))?"string":t},xt=e=>t=>Ue(t)===e,so=e=>t=>typeof t===e,We=e=>t=>e===t,At=(e,t)=>ae(e)&&Se(e,t,(o,s)=>ct(o)===s),Qe=xt("string"),ae=xt("object"),Lt=e=>At(e,Object),he=xt("array"),tt=We(null),sn=so("boolean"),lo=We(void 0),Vt=e=>e==null,_e=e=>!Vt(e),Je=so("function"),O=so("number"),ft=(e,t)=>{if(he(e)){for(let o=0,s=e.length;o<s;++o)if(!t(e[o]))return!1;return!0}return!1},dt=()=>{},Jt=(e,t)=>(...o)=>e(t.apply(null,o)),kn=(e,t)=>o=>e(t(o)),ht=e=>()=>e,So=e=>e,tr=(e,t)=>e===t;function $t(e,...t){return(...o)=>{const s=t.concat(o);return e.apply(null,s)}}const is=e=>t=>!e(t),Ct=e=>()=>{throw new Error(e)},Yt=e=>e(),hi=e=>{e()},Mo=ht(!1),pn=ht(!0);class H{constructor(t,o){this.tag=t,this.value=o}static some(t){return new H(!0,t)}static none(){return H.singletonNone}fold(t,o){return this.tag?o(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?H.some(t(this.value)):H.none()}bind(t){return this.tag?t(this.value):H.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:H.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return _e(t)?H.some(t):H.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}H.singletonNone=new H(!1);const Un=Array.prototype.slice,ti=Array.prototype.indexOf,qn=Array.prototype.push,Ws=(e,t)=>ti.call(e,t),Al=(e,t)=>{const o=Ws(e,t);return o===-1?H.none():H.some(o)},Nn=(e,t)=>Ws(e,t)>-1,ts=(e,t)=>{for(let o=0,s=e.length;o<s;o++){const a=e[o];if(t(a,o))return!0}return!1},Zo=(e,t)=>{const o=e.length,s=new Array(o);for(let a=0;a<o;a++){const c=e[a];s[a]=t(c,a)}return s},ut=(e,t)=>{for(let o=0,s=e.length;o<s;o++){const a=e[o];t(a,o)}},yt=(e,t)=>{for(let o=e.length-1;o>=0;o--){const s=e[o];t(s,o)}},St=(e,t)=>{const o=[],s=[];for(let a=0,c=e.length;a<c;a++){const d=e[a];(t(d,a)?o:s).push(d)}return{pass:o,fail:s}},nt=(e,t)=>{const o=[];for(let s=0,a=e.length;s<a;s++){const c=e[s];t(c,s)&&o.push(c)}return o},go=(e,t,o)=>(yt(e,(s,a)=>{o=t(o,s,a)}),o),rn=(e,t,o)=>(ut(e,(s,a)=>{o=t(o,s,a)}),o),Bn=(e,t,o)=>{for(let s=0,a=e.length;s<a;s++){const c=e[s];if(t(c,s))return H.some(c);if(o(c,s))break}return H.none()},on=(e,t)=>Bn(e,t,Mo),La=(e,t)=>{for(let o=0,s=e.length;o<s;o++){const a=e[o];if(t(a,o))return H.some(o)}return H.none()},fs=e=>{const t=[];for(let o=0,s=e.length;o<s;++o){if(!he(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);qn.apply(t,e[o])}return t},ln=(e,t)=>fs(Zo(e,t)),jr=(e,t)=>{for(let o=0,s=e.length;o<s;++o){const a=e[o];if(t(a,o)!==!0)return!1}return!0},ea=e=>{const t=Un.call(e,0);return t.reverse(),t},Ns=(e,t)=>nt(e,o=>!Nn(t,o)),ws=(e,t)=>{const o={};for(let s=0,a=e.length;s<a;s++){const c=e[s];o[String(c)]=t(c,s)}return o},wn=(e,t)=>{const o=Un.call(e,0);return o.sort(t),o},Zr=(e,t)=>t>=0&&t<e.length?H.some(e[t]):H.none(),Jo=e=>Zr(e,0),Qt=e=>Zr(e,e.length-1),uo=Je(Array.from)?Array.from:e=>Un.call(e),Cr=(e,t)=>{for(let o=0;o<e.length;o++){const s=t(e[o],o);if(s.isSome())return s}return H.none()},Pa=(e,t)=>{const o=[],s=Je(t)?a=>ts(o,c=>t(c,a)):a=>Nn(o,a);for(let a=0,c=e.length;a<c;a++){const d=e[a];s(d)||o.push(d)}return o},vt=Object.keys,wa=Object.hasOwnProperty,An=(e,t)=>{const o=vt(e);for(let s=0,a=o.length;s<a;s++){const c=o[s],d=e[c];t(d,c)}},Fa=(e,t)=>Jn(e,(o,s)=>({k:s,v:t(o,s)})),Jn=(e,t)=>{const o={};return An(e,(s,a)=>{const c=t(s,a);o[c.k]=c.v}),o},ed=e=>(t,o)=>{e[o]=t},Sr=(e,t,o,s)=>{An(e,(a,c)=>{(t(a,c)?o:s)(a,c)})},Cl=(e,t)=>{const o={},s={};return Sr(e,t,ed(o),ed(s)),{t:o,f:s}},Ki=(e,t)=>{const o={};return Sr(e,t,ed(o),dt),o},oi=(e,t)=>{const o=[];return An(e,(s,a)=>{o.push(t(s,a))}),o},cl=e=>oi(e,So),hs=(e,t)=>Lo(e,t)?H.from(e[t]):H.none(),Lo=(e,t)=>wa.call(e,t),ni=(e,t)=>Lo(e,t)&&e[t]!==void 0&&e[t]!==null,bi=(e,t,o=zt)=>rt(o).eq(e,t),Ni=e=>{const t={};return ut(e,o=>{t[o]={}}),vt(t)},sc=e=>e.length!==void 0,Ht=Array.isArray,Cd=e=>{if(Ht(e))return e;{const t=[];for(let o=0,s=e.length;o<s;o++)t[o]=e[o];return t}},_s=(e,t,o)=>{if(!e)return!1;if(o=o||e,sc(e)){for(let s=0,a=e.length;s<a;s++)if(t.call(o,e[s],s,e)===!1)return!1}else for(const s in e)if(Lo(e,s)&&t.call(o,e[s],s,e)===!1)return!1;return!0},ou=(e,t)=>{const o=[];return _s(e,(s,a)=>{o.push(t(s,a,e))}),o},Sd=(e,t)=>{const o=[];return _s(e,(s,a)=>{(!t||t(s,a,e))&&o.push(s)}),o},Ua=(e,t)=>{if(e){for(let o=0,s=e.length;o<s;o++)if(e[o]===t)return o}return-1},$l=(e,t,o,s)=>{let a=lo(o)?e[0]:o;for(let c=0;c<e.length;c++)a=t.call(s,a,e[c],c);return a},_a=(e,t,o)=>{for(let s=0,a=e.length;s<a;s++)if(t.call(o,e[s],s,e))return s;return-1},br=e=>e[e.length-1],si=e=>{let t=!1,o;return(...s)=>(t||(t=!0,o=e.apply(null,s)),o)},nu=(e,t,o,s)=>{const a=e.isiOS()&&/ipad/i.test(o)===!0,c=e.isiOS()&&!a,d=e.isiOS()||e.isAndroid(),g=d||s("(pointer:coarse)"),v=a||!c&&d&&s("(min-device-width:768px)"),E=c||d&&!v,I=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,B=!E&&!v&&!I;return{isiPad:ht(a),isiPhone:ht(c),isTablet:ht(v),isPhone:ht(E),isTouch:ht(g),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ht(I),isDesktop:ht(B)}},dl=(e,t)=>{for(let o=0;o<e.length;o++){const s=e[o];if(s.test(t))return s}},Wu=(e,t)=>{const o=dl(e,t);if(!o)return{major:0,minor:0};const s=a=>Number(t.replace(o,"$"+a));return Wn(s(1),s(2))},Sl=(e,t)=>{const o=String(t).toLowerCase();return e.length===0?Ed():Wu(e,o)},Ed=()=>Wn(0,0),Wn=(e,t)=>({major:e,minor:t}),or={nu:Wn,detect:Sl,unknown:Ed},da=(e,t)=>Cr(t.brands,o=>{const s=o.brand.toLowerCase();return on(e,a=>{var c;return s===((c=a.brand)===null||c===void 0?void 0:c.toLowerCase())}).map(a=>({current:a.name,version:or.nu(parseInt(o.version,10),0)}))}),rc=(e,t)=>{const o=String(t).toLowerCase();return on(e,s=>s.search(o))},su=(e,t)=>rc(e,t).map(o=>{const s=or.detect(o.versionRegexes,t);return{current:o.name,version:s}}),ru=(e,t)=>rc(e,t).map(o=>{const s=or.detect(o.versionRegexes,t);return{current:o.name,version:s}}),Mi=(e,t)=>e.substring(t),yr=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t,$u=(e,t)=>ds(e,t)?Mi(e,t.length):e,os=(e,t,o=0,s)=>{const a=e.indexOf(t,o);return a!==-1?lo(s)?!0:a+t.length<=s:!1},ds=(e,t)=>yr(e,t,0),Yi=(e,t)=>yr(e,t,e.length-t.length),Ii=e=>t=>t.replace(e,""),ac=Ii(/^\s+|\s+$/g),ic=Ii(/^\s+/g),Ac=Ii(/\s+$/g),ta=e=>e.length>0,nr=e=>!ta(e),oa=(e,t)=>t<=0?"":new Array(t+1).join(e),ir=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?H.none():H.some(o)},Bi=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,gs=e=>t=>os(t,e),Aa=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>os(e,"edge/")&&os(e,"chrome")&&os(e,"safari")&&os(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Bi],search:e=>os(e,"chrome")&&!os(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>os(e,"msie")||os(e,"trident")},{name:"Opera",versionRegexes:[Bi,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:gs("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:gs("firefox")},{name:"Safari",versionRegexes:[Bi,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(os(e,"safari")||os(e,"mobile/"))&&os(e,"applewebkit")}],Ha=[{name:"Windows",search:gs("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>os(e,"iphone")||os(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:gs("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:gs("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:gs("linux"),versionRegexes:[]},{name:"Solaris",search:gs("sunos"),versionRegexes:[]},{name:"FreeBSD",search:gs("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:gs("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ua={browsers:ht(Aa),oses:ht(Ha)},Ho="Edge",ri="Chromium",qr="IE",Wr="Opera",yi="Firefox",As="Safari",lr=()=>El({current:void 0,version:or.unknown()}),El=e=>{const t=e.current,o=e.version,s=a=>()=>t===a;return{current:t,version:o,isEdge:s(Ho),isChromium:s(ri),isIE:s(qr),isOpera:s(Wr),isFirefox:s(yi),isSafari:s(As)}},Ro={unknown:lr,nu:El,edge:ht(Ho),chromium:ht(ri),ie:ht(qr),opera:ht(Wr),firefox:ht(yi),safari:ht(As)},Tl="Windows",ai="iOS",Ys="Android",vi="Linux",vr="macOS",Cc="Solaris",au="FreeBSD",Ln="ChromeOS",W=()=>fe({current:void 0,version:or.unknown()}),fe=e=>{const t=e.current,o=e.version,s=a=>()=>t===a;return{current:t,version:o,isWindows:s(Tl),isiOS:s(ai),isAndroid:s(Ys),isMacOS:s(vr),isLinux:s(vi),isSolaris:s(Cc),isFreeBSD:s(au),isChromeOS:s(Ln)}},Ae={unknown:W,nu:fe,windows:ht(Tl),ios:ht(ai),android:ht(Ys),linux:ht(vi),macos:ht(vr),solaris:ht(Cc),freebsd:ht(au),chromeos:ht(Ln)},Dt={detect:(e,t,o)=>{const s=ua.browsers(),a=ua.oses(),c=t.bind(v=>da(s,v)).orThunk(()=>su(s,e)).fold(Ro.unknown,Ro.nu),d=ru(a,e).fold(Ae.unknown,Ae.nu),g=nu(d,c,e,o);return{browser:c,os:d,deviceType:g}}},yo=e=>window.matchMedia(e).matches;let qo=si(()=>Dt.detect(navigator.userAgent,H.from(navigator.userAgentData),yo));const Cn=()=>qo(),_n=navigator.userAgent,Ls=Cn(),ns=Ls.browser,vs=Ls.os,$r=Ls.deviceType,ki=_n.indexOf("Windows Phone")!==-1,Mn={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:ns.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!ns.isIE(),windowsPhone:ki,browser:{current:ns.current,version:ns.version,isChromium:ns.isChromium,isEdge:ns.isEdge,isFirefox:ns.isFirefox,isIE:ns.isIE,isOpera:ns.isOpera,isSafari:ns.isSafari},os:{current:vs.current,version:vs.version,isAndroid:vs.isAndroid,isChromeOS:vs.isChromeOS,isFreeBSD:vs.isFreeBSD,isiOS:vs.isiOS,isLinux:vs.isLinux,isMacOS:vs.isMacOS,isSolaris:vs.isSolaris,isWindows:vs.isWindows},deviceType:{isDesktop:$r.isDesktop,isiPad:$r.isiPad,isiPhone:$r.isiPhone,isPhone:$r.isPhone,isTablet:$r.isTablet,isTouch:$r.isTouch,isWebView:$r.isWebView}},Gu=/^\s*|\s*$/g,lc=e=>Vt(e)?"":(""+e).replace(Gu,""),Ku=(e,t)=>t?t==="array"&&Ht(e)?!0:typeof e===t:e!==void 0,Yu=(e,t,o={})=>{const s=Qe(e)?e.split(t||","):e||[];let a=s.length;for(;a--;)o[s[a]]={};return o},Ca=Lo,lh=(e,...t)=>{for(let o=0;o<t.length;o++){const s=t[o];for(const a in s)if(Lo(s,a)){const c=s[a];c!==void 0&&(e[a]=c)}}return e},Va=function(e,t,o,s){s=s||this,e&&(o&&(e=e[o]),_s(e,(a,c)=>t.call(s,a,c,o)===!1?!1:(Va(a,t,o,s),!0)))},Mt={trim:lc,isArray:Ht,is:Ku,toArray:Cd,makeMap:Yu,each:_s,map:ou,grep:Sd,inArray:Ua,hasOwn:Ca,extend:lh,walk:Va,resolve:(e,t=window)=>{const o=e.split(".");for(let s=0,a=o.length;s<a&&(t=t[o[s]],!!t);s++);return t},explode:(e,t)=>he(e)?e:e===""?[]:ou(e.split(t||","),lc),_addCacheSuffix:e=>{const t=Mn.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},iu=(e,t,o=tr)=>e.exists(s=>o(s,t)),Xg=(e,t,o=tr)=>na(e,t,o).getOr(e.isNone()&&t.isNone()),Td=e=>{const t=[],o=s=>{t.push(s)};for(let s=0;s<e.length;s++)e[s].each(o);return t},na=(e,t,o)=>e.isSome()&&t.isSome()?H.some(o(e.getOrDie(),t.getOrDie())):H.none(),ep=(e,t,o,s)=>e.isSome()&&t.isSome()&&o.isSome()?H.some(s(e.getOrDie(),t.getOrDie(),o.getOrDie())):H.none(),lu=(e,t)=>e?H.some(t):H.none(),Od=typeof window<"u"?window:Function("return this;")(),tp=(e,t)=>{let o=t??Od;for(let s=0;s<e.length&&o!==void 0&&o!==null;++s)o=o[e[s]];return o},Im=(e,t)=>{const o=e.split(".");return tp(o,t)},cu=(e,t)=>Im(e,t),B1=(e,t)=>{const o=cu(e,t);if(o==null)throw new Error(e+" not available on this browser");return o},Vb=Object.getPrototypeOf,op=e=>B1("HTMLElement",e),jb=e=>{const t=Im("ownerDocument.defaultView",e);return ae(e)&&(op(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Vb(e).constructor.name))},cc=8,ng=9,du=11,Ol=1,Gl=3,fn=e=>e.dom.nodeName.toLowerCase(),Bm=e=>e.dom.nodeType,ma=e=>t=>Bm(t)===e,td=e=>Bm(e)===cc||fn(e)==="#comment",uu=e=>xi(e)&&jb(e.dom),xi=ma(Ol),kr=ma(Gl),mu=ma(ng),Lm=ma(du),Er=e=>t=>xi(t)&&fn(t)===e,dr=(e,t,o)=>{if(Qe(o)||sn(o)||O(o))e.setAttribute(t,o+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Cs=(e,t,o)=>{dr(e.dom,t,o)},Qs=(e,t)=>{const o=e.dom;An(t,(s,a)=>{dr(o,a,s)})},wi=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?void 0:o},Qi=(e,t)=>H.from(wi(e,t)),fa=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):!1},ur=(e,t)=>{e.dom.removeAttribute(t)},fu=e=>{const t=e.dom.attributes;return t==null||t.length===0},mr=e=>rn(e.dom.attributes,(t,o)=>(t[o.name]=o.value,t),{}),Tr=(e,t)=>{const o=wi(e,t);return o===void 0||o===""?[]:o.split(" ")},xr=(e,t,o)=>{const a=Tr(e,t).concat([o]);return Cs(e,t,a.join(" ")),!0},od=(e,t,o)=>{const s=nt(Tr(e,t),a=>a!==o);return s.length>0?Cs(e,t,s.join(" ")):ur(e,t),!1},Ss=e=>e.dom.classList!==void 0,Qu=e=>Tr(e,"class"),Pm=(e,t)=>xr(e,"class",t),zl=(e,t)=>od(e,"class",t),un=(e,t)=>Nn(Qu(e),t)?zl(e,t):Pm(e,t),Br=(e,t)=>{Ss(e)?e.dom.classList.add(t):Pm(e,t)},zd=e=>{(Ss(e)?e.dom.classList:Qu(e)).length===0&&ur(e,"class")},Kl=(e,t)=>{Ss(e)?e.dom.classList.remove(t):zl(e,t),zd(e)},Fm=(e,t)=>{const o=Ss(e)?e.dom.classList.toggle(t):un(e,t);return zd(e),o},Yl=(e,t)=>Ss(e)&&e.dom.classList.contains(t),Sc=(e,t)=>{const s=(t||document).createElement("div");if(s.innerHTML=e,!s.hasChildNodes()||s.childNodes.length>1){const a="HTML does not have a single root node";throw console.error(a,e),new Error(a)}return dc(s.childNodes[0])},np=(e,t)=>{const s=(t||document).createElement(e);return dc(s)},Um=(e,t)=>{const s=(t||document).createTextNode(e);return dc(s)},dc=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},oe={fromHtml:Sc,fromTag:np,fromText:Um,fromDom:dc,fromPoint:(e,t,o)=>H.from(e.dom.elementFromPoint(t,o)).map(dc)},Dl=(e,t)=>{const o=[],s=c=>(o.push(c),t(c));let a=t(e);do a=a.bind(s);while(a.isSome());return o},ja=(e,t)=>{const o=e.dom;if(o.nodeType!==Ol)return!1;{const s=o;if(s.matches!==void 0)return s.matches(t);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(t);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(t);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},uc=e=>e.nodeType!==Ol&&e.nodeType!==ng&&e.nodeType!==du||e.childElementCount===0,gu=(e,t)=>{const o=t===void 0?document:t.dom;return uc(o)?[]:Zo(o.querySelectorAll(e),oe.fromDom)},sg=(e,t)=>{const o=t===void 0?document:t.dom;return uc(o)?H.none():H.from(o.querySelector(e)).map(oe.fromDom)},On=(e,t)=>e.dom===t.dom,Li=(e,t)=>{const o=e.dom,s=t.dom;return o===s?!1:o.contains(s)},nd=e=>oe.fromDom(e.dom.ownerDocument),Pi=e=>mu(e)?e:nd(e),sd=e=>oe.fromDom(Pi(e).dom.documentElement),ul=e=>oe.fromDom(Pi(e).dom.defaultView),Za=e=>H.from(e.dom.parentNode).map(oe.fromDom),mc=e=>H.from(e.dom.parentElement).map(oe.fromDom),ii=(e,t)=>{const o=Je(t)?t:Mo;let s=e.dom;const a=[];for(;s.parentNode!==null&&s.parentNode!==void 0;){const c=s.parentNode,d=oe.fromDom(c);if(a.push(d),o(d)===!0)break;s=c}return a},ko=e=>{const t=o=>nt(o,s=>!On(e,s));return Za(e).map(Es).map(t).getOr([])},li=e=>H.from(e.dom.previousSibling).map(oe.fromDom),Fi=e=>H.from(e.dom.nextSibling).map(oe.fromDom),rp=e=>ea(Dl(e,li)),Dd=e=>Dl(e,Fi),Es=e=>Zo(e.dom.childNodes,oe.fromDom),Ec=(e,t)=>{const o=e.dom.childNodes;return H.from(o[t]).map(oe.fromDom)},pu=e=>Ec(e,0),Or=e=>Ec(e,e.dom.childNodes.length-1),fc=e=>e.dom.childNodes.length,Hm=e=>e.dom.hasChildNodes(),Ju=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return oe.fromDom(t)},rg=e=>Lm(e)&&_e(e.dom.host),Tc=Je(Element.prototype.attachShadow)&&Je(Node.prototype.getRootNode),Rl=ht(Tc),Oc=Tc?e=>oe.fromDom(e.dom.getRootNode()):Pi,Ps=e=>rg(e)?e:Ju(Pi(e)),Nl=e=>rg(e)?e:oe.fromDom(Pi(e).dom.body),ga=e=>{const t=Oc(e);return rg(t)?H.some(t):H.none()},zc=e=>oe.fromDom(e.dom.host),qa=e=>{if(Rl()&&_e(e.target)){const t=oe.fromDom(e.target);if(xi(t)&&Xu(t)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return Jo(o)}}return H.from(e.target)},Xu=e=>_e(e.dom.shadowRoot),wr=e=>{const t=kr(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const o=t.ownerDocument;return ga(oe.fromDom(t)).fold(()=>o.body.contains(t),kn(wr,zc))};var sa=(e,t,o,s,a)=>e(o,s)?H.some(o):Je(a)&&a(o)?H.none():t(o,s,a);const Ji=(e,t,o)=>{let s=e.dom;const a=Je(o)?o:Mo;for(;s.parentNode;){s=s.parentNode;const c=oe.fromDom(s);if(t(c))return H.some(c);if(a(c))break}return H.none()},Xe=(e,t,o)=>sa((a,c)=>c(a),Ji,e,t,o),Ui=(e,t)=>{const o=e.dom;return o.parentNode?Vm(oe.fromDom(o.parentNode),s=>!On(e,s)&&t(s)):H.none()},Vm=(e,t)=>{const o=a=>t(oe.fromDom(a));return on(e.dom.childNodes,o).map(oe.fromDom)},sr=(e,t)=>{const o=s=>{for(let a=0;a<s.childNodes.length;a++){const c=oe.fromDom(s.childNodes[a]);if(t(c))return H.some(c);const d=o(s.childNodes[a]);if(d.isSome())return d}return H.none()};return o(e.dom)},Sa=(e,t,o)=>Ji(e,s=>ja(s,t),o),Ea=(e,t)=>sg(t,e),Hi=(e,t,o)=>sa((a,c)=>ja(a,c),Sa,e,t,o),Rd=e=>Hi(e,"[contenteditable]"),pa=(e,t=!1)=>wr(e)?e.dom.isContentEditable:Rd(e).fold(ht(t),o=>$n(o)==="true"),$n=e=>e.dom.contentEditable,Xi=e=>e.style!==void 0&&Je(e.style.getPropertyValue),rd=(e,t,o)=>{if(!Qe(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Xi(e)&&e.style.setProperty(t,o)},Gr=(e,t)=>{Xi(e)&&e.style.removeProperty(t)},jm=(e,t,o)=>{const s=e.dom;rd(s,t,o)},el=(e,t)=>{const o=e.dom;An(t,(s,a)=>{rd(o,a,s)})},ha=(e,t)=>{const o=e.dom,a=window.getComputedStyle(o).getPropertyValue(t);return a===""&&!wr(e)?Vi(o,t):a},Vi=(e,t)=>Xi(e)?e.style.getPropertyValue(t):"",Te=(e,t)=>{const o=e.dom,s=Vi(o,t);return H.from(s).filter(a=>a.length>0)},Ta=e=>{const t={},o=e.dom;if(Xi(o))for(let s=0;s<o.style.length;s++){const a=o.style.item(s);t[a]=o.style[a]}return t},ad=(e,t)=>{const o=e.dom;Gr(o,t),iu(Qi(e,"style").map(ac),"")&&ur(e,"style")},gc=e=>e.dom.offsetWidth,zr=(e,t)=>{Za(e).each(s=>{s.dom.insertBefore(t.dom,e.dom)})},Js=(e,t)=>{Fi(e).fold(()=>{Za(e).each(a=>{Fs(a,t)})},s=>{zr(s,t)})},rr=(e,t)=>{pu(e).fold(()=>{Fs(e,t)},s=>{e.dom.insertBefore(t.dom,s.dom)})},Fs=(e,t)=>{e.dom.appendChild(t.dom)},em=(e,t)=>{zr(e,t),Fs(t,e)},_o=(e,t)=>{ut(t,(o,s)=>{const a=s===0?e:t[s-1];Js(a,o)})},Kr=(e,t)=>{ut(t,o=>{Fs(e,o)})},Oa=e=>{e.dom.textContent="",ut(Es(e),t=>{Hn(t)})},Hn=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},ra=e=>{const t=Es(e);t.length>0&&_o(e,t),Hn(e)},id=(e,t)=>{const s=(t||document).createElement("div");return s.innerHTML=e,Es(oe.fromDom(s))},Ml=e=>Zo(e,oe.fromDom),Nd=e=>e.dom.innerHTML,hu=(e,t)=>{const s=nd(e).dom,a=oe.fromDom(s.createDocumentFragment()),c=id(t,s);Kr(a,c),Oa(e),Fs(e,a)},Dc=e=>{const t=oe.fromTag("div"),o=oe.fromDom(e.dom.cloneNode(!0));return Fs(t,o),Nd(t)},aa=(e,t,o,s,a,c,d)=>({target:e,x:t,y:o,stop:s,prevent:a,kill:c,raw:d}),Ql=e=>{const t=oe.fromDom(qa(e).getOr(e.target)),o=()=>e.stopPropagation(),s=()=>e.preventDefault(),a=Jt(s,o);return aa(t,e.clientX,e.clientY,o,s,a,e)},ld=(e,t)=>o=>{e(o)&&t(Ql(o))},Il=(e,t,o,s,a)=>{const c=ld(o,s);return e.dom.addEventListener(t,c,a),{unbind:$t(za,e,t,c,a)}},bu=(e,t,o,s)=>Il(e,t,o,s,!1),za=(e,t,o,s)=>{e.dom.removeEventListener(t,o,s)},A=(e,t)=>({left:e,top:t,translate:(s,a)=>A(e+s,t+a)}),N=A,j=e=>{const t=e.getBoundingClientRect();return N(t.left,t.top)},ue=(e,t)=>e!==void 0?e:t!==void 0?t:0,ge=e=>{const t=e.dom.ownerDocument,o=t.body,s=t.defaultView,a=t.documentElement;if(o===e.dom)return N(o.offsetLeft,o.offsetTop);const c=ue(s==null?void 0:s.pageYOffset,a.scrollTop),d=ue(s==null?void 0:s.pageXOffset,a.scrollLeft),g=ue(a.clientTop,o.clientTop),v=ue(a.clientLeft,o.clientLeft);return wt(e).translate(d-v,c-g)},wt=e=>{const t=e.dom,s=t.ownerDocument.body;return s===t?N(s.offsetLeft,s.offsetTop):wr(e)?j(t):N(0,0)},oo=e=>{const t=e!==void 0?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,s=t.body.scrollTop||t.documentElement.scrollTop;return N(o,s)},Wo=(e,t,o)=>{const a=(o!==void 0?o.dom:document).defaultView;a&&a.scrollTo(e,t)},Eo=(e,t)=>{Cn().browser.isSafari()&&Je(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},ho=e=>{const t=e===void 0?window:e;return Cn().browser.isFirefox()?H.none():H.from(t.visualViewport)},Qn=(e,t,o,s)=>({x:e,y:t,width:o,height:s,right:e+o,bottom:t+s}),Yr=e=>{const t=e===void 0?window:e,o=t.document,s=oo(oe.fromDom(o));return ho(t).fold(()=>{const a=t.document.documentElement,c=a.clientWidth,d=a.clientHeight;return Qn(s.left,s.top,c,d)},a=>Qn(Math.max(a.pageLeft,s.left),Math.max(a.pageTop,s.top),a.width,a.height))},Wa=(e,t)=>nt(Es(e),t),Rc=(e,t)=>{let o=[];return ut(Es(e),s=>{t(s)&&(o=o.concat([s])),o=o.concat(Rc(s,t))}),o},$a=(e,t)=>gu(t,e),Dr=(e,t,o)=>Sa(e,t,o).isSome();class Da{constructor(t,o){this.node=t,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,o,s,a){if(t){if(!a&&t[o])return t[o];if(t!==this.rootNode){let c=t[s];if(c)return c;for(let d=t.parentNode;d&&d!==this.rootNode;d=d.parentNode)if(c=d[s],c)return c}}}findPreviousNode(t,o){if(t){const s=t.previousSibling;if(this.rootNode&&s===this.rootNode)return;if(s){if(!o){for(let c=s.lastChild;c;c=c.lastChild)if(!c.lastChild)return c}return s}const a=t.parentNode;if(a&&a!==this.rootNode)return a}}}const Bl=e=>t=>!!t&&t.nodeType===e,Zm=e=>!!e&&!Object.getPrototypeOf(e),ro=Bl(1),_i=e=>ro(e)&&uu(oe.fromDom(e)),Ai=e=>ro(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",Jl=e=>{const t=e.toLowerCase();return o=>_e(o)&&o.nodeName.toLowerCase()===t},tl=e=>{const t=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const s=o.nodeName.toLowerCase();return Nn(t,s)}return!1}},Md=(e,t)=>{const o=t.toLowerCase().split(" ");return s=>{if(ro(s)){const a=s.ownerDocument.defaultView;if(a)for(let c=0;c<o.length;c++){const d=a.getComputedStyle(s,null);if((d?d.getPropertyValue(e):null)===o[c])return!0}}return!1}},ag=e=>t=>ro(t)&&t.hasAttribute(e),ch=(e,t)=>o=>ro(o)&&o.getAttribute(e)===t,Nc=e=>ro(e)&&e.hasAttribute("data-mce-bogus"),dh=e=>ro(e)&&e.getAttribute("data-mce-bogus")==="all",Mc=e=>ro(e)&&e.tagName==="TABLE",tm=e=>t=>!!(_i(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),Id=tl(["textarea","input"]),kt=Bl(3),qm=Bl(4),yu=Bl(7),Bd=Bl(8),Ld=Bl(9),ig=Bl(11),fr=Jl("br"),Wm=Jl("img"),ml=tm("true"),Ts=tm("false"),om=tl(["td","th"]),Sn=tl(["td","th","caption"]),ao=tl(["video","audio","object","embed"]),vu=Jl("li"),lg=Jl("details"),cg=Jl("summary"),fl="\uFEFF",hn=" ",ku=e=>e===fl,ap=e=>e.replace(/\uFEFF/g,""),$m=((e,t)=>{const o=c=>{if(!e(c))throw new Error("Can only get "+t+" value of a "+t+" node");return s(c).getOr("")},s=c=>e(c)?H.from(c.dom.nodeValue):H.none();return{get:o,getOption:s,set:(c,d)=>{if(!e(c))throw new Error("Can only set raw "+t+" value of a "+t+" node");c.dom.nodeValue=d}}})(kr,"text"),xu=e=>$m.get(e),nm=e=>$m.getOption(e),uh=(e,t)=>$m.set(e,t),cd=["td","th"],Zb=["thead","tbody","tfoot"],sm=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Os=["li","dd","dt"],dd=["ul","ol","dl"],qb=["pre","script","textarea","style"],ol=e=>{let t;return o=>(t=t||ws(e,pn),Lo(t,fn(o)))},Gm=e=>fn(e)==="table",gl=e=>xi(e)&&fn(e)==="br",Km=ol(sm),Ic=ol(dd),Pd=ol(Os),rm=ol(Zb),wu=ol(cd),am=ol(qb),no=e=>{const t=[];let o=e.dom;for(;o;)t.push(oe.fromDom(o)),o=o.lastChild;return t},ip=e=>{const t=$a(e,"br"),o=nt(no(e).slice(-1),gl);t.length===o.length&&ut(o,Hn)},Ym=()=>{const e=oe.fromTag("br");return Cs(e,"data-mce-bogus","1"),e},_u=e=>{Oa(e),Fs(e,Ym())},Wb=(e,t)=>{Or(e).each(o=>{li(o).each(s=>{t.isBlock(fn(e))&&gl(o)&&t.isBlock(fn(s))&&Hn(o)})})},x=fl,T=ku,F=ap,Y=e=>e.insertContent(x,{preserve_zwsp:!0}),ye=ro,Ge=kt,Et=e=>(Ge(e)&&(e=e.parentNode),ye(e)&&e.hasAttribute("data-mce-caret")),Wt=e=>Ge(e)&&T(e.data),bo=e=>Et(e)||Wt(e),Xo=e=>e.firstChild!==e.lastChild||!fr(e.firstChild),Xs=(e,t)=>{var o;const a=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(x),c=e.parentNode;if(t){const d=e.previousSibling;if(Ge(d)){if(bo(d))return d;if(ya(d))return d.splitText(d.data.length-1)}c==null||c.insertBefore(a,e)}else{const d=e.nextSibling;if(Ge(d)){if(bo(d))return d;if(ba(d))return d.splitText(1),d}e.nextSibling?c==null||c.insertBefore(a,e.nextSibling):c==null||c.appendChild(a)}return a},dn=e=>{const t=e.container();return kt(t)?t.data.charAt(e.offset())===x||e.isAtStart()&&Wt(t.previousSibling):!1},Gn=e=>{const t=e.container();return kt(t)?t.data.charAt(e.offset()-1)===x||e.isAtEnd()&&Wt(t.nextSibling):!1},zs=(e,t,o)=>{var s;const c=((s=t.ownerDocument)!==null&&s!==void 0?s:document).createElement(e);c.setAttribute("data-mce-caret",o?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild(Ym().dom);const d=t.parentNode;return o?d==null||d.insertBefore(c,t):t.nextSibling?d==null||d.insertBefore(c,t.nextSibling):d==null||d.appendChild(c),c},ba=e=>Ge(e)&&e.data[0]===x,ya=e=>Ge(e)&&e.data[e.data.length-1]===x,ud=e=>{var t;const o=e.getElementsByTagName("br"),s=o[o.length-1];Nc(s)&&((t=s.parentNode)===null||t===void 0||t.removeChild(s))},Qm=e=>e&&e.hasAttribute("data-mce-caret")?(ud(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Jm=e=>Et(e.startContainer),Fd=ml,Xm=Ts,md=fr,ef=kt,lp=tl(["script","style","textarea"]),cp=tl(["img","input","textarea","hr","iframe","video","audio","object","embed"]),fd=tl(["table"]),Vn=bo,ss=e=>Vn(e)?!1:ef(e)?!lp(e.parentNode):cp(e)||md(e)||fd(e)||rs(e),Ci=e=>ro(e)&&e.getAttribute("unselectable")==="true",rs=e=>!Ci(e)&&Xm(e),mh=(e,t)=>{for(let o=e.parentNode;o&&o!==t;o=o.parentNode){if(rs(o))return!1;if(Fd(o))return!0}return!0},cr=e=>rs(e)?!rn(uo(e.getElementsByTagName("*")),(t,o)=>t||Fd(o),!1):!1,Ga=e=>cp(e)||cr(e),pc=(e,t)=>ss(e)&&mh(e,t),Bc=/^[ \t\r\n]*$/,Ud=e=>Bc.test(e),Au=e=>{for(const t of e)if(!ku(t))return!1;return!0},tf=e=>" \f	\v".indexOf(e)!==-1,$b=e=>e===`
`||e==="\r",of=(e,t)=>t<e.length&&t>=0?$b(e[t]):!1,nf=(e,t=4,o=!0,s=!0)=>{const a=oa(" ",t),c=e.replace(/\t/g,a);return rn(c,(g,v)=>tf(v)||v===hn?g.pcIsSpace||g.str===""&&o||g.str.length===c.length-1&&s||of(c,g.str.length+1)?{pcIsSpace:!1,str:g.str+hn}:{pcIsSpace:!0,str:g.str+" "}:{pcIsSpace:$b(v),str:g.str+v},{pcIsSpace:!1,str:""}).str},L1=(e,t)=>{const o=oe.fromDom(t),s=oe.fromDom(e);return Dr(s,"pre,code",$t(On,o))},S_=(e,t)=>kt(e)&&Ud(e.data)&&!L1(e,t),P1=e=>ro(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),fh=(e,t)=>ss(e)&&!S_(e,t)||P1(e)||ar(e),ar=ag("data-mce-bookmark"),F1=ag("data-mce-bogus"),dk=ch("data-mce-bogus","all"),Gb=e=>mc(oe.fromDom(e)).exists(t=>!pa(t)),ji=(e,t)=>{let o=0;if(fh(e,e))return!1;{let s=e.firstChild;if(!s)return!0;const a=new Da(s,e);do{if(t){if(dk(s)){s=a.next(!0);continue}if(F1(s)){s=a.next();continue}}if(ml(s)&&Gb(s))return!1;if(fr(s)){o++,s=a.next();continue}if(fh(s,e))return!1;s=a.next()}while(s);return o<=1}},ks=(e,t=!0)=>ji(e.dom,t),nl=e=>e.toLowerCase()==="svg",gh=e=>nl(e.nodeName),Kb=e=>(e==null?void 0:e.nodeName)==="svg"?"svg":"html",uk=["svg"],Yb=()=>{let e=[];const t=()=>e[e.length-1];return{track:c=>{gh(c)&&e.push(c);let d=t();return d&&!d.contains(c)&&(e.pop(),d=t()),Kb(d)},current:()=>Kb(t()),reset:()=>{e=[]}}},Lc="data-mce-block",U1=e=>nt(vt(e),t=>!/[A-Z]/.test(t)),_r=e=>Zo(U1(e),t=>`${t}:`+Zo(uk,o=>`not(${o} ${t})`).join(":")).join(","),Pc=(e,t)=>_e(t.querySelector(e))?(t.setAttribute(Lc,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(Lc),!1),dg=(e,t)=>{const o=_r(e.getTransparentElements()),s=_r(e.getBlockElements());return nt(t.querySelectorAll(o),a=>Pc(s,a))},dp=(e,t)=>{var o;const s=t?"lastChild":"firstChild";for(let a=e[s];a;a=a[s])if(ks(oe.fromDom(a))){(o=a.parentNode)===null||o===void 0||o.removeChild(a);return}},Ka=(e,t)=>{const o=document.createRange(),s=e.parentNode;if(s){o.setStartBefore(e),o.setEndBefore(t);const a=o.extractContents();dp(a,!0),o.setStartAfter(t),o.setEndAfter(e);const c=o.extractContents();dp(c,!1),ks(oe.fromDom(a))||s.insertBefore(a,e),ks(oe.fromDom(t))||s.insertBefore(t,e),ks(oe.fromDom(c))||s.insertBefore(c,e),s.removeChild(e)}},im=(e,t,o)=>{const s=e.getBlockElements(),a=oe.fromDom(t),c=g=>fn(g)in s,d=g=>On(g,a);ut(Ml(o),g=>{Ji(g,c,d).each(v=>{const E=Wa(g,I=>c(I)&&!e.isValidChild(fn(v),fn(I)));if(E.length>0){const I=mc(v);ut(E,B=>{Ji(B,c,d).each(U=>{Ka(U.dom,B.dom)})}),I.each(B=>dg(e,B.dom))}})})},ph=(e,t,o)=>{ut([...o,...sf(e,t)?[t]:[]],s=>ut($a(oe.fromDom(s),s.nodeName.toLowerCase()),a=>{bh(e,a.dom)&&ra(a)}))},H1=(e,t)=>{const o=dg(e,t);im(e,t,o),ph(e,t,o)},V1=(e,t)=>{if(hh(e,t)){const o=_r(e.getBlockElements());Pc(o,t)}},E_=(e,t,o)=>{const s=c=>On(c,oe.fromDom(t)),a=ii(oe.fromDom(o),s);Zr(a,a.length-2).filter(xi).fold(()=>H1(e,t),c=>H1(e,c.dom))},ug=e=>e.hasAttribute(Lc),mg=(e,t)=>Lo(e.getTransparentElements(),t),hh=(e,t)=>ro(t)&&mg(e,t.nodeName),sf=(e,t)=>hh(e,t)&&ug(t),bh=(e,t)=>hh(e,t)&&!ug(t),Cu=(e,t)=>t.type===1&&mg(e,t.name)&&Qe(t.attr(Lc)),yh=Cn().browser,zn=e=>on(e,xi),pl=e=>yh.isFirefox()&&fn(e)==="table"?zn(Es(e)).filter(t=>fn(t)==="caption").bind(t=>zn(Dd(t)).map(o=>{const s=o.dom.offsetTop,a=t.dom.offsetTop,c=t.dom.offsetHeight;return s<=a?-c:0})).getOr(0):0,Hd=(e,t)=>e.children&&Nn(e.children,t),j1=(e,t,o)=>{let s=0,a=0;const c=e.ownerDocument;if(o=o||e,t){if(o===e&&t.getBoundingClientRect&&ha(oe.fromDom(e),"position")==="static"){const g=t.getBoundingClientRect();return s=g.left+(c.documentElement.scrollLeft||e.scrollLeft)-c.documentElement.clientLeft,a=g.top+(c.documentElement.scrollTop||e.scrollTop)-c.documentElement.clientTop,{x:s,y:a}}let d=t;for(;d&&d!==o&&d.nodeType&&!Hd(d,o);){const g=d;s+=g.offsetLeft||0,a+=g.offsetTop||0,d=g.offsetParent}for(d=t.parentNode;d&&d!==o&&d.nodeType&&!Hd(d,o);)s-=d.scrollLeft||0,a-=d.scrollTop||0,d=d.parentNode;a+=pl(oe.fromDom(t))}return{x:s,y:a}},$s=(e,t={})=>{let o=0;const s={},a=oe.fromDom(e),c=Pi(a),d=ke=>{t.referrerPolicy=ke},g=ke=>{t.contentCssCors=ke},v=ke=>{Fs(Ps(a),ke)},E=ke=>{const Ce=Ps(a);Ea(Ce,"#"+ke).each(Hn)},I=ke=>hs(s,ke).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),B=ke=>new Promise((Ce,we)=>{let Ne;const bt=Mt._addCacheSuffix(ke),Bt=I(bt);s[bt]=Bt,Bt.count++;const Kt=(io,Co)=>{ut(io,hi),Bt.status=Co,Bt.passed=[],Bt.failed=[],Ne&&(Ne.onload=null,Ne.onerror=null,Ne=null)},Ye=()=>Kt(Bt.passed,2),He=()=>Kt(Bt.failed,3);if(Ce&&Bt.passed.push(Ce),we&&Bt.failed.push(we),Bt.status===1)return;if(Bt.status===2){Ye();return}if(Bt.status===3){He();return}Bt.status=1;const pt=oe.fromTag("link",c.dom);Qs(pt,{rel:"stylesheet",type:"text/css",id:Bt.id}),t.contentCssCors&&Cs(pt,"crossOrigin","anonymous"),t.referrerPolicy&&Cs(pt,"referrerpolicy",t.referrerPolicy),Ne=pt.dom,Ne.onload=Ye,Ne.onerror=He,v(pt),Cs(pt,"href",bt)}),U=(ke,Ce)=>{const we=I(ke);s[ke]=we,we.count++;const Ne=oe.fromTag("style",c.dom);Qs(Ne,{rel:"stylesheet",type:"text/css",id:we.id}),Ne.dom.innerHTML=Ce,v(Ne)},X=ke=>Promise.allSettled(Zo(ke,we=>B(we).then(ht(we)))).then(we=>{const Ne=St(we,bt=>bt.status==="fulfilled");return Ne.fail.length>0?Promise.reject(Zo(Ne.fail,bt=>bt.reason)):Zo(Ne.pass,bt=>bt.value)}),ne=ke=>{const Ce=Mt._addCacheSuffix(ke);hs(s,Ce).each(we=>{--we.count===0&&(delete s[Ce],E(we.id))})};return{load:B,loadRawCss:U,loadAll:X,unload:ne,unloadRawCss:ke=>{hs(s,ke).each(Ce=>{--Ce.count===0&&(delete s[ke],E(Ce.id))})},unloadAll:ke=>{ut(ke,Ce=>{ne(Ce)})},_setReferrerPolicy:d,_setContentCssCors:g}},Z1=(()=>{const e=new WeakMap;return{forElement:(o,s)=>{const c=Oc(o).dom;return H.from(e.get(c)).getOrThunk(()=>{const d=$s(c,s);return e.set(c,d),d})}}})(),Si=e=>e.nodeName.toLowerCase()==="span",lm=(e,t,o)=>_e(e)&&(fh(e,t)||o.isInline(e.nodeName.toLowerCase())),Qb=(e,t,o)=>{const s=new Da(e,t).prev(!1),a=new Da(e,t).next(!1),c=lo(s)||lm(s,t,o),d=lo(a)||lm(a,t,o);return c&&d},Jb=e=>Si(e)&&e.getAttribute("data-mce-type")==="bookmark",q1=(e,t,o)=>kt(e)&&e.data.length>0&&Qb(e,t,o),W1=e=>ro(e)?e.childNodes.length>0:!1,mk=e=>ig(e)||Ld(e),Xb=(e,t,o,s)=>{var a;const c=s||t;if(ro(t)&&Jb(t))return t;const d=t.childNodes;for(let g=d.length-1;g>=0;g--)Xb(e,d[g],o,c);if(ro(t)){const g=t.childNodes;g.length===1&&Jb(g[0])&&((a=t.parentNode)===null||a===void 0||a.insertBefore(g[0],t))}return!mk(t)&&!fh(t,c)&&!W1(t)&&!q1(t,c,o)&&e.remove(t),t},fk=Mt.makeMap,vh=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cm=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hc=/[<>&\"\']/g,Ei=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,rf={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},af={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},gk={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},pk=e=>{const t=oe.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},ey=(e,t)=>{const o={};if(e){const s=e.split(",");t=t||10;for(let a=0;a<s.length;a+=2){const c=String.fromCharCode(parseInt(s[a],t));if(!af[c]){const d="&"+s[a+1]+";";o[c]=d,o[d]=c}}return o}else return},kh=ey("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),ty=(e,t)=>e.replace(t?vh:cm,o=>af[o]||o),ci=e=>(""+e).replace(hc,t=>af[t]||t),Lr=(e,t)=>e.replace(t?vh:cm,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":af[o]||"&#"+o.charCodeAt(0)+";"),di=(e,t,o)=>{const s=o||kh;return e.replace(t?vh:cm,a=>af[a]||s[a]||a)},gr={encodeRaw:ty,encodeAllRaw:ci,encodeNumeric:Lr,encodeNamed:di,getEncodeFunc:(e,t)=>{const o=ey(t)||kh,s=(d,g)=>d.replace(g?vh:cm,v=>af[v]!==void 0?af[v]:o[v]!==void 0?o[v]:v.length>1?"&#"+((v.charCodeAt(0)-55296)*1024+(v.charCodeAt(1)-56320)+65536)+";":"&#"+v.charCodeAt(0)+";"),a=(d,g)=>di(d,g,o),c=fk(e.replace(/\+/g,","));return c.named&&c.numeric?s:c.named?t?a:di:c.numeric?Lr:ty},decode:e=>e.replace(Ei,(t,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):rf[o]||String.fromCharCode(o)):gk[t]||kh[t]||pk(t))},ui=(e,t)=>(e=Mt.trim(e),e?e.split(t||" "):[]),xh=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),$1=e=>{const t=/^(~)?(.+)$/;return ln(ui(e,","),o=>{const s=t.exec(o);if(s){const a=s[1]==="~",c=a?"span":"div",d=s[2];return[{inline:a,cloneName:c,name:d}]}else return[]})},up=e=>{let t,o,s;if(t="id accesskey class dir lang style tabindex title role",o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",s="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const c="a ins del canvas map";t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",o+=" article aside details dialog figure main header footer hgroup section nav "+c,s+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen svg"}e!=="html5-strict"&&(t+=" xml:lang",s=[s,"acronym applet basefont big font strike tt"].join(" "),o=[o,"center dir isindex noframes"].join(" "));const a=[o,s].join(" ");return{globalAttributes:t,blockContent:o,phrasingContent:s,flowContent:a}},G1=e=>{const{globalAttributes:t,phrasingContent:o,flowContent:s}=up(e),a={},c=(v,E,I)=>{a[v]={attributes:ws(E,ht({})),attributesOrder:E,children:ws(I,ht({}))}},d=(v,E="",I="")=>{const B=ui(I),U=ui(v);let X=U.length;const ne=ui([t,E].join(" "));for(;X--;)c(U[X],ne.slice(),B)},g=(v,E)=>{const I=ui(v),B=ui(E);let U=I.length;for(;U--;){const X=a[I[U]];for(let ne=0,Q=B.length;ne<Q;ne++)X.attributes[B[ne]]={},X.attributesOrder.push(B[ne])}};return e!=="html5-strict"&&(ut(ui("acronym applet basefont big font strike tt"),I=>{d(I,"",o)}),ut(ui("center dir isindex noframes"),I=>{d(I,"",s)})),d("html","manifest","head body"),d("head","","base command link meta noscript script style title"),d("title hr noscript br"),d("base","href target"),d("link","href rel media hreflang type sizes hreflang"),d("meta","name http-equiv content charset"),d("style","media type scoped"),d("script","src async defer type charset"),d("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",s),d("dd div","",s),d("address dt caption","",e==="html4"?o:s),d("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),d("blockquote","cite",s),d("ol","reversed start type","li"),d("ul","","li"),d("li","value",s),d("dl","","dt dd"),d("a","href target rel media hreflang type",e==="html4"?o:s),d("q","cite",o),d("ins del","cite datetime",s),d("img","src sizes srcset alt usemap ismap width height"),d("iframe","src name width height",s),d("embed","src type width height"),d("object","data type typemustmatch name usemap form width height",[s,"param"].join(" ")),d("param","name value"),d("map","name",[s,"area"].join(" ")),d("area","alt coords shape href target rel media hreflang type"),d("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),d("colgroup","span","col"),d("col","span"),d("tbody thead tfoot","","tr"),d("tr","","td th"),d("td","colspan rowspan headers",s),d("th","colspan rowspan headers scope abbr",s),d("form","accept-charset action autocomplete enctype method name novalidate target",s),d("fieldset","disabled form name",[s,"legend"].join(" ")),d("label","form for",o),d("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),d("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?s:o),d("select","disabled form multiple name required size","option optgroup"),d("optgroup","disabled label","option"),d("option","disabled label selected value"),d("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),d("menu","type label",[s,"li"].join(" ")),d("noscript","",s),e!=="html4"&&(d("wbr"),d("ruby","",[o,"rt rp"].join(" ")),d("figcaption","",s),d("mark rt rp bdi","",o),d("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),d("canvas","width height",s),d("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[s,"track source"].join(" ")),d("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[s,"track source"].join(" ")),d("picture","","img source"),d("source","src srcset type media sizes"),d("track","kind src srclang label default"),d("datalist","",[o,"option"].join(" ")),d("article section nav aside main header footer","",s),d("hgroup","","h1 h2 h3 h4 h5 h6"),d("figure","",[s,"figcaption"].join(" ")),d("time","datetime",o),d("dialog","open",s),d("command","type label icon disabled checked radiogroup command"),d("output","for form name",o),d("progress","value max",o),d("meter","value min max low high optimum",o),d("details","open",[s,"summary"].join(" ")),d("keygen","autofocus challenge disabled form keytype name"),c("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(g("script","language xml:space"),g("style","xml:space"),g("object","declare classid code codebase codetype archive standby align border hspace vspace"),g("embed","align name hspace vspace"),g("param","valuetype type"),g("a","charset name rev shape coords"),g("br","clear"),g("applet","codebase archive code object alt name width height align hspace vspace"),g("img","name longdesc align border hspace vspace"),g("iframe","longdesc frameborder marginwidth marginheight scrolling align"),g("font basefont","size color face"),g("input","usemap align"),g("select"),g("textarea"),g("h1 h2 h3 h4 h5 h6 div p legend caption","align"),g("ul","type compact"),g("li","type"),g("ol dl menu dir","compact"),g("pre","width xml:space"),g("hr","align noshade size width"),g("isindex","prompt"),g("table","summary width frame rules cellspacing cellpadding align bgcolor"),g("col","width align char charoff valign"),g("colgroup","width align char charoff valign"),g("thead","align char charoff valign"),g("tr","align char charoff valign bgcolor"),g("th","axis align char charoff valign nowrap bgcolor width height"),g("form","accept"),g("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),g("tfoot","align char charoff valign"),g("tbody","align char charoff valign"),g("area","nohref"),g("body","background bgcolor text link vlink alink")),e!=="html4"&&(g("input button select textarea","autofocus"),g("input textarea","placeholder"),g("a","download"),g("link script img","crossorigin"),g("img","loading"),g("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&ut([a.video,a.audio],v=>{delete v.children.audio,delete v.children.video}),ut(ui("a form meter progress dfn"),v=>{a[v]&&delete a[v].children[v]}),delete a.caption.children.table,delete a.script,a},lf=e=>e==="-"?"remove":"add",oy=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return ln(ui(e,","),o=>{const s=t.exec(o);if(s){const a=s[1],c=a?lf(a):"replace",d=s[2],g=ui(s[3],"|");return[{operation:c,name:d,validChildren:g}]}else return[]})},wh=(e,t)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,s=/[*?+]/,{attributes:a,attributesOrder:c}=t;return ut(ui(e,"|"),d=>{const g=o.exec(d);if(g){const v={},E=g[1],I=g[2].replace(/[\\:]:/g,":"),B=g[3],U=g[4];if(E==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(I),v.required=!0),E==="-"){delete a[I],c.splice(Mt.inArray(c,I),1);return}if(B&&(B==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:I,value:U}),v.defaultValue=U):B==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:I,value:U}),v.forcedValue=U):B==="<"&&(v.validValues=Mt.makeMap(U,"?"))),s.test(I)){const X=v;t.attributePatterns=t.attributePatterns||[],X.pattern=xh(I),t.attributePatterns.push(X)}else a[I]||c.push(I),a[I]=v}})},O_=(e,t)=>{An(e.attributes,(o,s)=>{t.attributes[s]=o}),t.attributesOrder.push(...e.attributesOrder)},z_=(e,t)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return ln(ui(t,","),s=>{const a=o.exec(s);if(a){const c=a[1],d=a[2],g=a[3],v=a[4],E=a[5],I={attributes:{},attributesOrder:[]};if(e.each(B=>O_(B,I)),c==="#"?I.paddEmpty=!0:c==="-"&&(I.removeEmpty=!0),v==="!"&&(I.removeEmptyAttrs=!0),E&&wh(E,I),g&&(I.outputName=d),d==="@")if(e.isNone())e=H.some(I);else return[];return[g?{name:d,element:I,aliasName:g}:{name:d,element:I}]}else return[]})},mp={},fp=Mt.makeMap,Fc=Mt.each,Rt=Mt.extend,K1=Mt.explode,Ra=(e,t={})=>{const o=fp(e," ",fp(e.toUpperCase()," "));return Rt(o,t)},_h=e=>Ra("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),cf=(e,t)=>{if(e){const o={};return Qe(e)&&(e={"*":e}),Fc(e,(s,a)=>{o[a]=o[a.toUpperCase()]=t==="map"?fp(s,/[, ]/):K1(s,/[, ]/)}),o}else return},Su=(e={})=>{var t;const o={},s={};let a=[];const c={},d={},g=(nn,es,Ks)=>{const ca=e[nn];if(ca)return fp(ca,/[, ]/,fp(ca.toUpperCase(),/[, ]/));{let Ir=mp[nn];return Ir||(Ir=Ra(es,Ks),mp[nn]=Ir),Ir}},v=(t=e.schema)!==null&&t!==void 0?t:"html5",E=G1(v);e.verify_html===!1&&(e.valid_elements="*[*]");const I=cf(e.valid_styles),B=cf(e.invalid_styles,"map"),U=cf(e.valid_classes,"map"),X=g("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ne=g("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),Q=g("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),se=g("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),ke="td th iframe video audio object script code",Ce=g("non_empty_elements",ke+" pre svg",Q),we=g("move_caret_before_on_enter_elements",ke+" table",Q),Ne="h1 h2 h3 h4 h5 h6",bt=g("text_block_elements",Ne+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Bt=g("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",bt),Kt=g("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Ye=g("transparent_elements","a ins del canvas map"),He=g("wrap_block_elements","pre "+Ne);Fc("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),nn=>{d[nn]=new RegExp("</"+nn+"[^>]*>","gi")});const pt=nn=>{const es=H.from(o["@"]),Ks=/[*?+]/;ut(z_(es,nn??""),({name:ca,element:Ir,aliasName:_d})=>{if(_d&&(o[_d]=Ir),Ks.test(ca)){const Kg=Ir;Kg.pattern=xh(ca),a.push(Kg)}else o[ca]=Ir})},io=nn=>{a=[],ut(vt(o),es=>{delete o[es]}),pt(nn)},Co=nn=>{delete mp.text_block_elements,delete mp.block_elements,ut($1(nn??""),({inline:es,name:Ks,cloneName:ca})=>{if(s[Ks]=s[ca],c[Ks]=ca,Ce[Ks.toUpperCase()]={},Ce[Ks]={},es||(Bt[Ks.toUpperCase()]={},Bt[Ks]={}),!o[Ks]){let Ir=o[ca];Ir=Rt({},Ir),delete Ir.removeEmptyAttrs,delete Ir.removeEmpty,o[Ks]=Ir}An(s,(Ir,_d)=>{Ir[ca]&&(s[_d]=Ir=Rt({},s[_d]),Ir[Ks]=Ir[ca])})})},vn=nn=>{ut(oy(nn??""),({operation:es,name:Ks,validChildren:ca})=>{const Ir=es==="replace"?{"#comment":{}}:s[Ks];ut(ca,_d=>{es==="remove"?delete Ir[_d]:Ir[_d]={}}),s[Ks]=Ir})},En=nn=>{const es=o[nn];if(es)return es;let Ks=a.length;for(;Ks--;){const ca=a[Ks];if(ca.pattern.test(nn))return ca}};e.valid_elements?(io(e.valid_elements),Fc(E,(nn,es)=>{s[es]=nn.children})):(Fc(E,(nn,es)=>{o[es]={attributes:nn.attributes,attributesOrder:nn.attributesOrder},s[es]=nn.children}),Fc(ui("strong/b em/i"),nn=>{const es=ui(nn,"/");o[es[1]].outputName=es[0]}),Fc(Kt,(nn,es)=>{o[es]&&(e.padd_empty_block_inline_children&&(o[es].paddInEmptyBlock=!0),o[es].removeEmpty=!0)}),Fc(ui("ol ul blockquote a table tbody"),nn=>{o[nn]&&(o[nn].removeEmpty=!0)}),Fc(ui("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),nn=>{o[nn]&&(o[nn].paddEmpty=!0)}),Fc(ui("span"),nn=>{o[nn].removeEmptyAttrs=!0})),delete o.svg,Co(e.custom_elements),vn(e.valid_children),pt(e.extended_valid_elements),vn("+ol[ul|ol],+ul[ul|ol]"),Fc({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(nn,es)=>{o[es]&&(o[es].parentsRequired=ui(nn))}),e.invalid_elements&&Fc(K1(e.invalid_elements),nn=>{o[nn]&&delete o[nn]}),En("span")||pt("span[!data-mce-type|*]");const Ds=ht(I),Gs=ht(B),Jr=ht(U),wl=ht(se),Rs=ht(Bt),jt=ht(bt),fo=ht(Kt),Xn=ht(Object.seal(Q)),Dn=ht(ne),co=ht(Ce),en=ht(we),Ft=ht(X),tn=ht(Ye),Fn=ht(He),qs=ht(Object.seal(d)),Bs=(nn,es)=>{const Ks=s[nn.toLowerCase()];return!!(Ks&&Ks[es.toLowerCase()])},$i=(nn,es)=>{const Ks=En(nn);if(Ks)if(es){if(Ks.attributes[es])return!0;const ca=Ks.attributePatterns;if(ca){let Ir=ca.length;for(;Ir--;)if(ca[Ir].pattern.test(es))return!0}}else return!0;return!1},Yf=nn=>Lo(Rs(),nn),oh=nn=>!ds(nn,"#")&&$i(nn)&&!Yf(nn),Xc=nn=>Lo(Fn(),nn)||oh(nn),Mm=ht(c);return{type:v,children:s,elements:o,getValidStyles:Ds,getValidClasses:Jr,getBlockElements:Rs,getInvalidStyles:Gs,getVoidElements:Xn,getTextBlockElements:jt,getTextInlineElements:fo,getBoolAttrs:wl,getElementRule:En,getSelfClosingElements:Dn,getNonEmptyElements:co,getMoveCaretBeforeOnEnterElements:en,getWhitespaceElements:Ft,getTransparentElements:tn,getSpecialElements:qs,isValidChild:Bs,isValid:$i,isBlock:Yf,isInline:oh,isWrapper:Xc,getCustomElements:Mm,addValidElements:pt,setValidElements:io,addCustomElements:Co,addValidChildren:vn}},Ll=e=>({value:D_(e)}),D_=e=>$u(e,"#").toUpperCase(),Xl=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},Y1=e=>{const t=Xl(e.red)+Xl(e.green)+Xl(e.blue);return Ll(t)},Ah=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Uc=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Hc=(e,t,o,s)=>({red:e,green:t,blue:o,alpha:s}),gp=(e,t,o,s)=>{const a=parseInt(e,10),c=parseInt(t,10),d=parseInt(o,10),g=parseFloat(s);return Hc(a,c,d,g)},ec=e=>{if(e==="transparent")return H.some(Hc(0,0,0,0));const t=Ah.exec(e);if(t!==null)return H.some(gp(t[1],t[2],t[3],"1"));const o=Uc.exec(e);return o!==null?H.some(gp(o[1],o[2],o[3],o[4])):H.none()},Q1=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,dm=e=>ec(e).map(Y1).map(t=>"#"+t.value).getOr(e),Ch=(e={},t)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,a=/\s+$/,c={};let d,g;const v=fl;t&&(d=t.getValidStyles(),g=t.getInvalidStyles());const E=(`\\" \\' \\; \\: ; : `+v).split(" ");for(let B=0;B<E.length;B++)c[E[B]]=v+B,c[v+B]=E[B];const I={parse:B=>{const U={};let X=!1;const ne=e.url_converter,Q=e.url_converter_scope||I,se=(Ye,He,pt)=>{const io=U[Ye+"-top"+He];if(!io)return;const Co=U[Ye+"-right"+He];if(!Co)return;const vn=U[Ye+"-bottom"+He];if(!vn)return;const En=U[Ye+"-left"+He];if(!En)return;const Ds=[io,Co,vn,En];let Gs=Ds.length-1;for(;Gs--&&Ds[Gs]===Ds[Gs+1];);Gs>-1&&pt||(U[Ye+He]=Gs===-1?Ds[0]:Ds.join(" "),delete U[Ye+"-top"+He],delete U[Ye+"-right"+He],delete U[Ye+"-bottom"+He],delete U[Ye+"-left"+He])},ke=Ye=>{const He=U[Ye];if(!He)return;const pt=He.indexOf(",")>-1?[He]:He.split(" ");let io=pt.length;for(;io--;)if(pt[io]!==pt[0])return!1;return U[Ye]=pt[0],!0},Ce=(Ye,He,pt,io)=>{ke(He)&&ke(pt)&&ke(io)&&(U[Ye]=U[He]+" "+U[pt]+" "+U[io],delete U[He],delete U[pt],delete U[io])},we=Ye=>(X=!0,c[Ye]),Ne=(Ye,He)=>(X&&(Ye=Ye.replace(/\uFEFF[0-9]/g,pt=>c[pt])),He||(Ye=Ye.replace(/\\([\'\";:])/g,"$1")),Ye),bt=Ye=>String.fromCharCode(parseInt(Ye.slice(1),16)),Bt=Ye=>Ye.replace(/\\[0-9a-f]+/gi,bt),Kt=(Ye,He,pt,io,Co,vn)=>{if(Co=Co||vn,Co)return Co=Ne(Co),"'"+Co.replace(/\'/g,"\\'")+"'";if(He=Ne(He||pt||io||""),!e.allow_script_urls){const En=He.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(En)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(En))return""}return ne&&(He=ne.call(Q,He,"style")),"url('"+He.replace(/\'/g,"\\'")+"')"};if(B){B=B.replace(/[\u0000-\u001F]/g,""),B=B.replace(/\\[\"\';:\uFEFF]/g,we).replace(/\"[^\"]+\"|\'[^\']+\'/g,He=>He.replace(/[;:]/g,we));let Ye;for(;Ye=s.exec(B);){s.lastIndex=Ye.index+Ye[0].length;let He=Ye[1].replace(a,"").toLowerCase(),pt=Ye[2].replace(a,"");if(He&&pt){if(He=Bt(He),pt=Bt(pt),He.indexOf(v)!==-1||He.indexOf('"')!==-1||!e.allow_script_urls&&(He==="behavior"||/expression\s*\(|\/\*|\*\//.test(pt)))continue;He==="font-weight"&&pt==="700"?pt="bold":(He==="color"||He==="background-color")&&(pt=pt.toLowerCase()),Qe(e.force_hex_color)&&e.force_hex_color!=="off"&&ec(pt).each(io=>{(e.force_hex_color==="always"||io.alpha===1)&&(pt=dm(Q1(io)))}),pt=pt.replace(o,Kt),U[He]=X?Ne(pt,!0):pt}}se("border","",!0),se("border","-width"),se("border","-color"),se("border","-style"),se("padding",""),se("margin",""),Ce("border","border-width","border-style","border-color"),U.border==="medium none"&&delete U.border,U["border-image"]==="none"&&delete U["border-image"]}return U},serialize:(B,U)=>{let X="";const ne=(se,ke)=>{const Ce=ke[se];if(Ce)for(let we=0,Ne=Ce.length;we<Ne;we++){const bt=Ce[we],Bt=B[bt];Bt&&(X+=(X.length>0?" ":"")+bt+": "+Bt+";")}},Q=(se,ke)=>{if(!g||!ke)return!0;let Ce=g["*"];return Ce&&Ce[se]?!1:(Ce=g[ke],!(Ce&&Ce[se]))};return U&&d?(ne("*",d),ne(U,d)):An(B,(se,ke)=>{se&&Q(ke,U)&&(X+=(X.length>0?" ":"")+ke+": "+se+";")}),X}};return I},J1={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},ny=e=>e instanceof Event||Je(e.initEvent),R_=e=>e.isDefaultPrevented===pn||e.isDefaultPrevented===Mo,X1=e=>Vt(e.preventDefault)||ny(e),ev=(e,t)=>{const o=t??{};for(const s in e)Lo(J1,s)||(o[s]=e[s]);return _e(e.composedPath)&&(o.composedPath=()=>e.composedPath()),_e(e.getModifierState)&&(o.getModifierState=s=>e.getModifierState(s)),_e(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},tv=(e,t,o,s)=>{var a;const c=ev(t,s);return c.type=e,Vt(c.target)&&(c.target=(a=c.srcElement)!==null&&a!==void 0?a:o),X1(t)&&(c.preventDefault=()=>{c.defaultPrevented=!0,c.isDefaultPrevented=pn,Je(t.preventDefault)&&t.preventDefault()},c.stopPropagation=()=>{c.cancelBubble=!0,c.isPropagationStopped=pn,Je(t.stopPropagation)&&t.stopPropagation()},c.stopImmediatePropagation=()=>{c.isImmediatePropagationStopped=pn,c.stopPropagation()},R_(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?pn:Mo,c.isPropagationStopped=c.cancelBubble===!0?pn:Mo,c.isImmediatePropagationStopped=Mo)),c},Sh="mce-data-",hk=/^(?:mouse|contextmenu)|click/,df=(e,t,o,s)=>{e.addEventListener(t,o,s||!1)},Ti=(e,t,o,s)=>{e.removeEventListener(t,o,s||!1)},uf=e=>_e(e)&&hk.test(e.type),Eu=(e,t)=>{const o=tv(e.type,e,document,t);if(uf(e)&&lo(e.pageX)&&!lo(e.clientX)){const s=o.target.ownerDocument||document,a=s.documentElement,c=s.body,d=o;d.pageX=e.clientX+(a&&a.scrollLeft||c&&c.scrollLeft||0)-(a&&a.clientLeft||c&&c.clientLeft||0),d.pageY=e.clientY+(a&&a.scrollTop||c&&c.scrollTop||0)-(a&&a.clientTop||c&&c.clientTop||0)}return o},er=(e,t,o)=>{const s=e.document,a={type:"ready"};if(o.domLoaded){t(a);return}const c=()=>s.readyState==="complete"||s.readyState==="interactive"&&s.body,d=()=>{Ti(e,"DOMContentLoaded",d),Ti(e,"load",d),o.domLoaded||(o.domLoaded=!0,t(a)),e=null};c()?d():df(e,"DOMContentLoaded",d),o.domLoaded||df(e,"load",d)};class mf{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Sh+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,o,s,a){const c=this;let d;const g=window,v=U=>{c.executeHandlers(Eu(U||g.event),E)};if(!t||kt(t)||Bd(t))return s;let E;t[c.expando]?E=t[c.expando]:(E=c.count++,t[c.expando]=E,c.events[E]={}),a=a||t;const I=o.split(" ");let B=I.length;for(;B--;){let U=I[B],X=v,ne=!1,Q=!1;if(U==="DOMContentLoaded"&&(U="ready"),c.domLoaded&&U==="ready"&&t.readyState==="complete"){s.call(a,Eu({type:U}));continue}!c.hasFocusIn&&(U==="focusin"||U==="focusout")&&(ne=!0,Q=U==="focusin"?"focus":"blur",X=se=>{const ke=Eu(se||g.event);ke.type=ke.type==="focus"?"focusin":"focusout",c.executeHandlers(ke,E)}),d=c.events[E][U],d?U==="ready"&&c.domLoaded?s(Eu({type:U})):d.push({func:s,scope:a}):(c.events[E][U]=d=[{func:s,scope:a}],d.fakeName=Q,d.capture=ne,d.nativeHandler=X,U==="ready"?er(t,X,c):df(t,Q||U,X,ne))}return t=d=null,s}unbind(t,o,s){if(!t||kt(t)||Bd(t))return this;const a=t[this.expando];if(a){let c=this.events[a];if(o){const d=o.split(" ");let g=d.length;for(;g--;){const v=d[g],E=c[v];if(E){if(s){let I=E.length;for(;I--;)if(E[I].func===s){const B=E.nativeHandler,U=E.fakeName,X=E.capture,ne=E.slice(0,I).concat(E.slice(I+1));ne.nativeHandler=B,ne.fakeName=U,ne.capture=X,c[v]=ne}}(!s||E.length===0)&&(delete c[v],Ti(t,E.fakeName||v,E.nativeHandler,E.capture))}}}else An(c,(d,g)=>{Ti(t,d.fakeName||g,d.nativeHandler,d.capture)}),c={};for(const d in c)if(Lo(c,d))return this;delete this.events[a];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,o,s){return this.dispatch(t,o,s)}dispatch(t,o,s){if(!t||kt(t)||Bd(t))return this;const a=Eu({type:o,target:t},s);do{const c=t[this.expando];c&&this.executeHandlers(a,c),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!a.isPropagationStopped());return this}clean(t){if(!t||kt(t)||Bd(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const o=t.getElementsByTagName("*");let s=o.length;for(;s--;)t=o[s],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,o){const s=this.events[o],a=s&&s[t.type];if(a)for(let c=0,d=a.length;c<d;c++){const g=a[c];if(g&&g.func.call(g.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}mf.Event=new mf;const Oi=Mt.each,Eh=Mt.grep,sy="data-mce-style",pp=Mt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),um=(e,t,o)=>{Vt(o)||o===""?ur(e,t):Cs(e,t,o)},ov=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),mm=(e,t)=>{let o=0;if(e)for(let s=e.nodeType,a=e.previousSibling;a;a=a.previousSibling){const c=a.nodeType;t&&kt(a)&&(c===s||!a.data.length)||(o++,s=c)}return o},fg=(e,t)=>{const o=wi(t,"style"),s=e.serialize(e.parse(o),fn(t));um(t,sy,s)},gg=(e,t)=>O(e)?Lo(pp,t)?e+"":e+"px":e,ry=(e,t,o)=>{const s=ov(t);Vt(o)||o===""?ad(e,s):jm(e,s,gg(o,s))},ay=(e,t,o)=>{const s=t.keep_values,a={set:(d,g,v)=>{const E=oe.fromDom(d);Je(t.url_converter)&&_e(g)&&(g=t.url_converter.call(t.url_converter_scope||o(),String(g),v,d));const I="data-mce-"+v;um(E,I,g),um(E,v,g)},get:(d,g)=>{const v=oe.fromDom(d);return wi(v,"data-mce-"+g)||wi(v,g)}},c={style:{set:(d,g)=>{const v=oe.fromDom(d);s&&um(v,sy,g),ur(v,"style"),Qe(g)&&el(v,e.parse(g))},get:d=>{const g=oe.fromDom(d),v=wi(g,sy)||wi(g,"style");return e.serialize(e.parse(v),fn(g))}}};return s&&(c.href=c.src=a),c},Hs=(e,t={})=>{const o={},s=window,a={};let c=0;const d=!0,g=!0,v=Z1.forElement(oe.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),E=[],I=t.schema?t.schema:Su({}),B=Ch({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,force_hex_color:t.force_hex_color},t.schema),U=t.ownEvents?new mf:mf.Event,X=I.getBlockElements(),ne=Be=>Qe(Be)?Lo(X,Be):ro(Be)&&(Lo(X,Be.nodeName)||sf(I,Be)),Q=Be=>Be&&e&&Qe(Be)?e.getElementById(Be):Be,se=Be=>{const Fe=Q(Be);return _e(Fe)?oe.fromDom(Fe):null},ke=(Be,Fe,Ut="")=>{let Nt;const wo=se(Be);if(_e(wo)&&xi(wo)){const Rn=TE[Fe];Rn&&Rn.get?Nt=Rn.get(wo.dom,Fe):Nt=wi(wo,Fe)}return _e(Nt)?Nt:Ut},Ce=Be=>{const Fe=Q(Be);return Vt(Fe)?[]:Fe.attributes},we=(Be,Fe,Ut)=>{fo(Be,Nt=>{if(ro(Nt)){const wo=oe.fromDom(Nt),Rn=Ut===""?null:Ut,Hr=wi(wo,Fe),tu=TE[Fe];tu&&tu.set?tu.set(wo.dom,Rn,Fe):um(wo,Fe,Rn),Hr!==Rn&&t.onSetAttrib&&t.onSetAttrib({attrElm:wo.dom,attrName:Fe,attrValue:Rn})}})},Ne=(Be,Fe)=>Be.cloneNode(Fe),bt=()=>t.root_element||e.body,Bt=Be=>{const Fe=Yr(Be);return{x:Fe.x,y:Fe.y,w:Fe.width,h:Fe.height}},Kt=(Be,Fe)=>j1(e.body,Q(Be),Fe),Ye=(Be,Fe,Ut)=>{fo(Be,Nt=>{const wo=oe.fromDom(Nt);ry(wo,Fe,Ut),t.update_styles&&fg(B,wo)})},He=(Be,Fe)=>{fo(Be,Ut=>{const Nt=oe.fromDom(Ut);An(Fe,(wo,Rn)=>{ry(Nt,Rn,wo)}),t.update_styles&&fg(B,Nt)})},pt=(Be,Fe,Ut)=>{const Nt=Q(Be);if(!(Vt(Nt)||!_i(Nt)&&!Ai(Nt)))return Ut?ha(oe.fromDom(Nt),ov(Fe)):(Fe=Fe.replace(/-(\D)/g,(wo,Rn)=>Rn.toUpperCase()),Fe==="float"&&(Fe="cssFloat"),Nt.style?Nt.style[Fe]:void 0)},io=Be=>{const Fe=Q(Be);if(!Fe)return{w:0,h:0};let Ut=pt(Fe,"width"),Nt=pt(Fe,"height");return(!Ut||Ut.indexOf("px")===-1)&&(Ut="0"),(!Nt||Nt.indexOf("px")===-1)&&(Nt="0"),{w:parseInt(Ut,10)||Fe.offsetWidth||Fe.clientWidth,h:parseInt(Nt,10)||Fe.offsetHeight||Fe.clientHeight}},Co=Be=>{const Fe=Q(Be),Ut=Kt(Fe),Nt=io(Fe);return{x:Ut.x,y:Ut.y,w:Nt.w,h:Nt.h}},vn=(Be,Fe)=>{if(!Be)return!1;const Ut=he(Be)?Be:[Be];return ts(Ut,Nt=>ja(oe.fromDom(Nt),Fe))},En=(Be,Fe,Ut,Nt)=>{const wo=[];let Rn=Q(Be);Nt=Nt===void 0;const Hr=Ut||(bt().nodeName!=="BODY"?bt().parentNode:null);if(Qe(Fe))if(Fe==="*")Fe=ro;else{const tu=Fe;Fe=ql=>vn(ql,tu)}for(;Rn&&!(Rn===Hr||Vt(Rn.nodeType)||Ld(Rn)||ig(Rn));){if(!Fe||Fe(Rn))if(Nt)wo.push(Rn);else return[Rn];Rn=Rn.parentNode}return Nt?wo:null},Ds=(Be,Fe,Ut)=>{const Nt=En(Be,Fe,Ut,!1);return Nt&&Nt.length>0?Nt[0]:null},Gs=(Be,Fe,Ut)=>{let Nt=Fe;if(Be){Qe(Fe)&&(Nt=wo=>vn(wo,Fe));for(let wo=Be[Ut];wo;wo=wo[Ut])if(Je(Nt)&&Nt(wo))return wo}return null},Jr=(Be,Fe)=>Gs(Be,Fe,"nextSibling"),wl=(Be,Fe)=>Gs(Be,Fe,"previousSibling"),Rs=Be=>Je(Be.querySelectorAll),jt=(Be,Fe)=>{var Ut,Nt;const wo=(Nt=(Ut=Q(Fe))!==null&&Ut!==void 0?Ut:t.root_element)!==null&&Nt!==void 0?Nt:e;return Rs(wo)?uo(wo.querySelectorAll(Be)):[]},fo=function(Be,Fe,Ut){const Nt=Ut??this;if(he(Be)){const wo=[];return Oi(Be,(Rn,Hr)=>{const tu=Q(Rn);tu&&wo.push(Fe.call(Nt,tu,Hr))}),wo}else{const wo=Q(Be);return wo?Fe.call(Nt,wo):!1}},Xn=(Be,Fe)=>{fo(Be,Ut=>{An(Fe,(Nt,wo)=>{we(Ut,wo,Nt)})})},Dn=(Be,Fe)=>{fo(Be,Ut=>{const Nt=oe.fromDom(Ut);hu(Nt,Fe)})},co=(Be,Fe,Ut,Nt,wo)=>fo(Be,Rn=>{const Hr=Qe(Fe)?e.createElement(Fe):Fe;return _e(Ut)&&Xn(Hr,Ut),Nt&&(!Qe(Nt)&&Nt.nodeType?Hr.appendChild(Nt):Qe(Nt)&&Dn(Hr,Nt)),wo?Hr:Rn.appendChild(Hr)}),en=(Be,Fe,Ut)=>co(e.createElement(Be),Be,Fe,Ut,!0),Ft=gr.decode,tn=gr.encodeAllRaw,Fn=(Be,Fe,Ut="")=>{let Nt="<"+Be;for(const wo in Fe)ni(Fe,wo)&&(Nt+=" "+wo+'="'+tn(Fe[wo])+'"');return nr(Ut)&&Lo(I.getVoidElements(),Be)?Nt+" />":Nt+">"+Ut+"</"+Be+">"},qs=Be=>{const Fe=e.createElement("div"),Ut=e.createDocumentFragment();Ut.appendChild(Fe),Be&&(Fe.innerHTML=Be);let Nt;for(;Nt=Fe.firstChild;)Ut.appendChild(Nt);return Ut.removeChild(Fe),Ut},Bs=(Be,Fe)=>fo(Be,Ut=>{const Nt=oe.fromDom(Ut);return Fe&&ut(Es(Nt),wo=>{kr(wo)&&wo.dom.length===0?Hn(wo):zr(Nt,wo)}),Hn(Nt),Nt.dom}),$i=Be=>fo(Be,Fe=>{const Ut=Fe.attributes;for(let Nt=Ut.length-1;Nt>=0;Nt--)Fe.removeAttributeNode(Ut.item(Nt))}),Yf=Be=>B.parse(Be),oh=(Be,Fe)=>B.serialize(Be,Fe),Xc=Be=>{if(Fb!==Hs.DOM&&e===document){if(o[Be])return;o[Be]=!0}let Fe=e.getElementById("mceDefaultStyles");if(!Fe){Fe=e.createElement("style"),Fe.id="mceDefaultStyles",Fe.type="text/css";const Ut=e.head;Ut.firstChild?Ut.insertBefore(Fe,Ut.firstChild):Ut.appendChild(Fe)}Fe.styleSheet?Fe.styleSheet.cssText+=Be:Fe.appendChild(e.createTextNode(Be))},Mm=Be=>{Be||(Be=""),ut(Be.split(","),Fe=>{a[Fe]=!0,v.load(Fe).catch(dt)})},nn=(Be,Fe,Ut)=>{fo(Be,Nt=>{if(ro(Nt)){const wo=oe.fromDom(Nt),Rn=Fe.split(" ");ut(Rn,Hr=>{_e(Ut)?(Ut?Br:Kl)(wo,Hr):Fm(wo,Hr)})}})},es=(Be,Fe)=>{nn(Be,Fe,!0)},Ks=(Be,Fe)=>{nn(Be,Fe,!1)},ca=(Be,Fe)=>{const Ut=se(Be),Nt=Fe.split(" ");return _e(Ut)&&jr(Nt,wo=>Yl(Ut,wo))},Ir=Be=>{fo(Be,Fe=>ad(oe.fromDom(Fe),"display"))},_d=Be=>{fo(Be,Fe=>jm(oe.fromDom(Fe),"display","none"))},Kg=Be=>{const Fe=se(Be);return _e(Fe)&&iu(Te(Fe,"display"),"none")},M1=Be=>(Be||"mce_")+c++,yN=Be=>{const Fe=se(Be);return _e(Fe)?ro(Fe.dom)?Fe.dom.outerHTML:Dc(Fe):""},vN=(Be,Fe)=>{fo(Be,Ut=>{ro(Ut)&&(Ut.outerHTML=Fe)})},kN=(Be,Fe)=>{const Ut=Q(Fe);return fo(Be,Nt=>{const wo=Ut==null?void 0:Ut.parentNode,Rn=Ut==null?void 0:Ut.nextSibling;return wo&&(Rn?wo.insertBefore(Nt,Rn):wo.appendChild(Nt)),Nt})},y_=(Be,Fe,Ut)=>fo(Fe,Nt=>{var wo;const Rn=he(Fe)?Be.cloneNode(!0):Be;return Ut&&Oi(Eh(Nt.childNodes),Hr=>{Rn.appendChild(Hr)}),(wo=Nt.parentNode)===null||wo===void 0||wo.replaceChild(Rn,Nt),Nt}),xN=(Be,Fe)=>{if(Be.nodeName!==Fe.toUpperCase()){const Ut=en(Fe);return Oi(Ce(Be),Nt=>{we(Ut,Nt.nodeName,ke(Be,Nt.nodeName))}),y_(Ut,Be,!0),Ut}else return Be},v_=(Be,Fe)=>{let Ut=Be;for(;Ut;){let Nt=Fe;for(;Nt&&Ut!==Nt;)Nt=Nt.parentNode;if(Ut===Nt)break;Ut=Ut.parentNode}return!Ut&&Be.ownerDocument?Be.ownerDocument.documentElement:Ut},nk=Be=>{if(ro(Be)){const Fe=Be.nodeName.toLowerCase()==="a"&&!ke(Be,"href")&&ke(Be,"id");if(ke(Be,"name")||ke(Be,"data-mce-bookmark")||Fe)return!0}return!1},Yg=(Be,Fe,Ut)=>{let Nt=0;if(nk(Be))return!1;const wo=Be.firstChild;if(wo){const Rn=new Da(wo,Be),Hr=I?I.getWhitespaceElements():{},tu=Fe||(I?I.getNonEmptyElements():null);let ql=wo;do{if(ro(ql)){const rk=ql.getAttribute("data-mce-bogus");if(rk){ql=Rn.next(rk==="all");continue}const Qf=ql.nodeName.toLowerCase();if(tu&&tu[Qf]){if(Qf==="br"){Nt++,ql=Rn.next();continue}return!1}if(nk(ql))return!1}if(Bd(ql)||kt(ql)&&!Ud(ql.data)&&(!(Ut!=null&&Ut.includeZwsp)||!Au(ql.data))||kt(ql)&&ql.parentNode&&Hr[ql.parentNode.nodeName]&&Ud(ql.data))return!1;ql=Rn.next()}while(ql)}return Nt<=1},nh=()=>e.createRange(),EE=(Be,Fe,Ut)=>{let Nt=nh(),wo,Rn;if(Be&&Fe&&Be.parentNode&&Fe.parentNode){const Hr=Be.parentNode;return Nt.setStart(Hr,mm(Be)),Nt.setEnd(Fe.parentNode,mm(Fe)),wo=Nt.extractContents(),Nt=nh(),Nt.setStart(Fe.parentNode,mm(Fe)+1),Nt.setEnd(Hr,mm(Be)+1),Rn=Nt.extractContents(),Hr.insertBefore(Xb(Fb,wo,I),Be),Ut?Hr.insertBefore(Ut,Be):Hr.insertBefore(Fe,Be),Hr.insertBefore(Xb(Fb,Rn,I),Be),Bs(Be),Ut||Fe}else return},k_=(Be,Fe,Ut,Nt)=>{if(he(Be)){let wo=Be.length;const Rn=[];for(;wo--;)Rn[wo]=k_(Be[wo],Fe,Ut,Nt);return Rn}else return t.collect&&(Be===e||Be===s)&&E.push([Be,Fe,Ut,Nt]),U.bind(Be,Fe,Ut,Nt||Fb)},wN=(Be,Fe,Ut)=>{if(he(Be)){let Nt=Be.length;const wo=[];for(;Nt--;)wo[Nt]=wN(Be[Nt],Fe,Ut);return wo}else{if(E.length>0&&(Be===e||Be===s)){let Nt=E.length;for(;Nt--;){const[wo,Rn,Hr]=E[Nt];Be===wo&&(!Fe||Fe===Rn)&&(!Ut||Ut===Hr)&&U.unbind(wo,Rn,Hr)}}return U.unbind(Be,Fe,Ut)}},Pb=(Be,Fe,Ut)=>U.dispatch(Be,Fe,Ut),UL=(Be,Fe,Ut)=>U.dispatch(Be,Fe,Ut),_N=Be=>{if(Be&&_i(Be)){const Fe=Be.getAttribute("data-mce-contenteditable");return Fe&&Fe!=="inherit"?Fe:Be.contentEditable!=="inherit"?Be.contentEditable:null}else return null},Fb={doc:e,settings:t,win:s,files:a,stdMode:d,boxModel:g,styleSheetLoader:v,boundEvents:E,styles:B,schema:I,events:U,isBlock:ne,root:null,clone:Ne,getRoot:bt,getViewPort:Bt,getRect:Co,getSize:io,getParent:Ds,getParents:En,get:Q,getNext:Jr,getPrev:wl,select:jt,is:vn,add:co,create:en,createHTML:Fn,createFragment:qs,remove:Bs,setStyle:Ye,getStyle:pt,setStyles:He,removeAllAttribs:$i,setAttrib:we,setAttribs:Xn,getAttrib:ke,getPos:Kt,parseStyle:Yf,serializeStyle:oh,addStyle:Xc,loadCSS:Mm,addClass:es,removeClass:Ks,hasClass:ca,toggleClass:nn,show:Ir,hide:_d,isHidden:Kg,uniqueId:M1,setHTML:Dn,getOuterHTML:yN,setOuterHTML:vN,decode:Ft,encode:tn,insertAfter:kN,replace:y_,rename:xN,findCommonAncestor:v_,run:fo,getAttribs:Ce,isEmpty:Yg,createRng:nh,nodeIndex:mm,split:EE,bind:k_,unbind:wN,fire:UL,dispatch:Pb,getContentEditable:_N,getContentEditableParent:Be=>{const Fe=bt();let Ut=null;for(let Nt=Be;Nt&&Nt!==Fe&&(Ut=_N(Nt),Ut===null);Nt=Nt.parentNode);return Ut},isEditable:Be=>{if(_e(Be)){const Fe=ro(Be)?Be:Be.parentElement;return _e(Fe)&&_i(Fe)&&pa(oe.fromDom(Fe))}else return!1},destroy:()=>{if(E.length>0){let Be=E.length;for(;Be--;){const[Fe,Ut,Nt]=E[Be];U.unbind(Fe,Ut,Nt)}}An(a,(Be,Fe)=>{v.unload(Fe),delete a[Fe]})},isChildOf:(Be,Fe)=>Be===Fe||Fe.contains(Be),dumpRng:Be=>"startContainer: "+Be.startContainer.nodeName+", startOffset: "+Be.startOffset+", endContainer: "+Be.endContainer.nodeName+", endOffset: "+Be.endOffset},TE=ay(B,t,ht(Fb));return Fb};Hs.DOM=Hs(document),Hs.nodeIndex=mm;const Vd=Hs.DOM,Th=0,fm=1,Tu=2,bk=3;class sl{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((o,s)=>{const a=Vd;let c;const d=()=>{a.remove(E),c&&(c.onerror=c.onload=c=null)},g=()=>{d(),o()},v=()=>{d(),s("Failed to load script: "+t)},E=a.uniqueId();c=document.createElement("script"),c.id=E,c.type="text/javascript",c.src=Mt._addCacheSuffix(t),this.settings.referrerPolicy&&a.setAttrib(c,"referrerpolicy",this.settings.referrerPolicy),c.onload=g,c.onerror=v,(document.getElementsByTagName("head")[0]||document.body).appendChild(c)})}isDone(t){return this.states[t]===Tu}markDone(t){this.states[t]=Tu}add(t){const o=this;return o.queue.push(t),o.states[t]===void 0&&(o.states[t]=Th),new Promise((a,c)=>{o.scriptLoadedCallbacks[t]||(o.scriptLoadedCallbacks[t]=[]),o.scriptLoadedCallbacks[t].push({resolve:a,reject:c})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const o=this,s=(v,E)=>{hs(o.scriptLoadedCallbacks,E).each(I=>{ut(I,B=>B[v](E))}),delete o.scriptLoadedCallbacks[E]},a=v=>{const E=nt(v,I=>I.status==="rejected");return E.length>0?Promise.reject(ln(E,({reason:I})=>he(I)?I:[I])):Promise.resolve()},c=v=>Promise.allSettled(Zo(v,E=>o.states[E]===Tu?(s("resolve",E),Promise.resolve()):o.states[E]===bk?(s("reject",E),Promise.reject(E)):(o.states[E]=fm,o.loadScript(E).then(()=>{o.states[E]=Tu,s("resolve",E);const I=o.queue;return I.length>0?(o.queue=[],c(I).then(a)):Promise.resolve()},()=>(o.states[E]=bk,s("reject",E),Promise.reject(E)))))),d=v=>(o.loading=!0,c(v).then(E=>{o.loading=!1;const I=o.queueLoadedCallbacks.shift();return H.from(I).each(hi),a(E)})),g=Ni(t);return o.loading?new Promise((v,E)=>{o.queueLoadedCallbacks.push(()=>{d(g).then(v,E)})}):d(g)}}sl.ScriptLoader=new sl;const ia=e=>{let t=e;return{get:()=>t,set:a=>{t=a}}},yk=(e,t)=>{const o=e.indexOf(t);return o!==-1&&e.indexOf(t,o+1)>o},gm=e=>ae(e)&&Lo(e,"raw"),Oh=e=>he(e)&&e.length>1,ff={},iy=ia("en"),ly=()=>hs(ff,iy.get()),Pl={getData:()=>Fa(ff,e=>({...e})),setCode:e=>{e&&iy.set(e)},getCode:()=>iy.get(),add:(e,t)=>{let o=ff[e];o||(ff[e]=o={});const s=Zo(vt(t),a=>a.toLowerCase());An(t,(a,c)=>{const d=c.toLowerCase();d!==c&&yk(s,d)?(Lo(t,d)||(o[d]=a),o[c]=a):o[d]=a})},translate:e=>{const t=ly().getOr({}),o=d=>Je(d)?Object.prototype.toString.call(d):s(d)?"":""+d,s=d=>d===""||d===null||d===void 0,a=d=>{const g=o(d);return Lo(t,g)?o(t[g]):hs(t,g.toLowerCase()).map(o).getOr(g)},c=d=>d.replace(/{context:\w+}$/,"");if(s(e))return"";if(gm(e))return o(e.raw);if(Oh(e)){const d=e.slice(1),g=a(e[0]).replace(/\{([0-9]+)\}/g,(v,E)=>Lo(d,E)?o(d[E]):v);return c(g)}return c(a(e))},isRtl:()=>ly().bind(e=>hs(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Lo(ff,e)},Zi=()=>{const e=[],t={},o={},s=[],a=(Q,se)=>{const ke=nt(s,Ce=>Ce.name===Q&&Ce.state===se);ut(ke,Ce=>Ce.resolve())},c=Q=>Lo(t,Q),d=Q=>Lo(o,Q),g=Q=>{if(o[Q])return o[Q].instance},v=(Q,se)=>{const ke=Pl.getCode(),Ce=","+(se||"")+",";!ke||se&&Ce.indexOf(","+ke+",")===-1||sl.ScriptLoader.add(t[Q]+"/langs/"+ke+".js")},E=(Q,se)=>{Zi.languageLoad!==!1&&(c(Q)?v(Q,se):ne(Q,"loaded").then(()=>v(Q,se)))},I=(Q,se)=>(e.push(se),o[Q]={instance:se},a(Q,"added"),se),B=Q=>{delete t[Q],delete o[Q]},U=(Q,se)=>Qe(se)?Qe(Q)?{prefix:"",resource:se,suffix:""}:{prefix:Q.prefix,resource:se,suffix:Q.suffix}:se,X=(Q,se)=>{if(t[Q])return Promise.resolve();let ke=Qe(se)?se:se.prefix+se.resource+se.suffix;ke.indexOf("/")!==0&&ke.indexOf("://")===-1&&(ke=Zi.baseURL+"/"+ke),t[Q]=ke.substring(0,ke.lastIndexOf("/"));const Ce=()=>(a(Q,"loaded"),Promise.resolve());return o[Q]?Ce():sl.ScriptLoader.add(ke).then(Ce)},ne=(Q,se="added")=>se==="added"&&d(Q)||se==="loaded"&&c(Q)?Promise.resolve():new Promise(ke=>{s.push({name:Q,state:se,resolve:ke})});return{items:e,urls:t,lookup:o,get:g,requireLangPack:E,add:I,remove:B,createUrl:U,load:X,waitFor:ne}};Zi.languageLoad=!0,Zi.baseURL="",Zi.PluginManager=Zi(),Zi.ThemeManager=Zi(),Zi.ModelManager=Zi();const dy=e=>{const t=ia(H.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(H.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:g=>{o(),t.set(H.some(g))}}},uy=e=>{const t=ia(H.none()),o=()=>t.get().each(g=>clearInterval(g));return{clear:()=>{o(),t.set(H.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:g=>{o(),t.set(H.some(setInterval(g,e)))}}},jd=()=>{const e=dy(dt);return{...e,on:o=>e.get().each(o)}},zh=(e,t)=>{let o=null;return{cancel:()=>{tt(o)||(clearTimeout(o),o=null)},throttle:(...c)=>{tt(o)&&(o=setTimeout(()=>{o=null,e.apply(null,c)},t))}}},Vc=(e,t)=>{let o=null;const s=()=>{tt(o)||(clearTimeout(o),o=null)};return{cancel:s,throttle:(...c)=>{s(),o=setTimeout(()=>{o=null,e.apply(null,c)},t)}}},Ou=ht("mce-annotation"),gf=ht("data-mce-annotation"),pm=ht("data-mce-annotation-uid"),pg=ht("data-mce-annotation-active"),Zd=ht("data-mce-annotation-classes"),bp=ht("data-mce-annotation-attrs"),Dh=e=>t=>On(t,e),my=(e,t)=>{const o=e.selection.getRng(),s=oe.fromDom(o.startContainer),a=oe.fromDom(e.getBody()),c=t.fold(()=>"."+Ou(),v=>`[${gf()}="${v}"]`),d=Ec(s,o.startOffset).getOr(s);return Hi(d,c,Dh(a)).bind(v=>Qi(v,`${pm()}`).bind(E=>Qi(v,`${gf()}`).map(I=>{const B=av(e,E);return{uid:E,name:I,elements:B}})))},rl=e=>xi(e)&&Yl(e,Ou()),rv=(e,t)=>fa(e,"data-mce-bogus")||Dr(e,'[data-mce-bogus="all"]',Dh(t)),av=(e,t)=>{const o=oe.fromDom(e.getBody()),s=$a(o,`[${pm()}="${t}"]`);return nt(s,a=>!rv(a,o))},fy=(e,t)=>{const o=oe.fromDom(e.getBody()),s=$a(o,`[${gf()}="${t}"]`),a={};return ut(s,c=>{if(!rv(c,o)){const d=wi(c,pm()),g=hs(a,d).getOr([]);a[d]=g.concat([c])}}),a},N_=(e,t)=>{const o=ia({}),s=()=>({listeners:[],previous:jd()}),a=(B,U)=>{c(B,X=>(U(X),X))},c=(B,U)=>{const X=o.get(),ne=hs(X,B).getOrThunk(s),Q=U(ne);X[B]=Q,o.set(X)},d=(B,U,X)=>{a(B,ne=>{ut(ne.listeners,Q=>Q(!0,B,{uid:U,nodes:Zo(X,se=>se.dom)}))})},g=B=>{a(B,U=>{ut(U.listeners,X=>X(!1,B))})},v=(B,U)=>{ut(av(e,B),X=>{U?Cs(X,pg(),"true"):ur(X,pg())})},E=Vc(()=>{const B=wn(t.getNames());ut(B,U=>{c(U,X=>{const ne=X.previous.get();return my(e,H.some(U)).fold(()=>{ne.each(Q=>{g(U),X.previous.clear(),v(Q,!1)})},({uid:Q,name:se,elements:ke})=>{iu(ne,Q)||(ne.each(Ce=>v(Ce,!1)),d(se,Q,ke),X.previous.set(Q),v(Q,!0))}),{previous:X.previous,listeners:X.listeners}})})},30);return e.on("remove",()=>{E.cancel()}),e.on("NodeChange",()=>{E.throttle()}),{addListener:(B,U)=>{c(B,X=>({previous:X.previous,listeners:X.listeners.concat([U])}))}}},gy=(e,t)=>{const o=gf(),s=c=>H.from(c.attr(o)).bind(t.lookup),a=c=>{var d,g;c.attr(pm(),null),c.attr(gf(),null),c.attr(pg(),null);const v=H.from(c.attr(bp())).map(U=>U.split(",")).getOr([]),E=H.from(c.attr(Zd())).map(U=>U.split(",")).getOr([]);ut(v,U=>c.attr(U,null));const I=(g=(d=c.attr("class"))===null||d===void 0?void 0:d.split(" "))!==null&&g!==void 0?g:[],B=Ns(I,[Ou()].concat(E));c.attr("class",B.length>0?B.join(" "):null),c.attr(Zd(),null),c.attr(bp(),null)};e.serializer.addTempAttr(pg()),e.serializer.addAttributeFilter(o,c=>{for(const d of c)s(d).each(g=>{g.persistent===!1&&(d.name==="span"?d.unwrap():a(d))})})},iv=()=>{const e={};return{register:(a,c)=>{e[a]={name:a,settings:c}},lookup:a=>hs(e,a).map(c=>c.settings),getNames:()=>vt(e)}};let yp=0;const hm=e=>{const o=new Date().getTime(),s=Math.floor(Math.random()*1e9);return yp++,e+"_"+s+yp+String(o)},kk=(e,t)=>{ut(t,o=>{Br(e,o)})},py=(e,t)=>{ut(t,o=>{Kl(e,o)})},hy=(e,t)=>oe.fromDom(e.dom.cloneNode(t)),bm=e=>hy(e,!1),pf=e=>hy(e,!0),by=(e,t)=>{const o=oe.fromTag(t),s=mr(e);return Qs(o,s),o},Rh=(e,t)=>{const o=by(e,t);Js(e,o);const s=Es(e);return Kr(o,s),Hn(e),o},hf=(e,t,o=Mo)=>{const s=new Da(e,t),a=c=>{let d;do d=s[c]();while(d&&!kt(d)&&!o(d));return H.from(d).filter(kt)};return{current:()=>H.from(s.current()).filter(kt),next:()=>a("next"),prev:()=>a("prev"),prev2:()=>a("prev2")}},bf=(e,t)=>{const o=t||(d=>e.isBlock(d)||fr(d)||Ts(d)),s=(d,g,v,E)=>{if(kt(d)){const I=E(d,g,d.data);if(I!==-1)return H.some({container:d,offset:I})}return v().bind(I=>s(I.container,I.offset,v,E))};return{backwards:(d,g,v,E)=>{const I=hf(d,E??e.getRoot(),o);return s(d,g,()=>I.prev().map(B=>({container:B,offset:B.length})),v).getOrNull()},forwards:(d,g,v,E)=>{const I=hf(d,E??e.getRoot(),o);return s(d,g,()=>I.next().map(B=>({container:B,offset:0})),v).getOrNull()}}},hg=Math.round,qd=e=>e?{left:hg(e.left),top:hg(e.top),bottom:hg(e.bottom),right:hg(e.right),width:hg(e.width),height:hg(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},yf=(e,t)=>(e=qd(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),M_=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,Nh=(e,t,o)=>e>=0&&e<=Math.min(t.height,o.height)/2,vf=(e,t)=>{const o=Math.min(t.height/2,e.height/2);return e.bottom-o<t.top?!0:e.top>t.bottom?!1:Nh(t.top-e.bottom,e,t)},vp=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:Nh(t.bottom-e.top,e,t),lv=(e,t,o)=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom,cv=e=>rn(e,(t,o)=>t.fold(()=>H.some(o),s=>{const a=Math.min(o.left,s.left),c=Math.min(o.top,s.top),d=Math.max(o.right,s.right),g=Math.max(o.bottom,s.bottom);return H.some({top:c,right:d,bottom:g,left:a,width:d-a,height:g-c})}),H.none()),dv=(e,t,o)=>{const s=Math.max(Math.min(t,e.left+e.width),e.left),a=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-s)*(t-s)+(o-a)*(o-a))},qi=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),yy=(e,t,o)=>Math.min(Math.max(e,t),o),kf=e=>{const t=e.startContainer,o=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1?t.childNodes[o]:null},jc=(e,t)=>{if(ro(e)&&e.hasChildNodes()){const o=e.childNodes,s=yy(t,0,o.length-1);return o[s]}else return e},uv=(e,t)=>{if(!(t<0&&ro(e)&&e.hasChildNodes()))return jc(e,t)},Mh=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),xf=e=>Qe(e)&&e.charCodeAt(0)>=768&&Mh.test(e),wf=(...e)=>t=>{for(let o=0;o<e.length;o++)if(e[o](t))return!0;return!1},vy=(...e)=>t=>{for(let o=0;o<e.length;o++)if(!e[o](t))return!1;return!0},ky=ro,ym=ss,_f=Md("display","block table"),Ih=Md("float","left right"),Af=vy(ky,ym,is(Ih)),xk=is(Md("white-space","pre pre-line pre-wrap")),Bh=kt,Lh=fr,mv=Hs.nodeIndex,Ph=uv,vm=e=>e?e.createRange():Hs.DOM.createRng(),Cf=e=>Qe(e)&&/[\r\n\t ]/.test(e),Fh=e=>!!e.setStart&&!!e.setEnd,fv=e=>{const t=e.startContainer,o=e.startOffset;if(Cf(e.toString())&&xk(t.parentNode)&&kt(t)){const s=t.data;if(Cf(s[o-1])||Cf(s[o+1]))return!0}return!1},gd=e=>{const t=e.ownerDocument,o=vm(t),s=t.createTextNode(hn),a=e.parentNode;a.insertBefore(s,e),o.setStart(s,0),o.setEnd(s,1);const c=qd(o.getBoundingClientRect());return a.removeChild(s),c},bg=e=>{const t=e.startContainer,o=e.endContainer,s=e.startOffset,a=e.endOffset;if(t===o&&kt(o)&&s===0&&a===1){const c=e.cloneRange();return c.setEndAfter(o),bn(c)}else return null},kp=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,bn=e=>{var t;let o;const s=e.getClientRects();return s.length>0?o=qd(s[0]):o=qd(e.getBoundingClientRect()),!Fh(e)&&Lh(e)&&kp(o)?gd(e):kp(o)&&Fh(e)&&(t=bg(e))!==null&&t!==void 0?t:o},Fl=(e,t)=>{const o=yf(e,t);return o.width=1,o.right=o.left+1,o},xp=e=>{const t=[],o=d=>{d.height!==0&&(t.length>0&&M_(d,t[t.length-1])||t.push(d))},s=(d,g)=>{const v=vm(d.ownerDocument);if(g<d.data.length){if(xf(d.data[g]))return;if(xf(d.data[g-1])&&(v.setStart(d,g),v.setEnd(d,g+1),!fv(v))){o(Fl(bn(v),!1));return}}g>0&&(v.setStart(d,g-1),v.setEnd(d,g),fv(v)||o(Fl(bn(v),!1))),g<d.data.length&&(v.setStart(d,g),v.setEnd(d,g+1),fv(v)||o(Fl(bn(v),!0)))},a=e.container(),c=e.offset();if(Bh(a))return s(a,c),t;if(ky(a))if(e.isAtEnd()){const d=Ph(a,c);Bh(d)&&s(d,d.data.length),Af(d)&&!Lh(d)&&o(Fl(bn(d),!1))}else{const d=Ph(a,c);if(Bh(d)&&s(d,0),Af(d)&&e.isAtEnd())return o(Fl(bn(d),!1)),t;const g=Ph(e.container(),e.offset()-1);Af(g)&&!Lh(g)&&(_f(g)||_f(d)||!Af(d))&&o(Fl(bn(g),!1)),Af(d)&&o(Fl(bn(d),!0))}return t},qe=(e,t,o)=>{const s=()=>(Bh(e),t===0),a=()=>Bh(e)?t>=e.data.length:t>=e.childNodes.length,c=()=>{const I=vm(e.ownerDocument);return I.setStart(e,t),I.setEnd(e,t),I},d=()=>(o||(o=xp(qe(e,t))),o),g=()=>d().length>0,v=I=>I&&e===I.container()&&t===I.offset(),E=I=>Ph(e,I?t-1:t);return{container:ht(e),offset:ht(t),toRange:c,getClientRects:d,isVisible:g,isAtStart:s,isAtEnd:a,isEqual:v,getNode:E}};qe.fromRangeStart=e=>qe(e.startContainer,e.startOffset),qe.fromRangeEnd=e=>qe(e.endContainer,e.endOffset),qe.after=e=>qe(e.parentNode,mv(e)+1),qe.before=e=>qe(e.parentNode,mv(e)),qe.isAbove=(e,t)=>na(Jo(t.getClientRects()),Qt(e.getClientRects()),vf).getOr(!1),qe.isBelow=(e,t)=>na(Qt(t.getClientRects()),Jo(e.getClientRects()),vp).getOr(!1),qe.isAtStart=e=>e?e.isAtStart():!1,qe.isAtEnd=e=>e?e.isAtEnd():!1,qe.isTextPosition=e=>e?kt(e.container()):!1,qe.isElementPosition=e=>!qe.isTextPosition(e);const xy=(e,t)=>{kt(t)&&t.data.length===0&&e.remove(t)},gv=(e,t,o)=>{t.insertNode(o),xy(e,o.previousSibling),xy(e,o.nextSibling)},wk=(e,t,o)=>{const s=H.from(o.firstChild),a=H.from(o.lastChild);t.insertNode(o),s.each(c=>xy(e,c.previousSibling)),a.each(c=>xy(e,c.nextSibling))},wp=(e,t,o)=>{ig(o)?wk(e,t,o):gv(e,t,o)},Zc=kt,_p=Nc,wy=Hs.nodeIndex,pv=e=>{const t=e.parentNode;return _p(t)?pv(t):t},Uh=e=>e?$l(e.childNodes,(t,o)=>(_p(o)&&o.nodeName!=="BR"?t=t.concat(Uh(o)):t.push(o),t),[]):[],_y=(e,t)=>{let o=e;for(;(o=o.previousSibling)&&Zc(o);)t+=o.data.length;return t},hv=e=>t=>e===t,_k=e=>{let t,o;t=Uh(pv(e)),o=_a(t,hv(e),e),t=t.slice(0,o+1);const s=$l(t,(a,c,d)=>(Zc(c)&&Zc(t[d-1])&&a++,a),0);return t=Sd(t,tl([e.nodeName])),o=_a(t,hv(e),e),o-s},Ay=e=>(Zc(e)?"text()":e.nodeName.toLowerCase())+"["+_k(e)+"]",Ak=(e,t,o)=>{const s=[];for(let a=t.parentNode;a&&a!==e&&!(o&&o(a));a=a.parentNode)s.push(a);return s},Ck=(e,t)=>{let o=[],s=t.container(),a=t.offset(),c;if(Zc(s))c=_y(s,a);else{const g=s.childNodes;a>=g.length?(c="after",a=g.length-1):c="before",s=g[a]}o.push(Ay(s));let d=Ak(e,s);return d=Sd(d,is(Nc)),o=o.concat(ou(d,g=>Ay(g))),o.reverse().join("/")+","+c},I_=(e,t,o)=>{let s=Uh(e);return s=Sd(s,(a,c)=>!Zc(a)||!Zc(s[c-1])),s=Sd(s,tl([t])),s[o]},Gt=(e,t)=>{let o=e,s=0;for(;Zc(o);){const a=o.data.length;if(t>=s&&t<=s+a){e=o,t=t-s;break}if(!Zc(o.nextSibling)){e=o,t=a;break}s+=a,o=o.nextSibling}return Zc(e)&&t>e.data.length&&(t=e.data.length),qe(e,t)},Na=(e,t)=>{if(!t)return null;const o=t.split(","),s=o[0].split("/"),a=o.length>1?o[1]:"before",c=$l(s,(d,g)=>{const v=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(g);return v?(v[1]==="text()"&&(v[1]="#text"),I_(d,v[1],parseInt(v[2],10))):null},e);if(!c)return null;if(!Zc(c)&&c.parentNode){let d;return a==="after"?d=wy(c)+1:d=wy(c),qe(c.parentNode,d)}return Gt(c,parseInt(a,10))},Ap=Ts,Ya=(e,t,o)=>{let s=e(t.data.slice(0,o)).length;for(let a=t.previousSibling;a&&kt(a);a=a.previousSibling)s+=e(a.data).length;return s},km=(e,t,o,s,a)=>{const c=a?s.startContainer:s.endContainer;let d=a?s.startOffset:s.endOffset;const g=[],v=e.getRoot();if(kt(c))g.push(o?Ya(t,c,d):d);else{let E=0;const I=c.childNodes;d>=I.length&&I.length&&(E=1,d=Math.max(0,I.length-1)),g.push(e.nodeIndex(I[d],o)+E)}for(let E=c;E&&E!==v;E=E.parentNode)g.push(e.nodeIndex(E,o));return g},Cp=(e,t,o,s)=>{const a=t.dom,c=km(a,e,o,s,!0),d=t.isForward(),g=Jm(s)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:c,forward:d,...g};{const v=km(a,e,o,s,!1);return{start:c,end:v,forward:d,...g}}},Cy=(e,t,o)=>{let s=0;return Mt.each(e.select(t),a=>{if(a.getAttribute("data-mce-bogus")!=="all"){if(a===o)return!1;s++;return}}),s},Hh=(e,t)=>{let o=t?e.startContainer:e.endContainer,s=t?e.startOffset:e.endOffset;if(ro(o)&&o.nodeName==="TR"){const a=o.childNodes;o=a[Math.min(t?s:s-1,a.length-1)],o&&(s=t?0:o.childNodes.length,t?e.setStart(o,s):e.setEnd(o,s))}},f=e=>(Hh(e,!0),Hh(e,!1),e),h=(e,t)=>{if(ro(e)&&(e=jc(e,t),Ap(e)))return e;if(bo(e)){kt(e)&&Et(e)&&(e=e.parentNode);let o=e.previousSibling;if(Ap(o)||(o=e.nextSibling,Ap(o)))return o}},k=e=>h(e.startContainer,e.startOffset)||h(e.endContainer,e.endOffset),_=(e,t,o)=>{const s=o.getNode(),a=o.getRng();if(s.nodeName==="IMG"||Ap(s)){const d=s.nodeName;return{name:d,index:Cy(o.dom,d,s)}}const c=k(a);if(c){const d=c.tagName;return{name:d,index:Cy(o.dom,d,c)}}return Cp(e,o,t,a)},D=e=>{const t=e.getRng();return{start:Ck(e.dom.getRoot(),qe.fromRangeStart(t)),end:Ck(e.dom.getRoot(),qe.fromRangeEnd(t)),forward:e.isForward()}},R=e=>({rng:e.getRng(),forward:e.isForward()}),L=(e,t,o)=>{const s={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",s,"&#xFEFF;"):e.create("span",s)},Z=(e,t)=>{const o=e.dom;let s=e.getRng();const a=o.uniqueId(),c=e.isCollapsed(),d=e.getNode(),g=d.nodeName,v=e.isForward();if(g==="IMG")return{name:g,index:Cy(o,g,d)};const E=f(s.cloneRange());if(!c){E.collapse(!1);const B=L(o,a+"_end",t);wp(o,E,B)}s=f(s),s.collapse(!0);const I=L(o,a+"_start",t);return wp(o,s,I),e.moveToBookmark({id:a,keep:!0,forward:v}),{id:a,forward:v}},G=(e,t,o=!1)=>t===2?_(F,o,e):t===3?D(e):t?R(e):Z(e,!1),re=$t(_,So,!0),pe=e=>{const t=c=>c(e),o=ht(e),s=()=>a,a={tag:!0,inner:e,fold:(c,d)=>d(e),isValue:pn,isError:Mo,map:c=>be.value(c(e)),mapError:s,bind:t,exists:t,forall:t,getOr:o,or:s,getOrThunk:o,orThunk:s,getOrDie:o,each:c=>{c(e)},toOptional:()=>H.some(e)};return a},ce=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(s,a)=>s(e),isValue:Mo,isError:pn,map:t,mapError:s=>be.error(s(e)),bind:t,exists:Mo,forall:pn,getOr:So,or:So,getOrThunk:Yt,orThunk:Yt,getOrDie:Ct(String(e)),each:dt,toOptional:H.none};return o},be={value:pe,error:ce,fromOption:(e,t)=>e.fold(()=>ce(t),pe)},Ee={generate:e=>{if(!he(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],o={};return ut(e,(s,a)=>{const c=vt(s);if(c.length!==1)throw new Error("one and only one name per case");const d=c[0],g=s[d];if(o[d]!==void 0)throw new Error("duplicate key detected:"+d);if(d==="cata")throw new Error("cannot have a case named cata (sorry)");if(!he(g))throw new Error("case arguments must be an array");t.push(d),o[d]=(...v)=>{const E=v.length;if(E!==g.length)throw new Error("Wrong number of arguments to case "+d+". Expected "+g.length+" ("+g+"), got "+E);return{fold:(...B)=>{if(B.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+B.length);return B[a].apply(null,v)},match:B=>{const U=vt(B);if(t.length!==U.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+U.join(","));if(!jr(t,ne=>Nn(U,ne)))throw new Error("Not all branches were specified when using match. Specified: "+U.join(", ")+`
Required: `+t.join(", "));return B[d].apply(null,v)},log:B=>{console.log(B,{constructors:t,constructor:d,params:v})}}}}),o}};Ee.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const et=e=>{const t=[],o=[];return ut(e,s=>{s.fold(a=>{t.push(a)},a=>{o.push(a)})}),{errors:t,values:o}},mt=e=>e.type==="inline-command"||e.type==="inline-format",_t=e=>e.type==="block-command"||e.type==="block-format",gt=e=>{const t=s=>be.error({message:s,pattern:e}),o=(s,a,c)=>{if(e.format!==void 0){let d;if(he(e.format)){if(!jr(e.format,Qe))return t(s+" pattern has non-string items in the `format` array");d=e.format}else if(Qe(e.format))d=[e.format];else return t(s+" pattern has non-string `format` parameter");return be.value(a(d))}else return e.cmd!==void 0?Qe(e.cmd)?be.value(c(e.cmd,e.value)):t(s+" pattern has non-string `cmd` parameter"):t(s+" pattern is missing both `format` and `cmd` parameters")};if(!ae(e))return t("Raw pattern is not an object");if(!Qe(e.start))return t("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!Qe(e.end))return t("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return t("Inline pattern has empty `start` and `end` parameters");let s=e.start,a=e.end;return a.length===0&&(a=s,s=""),o("Inline",c=>({type:"inline-format",start:s,end:a,format:c}),(c,d)=>({type:"inline-command",start:s,end:a,cmd:c,value:d}))}else return e.replacement!==void 0?Qe(e.replacement)?e.start.length===0?t("Replacement pattern has empty `start` parameter"):be.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?t("Block pattern has empty `start` parameter"):o("Block",s=>({type:"block-format",start:e.start,format:s[0]}),(s,a)=>({type:"block-command",start:e.start,cmd:s,value:a}))},Ot=e=>nt(e,_t),It=e=>nt(e,mt),Zt=(e,t)=>({inlinePatterns:It(e),blockPatterns:Ot(e),dynamicPatternsLookup:t}),To=e=>{const t=et(Zo(e,gt));return ut(t.errors,o=>console.error(o.message,o.pattern)),t.values},Oo=e=>t=>{const o=e(t);return To(o)},Kn=Cn().deviceType,$o=Kn.isTouch(),gn=Hs.DOM,cn=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return rn(t,(o,s)=>{const a=s.split("="),c=a[0],d=a.length>1?a[1]:c;return o[ac(c)]=ac(d),o},{})},ls=e=>At(e,RegExp),Pt=e=>t=>t.options.get(e),Qa=e=>Qe(e)||ae(e),la=(e,t="")=>o=>{const s=Qe(o);if(s)if(o.indexOf("=")!==-1){const a=cn(o);return{value:hs(a,e.id).getOr(t),valid:s}}else return{value:o,valid:s};else return{valid:!1,message:"Must be a string."}},Ul=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:la(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:la(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:o=>{const s=Qe(o)&&ta(o);return s?{value:o,valid:s}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:o=>{const s=Nn(["block","linebreak","invert","default"],o);return s?{value:o,valid:s}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:o=>sn(o)?{valid:!0,value:o}:Qe(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:o=>{const s=o===!1||Qe(o)||ft(o,Qe);return s?Qe(o)?{value:Zo(o.split(","),ac),valid:s}:he(o)?{value:o,valid:s}:o===!1?{value:[],valid:s}:{value:o,valid:s}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Ey(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:o=>{const s=Qe(o)||ft(o,Qe);return s?{value:he(o)?o:Zo(o.split(","),ac),valid:s}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:o=>{const s=sn(o)||Qe(o);return s?o===!1||Kn.isiPhone()||Kn.isiPad()?{value:"",valid:s}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:s}:{valid:!1,message:"Must be boolean or a string"}},default:!$o}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"object"}),t("service_message",{processor:"string"}),t("theme",{processor:o=>o===!1||Qe(o)||Je(o),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:o=>{const s=o===!1||Qe(o);return s?{value:o===!1?"":o,valid:s}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:"string"}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Qa}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Qa}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Qa}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:o=>Qe(o)||o===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:o=>ft(o,ae)||o===!1?{value:To(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),t("text_patterns_lookup",{processor:o=>Je(o)?{value:Oo(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:o=>ft(o,ls)?{value:o,valid:!0}:ls(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!1}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:o=>{const s=Nn(["inherited","collapsed","expanded"],o);return s?{value:o,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:o=>{const s=Nn(["inherited","collapsed","expanded"],o);return s?{value:o,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("force_hex_color",{processor:o=>{const s=["always","rgb_only","off"],a=Nn(s,o);return a?{value:o,valid:a}:{valid:!1,message:`Must be one of: ${s.join(", ")}.`}},default:"off"}),t("sandbox_iframes",{processor:"boolean",default:!1}),t("convert_unsafe_embeds",{processor:"boolean",default:!1}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:Pl.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:gn.getAttrib(e.getElement(),"placeholder")})})},as=Pt("iframe_attrs"),Ma=Pt("doctype"),xm=Pt("document_base_url"),Vh=Pt("body_id"),jh=Pt("body_class"),Sp=Pt("content_security_policy"),Zh=Pt("br_in_pre"),Ia=Pt("forced_root_block"),bv=Pt("forced_root_block_attrs"),ME=Pt("newline_behavior"),B_=Pt("br_newline_selector"),IE=Pt("no_newline_selector"),DN=Pt("keep_styles"),RN=Pt("end_container_on_empty_block"),qc=Pt("automatic_uploads"),bl=Pt("images_reuse_filename"),Sy=Pt("images_replace_blob_uris"),BE=Pt("icons"),NN=Pt("icons_url"),In=Pt("images_upload_url"),MN=Pt("images_upload_base_path"),LE=Pt("images_upload_credentials"),L_=Pt("images_upload_handler"),IN=Pt("content_css_cors"),P_=Pt("referrer_policy"),PE=Pt("language"),BN=Pt("language_url"),Sk=Pt("indent_use_margin"),F_=Pt("indentation"),FE=Pt("content_css"),LN=Pt("content_style"),UE=Pt("font_css"),PN=Pt("directionality"),Io=Pt("inline_boundaries_selector"),U_=Pt("object_resizing"),yv=Pt("resize_img_proportional"),H_=Pt("placeholder"),V_=Pt("event_root"),HE=Pt("service_message"),qh=Pt("theme"),VE=Pt("theme_url"),j_=Pt("model"),FN=Pt("model_url"),jn=Pt("inline_boundaries"),UN=Pt("formats"),yg=Pt("preview_styles"),Sf=Pt("format_empty_lines"),Ek=Pt("format_noneditable_selector"),Wc=Pt("custom_ui_selector"),Ey=Pt("inline"),vv=Pt("hidden_input"),Tk=Pt("submit_patch"),Ty=Pt("add_form_submit_trigger"),HN=Pt("add_unload_trigger"),VN=Pt("custom_undo_redo_levels"),jN=Pt("disable_nodechange"),jE=Pt("readonly"),Pn=Pt("editable_root"),zu=Pt("content_css_cors"),Ef=Pt("plugins"),ZN=Pt("external_plugins"),kv=Pt("block_unsupported_drop"),Yn=Pt("visual"),ZE=Pt("visual_table_class"),Ok=Pt("visual_anchor_class"),qN=Pt("iframe_aria_text"),Oy=Pt("setup"),Wh=Pt("init_instance_callback"),qE=Pt("urlconverter_callback"),WN=Pt("auto_focus"),$N=Pt("browser_spellcheck"),xv=Pt("protect"),zy=Pt("paste_block_drop"),zk=Pt("paste_data_images"),WE=Pt("paste_preprocess"),GN=Pt("paste_postprocess"),$E=Pt("newdocument_content"),KN=Pt("paste_webkit_styles"),GE=Pt("paste_remove_styles_if_webkit"),Z_=Pt("paste_merge_formats"),q_=Pt("smart_paste"),W_=Pt("paste_as_text"),KE=Pt("paste_tab_spaces"),YE=Pt("allow_html_data_urls"),QE=Pt("text_patterns"),Dk=Pt("text_patterns_lookup"),$_=Pt("noneditable_class"),JE=Pt("editable_class"),XE=Pt("noneditable_regexp"),eT=Pt("preserve_cdata"),tT=Pt("highlight_on_focus"),Rk=Pt("xss_sanitization"),YN=Pt("init_content_sync"),QN=e=>e.options.isSet("text_patterns_lookup"),Nk=e=>Mt.explode(e.options.get("font_size_style_values")),oT=e=>Mt.explode(e.options.get("font_size_classes")),nT=e=>e.options.get("encoding")==="xml",G_=e=>Mt.explode(e.options.get("images_file_types")),JN=Pt("table_tab_navigation"),XN=Pt("details_initial_state"),eM=Pt("details_serialized_state"),tM=Pt("force_hex_color"),K_=Pt("sandbox_iframes"),sT=ro,Y_=kt,wv=e=>{const t=e.parentNode;t&&t.removeChild(e)},rT=e=>{const t=F(e);return{count:e.length-t.length,text:t}},Mk=e=>{let t;for(;(t=e.data.lastIndexOf(x))!==-1;)e.deleteData(t,1)},aT=(e,t)=>(Tf(e),t),iT=(e,t)=>{const o=rT(e.data.substr(0,t.offset())),s=rT(e.data.substr(t.offset()));return(o.text+s.text).length>0?(Mk(e),qe(e,t.offset()-o.count)):t},lT=(e,t)=>{const o=t.container(),s=Al(uo(o.childNodes),e).map(a=>a<t.offset()?qe(o,t.offset()-1):t).getOr(t);return Tf(e),s},cT=(e,t)=>Y_(e)&&t.container()===e?iT(e,t):aT(e,t),oM=(e,t)=>t.container()===e.parentNode?lT(e,t):aT(e,t),nM=(e,t)=>qe.isTextPosition(t)?cT(e,t):oM(e,t),Tf=e=>{sT(e)&&bo(e)&&(Xo(e)?e.removeAttribute("data-mce-caret"):wv(e)),Y_(e)&&(Mk(e),e.data.length===0&&wv(e))},dT=Ts,uT=ao,mT=om,fT="*[contentEditable=false],video,audio,embed,object",gT=(e,t,o)=>{const s=yf(t.getBoundingClientRect(),o);let a,c;if(e.tagName==="BODY"){const g=e.ownerDocument.documentElement;a=e.scrollLeft||g.scrollLeft,c=e.scrollTop||g.scrollTop}else{const g=e.getBoundingClientRect();a=e.scrollLeft-g.left,c=e.scrollTop-g.top}s.left+=a,s.right+=a,s.top+=c,s.bottom+=c,s.width=1;let d=t.offsetWidth-t.clientWidth;return d>0&&(o&&(d*=-1),s.left+=d,s.right+=d),s},sM=e=>{var t,o;const s=$a(oe.fromDom(e),fT);for(let a=0;a<s.length;a++){const c=s[a].dom;let d=c.previousSibling;if(ya(d)){const g=d.data;g.length===1?(t=d.parentNode)===null||t===void 0||t.removeChild(d):d.deleteData(g.length-1,1)}d=c.nextSibling,ba(d)&&(d.data.length===1?(o=d.parentNode)===null||o===void 0||o.removeChild(d):d.deleteData(0,1))}},Ik=(e,t,o,s)=>{const a=jd();let c,d;const g=Ia(e),v=e.dom,E=(Q,se)=>{let ke;if(I(),mT(se))return null;if(o(se)){const Ce=zs(g,se,Q),we=gT(t,se,Q);v.setStyle(Ce,"top",we.top),d=Ce;const Ne=v.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});v.setStyles(Ne,{...we}),v.add(t,Ne),a.set({caret:Ne,element:se,before:Q}),Q&&v.addClass(Ne,"mce-visual-caret-before"),B(),ke=se.ownerDocument.createRange(),ke.setStart(Ce,0),ke.setEnd(Ce,0)}else return d=Xs(se,Q),ke=se.ownerDocument.createRange(),Dy(d.nextSibling)?(ke.setStart(d,0),ke.setEnd(d,0)):(ke.setStart(d,1),ke.setEnd(d,1)),ke;return ke},I=()=>{sM(t),d&&(Tf(d),d=null),a.on(Q=>{v.remove(Q.caret),a.clear()}),c&&(clearInterval(c),c=void 0)},B=()=>{c=setInterval(()=>{a.on(Q=>{s()?v.toggleClass(Q.caret,"mce-visual-caret-hidden"):v.addClass(Q.caret,"mce-visual-caret-hidden")})},500)};return{show:E,hide:I,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{a.on(Q=>{const se=gT(t,Q.element,Q.before);v.setStyles(Q.caret,{...se})})},destroy:()=>clearInterval(c)}},Q_=()=>Mn.browser.isFirefox(),Dy=e=>dT(e)||uT(e),_v=e=>(Dy(e)||Mc(e)&&Q_())&&mc(oe.fromDom(e)).exists(pa),rM=ml,J_=Ts,aM=ao,pT=Md("display","block table table-cell table-caption list-item"),hT=bo,X_=Et,iM=ro,bT=kt,yT=ss,Ry=e=>e>0,$h=e=>e<0,Bk=(e,t)=>{let o;for(;o=e(t);)if(!X_(o))return o;return null},Av=(e,t,o,s,a)=>{const c=new Da(e,s),d=J_(e)||X_(e);let g;if($h(t)){if(d&&(g=Bk(c.prev.bind(c),!0),o(g)))return g;for(;g=Bk(c.prev.bind(c),a);)if(o(g))return g}if(Ry(t)){if(d&&(g=Bk(c.next.bind(c),!0),o(g)))return g;for(;g=Bk(c.next.bind(c),a);)if(o(g))return g}return null},lM=(e,t)=>{const o=a=>rM(a.dom),s=a=>a.dom===t;return Ji(oe.fromDom(e),o,s).map(a=>a.dom).getOr(t)},Ep=(e,t)=>{for(;e&&e!==t;){if(pT(e))return e;e=e.parentNode}return null},Of=(e,t,o)=>Ep(e.container(),o)===Ep(t.container(),o),eA=(e,t)=>{if(!t)return H.none();const o=t.container(),s=t.offset();return iM(o)?H.from(o.childNodes[s+e]):H.none()},vT=(e,t)=>{var o;const a=((o=t.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)),a},cM=(e,t,o)=>Ep(t,e)===Ep(o,e),kT=(e,t,o)=>{const s=e?"previousSibling":"nextSibling";let a=o;for(;a&&a!==t;){let c=a[s];if(c&&hT(c)&&(c=c[s]),J_(c)||aM(c)){if(cM(t,c,a))return c;break}if(yT(c))break;a=a.parentNode}return null},Cv=$t(vT,!0),Sv=$t(vT,!1),xo=(e,t,o)=>{let s;const a=$t(kT,!0,t),c=$t(kT,!1,t),d=o.startContainer,g=o.startOffset;if(Et(d)){const v=bT(d)?d.parentNode:d,E=v.getAttribute("data-mce-caret");if(E==="before"&&(s=v.nextSibling,_v(s)))return Cv(s);if(E==="after"&&(s=v.previousSibling,_v(s)))return Sv(s)}if(!o.collapsed)return o;if(kt(d)){if(hT(d)){if(e===1){if(s=c(d),s)return Cv(s);if(s=a(d),s)return Sv(s)}if(e===-1){if(s=a(d),s)return Sv(s);if(s=c(d),s)return Cv(s)}return o}if(ya(d)&&g>=d.data.length-1)return e===1&&(s=c(d),s)?Cv(s):o;if(ba(d)&&g<=1)return e===-1&&(s=a(d),s)?Sv(s):o;if(g===d.data.length)return s=c(d),s?Cv(s):o;if(g===0)return s=a(d),s?Sv(s):o}return o},tA=(e,t)=>eA(e?0:-1,t).filter(J_),Ny=(e,t,o)=>{const s=xo(e,t,o);return e===-1?qe.fromRangeStart(s):qe.fromRangeEnd(s)},Lk=e=>H.from(e.getNode()).map(oe.fromDom),oA=e=>H.from(e.getNode(!0)).map(oe.fromDom),nA=(e,t)=>{let o=t;for(;o=e(o);)if(o.isVisible())return o;return o},Gh=(e,t)=>{const o=Of(e,t);return!o&&fr(e.getNode())?!0:o};var zi;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(zi||(zi={}));const dM=Ts,zo=kt,an=ro,Pk=fr,My=ss,xT=Ga,Fk=pc,Po=(e,t)=>{const o=[];let s=e;for(;s&&s!==t;)o.push(s),s=s.parentNode;return o},Iy=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,sA=(e,t)=>{if(Ry(e)){if(My(t.previousSibling)&&!zo(t.previousSibling))return qe.before(t);if(zo(t))return qe(t,0)}if($h(e)){if(My(t.nextSibling)&&!zo(t.nextSibling))return qe.after(t);if(zo(t))return qe(t,t.data.length)}return $h(e)?Pk(t)?qe.before(t):qe.after(t):qe.before(t)},wT=(e,t)=>{const o=t.nextSibling;return o&&My(o)?zo(o)?qe(o,0):qe.before(o):rA(zi.Forwards,qe.after(t),e)},rA=(e,t,o)=>{let s,a,c,d;if(!an(o)||!t)return null;if(t.isEqual(qe.after(o))&&o.lastChild){if(d=qe.after(o.lastChild),$h(e)&&My(o.lastChild)&&an(o.lastChild))return Pk(o.lastChild)?qe.before(o.lastChild):d}else d=t;const g=d.container();let v=d.offset();if(zo(g)){if($h(e)&&v>0)return qe(g,--v);if(Ry(e)&&v<g.length)return qe(g,++v);s=g}else{if($h(e)&&v>0&&(a=Iy(g,v-1),My(a)))return!xT(a)&&(c=Av(a,e,Fk,a),c)?zo(c)?qe(c,c.data.length):qe.after(c):zo(a)?qe(a,a.data.length):qe.before(a);if(Ry(e)&&v<g.childNodes.length&&(a=Iy(g,v),My(a)))return Pk(a)?wT(o,a):!xT(a)&&(c=Av(a,e,Fk,a),c)?zo(c)?qe(c,0):qe.before(c):zo(a)?qe(a,0):qe.after(a);s=a||d.getNode()}if(s&&(Ry(e)&&d.isAtEnd()||$h(e)&&d.isAtStart())&&(s=Av(s,e,pn,o,!0),Fk(s,o)))return sA(e,s);a=s&&Av(s,e,Fk,o);const E=br(nt(Po(g,o),dM));return E&&(!a||!E.contains(a))?(Ry(e)?d=qe.after(E):d=qe.before(E),d):a?sA(e,a):null},zf=e=>({next:t=>rA(zi.Forwards,t,e),prev:t=>rA(zi.Backwards,t,e)}),_T=(e,t,o)=>{const s=e?qe.before(o):qe.after(o);return pd(e,t,s)},uM=e=>fr(e)?qe.before(e):qe.after(e),mn=e=>qe.isTextPosition(e)?e.offset()===0:ss(e.getNode()),aA=e=>{if(qe.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return ss(e.getNode(!0))},Ev=(e,t)=>!qe.isTextPosition(e)&&!qe.isTextPosition(t)&&e.getNode()===t.getNode(!0),AT=e=>!qe.isTextPosition(e)&&fr(e.getNode()),CT=(e,t,o)=>e?!Ev(t,o)&&!AT(t)&&aA(t)&&mn(o):!Ev(o,t)&&mn(t)&&aA(o),pd=(e,t,o)=>{const s=zf(t);return H.from(e?s.next(o):s.prev(o))},Kh=(e,t,o)=>pd(e,t,o).bind(s=>Of(o,s,t)&&CT(e,o,s)?pd(e,t,s):H.some(s)),iA=(e,t,o,s)=>Kh(e,t,o).bind(a=>s(a)?iA(e,t,a,s):H.some(a)),Yh=(e,t)=>{const o=e?t.firstChild:t.lastChild;return kt(o)?H.some(qe(o,e?0:o.data.length)):o?ss(o)?H.some(e?qe.before(o):uM(o)):_T(e,t,o):H.none()},bc=$t(pd,!0),$c=$t(pd,!1),Hl=$t(Yh,!0),Du=$t(Yh,!1),lA="_mce_caret",Gc=e=>ro(e)&&e.id===lA,vg=(e,t)=>{let o=t;for(;o&&o!==e;){if(Gc(o))return o;o=o.parentNode}return null},mM=e=>Qe(e.start),fM=e=>Lo(e,"rng"),gM=e=>Lo(e,"id"),ST=e=>Lo(e,"name"),cA=e=>Mt.isArray(e.start),Df=e=>!ST(e)&&sn(e.forward)?e.forward:!0,dA=(e,t)=>(ro(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),ET=(e,t)=>{const o=H.from(Na(e.getRoot(),t.start)),s=H.from(Na(e.getRoot(),t.end));return na(o,s,(a,c)=>{const d=e.createRng();return d.setStart(a.container(),a.offset()),d.setEnd(c.container(),c.offset()),{range:d,forward:Df(t)}})},pM=(e,t)=>{var o;const a=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(x);e.appendChild(a),t.setStart(a,0),t.setEnd(a,0)},hM=e=>!e.hasChildNodes(),TT=(e,t)=>Du(e).fold(Mo,o=>(t.setStart(o.container(),o.offset()),t.setEnd(o.container(),o.offset()),!0)),uA=(e,t,o)=>hM(t)&&vg(e,t)?(pM(t,o),!0):!1,Vl=(e,t,o,s)=>{const a=o[t?"start":"end"],c=e.getRoot();if(a){let d=c,g=a[0];for(let v=a.length-1;d&&v>=1;v--){const E=d.childNodes;if(uA(c,d,s))return!0;if(a[v]>E.length-1)return uA(c,d,s)?!0:TT(d,s);d=E[a[v]]}kt(d)&&(g=Math.min(a[0],d.data.length)),ro(d)&&(g=Math.min(a[0],d.childNodes.length)),t?s.setStart(d,g):s.setEnd(d,g)}return!0},mA=e=>kt(e)&&e.data.length>0,Tp=(e,t,o)=>{const s=e.get(o.id+"_"+t),a=s==null?void 0:s.parentNode,c=o.keep;if(s&&a){let d,g;if(t==="start"?c?s.hasChildNodes()?(d=s.firstChild,g=1):mA(s.nextSibling)?(d=s.nextSibling,g=0):mA(s.previousSibling)?(d=s.previousSibling,g=s.previousSibling.data.length):(d=a,g=e.nodeIndex(s)+1):(d=a,g=e.nodeIndex(s)):c?s.hasChildNodes()?(d=s.firstChild,g=1):mA(s.previousSibling)?(d=s.previousSibling,g=s.previousSibling.data.length):(d=a,g=e.nodeIndex(s)):(d=a,g=e.nodeIndex(s)),!c){const v=s.previousSibling,E=s.nextSibling;Mt.each(Mt.grep(s.childNodes),B=>{kt(B)&&(B.data=B.data.replace(/\uFEFF/g,""))});let I;for(;I=e.get(o.id+"_"+t);)e.remove(I,!0);if(kt(E)&&kt(v)&&!Mn.browser.isOpera()){const B=v.data.length;v.appendData(E.data),e.remove(E),d=v,g=B}}return H.some(qe(d,g))}else return H.none()},Ar=(e,t)=>{const o=e.createRng();return Vl(e,!0,t,o)&&Vl(e,!1,t,o)?H.some({range:o,forward:Df(t)}):H.none()},Uk=(e,t)=>{const o=Tp(e,"start",t),s=Tp(e,"end",t);return na(o,s.or(o),(a,c)=>{const d=e.createRng();return d.setStart(dA(e,a.container()),a.offset()),d.setEnd(dA(e,c.container()),c.offset()),{range:d,forward:Df(t)}})},Wi=(e,t)=>H.from(e.select(t.name)[t.index]).map(o=>{const s=e.createRng();return s.selectNode(o),{range:s,forward:!0}}),kg=(e,t)=>{const o=e.dom;if(t){if(cA(t))return Ar(o,t);if(mM(t))return ET(o,t);if(gM(t))return Uk(o,t);if(ST(t))return Wi(o,t);if(fM(t))return H.some({range:t.rng,forward:Df(t)})}return H.none()},us=(e,t,o)=>G(e,t,o),OT=(e,t)=>{kg(e,t).each(({range:o,forward:s})=>{e.setRng(o,s)})},hd=e=>ro(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",Hk=(e=>t=>e===t)(hn),By=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,tc=e=>!By(e)&&!Hk(e)&&!ku(e),Wd=e=>{const t=[];if(e)for(let o=0;o<e.rangeCount;o++)t.push(e.getRangeAt(o));return t},bM=e=>ln(e,t=>{const o=kf(t);return o?[oe.fromDom(o)]:[]}),fA=e=>Wd(e).length>1,gA=e=>nt(bM(e),wu),yM=e=>$a(e,"td[data-mce-selected],th[data-mce-selected]"),zT=(e,t)=>{const o=yM(t);return o.length>0?o:gA(e)},Rf=e=>zT(Wd(e.selection.getSel()),oe.fromDom(e.getBody())),Op=(e,t)=>Sa(e,"table",t),pA=e=>{const t=e.startContainer,o=e.startOffset;return kt(t)?o===0?H.some(oe.fromDom(t)):H.none():H.from(t.childNodes[o]).map(oe.fromDom)},vM=e=>{const t=e.endContainer,o=e.endOffset;return kt(t)?o===t.data.length?H.some(oe.fromDom(t)):H.none():H.from(t.childNodes[o-1]).map(oe.fromDom)},Ru=e=>pu(e).fold(ht([e]),t=>[e].concat(Ru(t))),hA=e=>Or(e).fold(ht([e]),t=>fn(t)==="br"?li(t).map(o=>[e].concat(hA(o))).getOr([]):[e].concat(hA(t))),bA=(e,t)=>na(pA(t),vM(t),(o,s)=>{const a=on(Ru(e),$t(On,o)),c=on(hA(e),$t(On,s));return a.isSome()&&c.isSome()}).getOr(!1),Kc=(e,t,o,s)=>{const a=o,c=new Da(o,a),d=Ki(e.schema.getMoveCaretBeforeOnEnterElements(),(v,E)=>!Nn(["td","th","table"],E.toLowerCase()));let g=o;do{if(kt(g)&&Mt.trim(g.data).length!==0){s?t.setStart(g,0):t.setEnd(g,g.data.length);return}if(d[g.nodeName]){s?t.setStartBefore(g):g.nodeName==="BR"?t.setEndBefore(g):t.setEndAfter(g);return}}while(g=s?c.next():c.prev());a.nodeName==="BODY"&&(s?t.setStart(a,0):t.setEnd(a,a.childNodes.length))},zp=e=>{const t=e.selection.getSel();return _e(t)&&t.rangeCount>0},Vk=(e,t)=>{const o=Rf(e);o.length>0?ut(o,s=>{const a=s.dom,c=e.dom.createRng();c.setStartBefore(a),c.setEndAfter(a),t(c,!0)}):t(e.selection.getRng(),!1)},$d=(e,t,o)=>{const s=Z(e,t);o(s),e.moveToBookmark(s)},cs=e=>O(e==null?void 0:e.nodeType),Dp=e=>ro(e)&&!hd(e)&&!Gc(e)&&!Nc(e),jk=(e,t)=>{if(Dp(t)&&!/^(TD|TH)$/.test(t.nodeName)){const o=e.getAttrib(t,"data-mce-selected"),s=parseInt(o,10);return!isNaN(s)&&s>0}else return!1},yA=(e,t,o)=>{const{selection:s,dom:a}=e,c=s.getNode(),d=Ts(c);$d(s,!0,()=>{t()}),d&&Ts(c)&&a.isChildOf(c,e.getBody())?e.selection.select(c):o(s.getStart())&&vA(a,s)},vA=(e,t)=>{var o,s;const a=t.getRng(),{startContainer:c,startOffset:d}=a,g=t.getNode();if(!jk(e,g)&&ro(c)){const v=c.childNodes,E=e.getRoot();let I;if(d<v.length){const B=v[d];I=new Da(B,(o=e.getParent(B,e.isBlock))!==null&&o!==void 0?o:E)}else{const B=v[v.length-1];I=new Da(B,(s=e.getParent(B,e.isBlock))!==null&&s!==void 0?s:E),I.next(!0)}for(let B=I.current();B;B=I.next()){if(e.getContentEditable(B)==="false")return;if(kt(B)&&!xA(B)){a.setStart(B,0),t.setRng(a);return}}}},Zk=(e,t,o)=>{if(e){const s=t?"nextSibling":"previousSibling";for(e=o?e:e[s];e;e=e[s])if(ro(e)||!xA(e))return e}},kA=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||sf(e,t),Rp=(e,t,o)=>e.schema.isValidChild(t,o),xA=(e,t=!1)=>{if(_e(e)&&kt(e)){const o=t?e.data.replace(/ /g," "):e.data;return Ud(o)}else return!1},DT=e=>_e(e)&&kt(e)&&e.length===0,RT=(e,t)=>{const o="[data-mce-cef-wrappable]",s=Ek(e),a=nr(s)?o:`${o},${s}`;return ja(oe.fromDom(t),a)},qk=(e,t)=>{const o=e.dom;return Dp(t)&&o.getContentEditable(t)==="false"&&RT(e,t)&&o.select('[contenteditable="true"]',t).length===0},xg=(e,t)=>Je(e)?e(t):(_e(t)&&(e=e.replace(/%(\w+)/g,(o,s)=>t[s]||o)),e),Ly=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),wA=(e,t)=>{if(Vt(e))return null;{let o=String(e);return(t==="color"||t==="backgroundColor")&&(o=dm(o)),t==="fontWeight"&&e===700&&(o="bold"),t==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},Wk=(e,t,o)=>{const s=e.getStyle(t,o);return wA(s,o)},NT=(e,t)=>{let o;return e.getParent(t,s=>ro(s)?(o=e.getStyle(s,"text-decoration"),!!o&&o!=="none"):!1),o},$k=(e,t,o)=>e.getParents(t,o,e.getRoot()),_A=(e,t,o)=>{const s=e.formatter.get(t);return _e(s)&&ts(s,o)},MT=(e,t)=>_A(e,t,s=>{const a=c=>Je(c)||c.length>1&&c.charAt(0)==="%";return ts(["styles","attributes"],c=>hs(s,c).exists(d=>{const g=he(d)?d:cl(d);return ts(g,a)}))}),kM=(e,t,o)=>{const s=["inline","block","selector","attributes","styles","classes"],a=c=>Ki(c,(d,g)=>ts(s,v=>v===g));return _A(e,t,c=>{const d=a(c);return _A(e,o,g=>{const v=a(g);return bi(d,v)})})},Nf=e=>ni(e,"block"),IT=e=>Nf(e)&&e.wrapper===!0,BT=e=>Nf(e)&&e.wrapper!==!0,Gd=e=>ni(e,"selector"),Di=e=>ni(e,"inline"),LT=e=>Gd(e)&&Di(e)&&iu(hs(e,"mixed"),!0),yc=e=>Gd(e)&&e.expand!==!1&&!Di(e),xM=e=>{const t=[];let o=e;for(;o;){if(kt(o)&&o.data!==x||o.childNodes.length>1)return[];ro(o)&&t.push(o),o=o.firstChild}return t},AA=e=>xM(e).length>0,Tv=e=>Gc(e.dom)&&AA(e.dom),Np=hd,CA=$k,SA=xA,EA=kA,PT=e=>fr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,Kd=(e,t)=>{let o=t;for(;o;){if(ro(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:t;o=o.parentNode}return t},FT=(e,t,o,s)=>{const a=t.data;if(e){for(let c=o;c>0;c--)if(s(a.charAt(c-1)))return c}else for(let c=o;c<a.length;c++)if(s(a.charAt(c)))return c;return-1},TA=(e,t,o)=>FT(e,t,o,s=>Hk(s)||By(s)),Yd=(e,t,o)=>FT(e,t,o,tc),Py=(e,t,o,s,a,c)=>{let d;const g=e.getParent(o,e.isBlock)||t,v=(I,B,U)=>{const X=bf(e),ne=a?X.backwards:X.forwards;return H.from(ne(I,B,(Q,se)=>Np(Q.parentNode)?-1:(d=Q,U(a,Q,se)),g))};return v(o,s,TA).bind(I=>c?v(I.container,I.offset+(a?-1:0),Yd):H.some(I)).orThunk(()=>d?H.some({container:d,offset:a?0:d.length}):H.none())},Qh=(e,t,o,s,a)=>{const c=s[a];kt(s)&&nr(s.data)&&c&&(s=c);const d=CA(e,s);for(let g=0;g<d.length;g++)for(let v=0;v<t.length;v++){const E=t[v];if(!(_e(E.collapsed)&&E.collapsed!==o.collapsed)&&Gd(E)&&e.is(d[g],E.selector))return d[g]}return s},UT=(e,t,o,s)=>{var a;let c=o;const d=e.getRoot(),g=t[0];if(Nf(g)&&(c=g.wrapper?null:e.getParent(o,g.block,d)),!c){const v=(a=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&a!==void 0?a:d;c=e.getParent(kt(o)?o.parentNode:o,E=>E!==d&&EA(e.schema,E),v)}if(c&&Nf(g)&&g.wrapper&&(c=CA(e,c,"ul,ol").reverse()[0]||c),!c)for(c=o;c&&c[s]&&!e.isBlock(c[s])&&(c=c[s],!Ly(c,"br")););return c||o},Jh=(e,t,o,s)=>{const a=o.parentNode;return _e(o[s])?!1:a===t||Vt(a)||e.isBlock(a)?!0:Jh(e,t,a,s)},bs=(e,t,o,s,a)=>{let c=o;const d=a?"previousSibling":"nextSibling",g=e.getRoot();if(kt(o)&&!SA(o)&&(a?s>0:s<o.data.length))return o;for(;c;){if(!t[0].block_expand&&e.isBlock(c))return c;for(let v=c[d];v;v=v[d]){const E=kt(v)&&!Jh(e,g,v,d);if(!Np(v)&&!PT(v)&&!SA(v,E))return c}if(c===g||c.parentNode===g){o=c;break}c=c.parentNode}return o},Fy=e=>Np(e.parentNode)||Np(e),Mp=(e,t,o,s=!1)=>{let{startContainer:a,startOffset:c,endContainer:d,endOffset:g}=t;const v=o[0];return ro(a)&&a.hasChildNodes()&&(a=jc(a,c),kt(a)&&(c=0)),ro(d)&&d.hasChildNodes()&&(d=jc(d,t.collapsed?g:g-1),kt(d)&&(g=d.data.length)),a=Kd(e,a),d=Kd(e,d),Fy(a)&&(a=Np(a)?a:a.parentNode,t.collapsed?a=a.previousSibling||a:a=a.nextSibling||a,kt(a)&&(c=t.collapsed?a.length:0)),Fy(d)&&(d=Np(d)?d:d.parentNode,t.collapsed?d=d.nextSibling||d:d=d.previousSibling||d,kt(d)&&(g=t.collapsed?0:d.length)),t.collapsed&&(Py(e,e.getRoot(),a,c,!0,s).each(({container:B,offset:U})=>{a=B,c=U}),Py(e,e.getRoot(),d,g,!1,s).each(({container:B,offset:U})=>{d=B,g=U})),(Di(v)||v.block_expand)&&((!Di(v)||!kt(a)||c===0)&&(a=bs(e,o,a,c,!0)),(!Di(v)||!kt(d)||g===d.data.length)&&(d=bs(e,o,d,g,!1))),yc(v)&&(a=Qh(e,o,t,a,"previousSibling"),d=Qh(e,o,t,d,"nextSibling")),(Nf(v)||Gd(v))&&(a=UT(e,o,a,"previousSibling"),d=UT(e,o,d,"nextSibling"),Nf(v)&&(e.isBlock(a)||(a=bs(e,o,a,c,!0)),e.isBlock(d)||(d=bs(e,o,d,g,!1)))),ro(a)&&a.parentNode&&(c=e.nodeIndex(a),a=a.parentNode),ro(d)&&d.parentNode&&(g=e.nodeIndex(d)+1,d=d.parentNode),{startContainer:a,startOffset:c,endContainer:d,endOffset:g}},Uy=(e,t,o)=>{var s;const a=t.startOffset,c=jc(t.startContainer,a),d=t.endOffset,g=jc(t.endContainer,d-1),v=se=>{const ke=se[0];kt(ke)&&ke===c&&a>=ke.data.length&&se.splice(0,1);const Ce=se[se.length-1];return d===0&&se.length>0&&Ce===g&&kt(Ce)&&se.splice(se.length-1,1),se},E=(se,ke,Ce)=>{const we=[];for(;se&&se!==Ce;se=se[ke])we.push(se);return we},I=(se,ke)=>e.getParent(se,Ce=>Ce.parentNode===ke,ke),B=(se,ke,Ce)=>{const we=Ce?"nextSibling":"previousSibling";for(let Ne=se,bt=Ne.parentNode;Ne&&Ne!==ke;Ne=bt){bt=Ne.parentNode;const Bt=E(Ne===se?Ne:Ne[we],we);Bt.length&&(Ce||Bt.reverse(),o(v(Bt)))}};if(c===g)return o(v([c]));const U=(s=e.findCommonAncestor(c,g))!==null&&s!==void 0?s:e.getRoot();if(e.isChildOf(c,g))return B(c,U,!0);if(e.isChildOf(g,c))return B(g,U);const X=I(c,U)||c,ne=I(g,U)||g;B(c,X,!0);const Q=E(X===c?X:X.nextSibling,"nextSibling",ne===g?ne.nextSibling:ne);Q.length&&o(v(Q)),B(g,ne)},OA=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],zA=e=>kr(e)&&xu(e)===x,DA=(e,t,o,s)=>Za(t).fold(()=>"skipping",a=>s==="br"||zA(t)?"valid":rl(t)?"existing":Gc(t.dom)?"caret":ts(OA,c=>ja(t,c))?"valid-block":!Rp(e,o,s)||!Rp(e,fn(a),o)?"invalid-child":"valid"),RA=(e,t)=>{const o=Mp(e.dom,t,[{inline:"span"}]);t.setStart(o.startContainer,o.startOffset),t.setEnd(o.endContainer,o.endOffset),e.selection.setRng(t)},Ov=(e,t,o,s,a,c)=>{const{uid:d=t,...g}=o;Br(e,Ou()),Cs(e,`${pm()}`,d),Cs(e,`${gf()}`,s);const{attributes:v={},classes:E=[]}=a(d,g);if(Qs(e,v),kk(e,E),c){E.length>0&&Cs(e,`${Zd()}`,E.join(","));const I=vt(v);I.length>0&&Cs(e,`${bp()}`,I.join(","))}},NA=e=>{Kl(e,Ou()),ur(e,`${pm()}`),ur(e,`${gf()}`),ur(e,`${pg()}`);const t=Qi(e,`${bp()}`).map(s=>s.split(",")).getOr([]),o=Qi(e,`${Zd()}`).map(s=>s.split(",")).getOr([]);ut(t,s=>ur(e,s)),py(e,o),ur(e,`${Zd()}`),ur(e,`${bp()}`)},MA=(e,t,o,s,a)=>{const c=oe.fromTag("span",e);return Ov(c,t,o,s,a,!1),c},HT=(e,t,o,s,a,c)=>{const d=[],g=MA(e.getDoc(),o,c,s,a),v=jd(),E=()=>{v.clear()},I=()=>v.get().getOrThunk(()=>{const ne=bm(g);return d.push(ne),v.set(ne),ne}),B=ne=>{ut(ne,U)},U=ne=>{switch(DA(e,ne,"span",fn(ne))){case"invalid-child":{E();const se=Es(ne);B(se),E();break}case"valid-block":{E(),Ov(ne,o,c,s,a,!0);break}case"valid":{const se=I();em(ne,se);break}}},X=ne=>{const Q=Zo(ne,oe.fromDom);B(Q)};return Uy(e.dom,t,ne=>{E(),X(ne)}),d},VT=(e,t,o,s)=>{e.undoManager.transact(()=>{const a=e.selection,c=a.getRng(),d=Rf(e).length>0,g=hm("mce-annotation");if(c.collapsed&&!d&&RA(e,c),a.getRng().collapsed&&!d){const v=MA(e.getDoc(),g,s,t,o.decorate);hu(v,hn),a.getRng().insertNode(v.dom),a.select(v.dom)}else $d(a,!1,()=>{Vk(e,v=>{HT(e,v,g,t,o.decorate,s)})})})},IA=e=>{const t=iv();gy(e,t);const o=N_(e,t),s=Er("span"),a=c=>{ut(c,d=>{s(d)?ra(d):NA(d)})};return{register:(c,d)=>{t.register(c,d)},annotate:(c,d)=>{t.lookup(c).each(g=>{VT(e,c,g,d)})},annotationChanged:(c,d)=>{o.addListener(c,d)},remove:c=>{my(e,H.some(c)).each(({elements:d})=>{const g=e.selection.getBookmark();a(d),e.selection.moveToBookmark(g)})},removeAll:c=>{const d=e.selection.getBookmark();An(fy(e,c),(g,v)=>{a(g)}),e.selection.moveToBookmark(d)},getAll:c=>{const d=fy(e,c);return Fa(d,g=>Zo(g,v=>v.dom))}}},Hy=e=>({getBookmark:$t(us,e),moveToBookmark:$t(OT,e)});Hy.isBookmarkNode=hd;const Xh=(e,t,o)=>o.collapsed?!1:ts(o.getClientRects(),s=>lv(s,e,t)),jT=(e,t)=>e.dispatch("PreProcess",t),BA=(e,t)=>e.dispatch("PostProcess",t),wM=e=>{e.dispatch("remove")},_M=e=>{e.dispatch("detach")},ZT=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},qT=(e,t,o,s,a)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:s,origin:a})},WT=(e,t,o,s,a)=>{e.dispatch("ObjectResized",{target:t,width:o,height:s,origin:a})},Gk=e=>{e.dispatch("PreInit")},$T=e=>{e.dispatch("PostRender")},GT=e=>{e.dispatch("Init")},KT=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},LA=(e,t,o)=>{e.dispatch(t,o)},PA=(e,t,o,s)=>{e.dispatch("FormatApply",{format:t,node:o,vars:s})},FA=(e,t,o,s)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:s})},YT=(e,t)=>e.dispatch("BeforeSetContent",t),UA=(e,t)=>e.dispatch("SetContent",t),QT=(e,t)=>e.dispatch("BeforeGetContent",t),HA=(e,t)=>e.dispatch("GetContent",t),VA=(e,t)=>{e.dispatch("AutocompleterStart",t)},JT=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},XT=e=>{e.dispatch("AutocompleterEnd")},e4=(e,t,o)=>e.dispatch("PastePreProcess",{content:t,internal:o}),t4=(e,t,o)=>e.dispatch("PastePostProcess",{node:t,internal:o}),jA=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),o4=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),Xt={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Xt.metaKeyPressed(e),metaKeyPressed:e=>Mn.os.isMacOS()||Mn.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Mf="data-mce-selected",Kk="table,img,figure.image,hr,video,span.mce-preview-object,details",Yk=Math.abs,zv=Math.round,Vy={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},ZA=e=>e.type==="longpress"||e.type.indexOf("touch")===0,jy=(e,t)=>{const o=t.dom,s=t.getDoc(),a=document,c=t.getBody();let d,g,v,E,I,B,U,X,ne,Q,se,ke,Ce,we,Ne,bt,Bt;const Kt=Ft=>_e(Ft)&&(Wm(Ft)||o.is(Ft,"figure.image")),Ye=Ft=>ao(Ft)||o.hasClass(Ft,"mce-preview-object"),He=(Ft,tn)=>{if(ZA(Ft)){const Fn=Ft.touches[0];return Kt(Ft.target)&&!Xh(Fn.clientX,Fn.clientY,tn)}else return Kt(Ft.target)&&!Xh(Ft.clientX,Ft.clientY,tn)},pt=Ft=>{const tn=Ft.target;He(Ft,t.selection.getRng())&&!Ft.isDefaultPrevented()&&t.selection.select(tn)},io=Ft=>o.hasClass(Ft,"mce-preview-object")&&_e(Ft.firstElementChild)?[Ft,Ft.firstElementChild]:o.is(Ft,"figure.image")?[Ft.querySelector("img")]:[Ft],Co=Ft=>{const tn=U_(t);return!tn||Ft.getAttribute("data-mce-resize")==="false"||Ft===t.getBody()?!1:o.hasClass(Ft,"mce-preview-object")&&_e(Ft.firstElementChild)?ja(oe.fromDom(Ft.firstElementChild),tn):ja(oe.fromDom(Ft),tn)},vn=Ft=>Ye(Ft)?o.create("img",{src:Mn.transparentSrc}):Ft.cloneNode(!0),En=(Ft,tn,Fn)=>{if(_e(Fn)){const qs=io(Ft);ut(qs,Bs=>{Bs.style[tn]||!t.schema.isValid(Bs.nodeName.toLowerCase(),tn)?o.setStyle(Bs,tn,Fn):o.setAttrib(Bs,tn,""+Fn)})}},Ds=(Ft,tn,Fn)=>{En(Ft,"width",tn),En(Ft,"height",Fn)},Gs=Ft=>{let tn,Fn,qs,Bs,$i;tn=Ft.screenX-B,Fn=Ft.screenY-U,we=tn*E[2]+Q,Ne=Fn*E[3]+se,we=we<5?5:we,Ne=Ne<5?5:Ne,(Kt(d)||Ye(d))&&yv(t)!==!1?qs=!Xt.modifierPressed(Ft):qs=Xt.modifierPressed(Ft),qs&&(Yk(tn)>Yk(Fn)?(Ne=zv(we*ke),we=zv(Ne/ke)):(we=zv(Ne/ke),Ne=zv(we*ke))),Ds(g,we,Ne),Bs=E.startPos.x+tn,$i=E.startPos.y+Fn,Bs=Bs>0?Bs:0,$i=$i>0?$i:0,o.setStyles(v,{left:Bs,top:$i,display:"block"}),v.innerHTML=we+" &times; "+Ne,E[2]<0&&g.clientWidth<=we&&o.setStyle(g,"left",X+(Q-we)),E[3]<0&&g.clientHeight<=Ne&&o.setStyle(g,"top",ne+(se-Ne)),tn=c.scrollWidth-bt,Fn=c.scrollHeight-Bt,tn+Fn!==0&&o.setStyles(v,{left:Bs-tn,top:$i-Fn}),Ce||(qT(t,d,Q,se,"corner-"+E.name),Ce=!0)},Jr=()=>{const Ft=Ce;Ce=!1,Ft&&(En(d,"width",we),En(d,"height",Ne)),o.unbind(s,"mousemove",Gs),o.unbind(s,"mouseup",Jr),a!==s&&(o.unbind(a,"mousemove",Gs),o.unbind(a,"mouseup",Jr)),o.remove(g),o.remove(v),o.remove(I),wl(d),Ft&&(WT(t,d,we,Ne,"corner-"+E.name),o.setAttrib(d,"style",o.getAttrib(d,"style"))),t.nodeChanged()},wl=Ft=>{Dn();const tn=o.getPos(Ft,c),Fn=tn.x,qs=tn.y,Bs=Ft.getBoundingClientRect(),$i=Bs.width||Bs.right-Bs.left,Yf=Bs.height||Bs.bottom-Bs.top;d!==Ft&&(jt(),d=Ft,we=Ne=0);const oh=t.dispatch("ObjectSelected",{target:Ft});Co(Ft)&&!oh.isDefaultPrevented()?An(Vy,(Xc,Mm)=>{const nn=Ks=>{const ca=io(d)[0];B=Ks.screenX,U=Ks.screenY,Q=ca.clientWidth,se=ca.clientHeight,ke=se/Q,E=Xc,E.name=Mm,E.startPos={x:$i*Xc[0]+Fn,y:Yf*Xc[1]+qs},bt=c.scrollWidth,Bt=c.scrollHeight,I=o.add(c,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(I,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),g=vn(d),o.addClass(g,"mce-clonedresizable"),o.setAttrib(g,"data-mce-bogus","all"),g.contentEditable="false",o.setStyles(g,{left:Fn,top:qs,margin:0}),Ds(g,$i,Yf),g.removeAttribute(Mf),c.appendChild(g),o.bind(s,"mousemove",Gs),o.bind(s,"mouseup",Jr),a!==s&&(o.bind(a,"mousemove",Gs),o.bind(a,"mouseup",Jr)),v=o.add(c,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},Q+" &times; "+se)};let es=o.get("mceResizeHandle"+Mm);es&&o.remove(es),es=o.add(c,"div",{id:"mceResizeHandle"+Mm,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Mm+"-resize; margin:0; padding:0"}),o.bind(es,"mousedown",Ks=>{Ks.stopImmediatePropagation(),Ks.preventDefault(),nn(Ks)}),Xc.elm=es,o.setStyles(es,{left:$i*Xc[0]+Fn-es.offsetWidth/2,top:Yf*Xc[1]+qs-es.offsetHeight/2})}):jt(!1)},Rs=zh(wl,0),jt=(Ft=!0)=>{Rs.cancel(),Dn(),d&&Ft&&d.removeAttribute(Mf),An(Vy,(tn,Fn)=>{const qs=o.get("mceResizeHandle"+Fn);qs&&(o.unbind(qs),o.remove(qs))})},fo=(Ft,tn)=>o.isChildOf(Ft,tn),Xn=Ft=>{if(Ce||t.removed||t.composing)return;const tn=Ft.type==="mousedown"?Ft.target:e.getNode(),Fn=Hi(oe.fromDom(tn),Kk).map(Bs=>Bs.dom).filter(Bs=>o.isEditable(Bs.parentElement)||Bs.nodeName==="IMG"&&o.isEditable(Bs)).getOrUndefined(),qs=_e(Fn)?o.getAttrib(Fn,Mf,"1"):"1";if(ut(o.select(`img[${Mf}],hr[${Mf}]`),Bs=>{Bs.removeAttribute(Mf)}),_e(Fn)&&fo(Fn,c)&&t.hasFocus()){co();const Bs=e.getStart(!0);if(fo(Bs,Fn)&&fo(e.getEnd(!0),Fn)){o.setAttrib(Fn,Mf,qs),Rs.throttle(Fn);return}}jt()},Dn=()=>{An(Vy,Ft=>{Ft.elm&&(o.unbind(Ft.elm),delete Ft.elm)})},co=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{co(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Xn),t.on("keyup compositionend",Ft=>{d&&d.nodeName==="TABLE"&&Xn(Ft)}),t.on("hide blur",jt),t.on("contextmenu longpress",pt,!0)}),t.on("remove",Dn),{isResizable:Co,showResizeRect:wl,hideResizeRect:jt,updateResizeRect:Xn,destroy:()=>{Rs.cancel(),d=g=I=null}}},qA=(e,t)=>{t.fold(o=>{e.setStartBefore(o.dom)},(o,s)=>{e.setStart(o.dom,s)},o=>{e.setStartAfter(o.dom)})},n4=(e,t)=>{t.fold(o=>{e.setEndBefore(o.dom)},(o,s)=>{e.setEnd(o.dom,s)},o=>{e.setEndAfter(o.dom)})},eb=(e,t,o)=>{const s=e.document.createRange();return qA(s,t),n4(s,o),s},Dv=(e,t,o,s,a)=>{const c=e.document.createRange();return c.setStart(t.dom,o),c.setEnd(s.dom,a),c},tb=Ee.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Zy=(e,t,o)=>t(oe.fromDom(o.startContainer),o.startOffset,oe.fromDom(o.endContainer),o.endOffset),Ip=(e,t)=>t.match({domRange:o=>({ltr:ht(o),rtl:H.none}),relative:(o,s)=>({ltr:si(()=>eb(e,o,s)),rtl:si(()=>H.some(eb(e,s,o)))}),exact:(o,s,a,c)=>({ltr:si(()=>Dv(e,o,s,a,c)),rtl:si(()=>H.some(Dv(e,a,c,o,s)))})}),s4=(e,t)=>{const o=t.ltr();return o.collapsed?t.rtl().filter(a=>a.collapsed===!1).map(a=>tb.rtl(oe.fromDom(a.endContainer),a.endOffset,oe.fromDom(a.startContainer),a.startOffset)).getOrThunk(()=>Zy(e,tb.ltr,o)):Zy(e,tb.ltr,o)},AM=(e,t)=>{const o=Ip(e,t);return s4(e,o)};tb.ltr,tb.rtl;const WA={create:(e,t,o,s)=>({start:e,soffset:t,finish:o,foffset:s})},$A=(e,t,o)=>{var s,a;return H.from((a=(s=e.dom).caretPositionFromPoint)===null||a===void 0?void 0:a.call(s,t,o)).bind(c=>{if(c.offsetNode===null)return H.none();const d=e.dom.createRange();return d.setStart(c.offsetNode,c.offset),d.collapse(),H.some(d)})},wm=(e,t,o)=>{var s,a;return H.from((a=(s=e.dom).caretRangeFromPoint)===null||a===void 0?void 0:a.call(s,t,o))},GA=document.caretPositionFromPoint?$A:document.caretRangeFromPoint?wm:H.none,Qk=(e,t,o)=>{const s=oe.fromDom(e.document);return GA(s,t,o).map(a=>WA.create(oe.fromDom(a.startContainer),a.startOffset,oe.fromDom(a.endContainer),a.endOffset))},Jk=Ee.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),SM=(e,t,o,s)=>e.fold(t,o,s),r4=e=>e.fold(So,So,So),a4=Jk.before,KA=Jk.on,i4=Jk.after,Qd={before:a4,on:KA,after:i4,cata:SM,getStart:r4},Rv=Ee.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),l4=e=>Rv.exact(e.start,e.soffset,e.finish,e.foffset),c4=e=>e.match({domRange:t=>oe.fromDom(t.startContainer),relative:(t,o)=>Qd.getStart(t),exact:(t,o,s,a)=>t}),EM=Rv.domRange,YA=Rv.relative,ob=Rv.exact,TM=e=>{const t=c4(e);return ul(t)},OM=WA.create,wg={domRange:EM,relative:YA,exact:ob,exactFromRange:l4,getWin:TM,range:OM},Nv=(e,t)=>{const o=fn(e);return o==="input"?Qd.after(e):Nn(["br","img"],o)?t===0?Qd.before(e):Qd.after(e):Qd.on(e,t)},d4=(e,t)=>{const o=e.fold(Qd.before,Nv,Qd.after),s=t.fold(Qd.before,Nv,Qd.after);return wg.relative(o,s)},u4=(e,t,o,s)=>{const a=Nv(e,t),c=Nv(o,s);return wg.relative(a,c)},m4=e=>e.match({domRange:t=>{const o=oe.fromDom(t.startContainer),s=oe.fromDom(t.endContainer);return u4(o,t.startOffset,s,t.endOffset)},relative:d4,exact:u4}),_g=(e,t)=>{const s=(t||document).createDocumentFragment();return ut(e,a=>{s.appendChild(a.dom)}),oe.fromDom(s)},f4=e=>{const t=wg.getWin(e).dom,o=(a,c,d,g)=>Dv(t,a,c,d,g),s=m4(e);return AM(t,s).match({ltr:o,rtl:o})},g4=(e,t,o)=>Qk(e,t,o),QA=(e,t,o)=>{const s=ul(oe.fromDom(o));return g4(s.dom,e,t).map(a=>{const c=o.createRange();return c.setStart(a.start.dom,a.soffset),c.setEnd(a.finish.dom,a.foffset),c}).getOrUndefined()},qy=(e,t)=>_e(e)&&_e(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,p4=(e,t,o)=>{let s=e;for(;s&&s!==t;){if(o(s))return s;s=s.parentNode}return null},JA=(e,t,o)=>p4(e,t,o)!==null,zM=(e,t,o)=>JA(e,t,s=>s.nodeName===o),Xk=(e,t)=>bo(e)&&!JA(e,t,Gc),XA=(e,t,o)=>{const s=t.parentNode;if(s){const a=new Da(t,e.getParent(s,e.isBlock)||e.getRoot());let c;for(;c=a[o?"prev":"next"]();)if(fr(c))return!0}return!1},e2=(e,t)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===t},h4=(e,t)=>{let o=t;for(;o&&o!==e;){if(Ts(o))return!0;o=o.parentNode}return!1},Mv=(e,t,o,s,a)=>{const c=e.getRoot(),d=e.schema.getNonEmptyElements(),g=a.parentNode;let v,E;if(!g)return H.none();const I=e.getParent(g,e.isBlock)||c;if(s&&fr(a)&&t&&e.isEmpty(I))return H.some(qe(g,e.nodeIndex(a)));const B=new Da(a,I);for(;E=B[s?"prev":"next"]();){if(e.getContentEditableParent(E)==="false"||Xk(E,c))return H.none();if(kt(E)&&E.data.length>0)return zM(E,c,"A")?H.none():H.some(qe(E,s?E.data.length:0));if(e.isBlock(E)||d[E.nodeName.toLowerCase()])return H.none();v=E}return Bd(v)?H.none():o&&v?H.some(qe(v,0)):H.none()},t2=(e,t,o,s)=>{const a=e.getRoot();let c,d=!1,g=o?s.startContainer:s.endContainer,v=o?s.startOffset:s.endOffset;const E=ro(g)&&v===g.childNodes.length,I=e.schema.getNonEmptyElements();let B=o;if(bo(g))return H.none();if(ro(g)&&v>g.childNodes.length-1&&(B=!1),Ld(g)&&(g=a,v=0),g===a){if(B&&(c=g.childNodes[v>0?v-1:0],c&&(bo(c)||I[c.nodeName]||Mc(c))))return H.none();if(g.hasChildNodes()){if(v=Math.min(!B&&v>0?v-1:v,g.childNodes.length-1),g=g.childNodes[v],v=kt(g)&&E?g.data.length:0,!t&&g===a.lastChild&&Mc(g)||h4(a,g)||bo(g)||lg(g))return H.none();if(g.hasChildNodes()&&!Mc(g)){c=g;const U=new Da(g,a);do{if(Ts(c)||bo(c)){d=!1;break}if(kt(c)&&c.data.length>0){v=B?0:c.data.length,g=c,d=!0;break}if(I[c.nodeName.toLowerCase()]&&!Sn(c)){v=e.nodeIndex(c),g=c.parentNode,B||v++,d=!0;break}}while(c=B?U.next():U.prev())}}}return t&&(kt(g)&&v===0&&Mv(e,E,t,!0,g).each(U=>{g=U.container(),v=U.offset(),d=!0}),ro(g)&&(c=g.childNodes[v],c||(c=g.childNodes[v-1]),c&&fr(c)&&!e2(c,"A")&&!XA(e,c,!1)&&!XA(e,c,!0)&&Mv(e,E,t,!0,c).each(U=>{g=U.container(),v=U.offset(),d=!0}))),B&&!t&&kt(g)&&v===g.data.length&&Mv(e,E,t,!1,g).each(U=>{g=U.container(),v=U.offset(),d=!0}),d&&g?H.some(qe(g,v)):H.none()},nb=(e,t)=>{const o=t.collapsed,s=t.cloneRange(),a=qe.fromRangeStart(t);return t2(e,o,!0,s).each(c=>{(!o||!qe.isAbove(a,c))&&s.setStart(c.container(),c.offset())}),o||t2(e,o,!1,s).each(c=>{s.setEnd(c.container(),c.offset())}),o&&s.collapse(!0),qy(t,s)?H.none():H.some(s)},Nu=(e,t)=>e.splitText(t),ex=e=>{let t=e.startContainer,o=e.startOffset,s=e.endContainer,a=e.endOffset;if(t===s&&kt(t)){if(o>0&&o<t.data.length)if(s=Nu(t,o),t=s.previousSibling,a>o){a=a-o;const c=Nu(s,a).previousSibling;t=s=c,a=c.data.length,o=0}else a=0}else if(kt(t)&&o>0&&o<t.data.length&&(t=Nu(t,o),o=0),kt(s)&&a>0&&a<s.data.length){const c=Nu(s,a).previousSibling;s=c,a=c.data.length}return{startContainer:t,startOffset:o,endContainer:s,endOffset:a}},Ag=e=>({walk:(c,d)=>Uy(e,c,d),split:ex,expand:(c,d={type:"word"})=>{if(d.type==="word"){const g=Mp(e,c,[{inline:"span"}]),v=e.createRng();return v.setStart(g.startContainer,g.startOffset),v.setEnd(g.endContainer,g.endOffset),v}return c},normalize:c=>nb(e,c).fold(Mo,d=>(c.setStart(d.startContainer,d.startOffset),c.setEnd(d.endContainer,d.endOffset),!0))});Ag.compareRanges=qy,Ag.getCaretRangeFromPoint=QA,Ag.getSelectedNode=kf,Ag.getNode=jc;const o2=((e,t)=>{const o=(g,v)=>{if(!O(v)&&!v.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+v);const E=g.dom;Xi(E)&&(E.style[e]=v+"px")},s=g=>{const v=t(g);if(v<=0||v===null){const E=ha(g,e);return parseFloat(E)||0}return v},a=s,c=(g,v)=>rn(v,(E,I)=>{const B=ha(g,I),U=B===void 0?0:parseInt(B,10);return isNaN(U)?E:E+U},0);return{set:o,get:s,getOuter:a,aggregate:c,max:(g,v,E)=>{const I=c(g,E);return v>I?v-I:0}}})("height",e=>{const t=e.dom;return wr(e)?t.getBoundingClientRect().height:t.offsetHeight}),n2=e=>o2.get(e),If=()=>oe.fromDom(document),s2=(e,t)=>e.view(t).fold(ht([]),s=>{const a=e.owner(s),c=s2(e,a);return[s].concat(c)}),b4=(e,t)=>{const o=t.owner(e);return s2(t,o)};var DM=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?H.none():H.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(oe.fromDom)},owner:e=>Pi(e)});const Wy=e=>{const t=If(),o=oo(t),s=b4(e,DM),a=wt(e),c=go(s,(d,g)=>{const v=wt(g);return{left:d.left+v.left,top:d.top+v.top}},{left:0,top:0});return N(c.left+a.left+o.left,c.top+a.top+o.top)},r2=e=>fn(e)==="textarea",sb=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),RM=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},Bp=(e,t)=>{const o=Es(e);if(o.length===0||r2(e))return{element:e,offset:t};if(t<o.length&&!r2(o[t]))return{element:o[t],offset:0};{const s=o[o.length-1];return r2(s)?{element:e,offset:t}:fn(s)==="img"?{element:s,offset:1}:kr(s)?{element:s,offset:xu(s).length}:{element:s,offset:Es(s).length}}},bd=(e,t)=>{const o=ge(e),s=n2(e);return{element:e,bottom:o.top+s,height:s,pos:o,cleanup:t}},ox=(e,t)=>{const o=Bp(e,t),s=oe.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+x+"</span>");return zr(o.element,s),bd(s,()=>Hn(s))},a2=e=>bd(oe.fromDom(e),dt),y4=(e,t,o,s)=>{Mu(e,(a,c)=>nx(e,t,o,s),o)},v4=(e,t,o,s,a)=>{const c={elm:s.element.dom,alignToTop:a};if(sb(e,c))return;const d=oo(t).top;o(e,t,d,s,a),RM(e,c)},nx=(e,t,o,s)=>{const a=oe.fromDom(e.getBody()),c=oe.fromDom(e.getDoc());gc(a);const d=ox(oe.fromDom(o.startContainer),o.startOffset);v4(e,c,t,d,s),d.cleanup()},k4=(e,t,o,s)=>{const a=oe.fromDom(e.getDoc());v4(e,a,o,a2(t),s)},Mu=(e,t,o)=>{const s=o.startContainer,a=o.startOffset,c=o.endContainer,d=o.endOffset;t(oe.fromDom(s),oe.fromDom(c));const g=e.dom.createRng();g.setStart(s,a),g.setEnd(c,d),e.selection.setRng(o)},$y=(e,t,o,s,a)=>{const c=t.pos;if(s)Wo(c.left,c.top,a);else{const d=c.top-o+t.height;Wo(-e.getBody().getBoundingClientRect().left,d,a)}},i2=(e,t,o,s,a,c)=>{const d=s+o,g=a.pos.top,v=a.bottom,E=v-g>=s;g<o?$y(e,a,s,c!==!1,t):g>d?$y(e,a,s,E?c!==!1:c===!0,t):v>d&&!E&&$y(e,a,s,c===!0,t)},sx=(e,t,o,s,a)=>{const c=ul(t).dom.innerHeight;i2(e,t,o,c,s,a)},rx=(e,t,o,s,a)=>{const c=ul(t).dom.innerHeight;i2(e,t,o,c,s,a);const d=Wy(s.element),g=Yr(window);d.top<g.y?Eo(s.element,a!==!1):d.top>g.bottom&&Eo(s.element,a===!0)},rb=(e,t,o)=>y4(e,sx,t,o),l2=(e,t,o)=>k4(e,t,sx,o),x4=(e,t,o)=>y4(e,rx,t,o),NM=(e,t,o)=>k4(e,t,rx,o),Iv=(e,t,o)=>{(e.inline?l2:NM)(e,t,o)},Bv=(e,t,o)=>{(e.inline?rb:x4)(e,t,o)},c2=(e,t=!1)=>e.dom.focus({preventScroll:t}),ax=e=>{const t=Oc(e).dom;return e.dom===t.activeElement},d2=(e=If())=>H.from(e.dom.activeElement).map(oe.fromDom),w4=e=>d2(Oc(e)).filter(t=>e.dom.contains(t.dom)),u2=(e,t)=>{const o=kr(t)?xu(t).length:Es(t).length+1;return e>o?o:e<0?0:e},MM=e=>wg.range(e.start,u2(e.soffset,e.start),e.finish,u2(e.foffset,e.finish)),_4=(e,t)=>!Zm(t.dom)&&(Li(e,t)||On(e,t)),A4=e=>t=>_4(e,t.start)&&_4(e,t.finish),IM=e=>e.inline||Mn.browser.isFirefox(),BM=e=>wg.range(oe.fromDom(e.startContainer),e.startOffset,oe.fromDom(e.endContainer),e.endOffset),LM=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?H.none():H.from(t.getRangeAt(0))).map(BM)},PM=e=>{const t=ul(e);return LM(t.dom).filter(A4(e))},FM=(e,t)=>H.from(t).filter(A4(e)).map(MM),UM=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),H.some(t)}catch{return H.none()}},m2=e=>{const t=IM(e)?PM(oe.fromDom(e.getBody())):H.none();e.bookmark=t.isSome()?t:e.bookmark},f2=e=>(e.bookmark?e.bookmark:H.none()).bind(o=>FM(oe.fromDom(e.getBody()),o)).bind(UM),C4=e=>{f2(e).each(t=>e.selection.setRng(t))},ab={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},HM=(e,t)=>(O(t)||(t=0),setTimeout(e,t)),VM=(e,t)=>(O(t)||(t=0),setInterval(e,t)),yd={setEditorTimeout:(e,t,o)=>HM(()=>{e.removed||t()},o),setEditorInterval:(e,t,o)=>{const s=VM(()=>{e.removed?clearInterval(s):t()},o);return s}},jM=e=>e.type==="nodechange"&&e.selectionChange,ZM=(e,t)=>{const o=()=>{t.throttle()};Hs.DOM.bind(document,"mouseup",o),e.on("remove",()=>{Hs.DOM.unbind(document,"mouseup",o)})},qM=(e,t)=>{e.on("mouseup touchend",o=>{t.throttle()})},WM=(e,t)=>{qM(e,t),e.on("keyup NodeChange AfterSetSelectionRange",o=>{jM(o)||m2(e)})},$M=e=>{const t=zh(()=>{m2(e)},0);e.on("init",()=>{e.inline&&ZM(e,t),WM(e,t)}),e.on("remove",()=>{t.cancel()})};let Gy;const Lv=Hs.DOM,Pv=e=>ro(e)&&ab.isEditorUIElement(e),ix=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},Lp=(e,t)=>{const o=Wc(e);return Lv.getParent(t,a=>Pv(a)||(o?e.dom.is(a,o):!1))!==null},ib=e=>{try{const t=Oc(oe.fromDom(e.getElement()));return d2(t).fold(()=>document.body,o=>o.dom)}catch{return document.body}},S4=(e,t)=>{const o=t.editor;$M(o);const s=(a,c)=>{if(tT(a)&&a.inline!==!0){const d=oe.fromDom(a.getContainer());c(d,"tox-edit-focus")}};o.on("focusin",()=>{const a=e.focusedEditor;ix(ib(o))&&s(o,Br),a!==o&&(a&&a.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:a}),o.focus(!0))}),o.on("focusout",()=>{yd.setEditorTimeout(o,()=>{const a=e.focusedEditor;(!ix(ib(o))||a!==o)&&s(o,Kl),!Lp(o,ib(o))&&a===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Gy||(Gy=a=>{const c=e.activeEditor;c&&qa(a).each(d=>{const g=d;g.ownerDocument===document&&g!==document.body&&!Lp(c,g)&&e.focusedEditor===c&&(c.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},Lv.bind(document,"focusin",Gy))},GM=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Gy&&(Lv.unbind(document,"focusin",Gy),Gy=null)},KM=e=>{e.on("AddEditor",$t(S4,e)),e.on("RemoveEditor",$t(GM,e))},YM=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="true"),QM=e=>e.collapsed?H.from(jc(e.startContainer,e.startOffset)).map(oe.fromDom):H.none(),E4=(e,t)=>QM(t).bind(o=>rm(o)?H.some(o):Li(e,o)?H.none():H.some(e)),g2=(e,t)=>{E4(oe.fromDom(e.getBody()),t).bind(o=>Hl(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},p2=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},lx=e=>ax(e)||w4(e).isSome(),T4=e=>_e(e.iframeElement)&&ax(oe.fromDom(e.iframeElement)),Ja=e=>{const t=e.getBody();return t&&lx(oe.fromDom(t))},Ky=e=>{const t=Oc(oe.fromDom(e.getElement()));return d2(t).filter(o=>!ix(o.dom)&&Lp(e,o.dom)).isSome()},Pp=e=>e.inline?Ja(e):T4(e),cx=e=>Pp(e)||Ky(e),dx=e=>{const t=e.selection,o=e.getBody();let s=t.getRng();e.quirks.refreshContentEditable(),_e(e.bookmark)&&!Pp(e)&&f2(e).each(c=>{e.selection.setRng(c),s=c});const a=YM(e,t.getNode());if(a&&e.dom.isChildOf(a,o)){p2(a),g2(e,s),Bf(e);return}e.inline||(Mn.browser.isOpera()||p2(o),e.getWin().focus()),(Mn.browser.isFirefox()||e.inline)&&(p2(o),g2(e,s)),Bf(e)},Bf=e=>e.editorManager.setActive(e),Fp=(e,t)=>{e.removed||(t?Bf(e):dx(e))},O4=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),z4=(e,t,o,s,a)=>{const c=o?t.startContainer:t.endContainer,d=o?t.startOffset:t.endOffset;return H.from(c).map(oe.fromDom).map(g=>!s||!t.collapsed?Ec(g,a(g,d)).getOr(g):g).bind(g=>xi(g)?H.some(g):Za(g).filter(xi)).map(g=>g.dom).getOr(e)},lb=(e,t,o=!1)=>z4(e,t,!0,o,(s,a)=>Math.min(fc(s),a)),cb=(e,t,o=!1)=>z4(e,t,!1,o,(s,a)=>a>0?a-1:a),db=(e,t)=>{const o=e;for(;e&&kt(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||o},D4=(e,t)=>{if(!t)return e;let o=t.startContainer,s=t.endContainer;const a=t.startOffset,c=t.endOffset;let d=t.commonAncestorContainer;t.collapsed||(o===s&&c-a<2&&o.hasChildNodes()&&(d=o.childNodes[a]),kt(o)&&kt(s)&&(o.length===a?o=db(o.nextSibling,!0):o=o.parentNode,c===0?s=db(s.previousSibling,!1):s=s.parentNode,o&&o===s&&(d=o)));const g=kt(d)?d.parentNode:d;return _i(g)?g:e},h2=(e,t,o,s)=>{const a=[],c=e.getRoot(),d=e.getParent(o||lb(c,t,t.collapsed),e.isBlock),g=e.getParent(s||cb(c,t,t.collapsed),e.isBlock);if(d&&d!==c&&a.push(d),d&&g&&d!==g){let v;const E=new Da(d,c);for(;(v=E.next())&&v!==g;)e.isBlock(v)&&a.push(v)}return g&&d!==g&&g!==c&&a.push(g),a},R4=(e,t,o)=>H.from(t).bind(s=>H.from(s.parentNode).map(a=>{const c=e.nodeIndex(s),d=e.createRng();return d.setStart(a,c),d.setEnd(a,c+1),o&&(Kc(e,d,s,!0),Kc(e,d,s,!1)),d})),ux=(e,t)=>Zo(t,o=>{const s=e.dispatch("GetSelectionRange",{range:o});return s.range!==o?s.range:o}),JM=e=>fn(e)==="img"?1:nm(e).fold(()=>Es(e).length,t=>t.length),XM=e=>nm(e).filter(t=>t.trim().length!==0||t.indexOf(hn)>-1).isSome(),N4=e=>uu(e)&&wi(e,"contenteditable")==="false",M4=["img","br"],Yy=e=>XM(e)||Nn(M4,fn(e))||N4(e),I4=e=>sr(e,Yy),B4=e=>L4(e,Yy),L4=(e,t)=>{const o=s=>{const a=Es(s);for(let c=a.length-1;c>=0;c--){const d=a[c];if(t(d))return H.some(d);const g=o(d);if(g.isSome())return g}return H.none()};return o(e)},b2="[data-mce-autocompleter]",P4=(e,t)=>{if(y2(oe.fromDom(e.getBody())).isNone()){const o=oe.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());Fs(o,oe.fromDom(t.extractContents())),t.insertNode(o.dom),Za(o).each(s=>s.dom.normalize()),B4(o).map(s=>{e.selection.setCursorLocation(s.dom,JM(s))})}},F4=e=>Hi(e,b2),y2=e=>Ea(e,b2),U4=(e,t)=>y2(t).each(o=>{const s=e.selection.getBookmark();ra(o),e.selection.moveToBookmark(s)}),H4={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Qy=(e,t,o)=>{const s=o?"lastChild":"firstChild",a=o?"prev":"next";if(e[s])return e[s];if(e!==t){let c=e[a];if(c)return c;for(let d=e.parent;d&&d!==t;d=d.parent)if(c=d[a],c)return c}},Fv=e=>{var t;const o=(t=e.value)!==null&&t!==void 0?t:"";if(!Ud(o))return!1;const s=e.parent;return!(s&&(s.name!=="span"||s.attr("style"))&&/^[ ]+$/.test(o))},v2=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class jl{static create(t,o){const s=new jl(t,H4[t]||1);return o&&An(o,(a,c)=>{s.attr(c,a)}),s}constructor(t,o){this.name=t,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(t){const o=this;return t.parent&&t.remove(),o.insert(t,o),o.remove(),o}attr(t,o){const s=this;if(!Qe(t))return _e(t)&&An(t,(c,d)=>{s.attr(d,c)}),s;const a=s.attributes;if(a){if(o!==void 0){if(o===null){if(t in a.map){delete a.map[t];let c=a.length;for(;c--;)if(a[c].name===t)return a.splice(c,1),s}return s}if(t in a.map){let c=a.length;for(;c--;)if(a[c].name===t){a[c].value=o;break}}else a.push({name:t,value:o});return a.map[t]=o,s}return a.map[t]}}clone(){const t=this,o=new jl(t.name,t.type),s=t.attributes;if(s){const a=[];a.map={};for(let c=0,d=s.length;c<d;c++){const g=s[c];g.name!=="id"&&(a[a.length]={name:g.name,value:g.value},a.map[g.name]=g.value)}o.attributes=a}return o.value=t.value,o}wrap(t){const o=this;return o.parent&&(o.parent.insert(t,o),t.append(o)),o}unwrap(){const t=this;for(let o=t.firstChild;o;){const s=o.next;t.insert(o,t,!0),o=s}t.remove()}remove(){const t=this,o=t.parent,s=t.next,a=t.prev;return o&&(o.firstChild===t?(o.firstChild=s,s&&(s.prev=null)):a&&(a.next=s),o.lastChild===t?(o.lastChild=a,a&&(a.next=null)):s&&(s.prev=a),t.parent=t.next=t.prev=null),t}append(t){const o=this;t.parent&&t.remove();const s=o.lastChild;return s?(s.next=t,t.prev=s,o.lastChild=t):o.lastChild=o.firstChild=t,t.parent=o,t}insert(t,o,s){t.parent&&t.remove();const a=o.parent||this;return s?(o===a.firstChild?a.firstChild=t:o.prev&&(o.prev.next=t),t.prev=o.prev,t.next=o,o.prev=t):(o===a.lastChild?a.lastChild=t:o.next&&(o.next.prev=t),t.next=o.next,t.prev=o,o.next=t),t.parent=a,t}getAll(t){const o=this,s=[];for(let a=o.firstChild;a;a=Qy(a,o))a.name===t&&s.push(a);return s}children(){const t=this,o=[];for(let s=t.firstChild;s;s=s.next)o.push(s);return o}empty(){const t=this;if(t.firstChild){const o=[];for(let a=t.firstChild;a;a=Qy(a,t))o.push(a);let s=o.length;for(;s--;){const a=o[s];a.parent=a.firstChild=a.lastChild=a.next=a.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,o={},s){var a;const c=this;let d=c.firstChild;if(v2(c))return!1;if(d)do{if(d.type===1){if(d.attr("data-mce-bogus"))continue;if(t[d.name]||v2(d))return!1}if(d.type===8||d.type===3&&!Fv(d)||d.type===3&&d.parent&&o[d.parent.name]&&Ud((a=d.value)!==null&&a!==void 0?a:"")||s&&s(d))return!1}while(d=Qy(d,c));return!0}walk(t){return Qy(this,null,t)}}const mx=Mt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),V4=e=>Qe(e.nodeValue)&&e.nodeValue.includes(x),j4=e=>`${e.length===0?"":`${Zo(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,Up=(e,t)=>t.querySelectorAll(j4(e)),fx=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>V4(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),k2=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(V4(t)){const o=t.parentNode;return o&&Lo(mx,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),Uv=e=>fx(e).nextNode()!==null,Z4=e=>k2(e).nextNode()!==null,x2=(e,t)=>t.querySelector(j4(e))!==null,q4=(e,t)=>{ut(Up(e,t),o=>{const s=oe.fromDom(o);wi(s,"data-mce-bogus")==="all"?Hn(s):ut(e,a=>{fa(s,a)&&ur(s,a)})})},w2=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},_2=Jt(w2,fx),W4=Jt(w2,k2),$4=(e,t)=>{const o=[{condition:$t(x2,t),action:$t(q4,t)},{condition:Uv,action:_2},{condition:Z4,action:W4}];let s=e,a=!1;return ut(o,({condition:c,action:d})=>{c(s)&&(a||(s=e.cloneNode(!0),a=!0),d(s))}),s},Hv=e=>{const t=$a(e,"[data-mce-bogus]");ut(t,o=>{wi(o,"data-mce-bogus")==="all"?Hn(o):gl(o)?(zr(o,oe.fromText(fl)),Hn(o)):ra(o)})},yl=e=>{const t=$a(e,"input");ut(t,o=>{ur(o,"name")})},gx=(e,t)=>{const o=Ia(e),s=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(s,"")},ub=(e,t)=>{const o=e.getDoc(),s=Oc(oe.fromDom(e.getBody())),a=oe.fromTag("div",o);Cs(a,"data-mce-bogus","all"),el(a,{position:"fixed",left:"-9999999px",top:"0"}),hu(a,t.innerHTML),Hv(a),yl(a);const c=Nl(s);Fs(c,a);const d=F(a.dom.innerText);return Hn(a),d},G4=(e,t,o)=>{let s;return t.format==="raw"?s=Mt.trim(F($4(o,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?s=ub(e,o):t.format==="tree"?s=e.serializer.serialize(o,t):s=gx(e,e.serializer.serialize(o,t)),t.format!=="text"&&!am(oe.fromDom(o))&&Qe(s)?Mt.trim(s):s},Yc=(e,t)=>H.from(e.getBody()).fold(ht(t.format==="tree"?new jl("body",11):""),o=>G4(e,t,o)),Hp=Mt.makeMap,A2=e=>{const t=[];e=e||{};const o=e.indent,s=Hp(e.indent_before||""),a=Hp(e.indent_after||""),c=gr.getEncodeFunc(e.entity_encoding||"raw",e.entities),d=e.element_format!=="xhtml";return{start:(g,v,E)=>{if(o&&s[g]&&t.length>0){const I=t[t.length-1];I.length>0&&I!==`
`&&t.push(`
`)}if(t.push("<",g),v)for(let I=0,B=v.length;I<B;I++){const U=v[I];t.push(" ",U.name,'="',c(U.value,!0),'"')}if(!E||d?t[t.length]=">":t[t.length]=" />",E&&o&&a[g]&&t.length>0){const I=t[t.length-1];I.length>0&&I!==`
`&&t.push(`
`)}},end:g=>{let v;t.push("</",g,">"),o&&a[g]&&t.length>0&&(v=t[t.length-1],v.length>0&&v!==`
`&&t.push(`
`))},text:(g,v)=>{g.length>0&&(t[t.length]=v?g:c(g))},cdata:g=>{t.push("<![CDATA[",g,"]]>")},comment:g=>{t.push("<!--",g,"-->")},pi:(g,v)=>{v?t.push("<?",g," ",c(v),"?>"):t.push("<?",g,"?>"),o&&t.push(`
`)},doctype:g=>{t.push("<!DOCTYPE",g,">",o?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Cg=(e={},t=Su())=>{const o=A2(e);return e.validate="validate"in e?e.validate:!0,{serialize:a=>{const c=e.validate,d={3:v=>{var E;o.text((E=v.value)!==null&&E!==void 0?E:"",v.raw)},8:v=>{var E;o.comment((E=v.value)!==null&&E!==void 0?E:"")},7:v=>{o.pi(v.name,v.value)},10:v=>{var E;o.doctype((E=v.value)!==null&&E!==void 0?E:"")},4:v=>{var E;o.cdata((E=v.value)!==null&&E!==void 0?E:"")},11:v=>{let E=v;if(E=E.firstChild)do g(E);while(E=E.next)}};o.reset();const g=v=>{var E;const I=d[v.type];if(I)I(v);else{const B=v.name,U=B in t.getVoidElements();let X=v.attributes;if(c&&X&&X.length>1){const ne=[];ne.map={};const Q=t.getElementRule(v.name);if(Q){for(let se=0,ke=Q.attributesOrder.length;se<ke;se++){const Ce=Q.attributesOrder[se];if(Ce in X.map){const we=X.map[Ce];ne.map[Ce]=we,ne.push({name:Ce,value:we})}}for(let se=0,ke=X.length;se<ke;se++){const Ce=X[se].name;if(!(Ce in ne.map)){const we=X.map[Ce];ne.map[Ce]=we,ne.push({name:Ce,value:we})}}X=ne}}if(o.start(B,X,U),nl(B))Qe(v.value)&&o.text(v.value,!0),o.end(B);else if(!U){let ne=v.firstChild;if(ne){(B==="pre"||B==="textarea")&&ne.type===3&&((E=ne.value)===null||E===void 0?void 0:E[0])===`
`&&o.text(`
`,!0);do g(ne);while(ne=ne.next)}o.end(B)}}};return a.type===1&&!e.inner?g(a):a.type===3?d[3](a):d[11](a),o.getContent()}}},C2=new Set;ut(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{C2.add(t)});const Jy=["font","text-decoration","text-emphasis"],Vv=(e,t)=>vt(e.parseStyle(e.getAttrib(t,"style"))),K4=e=>C2.has(e),eI=(e,t)=>jr(Vv(e,t),o=>!K4(o)),S2=e=>nt(e,t=>ts(Jy,o=>ds(t,o))),E2=(e,t,o)=>{const s=Vv(e,t),a=Vv(e,o),c=d=>{var g,v;const E=(g=e.getStyle(t,d))!==null&&g!==void 0?g:"",I=(v=e.getStyle(o,d))!==null&&v!==void 0?v:"";return ta(E)&&ta(I)&&E!==I};return ts(s,d=>{const g=v=>ts(v,E=>E===d);if(!g(a)&&g(Jy)){const v=S2(a);return ts(v,c)}else return c(d)})},Y4=(e,t,o)=>H.from(o.container()).filter(kt).exists(s=>{const a=e?0:-1;return t(s.data.charAt(o.offset()+a))}),Iu=$t(Y4,!0,By),jv=$t(Y4,!1,By),px=e=>{const t=e.container();return kt(t)&&(t.data.length===0||T(t.data)&&Hy.isBookmarkNode(t.parentNode))},Lf=(e,t)=>o=>eA(e?0:-1,o).filter(t).isSome(),T2=e=>Wm(e)&&ha(oe.fromDom(e),"display")==="block",O2=e=>Ts(e)&&!dh(e),Q4=Lf(!0,T2),tI=Lf(!1,T2),Zv=Lf(!0,ao),Xy=Lf(!1,ao),z2=Lf(!0,Mc),hx=Lf(!1,Mc),Pf=Lf(!0,O2),Sg=Lf(!1,O2),D2=e=>e.slice(0,-1),J4=(e,t,o)=>Li(t,e)?D2(ii(e,s=>o(s)||On(s,t))):[],R2=(e,t)=>J4(e,t,Mo),_m=(e,t)=>[e].concat(R2(e,t)),bx=(e,t,o)=>iA(e,t,o,px),X4=e=>t=>e.isBlock(fn(t)),N2=(e,t,o)=>on(_m(oe.fromDom(t.container()),e),X4(o)),yx=(e,t,o,s)=>bx(e,t.dom,o).forall(a=>N2(t,o,s).fold(()=>!Of(a,o,t.dom),c=>!Of(a,o,t.dom)&&Li(c,oe.fromDom(a.container())))),eO=(e,t,o,s)=>N2(t,o,s).fold(()=>bx(e,t.dom,o).forall(a=>!Of(a,o,t.dom)),a=>bx(e,a.dom,o).isNone()),e1=$t(eO,!1),M2=$t(eO,!0),tO=$t(yx,!1),oI=$t(yx,!0),nI=e=>Lk(e).exists(gl),qv=(e,t,o,s)=>{const a=nt(_m(oe.fromDom(o.container()),t),d=>s.isBlock(fn(d))),c=Jo(a).getOr(t);return pd(e,c.dom,o).filter(nI)},I2=(e,t,o)=>Lk(t).exists(gl)||qv(!0,e,t,o).isSome(),vx=(e,t,o)=>oA(t).exists(gl)||qv(!1,e,t,o).isSome(),sI=$t(qv,!1),rI=$t(qv,!0),oO=e=>qe.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),Rr=(e,t,o)=>{const s=nt(_m(oe.fromDom(t.container()),e),a=>o.isBlock(fn(a)));return Jo(s).getOr(e)},kx=(e,t,o)=>oO(t)?jv(t):jv(t)||$c(Rr(e,t,o).dom,t).exists(jv),nO=(e,t,o)=>oO(t)?Iu(t):Iu(t)||bc(Rr(e,t,o).dom,t).exists(Iu),aI=e=>Nn(["pre","pre-wrap"],e),Vp=e=>Lk(e).bind(t=>Xe(t,xi)).exists(t=>aI(ha(t,"white-space"))),jp=(e,t)=>$c(e.dom,t).isNone(),Eg=(e,t)=>bc(e.dom,t).isNone(),sO=(e,t,o)=>jp(e,t)||Eg(e,t)||e1(e,t,o)||M2(e,t,o)||vx(e,t,o)||I2(e,t,o),rO=e=>_e(e)&&Ts(e)&&pT(e),B2=(e,t)=>o=>rO(new Da(o,e)[t]()),xx=(e,t)=>{const o=bc(e.dom,t).getOr(t),s=B2(e.dom,"next");return t.isAtEnd()&&(s(t.container())||s(o.container()))},iI=(e,t)=>{const o=$c(e.dom,t).getOr(t),s=B2(e.dom,"prev");return t.isAtStart()&&(s(t.container())||s(o.container()))},wx=(e,t,o)=>Vp(t)?!1:sO(e,t,o)||kx(e,t,o)||nO(e,t,o),t1=(e,t,o)=>Vp(t)?!1:e1(e,t,o)||tO(e,t,o)||vx(e,t,o)||kx(e,t,o)||iI(e,t),aO=e=>{const t=e.container(),o=e.offset();return kt(t)&&o<t.data.length?qe(t,o+1):e},mb=(e,t,o)=>Vp(t)?!1:M2(e,t,o)||oI(e,t,o)||I2(e,t,o)||nO(e,t,o)||xx(e,t),_x=(e,t,o)=>t1(e,t,o)||mb(e,aO(t),o),Ax=(e,t)=>Hk(e.charAt(t)),iO=(e,t)=>By(e.charAt(t)),lI=e=>{const t=e.container();return kt(t)&&os(t.data,hn)},Jd=e=>{const t=e.split("");return Zo(t,(o,s)=>Hk(o)&&s>0&&s<t.length-1&&tc(t[s-1])&&tc(t[s+1])?" ":o).join("")},L2=(e,t,o,s)=>{const a=t.data,c=qe(t,0);return!o&&Ax(a,0)&&!_x(e,c,s)?(t.data=" "+a.slice(1),!0):o&&iO(a,0)&&t1(e,c,s)?(t.data=hn+a.slice(1),!0):!1},cI=e=>{const t=e.data,o=Jd(t);return o!==t?(e.data=o,!0):!1},lO=(e,t,o,s)=>{const a=t.data,c=qe(t,a.length-1);return!o&&Ax(a,a.length-1)&&!_x(e,c,s)?(t.data=a.slice(0,-1)+" ",!0):o&&iO(a,a.length-1)&&mb(e,c,s)?(t.data=a.slice(0,-1)+hn,!0):!1},Cx=(e,t,o)=>{const s=t.container();if(!kt(s))return H.none();if(lI(t)){const a=L2(e,s,!1,o)||cI(s)||lO(e,s,!1,o);return lu(a,t)}else if(_x(e,t,o)){const a=L2(e,s,!0,o)||lO(e,s,!0,o);return lu(a,t)}else return H.none()},dI=e=>{const t=oe.fromDom(e.getBody());e.selection.isCollapsed()&&Cx(t,qe.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},cO=(e,t,o,s)=>{if(o===0)return;const a=oe.fromDom(e),c=Ji(a,E=>s.isBlock(fn(E))).getOr(a),d=e.data.slice(t,t+o),g=t+o>=e.data.length&&mb(c,qe(e,e.data.length),s),v=t===0&&t1(c,qe(e,0),s);e.replaceData(t,o,nf(d,4,v,g))},Wv=(e,t,o)=>{const s=e.data.slice(t),a=s.length-ic(s).length;cO(e,t,a,o)},$v=(e,t,o)=>{const s=e.data.slice(0,t),a=s.length-Ac(s).length;cO(e,t-a,a,o)},P2=(e,t,o,s,a=!0)=>{const c=Ac(e.data).length,d=a?e:t,g=a?t:e;return a?d.appendData(g.data):d.insertData(0,g.data),Hn(oe.fromDom(g)),s&&Wv(d,c,o),d},uI=(e,t)=>{const o=e.container(),s=e.offset();return!qe.isTextPosition(e)&&o===t.parentNode&&s>qe.before(t).offset()},dO=(e,t)=>uI(t,e)?qe(t.container(),t.offset()-1):t,uO=e=>kt(e)?qe(e,0):qe.before(e),fb=e=>kt(e)?qe(e,e.data.length):qe.after(e),gb=e=>ss(e.previousSibling)?H.some(fb(e.previousSibling)):e.previousSibling?Du(e.previousSibling):H.none(),o1=e=>ss(e.nextSibling)?H.some(uO(e.nextSibling)):e.nextSibling?Hl(e.nextSibling):H.none(),mO=(e,t)=>H.from(t.previousSibling?t.previousSibling:t.parentNode).bind(o=>$c(e,qe.before(o))).orThunk(()=>bc(e,qe.after(t))),fO=(e,t)=>bc(e,qe.after(t)).orThunk(()=>$c(e,qe.before(t))),mI=(e,t)=>gb(t).orThunk(()=>o1(t)).orThunk(()=>mO(e,t)),gO=(e,t)=>o1(t).orThunk(()=>gb(t)).orThunk(()=>fO(e,t)),Gv=(e,t,o)=>e?gO(t,o):mI(t,o),pO=(e,t,o)=>Gv(e,t,o).map($t(dO,o)),F2=(e,t,o)=>{o.fold(()=>{e.focus()},s=>{e.selection.setRng(s.toRange(),t)})},hO=e=>t=>t.dom===e,fI=(e,t)=>t&&Lo(e.schema.getBlockElements(),fn(t)),Am=(e,t)=>{if(ks(e)){const o=oe.fromHtml('<br data-mce-bogus="1">');return t?ut(Es(e),s=>{Tv(s)||Hn(s)}):Oa(e),Fs(e,o),H.some(qe.before(o.dom))}else return H.none()},U2=(e,t,o,s)=>{const a=li(e).filter(kr),c=Fi(e).filter(kr);return Hn(e),ep(a,c,t,(d,g,v)=>{const E=d.dom,I=g.dom,B=E.data.length;return P2(E,I,o,s),v.container()===I?qe(E,B):v}).orThunk(()=>(s&&(a.each(d=>$v(d.dom,d.dom.length,o)),c.each(d=>Wv(d.dom,0,o))),t))},gI=(e,t)=>Lo(e.schema.getTextInlineElements(),fn(t)),pb=(e,t,o,s=!0,a=!1)=>{const c=pO(t,e.getBody(),o.dom),d=Ji(o,$t(fI,e),hO(e.getBody())),g=U2(o,c,e.schema,gI(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):d.bind(v=>Am(v,a)).fold(()=>{s&&F2(e,t,g)},v=>{s&&F2(e,t,H.some(v))})},ms=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,pI=e=>ms.test(e),hb=(e,t)=>ja(oe.fromDom(t),Io(e))&&!sf(e.schema,t)&&e.dom.isEditable(t),pr=e=>{var t;return Hs.DOM.getStyle(e,"direction",!0)==="rtl"||pI((t=e.textContent)!==null&&t!==void 0?t:"")},hI=(e,t,o)=>nt(Hs.DOM.getParents(o.container(),"*",t),e),Bu=(e,t,o)=>{const s=hI(e,t,o);return H.from(s[s.length-1])},bI=(e,t,o)=>{const s=Ep(t,e),a=Ep(o,e);return _e(s)&&s===a},bO=e=>dn(e)||Gn(e),al=(e,t)=>{const o=t.container(),s=t.offset();return e?Wt(o)?kt(o.nextSibling)?qe(o.nextSibling,0):qe.after(o):dn(t)?qe(o,s+1):t:Wt(o)?kt(o.previousSibling)?qe(o.previousSibling,o.previousSibling.data.length):qe.before(o):Gn(t)?qe(o,s-1):t},vc=$t(al,!0),n1=$t(al,!1),Tg=(e,t)=>{const o=s=>s.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(t),e.off("beforeinput input",o)},Ff=e=>{e.execCommand("delete")},bb=e=>Tg(e,"Delete"),H2=e=>Tg(e,"ForwardDelete"),V2=e=>t=>iu(Za(t),e,On),yO=e=>Km(e)||Pd(e),Kv=(e,t)=>Li(e,t)?Xe(t,yO,V2(e)):H.none(),j2=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},vO=(e,t,o)=>na(Hl(o),Du(o),(s,a)=>{const c=al(!0,s),d=al(!1,a),g=al(!1,t);return e?bc(o,g).exists(v=>v.isEqual(d)&&t.isEqual(c)):$c(o,g).exists(v=>v.isEqual(c)&&t.isEqual(d))}).getOr(!0),Z2=e=>(td(e)?li(e):Or(e)).bind(Z2).orThunk(()=>H.some(e)),q2=(e,t,o,s=!0)=>{var a;t.deleteContents();const c=Z2(o).getOr(o),d=oe.fromDom((a=e.dom.getParent(c.dom,e.dom.isBlock))!==null&&a!==void 0?a:o.dom);if(d.dom===e.getBody()?j2(e,s):ks(d)&&(_u(d),s&&e.selection.setCursorLocation(d.dom,0)),!On(o,d)){const g=iu(Za(d),o)?[]:ko(d);ut(g.concat(Es(o)),v=>{!On(v,d)&&!Li(v,d)&&ks(v)&&Hn(v)})}},kO=(e,t,o)=>Ji(e,t,o).isSome(),xO=(e,t)=>Ui(e,t).isSome(),Sx=(e,t)=>sr(e,t).isSome(),yI=e=>t=>On(e,t),W2=e=>$a(e,"td,th"),wO=(e,t)=>Op(oe.fromDom(e),t),Uf=e=>na(e.startTable,e.endTable,(t,o)=>{const s=Sx(t,c=>On(c,o)),a=Sx(o,c=>On(c,t));return!s&&!a?e:{...e,startTable:s?H.none():e.startTable,endTable:a?H.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),Yv=e=>Uf(e),_O=(e,t)=>{const o=wO(e.startContainer,t),s=wO(e.endContainer,t),a=o.isSome(),c=s.isSome(),d=na(o,s,On).getOr(!1);return Yv({startTable:o,endTable:s,isStartInTable:a,isEndInTable:c,isSameTable:d,isMultiTable:!d&&a&&c})},Ex=(e,t)=>({start:e,end:t}),AO=(e,t,o)=>({rng:e,table:t,cells:o}),Qv=Ee.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Cm=(e,t)=>Hi(oe.fromDom(e),"td,th",t),CO=e=>!On(e.start,e.end),SO=(e,t)=>Op(e.start,t).bind(o=>Op(e.end,t).bind(s=>lu(On(o,s),o))),vI=(e,t)=>!CO(e)&&SO(e,t).exists(o=>{const s=o.dom.rows;return s.length===1&&s[0].cells.length===1}),kI=(e,t)=>{const o=Cm(e.startContainer,t),s=Cm(e.endContainer,t);return na(o,s,Ex)},xI=e=>t=>Op(t,e).bind(o=>Qt(W2(o)).map(s=>Ex(t,s))),wI=e=>t=>Op(t,e).bind(o=>Jo(W2(o)).map(s=>Ex(s,t))),$2=e=>t=>SO(t,e).map(o=>AO(t,o,W2(o))),EO=(e,t,o,s)=>{if(o.collapsed||!e.forall(CO))return H.none();if(t.isSameTable){const a=e.bind($2(s));return H.some({start:a,end:a})}else{const a=Cm(o.startContainer,s),c=Cm(o.endContainer,s),d=a.bind(xI(s)).bind($2(s)),g=c.bind(wI(s)).bind($2(s));return H.some({start:d,end:g})}},TO=(e,t)=>La(e,o=>On(o,t)),s1=e=>na(TO(e.cells,e.rng.start),TO(e.cells,e.rng.end),(t,o)=>e.cells.slice(t,o+1)),_I=(e,t,o)=>e.exists(s=>vI(s,o)&&bA(s.start,t)),r1=(e,t)=>{const{startTable:o,endTable:s}=t,a=e.cloneRange();return o.each(c=>a.setStartAfter(c.dom)),s.each(c=>a.setEndBefore(c.dom)),a},G2=(e,t,o,s)=>EO(e,t,o,s).bind(({start:a,end:c})=>a.or(c)).bind(a=>{const{isSameTable:c}=t,d=s1(a).getOr([]);if(c&&a.cells.length===d.length)return H.some(Qv.fullTable(a.table));if(d.length>0){if(c)return H.some(Qv.partialTable(d,H.none()));{const g=r1(o,t);return H.some(Qv.partialTable(d,H.some({...t,rng:g})))}}else return H.none()}),yb=(e,t,o,s)=>EO(e,t,o,s).bind(({start:a,end:c})=>{const d=a.bind(s1).getOr([]),g=c.bind(s1).getOr([]);if(d.length>0&&g.length>0){const v=r1(o,t);return H.some(Qv.multiTable(d,g,v))}else return H.none()}),vb=(e,t)=>{const o=yI(e),s=kI(t,o),a=_O(t,o);return _I(s,t,o)?s.map(c=>Qv.singleCellTable(t,c.start)):a.isMultiTable?yb(s,a,t,o):G2(s,a,t,o)},Jv=e=>ut(e,t=>{ur(t,"contenteditable"),_u(t)}),Tx=(e,t)=>H.from(e.dom.getParent(t,e.dom.isBlock)).map(oe.fromDom),kb=(e,t,o)=>{o.each(s=>{t?Hn(s):(_u(s),e.selection.setCursorLocation(s.dom,0))})},Og=(e,t,o,s)=>{const a=o.cloneRange();s?(a.setStart(o.startContainer,o.startOffset),a.setEndAfter(t.dom.lastChild)):(a.setStartBefore(t.dom.firstChild),a.setEnd(o.endContainer,o.endOffset)),t0(e,a,t,!1).each(c=>c())},Xv=e=>{const t=Rf(e),o=oe.fromDom(e.selection.getNode());om(o.dom)&&ks(o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),t.length>1&&ts(t,s=>On(s,o))&&Cs(o,"data-mce-selected","1")},e0=(e,t,o)=>H.some(()=>{const s=e.selection.getRng(),a=o.bind(({rng:c,isStartInTable:d})=>{const g=Tx(e,d?c.endContainer:c.startContainer);c.deleteContents(),kb(e,d,g.filter(ks));const v=d?t[0]:t[t.length-1];return Og(e,v,s,d),ks(v)?H.none():H.some(d?t.slice(1):t.slice(0,-1))}).getOr(t);Jv(a),Xv(e)}),OO=(e,t,o,s)=>H.some(()=>{const a=e.selection.getRng(),c=t[0],d=o[o.length-1];Og(e,c,a,!0),Og(e,d,a,!1);const g=ks(c)?t:t.slice(1),v=ks(d)?o:o.slice(0,-1);Jv(g.concat(v)),s.deleteContents(),Xv(e)}),t0=(e,t,o,s=!0)=>H.some(()=>{q2(e,t,o,s)}),K2=(e,t)=>H.some(()=>pb(e,!1,t)),zO=(e,t,o)=>vb(t,o).bind(s=>s.fold($t(t0,e),$t(K2,e),$t(e0,e),$t(OO,e))),DO=(e,t)=>o0(e,t),a1=(e,t,o,s)=>Ox(t,s).fold(()=>zO(e,t,o),a=>DO(e,a)),RO=(e,t,o)=>{const s=oe.fromDom(e.getBody()),a=e.selection.getRng();return o.length!==0?e0(e,o,H.none()):a1(e,s,a,t)},Y2=(e,t)=>on(_m(t,e),wu),Ox=(e,t)=>on(_m(t,e),Er("caption")),zx=(e,t,o,s,a)=>Kh(o,e.getBody(),a).bind(c=>Y2(t,oe.fromDom(c.getNode())).bind(d=>On(d,s)?H.none():H.some(dt))),o0=(e,t)=>H.some(()=>{_u(t),e.selection.setCursorLocation(t.dom,0)}),NO=(e,t,o,s)=>Hl(e.dom).bind(a=>Du(e.dom).map(c=>t?o.isEqual(a)&&s.isEqual(c):o.isEqual(c)&&s.isEqual(a))).getOr(!0),MO=(e,t)=>o0(e,t),IO=(e,t,o)=>Ox(e,oe.fromDom(o.getNode())).fold(()=>H.some(dt),s=>lu(!On(s,t),dt)),zg=(e,t,o,s,a)=>Kh(o,e.getBody(),a).fold(()=>H.some(dt),c=>NO(s,o,a,c)?MO(e,s):IO(t,s,c)),Zp=(e,t,o,s)=>{const a=qe.fromRangeStart(e.selection.getRng());return Y2(o,s).bind(c=>ks(c)?o0(e,c):zx(e,o,t,c,a))},Lu=(e,t,o,s)=>{const a=qe.fromRangeStart(e.selection.getRng());return ks(s)?o0(e,s):zg(e,o,t,s,a)},Dx=(e,t)=>e?z2(t):hx(t),Q2=(e,t)=>{const o=qe.fromRangeStart(e.selection.getRng());return Dx(t,o)||pd(t,e.getBody(),o).exists(s=>Dx(t,s))},BO=(e,t,o)=>{const s=oe.fromDom(e.getBody());return Ox(s,o).fold(()=>Zp(e,t,s,o).orThunk(()=>lu(Q2(e,t),dt)),a=>Lu(e,t,s,a))},Rx=(e,t)=>{const o=oe.fromDom(e.selection.getStart(!0)),s=Rf(e);return e.selection.isCollapsed()&&s.length===0?BO(e,t,o):RO(e,o,s)},qp=(e,t)=>{let o=t;for(;o&&o!==e;){if(ml(o)||Ts(o))return o;o=o.parentNode}return null},J2=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],LO=Mt.each,Nx=e=>{const t=e.dom,o=new Set(e.serializer.getTempAttrs()),s=(c,d)=>{if(c.nodeName!==d.nodeName||c.nodeType!==d.nodeType)return!1;const g=E=>{const I={};return LO(t.getAttribs(E),B=>{const U=B.nodeName.toLowerCase();U!=="style"&&!a(U)&&(I[U]=t.getAttrib(E,U))}),I},v=(E,I)=>{for(const B in E)if(Lo(E,B)){const U=I[B];if(lo(U)||E[B]!==U)return!1;delete I[B]}for(const B in I)if(Lo(I,B))return!1;return!0};return ro(c)&&ro(d)&&(!v(g(c),g(d))||!v(t.parseStyle(t.getAttrib(c,"style")),t.parseStyle(t.getAttrib(d,"style"))))?!1:!hd(c)&&!hd(d)},a=c=>ts(J2,d=>ds(c,d))||o.has(c);return{compare:s,isAttributeInternal:a}},Mx=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),Hf=e=>e.name==="summary",Pu=(e,t)=>{let o=e;for(;o=o.walk();)t(o)},n0=(e,t,o,s)=>{const a=o.name;for(let c=0,d=e.length;c<d;c++){const g=e[c];if(g.name===a){const v=s.nodes[a];v?v.nodes.push(o):s.nodes[a]={filter:g,nodes:[o]}}}if(o.attributes)for(let c=0,d=t.length;c<d;c++){const g=t[c],v=g.name;if(v in o.attributes.map){const E=s.attributes[v];E?E.nodes.push(o):s.attributes[v]={filter:g,nodes:[o]}}}},PO=(e,t,o)=>{const s={nodes:{},attributes:{}};return o.firstChild&&Pu(o,a=>{n0(e,t,a,s)}),s},s0=(e,t)=>{const o=(s,a)=>{An(s,c=>{const d=uo(c.nodes);ut(c.filter.callbacks,g=>{for(let v=d.length-1;v>=0;v--){const E=d[v];(!(a?E.attr(c.filter.name)!==void 0:E.name===c.filter.name)||Vt(E.parent))&&d.splice(v,1)}d.length>0&&g(d,c.filter.name,t)})})};o(e.nodes,!1),o(e.attributes,!0)},X2=(e,t,o,s={})=>{const a=PO(e,t,o);s0(a,s)},Ix=(e,t,o,s)=>{if((e.pad_empty_with_br||t.insert)&&o(s)){const c=new jl("br",1);t.insert&&c.attr("data-mce-bogus","1"),s.empty().append(c)}else s.empty().append(new jl("#text",3)).value=hn},FO=e=>{var t;return eC(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===hn},eC=(e,t)=>{const o=e==null?void 0:e.firstChild;return _e(o)&&o===e.lastChild&&o.name===t},UO=(e,t)=>{const o=e.getElementRule(t.name);return(o==null?void 0:o.paddEmpty)===!0},i1=(e,t,o,s)=>s.isEmpty(t,o,a=>UO(e,a)),Bx=(e,t)=>_e(e)&&(t(e)||e.name==="br"),tC=e=>{let t;for(let o=e;o;o=o.parent){const s=o.attr("contenteditable");if(s==="false")break;s==="true"&&(t=o)}return H.from(t)},Lx=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const s=e.children();for(const a of s)o&&!t.isValidChild(o.name,a.name)&&Lx(a,t,o);e.unwrap()}},r0=(e,t,o,s=dt)=>{const a=t.getTextBlockElements(),c=t.getNonEmptyElements(),d=t.getWhitespaceElements(),g=Mt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),v=new Set,E=I=>I!==o&&!g[I.name];for(let I=0;I<e.length;I++){const B=e[I];let U,X,ne;if(!B.parent||v.has(B))continue;if(a[B.name]&&B.parent.name==="li"){let se=B.next;for(;se&&a[se.name];){se.name="li",v.add(se),B.parent.insert(se,B.parent);se=se.next}B.unwrap();continue}const Q=[B];for(U=B.parent;U&&!t.isValidChild(U.name,B.name)&&E(U);U=U.parent)Q.push(U);if(U&&Q.length>1)if(oC(t,B,U))Lx(B,t);else{Q.reverse(),X=Q[0].clone(),s(X);let se=X;for(let ke=0;ke<Q.length-1;ke++){t.isValidChild(se.name,Q[ke].name)&&ke>0?(ne=Q[ke].clone(),s(ne),se.append(ne)):ne=se;for(let Ce=Q[ke].firstChild;Ce&&Ce!==Q[ke+1];){const we=Ce.next;ne.append(Ce),Ce=we}se=ne}i1(t,c,d,X)?U.insert(B,Q[0],!0):(U.insert(X,Q[0],!0),U.insert(B,X)),U=Q[0],(i1(t,c,d,U)||eC(U,"br"))&&U.empty().remove()}else if(B.parent){if(B.name==="li"){let se=B.prev;if(se&&(se.name==="ul"||se.name==="ol")){se.append(B);continue}if(se=B.next,se&&(se.name==="ul"||se.name==="ol")&&se.firstChild){se.insert(B,se.firstChild,!0);continue}const ke=new jl("ul",1);s(ke),B.wrap(ke);continue}if(t.isValidChild(B.parent.name,"div")&&t.isValidChild("div",B.name)){const se=new jl("div",1);s(se),B.wrap(se)}else Lx(B,t)}}},AI=(e,t)=>{let o=e;for(;o;){if(o.name===t)return!0;o=o.parent}return!1},oC=(e,t,o=t.parent)=>o?e.children[t.name]&&!e.isValidChild(o.name,t.name)||t.name==="a"&&AI(o,"a")?!0:Hf(o)&&Mx(t)?!((o==null?void 0:o.firstChild)===t&&(o==null?void 0:o.lastChild)===t):!1:!1,CI=(e,t,o,s)=>{const a=document.createRange();return a.setStart(e,t),a.setEnd(o,s),a},SI=e=>{const t=qe.fromRangeStart(e),o=qe.fromRangeEnd(e),s=e.commonAncestorContainer;return pd(!1,s,o).map(a=>!Of(t,o,s)&&Of(t,a,s)?CI(t.container(),t.offset(),a.container(),a.offset()):e).getOr(e)},nC=e=>e.collapsed?e:SI(e),EI=e=>_e(e.firstChild)&&e.firstChild===e.lastChild,Px=e=>e.name==="br"||e.value===hn,sC=(e,t)=>e.getBlockElements()[t.name]&&EI(t)&&Px(t.firstChild),HO=(e,t)=>{const o=e.getNonEmptyElements();return _e(t)&&(t.isEmpty(o)||sC(e,t))},rC=(e,t)=>{let o=t.firstChild,s=t.lastChild;return o&&o.name==="meta"&&(o=o.next),s&&s.attr("id")==="mce_marker"&&(s=s.prev),HO(e,s)&&(s=s==null?void 0:s.prev),!o||o!==s?!1:o.name==="ul"||o.name==="ol"},TI=e=>{var t,o;const s=e.firstChild,a=e.lastChild;return s&&s.nodeName==="META"&&((t=s.parentNode)===null||t===void 0||t.removeChild(s)),a&&a.id==="mce_marker"&&((o=a.parentNode)===null||o===void 0||o.removeChild(a)),e},OI=(e,t,o)=>{const s=t.serialize(o),a=e.createFragment(s);return TI(a)},zI=e=>{var t;return nt((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],o=>o.nodeName==="LI")},DI=e=>e.data===hn||fr(e),RI=e=>_e(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&DI(e.firstChild),NI=e=>!e.firstChild||RI(e),Fx=e=>e.length>0&&NI(e[e.length-1])?e.slice(0,-1):e,l1=(e,t)=>{const o=e.getParent(t,e.isBlock);return o&&o.nodeName==="LI"?o:null},Ux=(e,t)=>!!l1(e,t),MI=(e,t)=>{const o=t.cloneRange(),s=t.cloneRange();return o.setStartBefore(e),s.setEndAfter(e),[o.cloneContents(),s.cloneContents()]},II=(e,t)=>{const o=qe.before(e),a=zf(t).next(o);return a?a.toRange():null},VO=(e,t)=>{const o=qe.after(e),a=zf(t).prev(o);return a?a.toRange():null},BI=(e,t,o,s)=>{const a=MI(e,s),c=e.parentNode;return c&&(c.insertBefore(a[0],e),Mt.each(t,d=>{c.insertBefore(d,e)}),c.insertBefore(a[1],e),c.removeChild(e)),VO(t[t.length-1],o)},LI=(e,t,o)=>{const s=e.parentNode;return s&&Mt.each(t,a=>{s.insertBefore(a,e)}),II(e,o)},PI=(e,t,o,s)=>(s.insertAfter(t.reverse(),e),VO(t[0],o)),Fu=(e,t,o,s)=>{const a=OI(t,e,s),c=l1(t,o.startContainer),d=Fx(zI(a.firstChild)),g=1,v=2,E=t.getRoot(),I=B=>{const U=qe.fromRangeStart(o),X=zf(t.getRoot()),ne=B===g?X.prev(U):X.next(U),Q=ne==null?void 0:ne.getNode();return Q?l1(t,Q)!==c:!0};return c?I(g)?LI(c,d,E):I(v)?PI(c,d,E,t):BI(c,d,E,o):null},aC=["pre"],jO=(e,t,o,s)=>{var a;const c=t.firstChild,d=t.lastChild,g=d.attr("data-mce-type")==="bookmark"?d.prev:d,v=c===g,E=Nn(aC,c.name);if(v&&E){const I=c.attr("contenteditable")!=="false",B=((a=e.getParent(o,e.isBlock))===null||a===void 0?void 0:a.nodeName.toLowerCase())===c.name,U=H.from(qp(s,o)).forall(ml);return I&&B&&U}else return!1},Hx=om,ZO=(e,t,o)=>{if(_e(o)){const s=e.getParent(t.endContainer,Hx);return o===s&&bA(oe.fromDom(o),t)}else return!1},FI=(e,t,o)=>{var s;if(o.getAttribute("data-mce-bogus")==="all")(s=o.parentNode)===null||s===void 0||s.insertBefore(e.dom.createFragment(t),o);else{const a=o.firstChild,c=o.lastChild;!a||a===c&&a.nodeName==="BR"?e.dom.setHTML(o,t):e.selection.setContent(t,{no_events:!0})}},qO=(e,t,o)=>{H.from(e.getParent(t,"td,th")).map(oe.fromDom).each(s=>Wb(s,o))},UI=(e,t)=>{const o=e.schema.getTextInlineElements(),s=e.dom;if(t){const a=e.getBody(),c=Nx(e);Mt.each(s.select("*[data-mce-fragment]"),d=>{if(_e(o[d.nodeName.toLowerCase()])&&eI(s,d)){for(let v=d.parentElement;_e(v)&&v!==a&&!E2(s,d,v);v=v.parentElement)if(c.compare(v,d)){s.remove(d,!0);break}}})}},c1=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},WO=e=>{Mt.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},$O=e=>!!e.getAttribute("data-mce-fragment"),GO=(e,t)=>_e(t)&&!e.schema.getVoidElements()[t.nodeName],iC=(e,t)=>{var o,s,a;let c;const d=e.dom,g=e.selection;if(!t)return;g.scrollIntoView(t);const v=qp(e.getBody(),t);if(v&&d.getContentEditable(v)==="false"){d.remove(t),g.select(v);return}let E=d.createRng();const I=t.previousSibling;if(kt(I)){E.setStart(I,(s=(o=I.nodeValue)===null||o===void 0?void 0:o.length)!==null&&s!==void 0?s:0);const X=t.nextSibling;kt(X)&&(I.appendData(X.data),(a=X.parentNode)===null||a===void 0||a.removeChild(X))}else E.setStartBefore(t),E.setEndBefore(t);const B=X=>{let ne=qe.fromRangeStart(X);return ne=zf(e.getBody()).next(ne),ne==null?void 0:ne.toRange()},U=d.getParent(t,d.isBlock);if(d.remove(t),U&&d.isEmpty(U)){const X=Hx(U);Oa(oe.fromDom(U)),E.setStart(U,0),E.setEnd(U,0),!X&&!$O(U)&&(c=B(E))?(E=c,d.remove(U)):d.add(U,d.create("br",X?{}:{"data-mce-bogus":"1"}))}g.setRng(E)},HI=e=>{const t=e.dom,o=nC(e.selection.getRng());e.selection.setRng(o);const s=t.getParent(o.startContainer,Hx);ZO(t,o,s)?t0(e,o,oe.fromDom(s)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&kt(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},VI=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return H.some(t);return H.none()},Wp=(e,t,o)=>{var s;return ts(o.children(),Mx)&&((s=e.getParent(t,e.isBlock))===null||s===void 0?void 0:s.nodeName)==="SUMMARY"},lC=(e,t,o)=>{var s,a;const c=e.selection,d=e.dom,g=e.parser,v=o.merge,E=Cg({validate:!0},e.schema),I='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(t=F(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,I);let B=c.getRng();const U=B.startContainer,X=e.getBody();U===X&&c.isCollapsed()&&d.isBlock(X.firstChild)&&GO(e,X.firstChild)&&d.isEmpty(X.firstChild)&&(B=d.createRng(),B.setStart(X.firstChild,0),B.setEnd(X.firstChild,0),c.setRng(B)),c.isCollapsed()||HI(e);const ne=c.getNode(),Q={context:ne.nodeName.toLowerCase(),data:o.data,insert:!0},se=g.parse(t,Q);if(o.paste===!0&&rC(e.schema,se)&&Ux(d,ne))return B=Fu(E,d,c.getRng(),se),B&&c.setRng(B),t;o.paste===!0&&jO(d,se,ne,e.getBody())&&((s=se.firstChild)===null||s===void 0||s.unwrap()),c1(se);let ke=se.lastChild;if(ke&&ke.attr("id")==="mce_marker"){const Ce=ke;for(ke=ke.prev;ke;ke=ke.walk(!0))if(ke.type===3||!d.isBlock(ke.name)){ke.parent&&e.schema.isValidChild(ke.parent.name,"span")&&ke.parent.insert(Ce,ke,ke.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(ne),!Q.invalid&&!Wp(d,ne,se))t=E.serialize(se),FI(e,t,ne);else{e.selection.setContent(I);let Ce=c.getNode(),we;const Ne=e.getBody();for(Ld(Ce)?Ce=we=Ne:we=Ce;we&&we!==Ne;)Ce=we,we=we.parentNode;t=Ce===Ne?Ne.innerHTML:d.getOuterHTML(Ce);const bt=g.parse(t),Bt=VI(bt),Kt=Bt.bind(tC).getOr(bt);Bt.each(io=>io.replace(se));const Ye=se.children(),He=(a=se.parent)!==null&&a!==void 0?a:bt;se.unwrap();const pt=nt(Ye,io=>oC(e.schema,io,He));r0(pt,e.schema,Kt),X2(g.getNodeFilters(),g.getAttributeFilters(),bt),t=E.serialize(bt),Ce===Ne?d.setHTML(Ne,t):d.setOuterHTML(Ce,t)}return UI(e,v),iC(e,d.get("mce_marker")),WO(e.getBody()),qO(d,c.getStart(),e.schema),E_(e.schema,e.getBody(),c.getStart()),t},Vx=e=>e instanceof jl,jI=e=>{Pp(e)&&Hl(e.getBody()).each(t=>{const o=t.getNode(),s=Mc(o)?Hl(o).getOr(t):t;e.selection.setRng(s.toRange())})},Dg=(e,t,o)=>{e.dom.setHTML(e.getBody(),t),o!==!0&&jI(e)},KO=(e,t,o,s)=>{if(o=F(o),o.length===0||/^\s+$/.test(o)){const a='<br data-mce-bogus="1">';t.nodeName==="TABLE"?o="<tr><td>"+a+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(o="<li>"+a+"</li>");const c=Ia(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),c.toLowerCase())?(o=a,o=e.dom.createHTML(c,bv(e),o)):o||(o=a),Dg(e,o,s.no_selection),{content:o,html:o}}else{s.format!=="raw"&&(o=Cg({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const a=am(oe.fromDom(t))?o:Mt.trim(o);return Dg(e,a,s.no_selection),{content:a,html:a}}},jx=(e,t,o,s)=>{X2(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const a=Cg({validate:!1},e.schema).serialize(o),c=F(am(oe.fromDom(t))?a:Mt.trim(a));return Dg(e,c,s.no_selection),{content:o,html:c}},ZI=(e,t,o)=>H.from(e.getBody()).map(s=>Vx(t)?jx(e,s,t,o):KO(e,s,t,o)).getOr({content:t,html:Vx(o.content)?"":o.content}),YO=e=>Je(e)?e:Mo,Rg=(e,t,o)=>{let s=e.dom;const a=YO(o);for(;s.parentNode;){s=s.parentNode;const c=oe.fromDom(s),d=t(c);if(d.isSome())return d;if(a(c))break}return H.none()},a0=(e,t,o)=>{const s=t(e),a=YO(o);return s.orThunk(()=>a(e)?H.none():Rg(e,t,a))},i0=Ly,Zx=(e,t,o)=>{const s=e.formatter.get(o);if(s)for(let a=0;a<s.length;a++){const c=s[a];if(Gd(c)&&c.inherit===!1&&e.dom.is(t,c.selector))return!0}return!1},qx=(e,t,o,s,a)=>{const c=e.dom.getRoot();if(t===c)return!1;const d=e.dom.getParent(t,g=>Zx(e,g,o)?!0:g.parentNode===c||!!Vf(e,g,o,s,!0));return!!Vf(e,d,o,s,a)},l0=(e,t,o)=>Di(o)&&i0(t,o.inline)||Nf(o)&&i0(t,o.block)?!0:Gd(o)?ro(t)&&e.is(t,o.selector):!1,cC=(e,t,o,s,a,c)=>{const d=o[s],g=s==="attributes";if(Je(o.onmatch))return o.onmatch(t,o,s);if(d){if(sc(d)){for(let v=0;v<d.length;v++)if(g?e.getAttrib(t,d[v]):Wk(e,t,d[v]))return!0}else for(const v in d)if(Lo(d,v)){const E=g?e.getAttrib(t,v):Wk(e,t,v),I=xg(d[v],c),B=Vt(E)||nr(E);if(B&&Vt(I))continue;if(a&&B&&!o.exact||(!a||o.exact)&&!i0(E,wA(I,v)))return!1}}return!0},Vf=(e,t,o,s,a)=>{const c=e.formatter.get(o),d=e.dom;if(c&&ro(t))for(let g=0;g<c.length;g++){const v=c[g];if(l0(e.dom,t,v)&&cC(d,t,v,"attributes",a,s)&&cC(d,t,v,"styles",a,s)){const E=v.classes;if(E){for(let I=0;I<E.length;I++)if(!e.dom.hasClass(t,xg(E[I],s)))return}return v}}},xb=(e,t,o,s,a)=>{if(s)return qx(e,s,t,o,a);if(s=e.selection.getNode(),qx(e,s,t,o,a))return!0;const c=e.selection.getStart();return!!(c!==s&&qx(e,c,t,o,a))},Wx=(e,t,o)=>{const s=[],a={},c=e.selection.getStart();return e.dom.getParent(c,d=>{for(let g=0;g<t.length;g++){const v=t[g];!a[v]&&Vf(e,d,v,o)&&(a[v]=!0,s.push(v))}},e.dom.getRoot()),s},QO=(e,t)=>{const o=a=>On(a,oe.fromDom(e.getBody())),s=(a,c)=>Vf(e,a.dom,c)?H.some(c):H.none();return H.from(e.selection.getStart(!0)).bind(a=>a0(oe.fromDom(a),c=>Cr(t,d=>s(c,d)),o)).getOrNull()},JO=(e,t)=>{const o=e.formatter.get(t),s=e.dom;if(o&&e.selection.isEditable()){const a=e.selection.getStart(),c=$k(s,a);for(let d=o.length-1;d>=0;d--){const g=o[d];if(!Gd(g))return!0;for(let v=c.length-1;v>=0;v--)if(s.is(c[v],g.selector))return!0}}return!1},XO=(e,t,o)=>rn(o,(s,a)=>{const c=MT(e,a);return e.formatter.matchNode(t,a,{},c)?s.concat([a]):s},[]),d1=x,$x=(e,t)=>e.importNode(t,!0),Gx=e=>{if(e){const t=new Da(e,e);for(let o=t.current();o;o=t.next())if(kt(o))return o}return null},wb=e=>{const t=oe.fromTag("span");return Qs(t,{id:lA,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Fs(t,oe.fromText(d1)),t},qI=e=>{const t=Gx(e);return t&&t.data.charAt(0)===d1&&t.deleteData(0,1),t},Kx=(e,t,o)=>{const s=e.dom,a=e.selection;if(AA(t))pb(e,!1,oe.fromDom(t),o,!0);else{const c=a.getRng(),d=s.getParent(t,s.isBlock),g=c.startContainer,v=c.startOffset,E=c.endContainer,I=c.endOffset,B=qI(t);s.remove(t,!0),g===B&&v>0&&c.setStart(B,v-1),E===B&&I>0&&c.setEnd(B,I-1),d&&s.isEmpty(d)&&_u(oe.fromDom(d)),a.setRng(c)}},dC=(e,t,o)=>{const s=e.dom,a=e.selection;if(t)Kx(e,t,o);else if(t=vg(e.getBody(),a.getStart()),!t)for(;t=s.get(lA);)Kx(e,t,o)},WI=(e,t,o)=>{var s,a;const c=e.dom,d=c.getParent(o,$t(kA,e.schema));d&&c.isEmpty(d)?(s=o.parentNode)===null||s===void 0||s.replaceChild(t,o):(ip(oe.fromDom(o)),c.isEmpty(o)?(a=o.parentNode)===null||a===void 0||a.replaceChild(t,o):c.insertAfter(t,o))},uC=(e,t)=>(e.appendChild(t),t),mC=(e,t)=>{var o;const s=go(e,(c,d)=>uC(c,d.cloneNode(!1)),t),a=(o=s.ownerDocument)!==null&&o!==void 0?o:document;return uC(s,a.createTextNode(d1))},$I=(e,t,o,s,a,c)=>{const d=e.formatter,g=e.dom,v=nt(vt(d.get()),B=>B!==s&&!os(B,"removeformat")),E=XO(e,o,v);if(nt(E,B=>!kM(e,B,s)).length>0){const B=o.cloneNode(!1);return g.add(t,B),d.remove(s,a,B,c),g.remove(B),H.some(B)}else return H.none()},e3=(e,t,o)=>{let s;const a=e.selection,c=e.formatter.get(t);if(!c)return;const d=a.getRng();let g=d.startOffset;const E=d.startContainer.nodeValue;s=vg(e.getBody(),a.getStart());const I=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(E&&g>0&&g<E.length&&I.test(E.charAt(g))&&I.test(E.charAt(g-1))){const B=a.getBookmark();d.collapse(!0);let U=Mp(e.dom,d,c);U=ex(U),e.formatter.apply(t,o,U),a.moveToBookmark(B)}else{let B=s?Gx(s):null;(!s||(B==null?void 0:B.data)!==d1)&&(s=$x(e.getDoc(),wb(!0).dom),B=s.firstChild,d.insertNode(s),g=1),e.formatter.apply(t,o,s),a.setCursorLocation(B,g)}},_b=(e,t,o,s)=>{const a=e.dom,c=e.selection;let d=!1;const g=e.formatter.get(t);if(!g)return;const v=c.getRng(),E=v.startContainer,I=v.startOffset;let B=E;kt(E)&&(I!==E.data.length&&(d=!0),B=B.parentNode);const U=[];let X;for(;B;){if(Vf(e,B,t,o,s)){X=B;break}B.nextSibling&&(d=!0),U.push(B),B=B.parentNode}if(X)if(d){const ne=c.getBookmark();v.collapse(!0);let Q=Mp(a,v,g,!0);Q=ex(Q),e.formatter.remove(t,o,Q,s),c.moveToBookmark(ne)}else{const ne=vg(e.getBody(),X),Q=_e(ne)?a.getParents(X.parentNode,pn,ne):[],se=wb(!1).dom;WI(e,se,ne??X);const ke=$I(e,se,X,t,o,s),Ce=mC([...U,...ke.toArray(),...Q],se);ne&&Kx(e,ne,_e(ne)),c.setCursorLocation(Ce,1),a.isEmpty(X)&&a.remove(X)}},t3=(e,t,o)=>{const s=e.selection,a=e.getBody();dC(e,null,o),(t===8||t===46)&&s.isCollapsed()&&s.getStart().innerHTML===d1&&dC(e,vg(a,s.getStart()),!0),(t===37||t===39)&&dC(e,vg(a,s.getStart()),!0)},fC=e=>kt(e)&&Yi(e.data,hn),o3=e=>{e.on("mouseup keydown",t=>{t3(e,t.keyCode,fC(e.selection.getRng().endContainer))})},Yx=e=>{const t=wb(!1),o=mC(e,t.dom);return{caretContainer:t,caretPosition:qe(o,0)}},Ng=(e,t)=>{const{caretContainer:o,caretPosition:s}=Yx(t);return zr(oe.fromDom(e),o),Hn(oe.fromDom(e)),s},n3=(e,t)=>{const{caretContainer:o,caretPosition:s}=Yx(t);return e.insertNode(o.dom),s},vd=(e,t)=>{if(Gc(t.dom))return!1;const o=e.schema.getTextInlineElements();return Lo(o,fn(t))&&!Gc(t.dom)&&!Nc(t.dom)},Sm={},Qx=tl(["pre"]),s3=(e,t)=>{Sm[e]||(Sm[e]=[]),Sm[e].push(t)},GI=(e,t)=>{Lo(Sm,e)&&ut(Sm[e],o=>{o(t)})};s3("pre",e=>{const t=e.selection.getRng(),o=a=>c=>{const d=c.previousSibling;return Qx(d)&&Nn(a,d)},s=(a,c)=>{const d=oe.fromDom(c),g=Pi(d).dom;Hn(d),Kr(oe.fromDom(a),[oe.fromTag("br",g),oe.fromTag("br",g),...Es(d)])};if(!t.collapsed){const a=e.selection.getSelectedBlocks(),c=nt(nt(a,Qx),o(a));ut(c,d=>{s(d.previousSibling,d)})}});const gC=["fontWeight","fontStyle","color","fontSize","fontFamily"],u1=e=>ae(e.styles)&&ts(vt(e.styles),t=>Nn(gC,t)),pC=e=>on(e,t=>Di(t)&&t.inline==="span"&&u1(t)),hC=(e,t)=>{const o=e.get(t);return he(o)?pC(o):H.none()},bC=(e,t)=>$c(t,qe.fromRangeStart(e)).isNone(),Jx=(e,t)=>bc(t,qe.fromRangeEnd(e)).exists(o=>!fr(o.getNode())||bc(t,o).isSome())===!1,r3=e=>t=>vu(t)&&e.isEditable(t),KI=e=>{const t=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return bC(o,t[0])&&Jx(o,t[0])?t:[];{const s=Jo(t).filter(d=>bC(o,d)).toArray(),a=Qt(t).filter(d=>Jx(o,d)).toArray(),c=t.slice(1,-1);return s.concat(c).concat(a)}},a3=e=>nt(KI(e),r3(e.dom)),i3=e=>nt(e.getSelectedBlocks(),r3(e.dom)),kc=Mt.each,c0=e=>ro(e)&&!hd(e)&&!Gc(e)&&!Nc(e),yC=(e,t)=>{for(let o=e;o;o=o[t]){if(kt(o)&&ta(o.data))return e;if(ro(o)&&!hd(o))return o}return e},Xx=(e,t,o)=>{const s=Nx(e),a=_i(t)&&e.dom.isEditable(t),c=_i(o)&&e.dom.isEditable(o);if(a&&c){const d=yC(t,"previousSibling"),g=yC(o,"nextSibling");if(s.compare(d,g)){for(let v=d.nextSibling;v&&v!==g;){const E=v;v=v.nextSibling,d.appendChild(E)}return e.dom.remove(g),Mt.each(Mt.grep(g.childNodes),v=>{d.appendChild(v)}),d}}return o},vC=(e,t,o,s)=>{var a;if(s&&t.merge_siblings!==!1){const c=(a=Xx(e,Zk(s),s))!==null&&a!==void 0?a:s;Xx(e,c,Zk(c,!0))}},d0=(e,t,o)=>{if(t.clear_child_styles){const s=t.links?"*:not(a)":"*";kc(e.select(s,o),a=>{c0(a)&&e.isEditable(a)&&kc(t.styles,(c,d)=>{e.setStyle(a,d,"")})})}},Em=(e,t,o)=>{kc(e.childNodes,s=>{c0(s)&&(t(s)&&o(s),s.hasChildNodes()&&Em(s,t,o))})},Ab=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},u0=(e,t)=>o=>!!(o&&Wk(e,o,t)),ew=(e,t,o)=>s=>{e.setStyle(s,t,o),s.getAttribute("style")===""&&s.removeAttribute("style"),Ab(e,s)},Mg=Ee.generate([{keep:[]},{rename:["name"]},{removed:[]}]),l3=/^(src|href|style)$/,kC=Mt.each,m0=Ly,c3=e=>/^(TR|TH|TD)$/.test(e.nodeName),xC=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o),wC=(e,t,o)=>{let s=t[o?"startContainer":"endContainer"],a=t[o?"startOffset":"endOffset"];if(ro(s)){const c=s.childNodes.length-1;!o&&a&&a--,s=s.childNodes[a>c?c:a]}return kt(s)&&o&&a>=s.data.length&&(s=new Da(s,e.getBody()).next()||s),kt(s)&&!o&&a===0&&(s=new Da(s,e.getBody()).prev()||s),s},d3=(e,t)=>{const o=t?"firstChild":"lastChild",s=e[o];return c3(e)&&s?e.nodeName==="TR"&&s[o]||s:e},_C=(e,t,o,s)=>{var a;const c=e.create(o,s);return(a=t.parentNode)===null||a===void 0||a.insertBefore(c,t),c.appendChild(t),c},u3=(e,t,o,s,a)=>{const c=oe.fromDom(t),d=oe.fromDom(e.create(s,a)),g=o?Dd(c):rp(c);return Kr(d,g),o?(zr(c,d),rr(d,c)):(Js(c,d),Fs(d,c)),d.dom},Qc=(e,t)=>t.links&&e.nodeName==="A",AC=(e,t,o)=>{const s=t.parentNode;let a;const c=e.dom,d=Ia(e);Nf(o)&&s===c.getRoot()&&(!o.list_block||!m0(t,o.list_block))&&ut(uo(t.childNodes),g=>{Rp(e,d,g.nodeName.toLowerCase())?a?a.appendChild(g):(a=_C(c,g,d),c.setAttribs(a,bv(e))):a=null}),!(LT(o)&&!m0(o.inline,t))&&c.remove(t,!0)},m1=(e,t,o)=>O(e)?{name:t,value:null}:{name:e,value:xg(t,o)},m3=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},CC=(e,t,o,s,a)=>{let c=!1;kC(o.styles,(d,g)=>{const{name:v,value:E}=m1(g,d,s),I=wA(E,v);(o.remove_similar||tt(E)||!ro(a)||m0(Wk(e,a,v),I))&&e.setStyle(t,v,""),c=!0}),c&&m3(e,t)},f3=(e,t,o)=>{t==="removeformat"?ut(i3(e.selection),s=>{ut(gC,a=>e.dom.setStyle(s,a,"")),m3(e.dom,s)}):hC(e.formatter,t).each(s=>{ut(i3(e.selection),a=>CC(e.dom,a,s,o,null))})},tw=(e,t,o,s,a)=>{const c=e.dom,d=Nx(e),g=e.schema;if(Di(t)&&mg(g,t.inline)&&sf(g,s)&&s.parentElement===e.getBody())return AC(e,s,t),Mg.removed();if(!t.ceFalseOverride&&s&&c.getContentEditableParent(s)==="false"||s&&!l0(c,s,t)&&!Qc(s,t))return Mg.keep();const v=s,E=t.preserve_attributes;if(Di(t)&&t.remove==="all"&&he(E)){const I=nt(c.getAttribs(v),B=>Nn(E,B.name.toLowerCase()));if(c.removeAllAttribs(v),ut(I,B=>c.setAttrib(v,B.name,B.value)),I.length>0)return Mg.rename("span")}if(t.remove!=="all"){CC(c,v,t,o,a),kC(t.attributes,(B,U)=>{const{name:X,value:ne}=m1(U,B,o);if(t.remove_similar||tt(ne)||!ro(a)||m0(c.getAttrib(a,X),ne)){if(X==="class"){const Q=c.getAttrib(v,X);if(Q){let se="";if(ut(Q.split(/\s+/),ke=>{/mce\-\w+/.test(ke)&&(se+=(se?" ":"")+ke)}),se){c.setAttrib(v,X,se);return}}}if(l3.test(X)&&v.removeAttribute("data-mce-"+X),X==="style"&&tl(["li"])(v)&&c.getStyle(v,"list-style-type")==="none"){v.removeAttribute(X),c.setStyle(v,"list-style-type","none");return}X==="class"&&v.removeAttribute("className"),v.removeAttribute(X)}}),kC(t.classes,B=>{B=xg(B,o),(!ro(a)||c.hasClass(a,B))&&c.removeClass(v,B)});const I=c.getAttribs(v);for(let B=0;B<I.length;B++){const U=I[B].nodeName;if(!d.isAttributeInternal(U))return Mg.keep()}}return t.remove!=="none"?(AC(e,v,t),Mg.removed()):Mg.keep()},g3=(e,t,o,s,a)=>{let c;return t.parentNode&&ut($k(e.dom,t.parentNode).reverse(),d=>{if(!c&&ro(d)&&d.id!=="_start"&&d.id!=="_end"){const g=Vf(e,d,o,s,a);g&&g.split!==!1&&(c=d)}}),c},YI=(e,t,o,s)=>tw(e,t,o,s,s).fold(ht(s),a=>(e.dom.createFragment().appendChild(s),e.dom.rename(s,a)),ht(null)),QI=(e,t,o,s,a,c,d,g)=>{var v,E;let I,B;const U=e.dom;if(o){const X=o.parentNode;for(let ne=s.parentNode;ne&&ne!==X;ne=ne.parentNode){let Q=U.clone(ne,!1);for(let se=0;se<t.length&&(Q=YI(e,t[se],g,Q),Q!==null);se++);Q&&(I&&Q.appendChild(I),B||(B=Q),I=Q)}c&&(!d.mixed||!U.isBlock(o))&&(s=(v=U.split(o,s))!==null&&v!==void 0?v:s),I&&B&&((E=a.parentNode)===null||E===void 0||E.insertBefore(I,a),B.appendChild(a),Di(d)&&vC(e,d,g,I))}return s},JI=(e,t,o,s,a)=>{const c=e.formatter.get(t),d=c[0],g=e.dom,v=e.selection,E=Q=>{const se=g3(e,Q,t,o,a);return QI(e,c,se,Q,Q,!0,d,o)},I=Q=>hd(Q)&&ro(Q)&&(Q.id==="_start"||Q.id==="_end"),B=Q=>ts(c,se=>f0(e,se,o,Q,Q)),U=Q=>{const se=uo(Q.childNodes),Ce=B(Q)||ts(c,bt=>l0(g,Q,bt)),we=Q.parentNode;if(!Ce&&_e(we)&&yc(d)&&B(we),d.deep&&se.length)for(let bt=0;bt<se.length;bt++)U(se[bt]);ut(["underline","line-through","overline"],bt=>{ro(Q)&&e.dom.getStyle(Q,"text-decoration")===bt&&Q.parentNode&&NT(g,Q.parentNode)===bt&&f0(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:bt}},void 0,Q)})},X=Q=>{const se=g.get(Q?"_start":"_end");if(se){let ke=se[Q?"firstChild":"lastChild"];return I(ke)&&(ke=ke[Q?"firstChild":"lastChild"]),kt(ke)&&ke.data.length===0&&(ke=Q?se.previousSibling||se.nextSibling:se.nextSibling||se.previousSibling),g.remove(se,!0),ke}else return null},ne=Q=>{let se,ke,Ce=Mp(g,Q,c,Q.collapsed);if(d.split){if(Ce=ex(Ce),se=wC(e,Ce,!0),ke=wC(e,Ce),se!==ke){if(se=d3(se,!0),ke=d3(ke,!1),xC(g,se,ke)){const Ne=H.from(se.firstChild).getOr(se);E(u3(g,Ne,!0,"span",{id:"_start","data-mce-type":"bookmark"})),X(!0);return}if(xC(g,ke,se)){const Ne=H.from(ke.lastChild).getOr(ke);E(u3(g,Ne,!1,"span",{id:"_end","data-mce-type":"bookmark"})),X(!1);return}se=_C(g,se,"span",{id:"_start","data-mce-type":"bookmark"}),ke=_C(g,ke,"span",{id:"_end","data-mce-type":"bookmark"});const we=g.createRng();we.setStartAfter(se),we.setEndBefore(ke),Uy(g,we,Ne=>{ut(Ne,bt=>{!hd(bt)&&!hd(bt.parentNode)&&E(bt)})}),E(se),E(ke),se=X(!0),ke=X()}else se=ke=E(se);Ce.startContainer=se.parentNode?se.parentNode:se,Ce.startOffset=g.nodeIndex(se),Ce.endContainer=ke.parentNode?ke.parentNode:ke,Ce.endOffset=g.nodeIndex(ke)+1}Uy(g,Ce,we=>{ut(we,U)})};if(s){if(cs(s)){const Q=g.createRng();Q.setStartBefore(s),Q.setEndAfter(s),ne(Q)}else ne(s);FA(e,t,s,o);return}!v.isCollapsed()||!Di(d)||Rf(e).length?(yA(e,()=>Vk(e,ne),Q=>Di(d)&&xb(e,t,o,Q)),e.nodeChanged()):_b(e,t,o,a),f3(e,t,o),FA(e,t,s,o)},ow=(e,t,o,s,a)=>{(s||e.selection.isEditable())&&JI(e,t,o,s,a)},f0=(e,t,o,s,a)=>tw(e,t,o,s,a).fold(Mo,c=>(e.dom.rename(s,c),!0),pn),p3=Mt.each,h3=(e,t,o,s)=>{const a=c=>{if(_i(c)&&ro(c.parentNode)&&e.isEditable(c)){const d=NT(e,c.parentNode);e.getStyle(c,"color")&&d?e.setStyle(c,"text-decoration",d):e.getStyle(c,"text-decoration")===d&&e.setStyle(c,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Mt.walk(s,a,"childNodes"),a(s))},XI=(e,t,o,s)=>{if(t.styles&&t.styles.backgroundColor){const a=u0(e,"fontSize");Em(s,c=>a(c)&&e.isEditable(c),ew(e,"backgroundColor",xg(t.styles.backgroundColor,o)))}},eB=(e,t,o,s)=>{if(Di(t)&&(t.inline==="sub"||t.inline==="sup")){const a=u0(e,"fontSize");Em(s,d=>a(d)&&e.isEditable(d),ew(e,"fontSize",""));const c=nt(e.select(t.inline==="sup"?"sub":"sup",s),e.isEditable);e.remove(c,!0)}},SC=(e,t,o,s)=>{p3(t,a=>{Di(a)&&p3(e.dom.select(a.inline,s),c=>{c0(c)&&f0(e,a,o,c,a.exact?c:null)}),d0(e.dom,a,s)})},nw=(e,t,o,s,a)=>{const c=a.parentNode;Vf(e,c,o,s)&&f0(e,t,s,a)||t.merge_with_parents&&c&&e.dom.getParent(c,d=>Vf(e,d,o,s)?(f0(e,t,s,a),!0):!1)},g0=Mt.each,b3=(e,t,o,s)=>{if(Sf(e)&&Di(t)&&o.parentNode){const a=_h(e.schema),c=xO(oe.fromDom(o),d=>Gc(d.dom));return ni(a,s)&&ks(oe.fromDom(o.parentNode),!1)&&!c}else return!1},sw=(e,t,o,s)=>{if(g0(o.styles,(a,c)=>{e.setStyle(t,c,xg(a,s))}),o.styles){const a=e.getAttrib(t,"style");a&&e.setAttrib(t,"data-mce-style",a)}},tB=(e,t,o,s)=>{const a=e.formatter.get(t),c=a[0],d=!s&&e.selection.isCollapsed(),g=e.dom,v=e.selection,E=(ne,Q=c)=>{Je(Q.onformat)&&Q.onformat(ne,Q,o,s),sw(g,ne,Q,o),g0(Q.attributes,(se,ke)=>{g.setAttrib(ne,ke,xg(se,o))}),g0(Q.classes,se=>{const ke=xg(se,o);g.hasClass(ne,ke)||g.addClass(ne,ke)})},I=(ne,Q)=>{let se=!1;return g0(ne,ke=>Gd(ke)?g.getContentEditable(Q)==="false"&&!ke.ceFalseOverride||_e(ke.collapsed)&&ke.collapsed!==d?!0:g.is(Q,ke.selector)&&!Gc(Q)?(E(Q,ke),se=!0,!1):!0:!1),se},B=ne=>{if(Qe(ne)){const Q=g.create(ne);return E(Q),Q}else return null},U=(ne,Q,se)=>{const ke=[];let Ce=!0;const we=c.inline||c.block,Ne=B(we),bt=Ye=>IT(c)&&Vf(e,Ye,t,o),Bt=(Ye,He,pt)=>{const io=BT(c)&&kA(e.schema,Ye)&&Rp(e,He,we);return pt&&io},Kt=(Ye,He,pt,io)=>{const Co=Ye.nodeName.toLowerCase(),vn=Rp(e,we,Co)&&Rp(e,He,we),En=!se&&kt(Ye)&&T(Ye.data),Ds=Gc(Ye),Gs=!Di(c)||!ne.isBlock(Ye);return(pt||io)&&vn&&!En&&!Ds&&Gs};Uy(ne,Q,Ye=>{let He;const pt=io=>{let Co=!1,vn=Ce,En=!1;const Ds=io.parentNode,Gs=Ds.nodeName.toLowerCase(),Jr=ne.getContentEditable(io);_e(Jr)&&(vn=Ce,Ce=Jr==="true",Co=!0,En=qk(e,io));const wl=Ce&&!Co;if(fr(io)&&!b3(e,c,io,Gs)){He=null,Nf(c)&&ne.remove(io);return}if(bt(io)){He=null;return}if(Bt(io,Gs,wl)){const Rs=ne.rename(io,we);E(Rs),ke.push(Rs),He=null;return}if(Gd(c)){let Rs=I(a,io);if(!Rs&&_e(Ds)&&yc(c)&&(Rs=I(a,Ds)),!Di(c)||Rs){He=null;return}}_e(Ne)&&Kt(io,Gs,wl,En)?(He||(He=ne.clone(Ne,!1),Ds.insertBefore(He,io),ke.push(He)),En&&Co&&(Ce=vn),He.appendChild(io)):(He=null,ut(uo(io.childNodes),pt),Co&&(Ce=vn),He=null)};ut(Ye,pt)}),c.links===!0&&ut(ke,Ye=>{const He=pt=>{pt.nodeName==="A"&&E(pt,c),ut(uo(pt.childNodes),He)};He(Ye)}),ut(ke,Ye=>{const He=Co=>{let vn=0;return ut(Co.childNodes,En=>{!DT(En)&&!hd(En)&&vn++}),vn},pt=Co=>on(Co.childNodes,Dp).filter(En=>ne.getContentEditable(En)!=="false"&&l0(ne,En,c)).map(En=>{const Ds=ne.clone(En,!1);return E(Ds),ne.replace(Ds,Co,!0),ne.remove(En,!0),Ds}).getOr(Co),io=He(Ye);if((ke.length>1||!ne.isBlock(Ye))&&io===0){ne.remove(Ye,!0);return}(Di(c)||Nf(c)&&c.wrapper)&&(!c.exact&&io===1&&(Ye=pt(Ye)),SC(e,a,o,Ye),nw(e,c,t,o,Ye),XI(ne,c,o,Ye),h3(ne,c,o,Ye),eB(ne,c,o,Ye),vC(e,c,o,Ye))})},X=cs(s)?s:v.getNode();if(g.getContentEditable(X)==="false"&&!qk(e,X)){s=X,I(a,s),PA(e,t,s,o);return}if(c){if(s)if(cs(s)){if(!I(a,s)){const ne=g.createRng();ne.setStartBefore(s),ne.setEndAfter(s),U(g,Mp(g,ne,a),!0)}}else U(g,s,!0);else!d||!Di(c)||Rf(e).length?(v.setRng(nC(v.getRng())),yA(e,()=>{Vk(e,(ne,Q)=>{const se=Q?ne:Mp(g,ne,a);U(g,se,!1)})},pn),e.nodeChanged()):e3(e,t,o),hC(e.formatter,t).each(ne=>{ut(a3(e.selection),Q=>sw(g,Q,ne,o))});GI(t,e)}PA(e,t,s,o)},y3=(e,t,o,s)=>{(s||e.selection.isEditable())&&tB(e,t,o,s)},v3=e=>Lo(e,"vars"),Cb=(e,t)=>{e.set({}),t.on("NodeChange",o=>{rw(t,o.element,e.get())}),t.on("FormatApply FormatRemove",o=>{const s=H.from(o.node).map(a=>cs(a)?a:a.startContainer).bind(a=>ro(a)?H.some(a):H.from(a.parentElement)).getOrThunk(()=>k3(t));rw(t,s,e.get())})},k3=e=>e.selection.getStart(),p0=(e,t,o,s,a)=>Bn(t,g=>{const v=e.formatter.matchNode(g,o,a??{},s);return!lo(v)},g=>Zx(e,g,o)?!0:s?!1:_e(e.formatter.matchNode(g,o,a,!0))),x3=(e,t)=>{const o=t??k3(e);return nt($k(e.dom,o),s=>ro(s)&&!Nc(s))},rw=(e,t,o)=>{const s=x3(e,t);An(o,(a,c)=>{const d=g=>{const v=p0(e,s,c,g.similar,v3(g)?g.vars:void 0),E=v.isSome();if(g.state.get()!==E){g.state.set(E);const I=v.getOr(t);v3(g)?g.callback(E,{node:I,format:c,parents:s}):ut(g.callbacks,B=>B(E,{node:I,format:c,parents:s}))}};ut([a.withSimilar,a.withoutSimilar],d),ut(a.withVars,d)})},w3=(e,t,o,s,a,c)=>{const d=t.get();ut(o.split(","),g=>{const v=hs(d,g).getOrThunk(()=>{const I={withSimilar:{state:ia(!1),similar:!0,callbacks:[]},withoutSimilar:{state:ia(!1),similar:!1,callbacks:[]},withVars:[]};return d[g]=I,I}),E=()=>{const I=x3(e);return p0(e,I,g,a,c).isSome()};if(lo(c)){const I=a?v.withSimilar:v.withoutSimilar;I.callbacks.push(s),I.callbacks.length===1&&I.state.set(E())}else v.withVars.push({state:ia(E()),similar:a,vars:c,callback:s})}),t.set(d)},_3=(e,t,o)=>{const s=e.get();ut(t.split(","),a=>hs(s,a).each(c=>{s[a]={withSimilar:{...c.withSimilar,callbacks:nt(c.withSimilar.callbacks,d=>d!==o)},withoutSimilar:{...c.withoutSimilar,callbacks:nt(c.withoutSimilar.callbacks,d=>d!==o)},withVars:nt(c.withVars,d=>d.callback!==o)}})),e.set(s)},A3=(e,t,o,s,a,c)=>(w3(e,t,o,s,a,c),{unbind:()=>_3(t,o,s)}),aw=(e,t,o,s)=>{const a=e.formatter.get(t);a&&(xb(e,t,o,s)&&(!("toggle"in a[0])||a[0].toggle)?ow(e,t,o,s):y3(e,t,o,s))},C3=Mt.explode,S3=()=>{const e={};return{addFilter:(a,c)=>{ut(C3(a),d=>{Lo(e,d)||(e[d]={name:d,callbacks:[]}),e[d].callbacks.push(c)})},getFilters:()=>cl(e),removeFilter:(a,c)=>{ut(C3(a),d=>{if(Lo(e,d))if(_e(c)){const g=e[d],v=nt(g.callbacks,E=>E!==c);v.length>0?g.callbacks=v:delete e[d]}else delete e[d]})}}},EC=(e,t)=>{ut(t,o=>{e.attr(o,null)})},E3=(e,t,o)=>{e.addNodeFilter("font",s=>{ut(s,a=>{const c=t.parse(a.attr("style")),d=a.attr("color"),g=a.attr("face"),v=a.attr("size");d&&(c.color=d),g&&(c["font-family"]=g),v&&ir(v).each(E=>{c["font-size"]=o[E-1]}),a.name="span",a.attr("style",t.serialize(c)),EC(a,["color","face","size"])})})},oB=(e,t,o)=>{e.addNodeFilter("strike",s=>{const a=t.type!=="html4";ut(s,c=>{if(a)c.name="s";else{const d=o.parse(c.attr("style"));d["text-decoration"]="line-through",c.name="span",c.attr("style",o.serialize(d))}})})},nB=(e,t,o)=>{var s;const a=Ch();t.convert_fonts_to_spans&&E3(e,a,Mt.explode((s=t.font_size_legacy_values)!==null&&s!==void 0?s:"")),oB(e,o,a)},sB=(e,t,o)=>{t.inline_styles&&nB(e,t,o)},T3=(e,t,o)=>{t.addNodeFilter("br",(s,a,c)=>{const d=Mt.extend({},o.getBlockElements()),g=o.getNonEmptyElements(),v=o.getWhitespaceElements();d.body=1;const E=I=>I.name in d||Cu(o,I);for(let I=0,B=s.length;I<B;I++){let U=s[I],X=U.parent;if(X&&E(X)&&U===X.lastChild){let ne=U.prev;for(;ne;){const Q=ne.name;if(Q!=="span"||ne.attr("data-mce-type")!=="bookmark"){Q==="br"&&(U=null);break}ne=ne.prev}if(U&&(U.remove(),i1(o,g,v,X))){const Q=o.getElementRule(X.name);Q&&(Q.removeEmpty?X.remove():Q.paddEmpty&&Ix(e,c,E,X))}}else{let ne=U;for(;X&&X.firstChild===ne&&X.lastChild===ne&&(ne=X,!d[X.name]);)X=X.parent;if(ne===X){const Q=new jl("#text",3);Q.value=hn,U.replace(Q)}}}})},TC=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),O3=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},OC=e=>{const[t,...o]=e.split(","),s=o.join(","),a=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(a){const c=a[2]===";base64",d=c?O3(s):decodeURIComponent(s);return H.some({type:a[1],data:d,base64Encoded:c})}else return H.none()},z3=(e,t,o=!0)=>{let s=t;if(o)try{s=atob(t)}catch{return H.none()}const a=new Uint8Array(s.length);for(let c=0;c<a.length;c++)a[c]=s.charCodeAt(c);return H.some(new Blob([a],{type:e}))},Xa=e=>new Promise((t,o)=>{OC(e).bind(({type:s,data:a,base64Encoded:c})=>z3(s,a,c)).fold(()=>o("Invalid data URI"),t)}),rB=e=>ds(e,"blob:")?TC(e):ds(e,"data:")?Xa(e):Promise.reject("Unknown URI format"),D3=e=>new Promise((t,o)=>{const s=new FileReader;s.onloadend=()=>{t(s.result)},s.onerror=()=>{var a;o((a=s.error)===null||a===void 0?void 0:a.message)},s.readAsDataURL(e)});let R3=0;const zC=e=>(e||"blobid")+R3++,DC=(e,t,o)=>OC(e).bind(({data:s,type:a,base64Encoded:c})=>{if(t&&!c)return H.none();{const d=c?s:btoa(s);return o(d,a)}}),Ig=(e,t,o)=>{const s=e.create(zC(),t,o);return e.add(s),s},iw=(e,t,o=!1)=>DC(t,o,(s,a)=>H.from(e.getByData(s,a)).orThunk(()=>z3(a,s).map(c=>Ig(e,c,s)))),N3=(e,t)=>{const o=()=>Promise.reject("Invalid data URI");if(ds(t,"blob:")){const s=e.getByUri(t);return _e(s)?Promise.resolve(s):rB(t).then(a=>D3(a).then(c=>DC(c,!1,d=>H.some(Ig(e,a,d))).getOrThunk(o)))}else return ds(t,"data:")?iw(e,t).fold(o,s=>Promise.resolve(s)):Promise.reject("Unknown image data format")},RC=e=>_e(e.attr("data-mce-bogus")),NC=e=>e.attr("src")===Mn.transparentSrc||_e(e.attr("data-mce-placeholder")),MC=(e,t)=>{const{blob_cache:o}=t;if(o){const s=a=>{const c=a.attr("src");NC(a)||RC(a)||Vt(c)||iw(o,c,!0).each(d=>{a.attr("src",d.blobUri())})};e.addAttributeFilter("src",a=>ut(a,s))}},lw=(e,t)=>ds(e,`${t}/`),cw=(e,t,o,s,a)=>{let c;lo(e)?c="iframe":lw(e,"image")?c="img":lw(e,"video")?c="video":lw(e,"audio")?c="audio":c="iframe";const d=new jl(c,1);return d.attr(c==="audio"?{src:t}:{src:t,width:o,height:s}),(c==="audio"||c==="video")&&d.attr("controls",""),c==="iframe"&&a&&d.attr("sandbox",""),d},dw=(e,t)=>{const o=e.schema;t.remove_trailing_brs&&T3(t,e,o),e.addAttributeFilter("href",a=>{let c=a.length;const d=v=>v.split(" ").filter(I=>I.length>0).concat(["noopener"]).sort().join(" "),g=v=>{const E=v?Mt.trim(v):"";return/\b(noopener)\b/g.test(E)?E:d(E)};if(!t.allow_unsafe_link_target)for(;c--;){const v=a[c];v.name==="a"&&v.attr("target")==="_blank"&&v.attr("rel",g(v.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",a=>{let c=a.length,d,g,v,E;for(;c--;)if(E=a[c],E.name==="a"&&E.firstChild&&!E.attr("href"))for(v=E.parent,d=E.lastChild;d&&v;)g=d.prev,v.insert(d,E),d=g}),t.fix_list_elements&&e.addNodeFilter("ul,ol",a=>{let c=a.length,d,g;for(;c--;)if(d=a[c],g=d.parent,g&&(g.name==="ul"||g.name==="ol"))if(d.prev&&d.prev.name==="li")d.prev.append(d);else{const v=new jl("li",1);v.attr("style","list-style-type: none"),d.wrap(v)}});const s=o.getValidClasses();t.validate&&s&&e.addAttributeFilter("class",a=>{var c;let d=a.length;for(;d--;){const g=a[d],v=(c=g.attr("class"))!==null&&c!==void 0?c:"",E=Mt.explode(v," ");let I="";for(let B=0;B<E.length;B++){const U=E[B];let X=!1,ne=s["*"];ne&&ne[U]&&(X=!0),ne=s[g.name],!X&&ne&&ne[U]&&(X=!0),X&&(I&&(I+=" "),I+=U)}I.length||(I=null),g.attr("class",I)}}),MC(e,t),t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",a=>ut(a,c=>{c.replace(cw(c.attr("type"),c.name==="object"?c.attr("data"):c.attr("src"),c.attr("width"),c.attr("height"),t.sandbox_iframes))})),t.sandbox_iframes&&e.addNodeFilter("iframe",a=>ut(a,c=>c.attr("sandbox","")))},{entries:f1,setPrototypeOf:g1,isFrozen:Uu,getPrototypeOf:h0,getOwnPropertyDescriptor:M3}=Object;let{freeze:xc,seal:Tm,create:I3}=Object,{apply:IC,construct:BC}=typeof Reflect<"u"&&Reflect;IC||(IC=function(t,o,s){return t.apply(o,s)}),xc||(xc=function(t){return t}),Tm||(Tm=function(t){return t}),BC||(BC=function(t,o){return new t(...o)});const b0=Hu(Array.prototype.forEach),aB=Hu(Array.prototype.pop),y0=Hu(Array.prototype.push),uw=Hu(String.prototype.toLowerCase),LC=Hu(String.prototype.toString),iB=Hu(String.prototype.match),Om=Hu(String.prototype.replace),lB=Hu(String.prototype.indexOf),cB=Hu(String.prototype.trim),Xd=Hu(RegExp.prototype.test),v0=B3(TypeError);function Hu(e){return function(t){for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];return IC(e,t,s)}}function B3(e){return function(){for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return BC(e,o)}}function ys(e,t,o){var s;o=(s=o)!==null&&s!==void 0?s:uw,g1&&g1(e,null);let a=t.length;for(;a--;){let c=t[a];if(typeof c=="string"){const d=o(c);d!==c&&(Uu(t)||(t[a]=d),c=d)}e[c]=!0}return e}function Sb(e){const t=I3(null);for(const[o,s]of f1(e))t[o]=s;return t}function k0(e,t){for(;e!==null;){const s=M3(e,t);if(s){if(s.get)return Hu(s.get);if(typeof s.value=="function")return Hu(s.value)}e=h0(e)}function o(s){return console.warn("fallback value for",s),null}return o}const PC=xc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),mw=xc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),fw=xc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),dB=xc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),gw=xc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),uB=xc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),L3=xc(["#text"]),FC=xc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),pw=xc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),P3=xc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),x0=xc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),F3=Tm(/\{\{[\w\W]*|[\w\W]*\}\}/gm),mB=Tm(/<%[\w\W]*|[\w\W]*%>/gm),fB=Tm(/\${[\w\W]*}/gm),gB=Tm(/^data-[\-\w.\u00B7-\uFFFF]/),pB=Tm(/^aria-[\-\w]+$/),U3=Tm(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),hw=Tm(/^(?:\w+script|data):/i),H3=Tm(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),UC=Tm(/^html$/i);var HC=Object.freeze({__proto__:null,MUSTACHE_EXPR:F3,ERB_EXPR:mB,TMPLIT_EXPR:fB,DATA_ATTR:gB,ARIA_ATTR:pB,IS_ALLOWED_URI:U3,IS_SCRIPT_OR_DATA:hw,ATTR_WHITESPACE:H3,DOCTYPE_NAME:UC});const hB=()=>typeof window>"u"?null:window,bB=function(t,o){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const a="data-tt-policy-suffix";o&&o.hasAttribute(a)&&(s=o.getAttribute(a));const c="dompurify"+(s?"#"+s:"");try{return t.createPolicy(c,{createHTML(d){return d},createScriptURL(d){return d}})}catch{return console.warn("TrustedTypes policy "+c+" could not be created."),null}};function VC(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hB();const t=Tn=>VC(Tn);if(t.version="3.0.5",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;const o=e.document,s=o.currentScript;let{document:a}=e;const{DocumentFragment:c,HTMLTemplateElement:d,Node:g,Element:v,NodeFilter:E,NamedNodeMap:I=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:B,DOMParser:U,trustedTypes:X}=e,ne=v.prototype,Q=k0(ne,"cloneNode"),se=k0(ne,"nextSibling"),ke=k0(ne,"childNodes"),Ce=k0(ne,"parentNode");if(typeof d=="function"){const Tn=a.createElement("template");Tn.content&&Tn.content.ownerDocument&&(a=Tn.content.ownerDocument)}let we,Ne="";const{implementation:bt,createNodeIterator:Bt,createDocumentFragment:Kt,getElementsByTagName:Ye}=a,{importNode:He}=o;let pt={};t.isSupported=typeof f1=="function"&&typeof Ce=="function"&&bt&&bt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:io,ERB_EXPR:Co,TMPLIT_EXPR:vn,DATA_ATTR:En,ARIA_ATTR:Ds,IS_SCRIPT_OR_DATA:Gs,ATTR_WHITESPACE:Jr}=HC;let{IS_ALLOWED_URI:wl}=HC,Rs=null;const jt=ys({},[...PC,...mw,...fw,...gw,...L3]);let fo=null;const Xn=ys({},[...FC,...pw,...P3,...x0]);let Dn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),co=null,en=null,Ft=!0,tn=!0,Fn=!1,qs=!0,Bs=!1,$i=!1,Yf=!1,oh=!1,Xc=!1,Mm=!1,nn=!1,es=!0,Ks=!1;const ca="user-content-";let Ir=!0,_d=!1,Kg={},M1=null;const yN=ys({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let vN=null;const kN=ys({},["audio","video","img","source","image","track"]);let y_=null;const xN=ys({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),v_="http://www.w3.org/1998/Math/MathML",nk="http://www.w3.org/2000/svg",Yg="http://www.w3.org/1999/xhtml";let nh=Yg,EE=!1,k_=null;const wN=ys({},[v_,nk,Yg],LC);let Pb;const UL=["application/xhtml+xml","text/html"],_N="text/html";let nc,sk=null;const X7=a.createElement("form"),HL=function(Ze){return Ze instanceof RegExp||Ze instanceof Function},AN=function(Ze){if(!(sk&&sk===Ze)){if((!Ze||typeof Ze!="object")&&(Ze={}),Ze=Sb(Ze),Pb=UL.indexOf(Ze.PARSER_MEDIA_TYPE)===-1?Pb=_N:Pb=Ze.PARSER_MEDIA_TYPE,nc=Pb==="application/xhtml+xml"?LC:uw,Rs="ALLOWED_TAGS"in Ze?ys({},Ze.ALLOWED_TAGS,nc):jt,fo="ALLOWED_ATTR"in Ze?ys({},Ze.ALLOWED_ATTR,nc):Xn,k_="ALLOWED_NAMESPACES"in Ze?ys({},Ze.ALLOWED_NAMESPACES,LC):wN,y_="ADD_URI_SAFE_ATTR"in Ze?ys(Sb(xN),Ze.ADD_URI_SAFE_ATTR,nc):xN,vN="ADD_DATA_URI_TAGS"in Ze?ys(Sb(kN),Ze.ADD_DATA_URI_TAGS,nc):kN,M1="FORBID_CONTENTS"in Ze?ys({},Ze.FORBID_CONTENTS,nc):yN,co="FORBID_TAGS"in Ze?ys({},Ze.FORBID_TAGS,nc):{},en="FORBID_ATTR"in Ze?ys({},Ze.FORBID_ATTR,nc):{},Kg="USE_PROFILES"in Ze?Ze.USE_PROFILES:!1,Ft=Ze.ALLOW_ARIA_ATTR!==!1,tn=Ze.ALLOW_DATA_ATTR!==!1,Fn=Ze.ALLOW_UNKNOWN_PROTOCOLS||!1,qs=Ze.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Bs=Ze.SAFE_FOR_TEMPLATES||!1,$i=Ze.WHOLE_DOCUMENT||!1,Xc=Ze.RETURN_DOM||!1,Mm=Ze.RETURN_DOM_FRAGMENT||!1,nn=Ze.RETURN_TRUSTED_TYPE||!1,oh=Ze.FORCE_BODY||!1,es=Ze.SANITIZE_DOM!==!1,Ks=Ze.SANITIZE_NAMED_PROPS||!1,Ir=Ze.KEEP_CONTENT!==!1,_d=Ze.IN_PLACE||!1,wl=Ze.ALLOWED_URI_REGEXP||U3,nh=Ze.NAMESPACE||Yg,Dn=Ze.CUSTOM_ELEMENT_HANDLING||{},Ze.CUSTOM_ELEMENT_HANDLING&&HL(Ze.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Dn.tagNameCheck=Ze.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ze.CUSTOM_ELEMENT_HANDLING&&HL(Ze.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Dn.attributeNameCheck=Ze.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ze.CUSTOM_ELEMENT_HANDLING&&typeof Ze.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Dn.allowCustomizedBuiltInElements=Ze.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Bs&&(tn=!1),Mm&&(Xc=!0),Kg&&(Rs=ys({},[...L3]),fo=[],Kg.html===!0&&(ys(Rs,PC),ys(fo,FC)),Kg.svg===!0&&(ys(Rs,mw),ys(fo,pw),ys(fo,x0)),Kg.svgFilters===!0&&(ys(Rs,fw),ys(fo,pw),ys(fo,x0)),Kg.mathMl===!0&&(ys(Rs,gw),ys(fo,P3),ys(fo,x0))),Ze.ADD_TAGS&&(Rs===jt&&(Rs=Sb(Rs)),ys(Rs,Ze.ADD_TAGS,nc)),Ze.ADD_ATTR&&(fo===Xn&&(fo=Sb(fo)),ys(fo,Ze.ADD_ATTR,nc)),Ze.ADD_URI_SAFE_ATTR&&ys(y_,Ze.ADD_URI_SAFE_ATTR,nc),Ze.FORBID_CONTENTS&&(M1===yN&&(M1=Sb(M1)),ys(M1,Ze.FORBID_CONTENTS,nc)),Ir&&(Rs["#text"]=!0),$i&&ys(Rs,["html","head","body"]),Rs.table&&(ys(Rs,["tbody"]),delete co.tbody),Ze.TRUSTED_TYPES_POLICY){if(typeof Ze.TRUSTED_TYPES_POLICY.createHTML!="function")throw v0('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ze.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw v0('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');we=Ze.TRUSTED_TYPES_POLICY,Ne=we.createHTML("")}else we===void 0&&(we=bB(X,s)),we!==null&&typeof Ne=="string"&&(Ne=we.createHTML(""));xc&&xc(Ze),sk=Ze}},Fb=ys({},["mi","mo","mn","ms","mtext"]),TE=ys({},["foreignobject","desc","title","annotation-xml"]),Be=ys({},["title","style","font","a","script"]),Fe=ys({},mw);ys(Fe,fw),ys(Fe,dB);const Ut=ys({},gw);ys(Ut,uB);const Nt=function(Ze){let mo=Ce(Ze);(!mo||!mo.tagName)&&(mo={namespaceURI:nh,tagName:"template"});const Ko=uw(Ze.tagName),xa=uw(mo.tagName);return k_[Ze.namespaceURI]?Ze.namespaceURI===nk?mo.namespaceURI===Yg?Ko==="svg":mo.namespaceURI===v_?Ko==="svg"&&(xa==="annotation-xml"||Fb[xa]):!!Fe[Ko]:Ze.namespaceURI===v_?mo.namespaceURI===Yg?Ko==="math":mo.namespaceURI===nk?Ko==="math"&&TE[xa]:!!Ut[Ko]:Ze.namespaceURI===Yg?mo.namespaceURI===nk&&!TE[xa]||mo.namespaceURI===v_&&!Fb[xa]?!1:!Ut[Ko]&&(Be[Ko]||!Fe[Ko]):!!(Pb==="application/xhtml+xml"&&k_[Ze.namespaceURI]):!1},wo=function(Ze){y0(t.removed,{element:Ze});try{Ze.parentNode.removeChild(Ze)}catch{Ze.remove()}},Rn=function(Ze,mo){try{y0(t.removed,{attribute:mo.getAttributeNode(Ze),from:mo})}catch{y0(t.removed,{attribute:null,from:mo})}if(mo.removeAttribute(Ze),Ze==="is"&&!fo[Ze])if(Xc||Mm)try{wo(mo)}catch{}else try{mo.setAttribute(Ze,"")}catch{}},Hr=function(Ze){let mo,Ko;if(oh)Ze="<remove></remove>"+Ze;else{const Jf=iB(Ze,/^[\r\n\t ]+/);Ko=Jf&&Jf[0]}Pb==="application/xhtml+xml"&&nh===Yg&&(Ze='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ze+"</body></html>");const xa=we?we.createHTML(Ze):Ze;if(nh===Yg)try{mo=new U().parseFromString(xa,Pb)}catch{}if(!mo||!mo.documentElement){mo=bt.createDocument(nh,"template",null);try{mo.documentElement.innerHTML=EE?Ne:xa}catch{}}const _c=mo.body||mo.documentElement;return Ze&&Ko&&_c.insertBefore(a.createTextNode(Ko),_c.childNodes[0]||null),nh===Yg?Ye.call(mo,$i?"html":"body")[0]:$i?mo.documentElement:_c},tu=function(Ze){return Bt.call(Ze.ownerDocument||Ze,Ze,E.SHOW_ELEMENT|E.SHOW_COMMENT|E.SHOW_TEXT,null,!1)},ql=function(Ze){return Ze instanceof B&&(typeof Ze.nodeName!="string"||typeof Ze.textContent!="string"||typeof Ze.removeChild!="function"||!(Ze.attributes instanceof I)||typeof Ze.removeAttribute!="function"||typeof Ze.setAttribute!="function"||typeof Ze.namespaceURI!="string"||typeof Ze.insertBefore!="function"||typeof Ze.hasChildNodes!="function")},rk=function(Ze){return typeof g=="object"?Ze instanceof g:Ze&&typeof Ze=="object"&&typeof Ze.nodeType=="number"&&typeof Ze.nodeName=="string"},Qf=function(Ze,mo,Ko){pt[Ze]&&b0(pt[Ze],xa=>{xa.call(t,mo,Ko,sk)})},eF=function(Ze){let mo;if(Qf("beforeSanitizeElements",Ze,null),ql(Ze))return wo(Ze),!0;const Ko=nc(Ze.nodeName);if(Qf("uponSanitizeElement",Ze,{tagName:Ko,allowedTags:Rs}),Ze.hasChildNodes()&&!rk(Ze.firstElementChild)&&(!rk(Ze.content)||!rk(Ze.content.firstElementChild))&&Xd(/<[/\w]/g,Ze.innerHTML)&&Xd(/<[/\w]/g,Ze.textContent))return wo(Ze),!0;if(!Rs[Ko]||co[Ko]){if(!co[Ko]&&oF(Ko)&&(Dn.tagNameCheck instanceof RegExp&&Xd(Dn.tagNameCheck,Ko)||Dn.tagNameCheck instanceof Function&&Dn.tagNameCheck(Ko)))return!1;if(Ir&&!M1[Ko]){const xa=Ce(Ze)||Ze.parentNode,_c=ke(Ze)||Ze.childNodes;if(_c&&xa){const Jf=_c.length;for(let Gi=Jf-1;Gi>=0;--Gi)xa.insertBefore(Q(_c[Gi],!0),se(Ze))}}return wo(Ze),!0}return Ze instanceof v&&!Nt(Ze)||(Ko==="noscript"||Ko==="noembed"||Ko==="noframes")&&Xd(/<\/no(script|embed|frames)/i,Ze.innerHTML)?(wo(Ze),!0):(Bs&&Ze.nodeType===3&&(mo=Ze.textContent,mo=Om(mo,io," "),mo=Om(mo,Co," "),mo=Om(mo,vn," "),Ze.textContent!==mo&&(y0(t.removed,{element:Ze.cloneNode()}),Ze.textContent=mo)),Qf("afterSanitizeElements",Ze,null),!1)},tF=function(Ze,mo,Ko){if(es&&(mo==="id"||mo==="name")&&(Ko in a||Ko in X7))return!1;if(!(tn&&!en[mo]&&Xd(En,mo))){if(!(Ft&&Xd(Ds,mo))){if(!fo[mo]||en[mo]){if(!(oF(Ze)&&(Dn.tagNameCheck instanceof RegExp&&Xd(Dn.tagNameCheck,Ze)||Dn.tagNameCheck instanceof Function&&Dn.tagNameCheck(Ze))&&(Dn.attributeNameCheck instanceof RegExp&&Xd(Dn.attributeNameCheck,mo)||Dn.attributeNameCheck instanceof Function&&Dn.attributeNameCheck(mo))||mo==="is"&&Dn.allowCustomizedBuiltInElements&&(Dn.tagNameCheck instanceof RegExp&&Xd(Dn.tagNameCheck,Ko)||Dn.tagNameCheck instanceof Function&&Dn.tagNameCheck(Ko))))return!1}else if(!y_[mo]){if(!Xd(wl,Om(Ko,Jr,""))){if(!((mo==="src"||mo==="xlink:href"||mo==="href")&&Ze!=="script"&&lB(Ko,"data:")===0&&vN[Ze])){if(!(Fn&&!Xd(Gs,Om(Ko,Jr,"")))){if(Ko)return!1}}}}}}return!0},oF=function(Ze){return Ze.indexOf("-")>0},nF=function(Ze){let mo,Ko,xa,_c;Qf("beforeSanitizeAttributes",Ze,null);const{attributes:Jf}=Ze;if(!Jf)return;const Gi={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:fo};for(_c=Jf.length;_c--;){mo=Jf[_c];const{name:Xf,namespaceURI:VL}=mo;Ko=Xf==="value"?mo.value:cB(mo.value);const qW=Ko;if(xa=nc(Xf),Gi.attrName=xa,Gi.attrValue=Ko,Gi.keepAttr=!0,Gi.forceKeepAttr=void 0,Qf("uponSanitizeAttribute",Ze,Gi),Ko=Gi.attrValue,Gi.forceKeepAttr)continue;if(!Gi.keepAttr){Rn(Xf,Ze);continue}if(!qs&&Xd(/\/>/i,Ko)){Rn(Xf,Ze);continue}Bs&&(Ko=Om(Ko,io," "),Ko=Om(Ko,Co," "),Ko=Om(Ko,vn," "));const sF=nc(Ze.nodeName);if(!tF(sF,xa,Ko)){Rn(Xf,Ze);continue}if(Ks&&(xa==="id"||xa==="name")&&(Rn(Xf,Ze),Ko=ca+Ko),we&&typeof X=="object"&&typeof X.getAttributeType=="function"&&!VL)switch(X.getAttributeType(sF,xa)){case"TrustedHTML":{Ko=we.createHTML(Ko);break}case"TrustedScriptURL":{Ko=we.createScriptURL(Ko);break}}if(Ko!==qW)try{VL?Ze.setAttributeNS(VL,Xf,Ko):Ze.setAttribute(Xf,Ko)}catch{Rn(Xf,Ze)}}Qf("afterSanitizeAttributes",Ze,null)},ZW=function Tn(Ze){let mo;const Ko=tu(Ze);for(Qf("beforeSanitizeShadowDOM",Ze,null);mo=Ko.nextNode();)Qf("uponSanitizeShadowNode",mo,null),!eF(mo)&&(mo.content instanceof c&&Tn(mo.content),nF(mo));Qf("afterSanitizeShadowDOM",Ze,null)};return t.sanitize=function(Tn){let Ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},mo,Ko,xa,_c;if(EE=!Tn,EE&&(Tn="<!-->"),typeof Tn!="string"&&!rk(Tn))if(typeof Tn.toString=="function"){if(Tn=Tn.toString(),typeof Tn!="string")throw v0("dirty is not a string, aborting")}else throw v0("toString is not a function");if(!t.isSupported)return Tn;if(Yf||AN(Ze),t.removed=[],typeof Tn=="string"&&(_d=!1),_d){if(Tn.nodeName){const Xf=nc(Tn.nodeName);if(!Rs[Xf]||co[Xf])throw v0("root node is forbidden and cannot be sanitized in-place")}}else if(Tn instanceof g)mo=Hr("<!---->"),Ko=mo.ownerDocument.importNode(Tn,!0),Ko.nodeType===1&&Ko.nodeName==="BODY"||Ko.nodeName==="HTML"?mo=Ko:mo.appendChild(Ko);else{if(!Xc&&!Bs&&!$i&&Tn.indexOf("<")===-1)return we&&nn?we.createHTML(Tn):Tn;if(mo=Hr(Tn),!mo)return Xc?null:nn?Ne:""}mo&&oh&&wo(mo.firstChild);const Jf=tu(_d?Tn:mo);for(;xa=Jf.nextNode();)eF(xa)||(xa.content instanceof c&&ZW(xa.content),nF(xa));if(_d)return Tn;if(Xc){if(Mm)for(_c=Kt.call(mo.ownerDocument);mo.firstChild;)_c.appendChild(mo.firstChild);else _c=mo;return(fo.shadowroot||fo.shadowrootmode)&&(_c=He.call(o,_c,!0)),_c}let Gi=$i?mo.outerHTML:mo.innerHTML;return $i&&Rs["!doctype"]&&mo.ownerDocument&&mo.ownerDocument.doctype&&mo.ownerDocument.doctype.name&&Xd(UC,mo.ownerDocument.doctype.name)&&(Gi="<!DOCTYPE "+mo.ownerDocument.doctype.name+`>
`+Gi),Bs&&(Gi=Om(Gi,io," "),Gi=Om(Gi,Co," "),Gi=Om(Gi,vn," ")),we&&nn?we.createHTML(Gi):Gi},t.setConfig=function(Tn){AN(Tn),Yf=!0},t.clearConfig=function(){sk=null,Yf=!1},t.isValidAttribute=function(Tn,Ze,mo){sk||AN({});const Ko=nc(Tn),xa=nc(Ze);return tF(Ko,xa,mo)},t.addHook=function(Tn,Ze){typeof Ze=="function"&&(pt[Tn]=pt[Tn]||[],y0(pt[Tn],Ze))},t.removeHook=function(Tn){if(pt[Tn])return aB(pt[Tn])},t.removeHooks=function(Tn){pt[Tn]&&(pt[Tn]=[])},t.removeAllHooks=function(){pt={}},t}var V3=VC();const bw=Mt.each,j3=Mt.trim,yB=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],mi={ftp:21,http:80,https:443,mailto:25},jf=["img","video"],vB=(e,t)=>_e(e)?!e:_e(t)?!Nn(jf,t):!0,kB=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},Z3=(e,t,o)=>{const s=kB(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(s)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(s)?vB(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(s):/^data:/i.test(s)};class eu{static parseDataUri(t){let o;const s=decodeURIComponent(t).split(","),a=/data:([^;]+)/.exec(s[0]);return a&&(o=a[1]),{type:o,data:s[1]}}static isDomSafe(t,o,s={}){if(s.allow_script_urls)return!0;{const a=gr.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!Z3(s,a,o)}}static getDocumentBaseUrl(t){var o;let s;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?s=(o=t.href)!==null&&o!==void 0?o:"":s=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/")),s}constructor(t,o={}){this.path="",this.directory="",t=j3(t),this.settings=o;const s=o.base_uri,a=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){a.source=t;return}const c=t.indexOf("//")===0;if(t.indexOf("/")===0&&!c&&(t=(s&&s.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const g=s?s.path:new eu(document.location.href).directory;if((s==null?void 0:s.protocol)==="")t="//mce_host"+a.toAbsPath(g,t);else{const v=/([^#?]*)([#?]?.*)/.exec(t);v&&(t=(s&&s.protocol||"http")+"://mce_host"+a.toAbsPath(g,v[1])+v[2])}}t=t.replace(/@@/g,"(mce_at)");const d=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);d&&bw(yB,(g,v)=>{let E=d[v];E&&(E=E.replace(/\(mce_at\)/g,"@@")),a[g]=E}),s&&(a.protocol||(a.protocol=s.protocol),a.userInfo||(a.userInfo=s.userInfo),!a.port&&a.host==="mce_host"&&(a.port=s.port),(!a.host||a.host==="mce_host")&&(a.host=s.host),a.source=""),c&&(a.protocol="")}setPath(t){const o=/^(.*?)\/?(\w+)?$/.exec(t);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const o=new eu(t,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const s=this.getURI(),a=o.getURI();if(s===a||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===a)return s;let c=this.toRelPath(this.path,o.path);return o.query&&(c+="?"+o.query),o.anchor&&(c+="#"+o.anchor),c}toAbsolute(t,o){const s=new eu(t,{base_uri:this});return s.getURI(o&&this.isSameOrigin(s))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const o=this.protocol?mi[this.protocol]:null;if(o&&(this.port||o)==(t.port||o))return!0}return!1}toRelPath(t,o){let s=0,a="",c,d;const g=t.substring(0,t.lastIndexOf("/")).split("/"),v=o.split("/");if(g.length>=v.length){for(c=0,d=g.length;c<d;c++)if(c>=v.length||g[c]!==v[c]){s=c+1;break}}if(g.length<v.length){for(c=0,d=v.length;c<d;c++)if(c>=g.length||g[c]!==v[c]){s=c+1;break}}if(s===1)return o;for(c=0,d=g.length-(s-1);c<d;c++)a+="../";for(c=s-1,d=v.length;c<d;c++)c!==s-1?a+="/"+v[c]:a+=v[c];return a}toAbsPath(t,o){let s=0;const a=/\/$/.test(o)?"/":"",c=t.split("/"),d=o.split("/"),g=[];bw(c,B=>{B&&g.push(B)});const v=[];for(let B=d.length-1;B>=0;B--)if(!(d[B].length===0||d[B]===".")){if(d[B]===".."){s++;continue}if(s>0){s--;continue}v.push(d[B])}const E=g.length-s;let I;return E<=0?I=ea(v).join("/"):I=g.slice(0,E).join("/")+"/"+ea(v).join("/"),I.indexOf("/")!==0&&(I="/"+I),a&&I.lastIndexOf("/")!==I.length-1&&(I+=a),I}getURI(t=!1){let o;return(!this.source||t)&&(o="",t||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const p1=Mt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),jC="data-mce-type";let Vu=0;const q3=(e,t,o,s,a)=>{var c,d,g,v;const E=t.validate,I=o.getSpecialElements();e.nodeType===cc&&!t.allow_conditional_comments&&/^\[if/i.test((c=e.nodeValue)!==null&&c!==void 0?c:"")&&(e.nodeValue=" "+e.nodeValue);const B=(d=a==null?void 0:a.tagName)!==null&&d!==void 0?d:e.nodeName.toLowerCase();if(s!=="html"&&o.isValid(s)){_e(a)&&(a.allowedTags[B]=!0);return}if(e.nodeType!==Ol||B==="body")return;const U=oe.fromDom(e),X=fa(U,jC),ne=wi(U,"data-mce-bogus");if(!X&&Qe(ne)){ne==="all"?Hn(U):ra(U);return}const Q=o.getElementRule(B);if(E&&!Q){Lo(I,B)?Hn(U):ra(U);return}else _e(a)&&(a.allowedTags[B]=!0);if(E&&Q&&!X){if(ut((g=Q.attributesForced)!==null&&g!==void 0?g:[],se=>{Cs(U,se.name,se.value==="{$uid}"?`mce_${Vu++}`:se.value)}),ut((v=Q.attributesDefault)!==null&&v!==void 0?v:[],se=>{fa(U,se.name)||Cs(U,se.name,se.value==="{$uid}"?`mce_${Vu++}`:se.value)}),Q.attributesRequired&&!ts(Q.attributesRequired,se=>fa(U,se))){ra(U);return}if(Q.removeEmptyAttrs&&fu(U)){ra(U);return}Q.outputName&&Q.outputName!==B&&Rh(U,Q.outputName)}},xB=(e,t,o,s,a)=>{const c=e.tagName.toLowerCase(),{attrName:d,attrValue:g}=a;a.keepAttr=ZC(t,o,s,c,d,g),a.keepAttr?(a.allowedAttributes[d]=!0,W3(d,o)&&(a.attrValue=d),t.allow_svg_data_urls&&ds(g,"data:image/svg+xml")&&(a.forceKeepAttr=!0)):qC(e,d)&&(a.forceKeepAttr=!0)},ZC=(e,t,o,s,a,c)=>o!=="html"&&!nl(s)?!0:!(a in p1&&Z3(e,c,s))&&(!e.validate||t.isValid(s,a)||ds(a,"data-")||ds(a,"aria-")),qC=(e,t)=>e.hasAttribute(jC)&&(t==="id"||t==="class"||t==="style"),W3=(e,t)=>e in t.getBoolAttrs(),WC=(e,t,o,s)=>{const{attributes:a}=e;for(let c=a.length-1;c>=0;c--){const d=a[c],g=d.name,v=d.value;!ZC(t,o,s,e.tagName.toLowerCase(),g,v)&&!qC(e,g)?e.removeAttribute(g):W3(g,o)&&e.setAttribute(g,g)}},$3=(e,t,o)=>{const s=V3();return s.addHook("uponSanitizeElement",(a,c)=>{q3(a,e,t,o.track(a),c)}),s.addHook("uponSanitizeAttribute",(a,c)=>{xB(a,e,t,o.current(),c)}),s},wB=(e,t)=>{const s={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return s.PARSER_MEDIA_TYPE=t,e.allow_script_urls?s.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(s.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),s},_B=e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(s=>`xlink:${s}`),o={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};return V3().sanitize(e,o),e.innerHTML},G3=(e,t)=>{const o=Yb();if(e.sanitize){const s=$3(e,t,o);return{sanitizeHtmlElement:(c,d)=>{s.sanitize(c,wB(e,d)),s.removed=[],o.reset()},sanitizeNamespaceElement:_B}}else return{sanitizeHtmlElement:(c,d)=>{const g=document.createNodeIterator(c,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let v;for(;v=g.nextNode();){const E=o.track(v);q3(v,e,t,E),ro(v)&&WC(v,e,t,E)}o.reset()},sanitizeNamespaceElement:dt}},$C=Mt.makeMap,yw=Mt.extend,vw=(e,t,o,s)=>{const a=e.name,c=a in o&&a!=="title"&&a!=="textarea",d=t.childNodes;for(let g=0,v=d.length;g<v;g++){const E=d[g],I=new jl(E.nodeName.toLowerCase(),E.nodeType);if(ro(E)){const B=E.attributes;for(let U=0,X=B.length;U<X;U++){const ne=B[U];I.attr(ne.name,ne.value)}nl(I.name)&&(s(E),I.value=E.innerHTML)}else kt(E)?(I.value=E.data,c&&(I.raw=!0)):(Bd(E)||qm(E)||yu(E))&&(I.value=E.data);nl(I.name)||vw(I,E,o,s),e.append(I)}},GC=(e,t,o)=>{const s=[];for(let a=e,c=a;a;c=a,a=a.walk()){const d=a;ut(t,g=>g(d)),Vt(d.parent)&&d!==e?a=c:s.push(d)}for(let a=s.length-1;a>=0;a--){const c=s[a];ut(o,d=>d(c))}},KC=(e,t,o,s)=>{const a=o.validate,c=t.getNonEmptyElements(),d=t.getWhitespaceElements(),g=yw($C("script,style,head,html,body,title,meta,param"),t.getBlockElements()),v=_h(t),E=/[ \t\r\n]+/g,I=/^[ \t\r\n]+/,B=/[ \t\r\n]+$/,U=Ce=>{let we=Ce.parent;for(;_e(we);){if(we.name in d)return!0;we=we.parent}return!1},X=Ce=>{let we=Ce;for(;_e(we);){if(we.name in v)return i1(t,c,d,we);we=we.parent}return!1},ne=Ce=>Ce.name in g||Cu(t,Ce)||nl(Ce.name)&&Ce.parent===e,Q=(Ce,we)=>{const Ne=we?Ce.prev:Ce.next;return _e(Ne)||Vt(Ce.parent)?!1:ne(Ce.parent)&&(Ce.parent!==e||s.isRootContent===!0)};return[Ce=>{var we;if(Ce.type===3&&!U(Ce)){let Ne=(we=Ce.value)!==null&&we!==void 0?we:"";Ne=Ne.replace(E," "),(Bx(Ce.prev,ne)||Q(Ce,!0))&&(Ne=Ne.replace(I,"")),Ne.length===0?Ce.remove():Ce.value=Ne}},Ce=>{var we;if(Ce.type===1){const Ne=t.getElementRule(Ce.name);if(a&&Ne){const bt=i1(t,c,d,Ce);Ne.paddInEmptyBlock&&bt&&X(Ce)?Ix(o,s,ne,Ce):Ne.removeEmpty&&bt?ne(Ce)?Ce.remove():Ce.unwrap():Ne.paddEmpty&&(bt||FO(Ce))&&Ix(o,s,ne,Ce)}}else if(Ce.type===3&&!U(Ce)){let Ne=(we=Ce.value)!==null&&we!==void 0?we:"";(Ce.next&&ne(Ce.next)||Q(Ce,!1))&&(Ne=Ne.replace(B,"")),Ne.length===0?Ce.remove():Ce.value=Ne}}]},K3=(e,t)=>{var o;const s=(o=t.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return s===!1?"":s===!0?"p":s},Eb=(e={},t=Su())=>{const o=S3(),s=S3(),a={validate:!0,root_name:"body",sanitize:!0,...e},c=new DOMParser,d=G3(a,t),g=(we,Ne,bt="html")=>{const Bt=bt==="xhtml"?"application/xhtml+xml":"text/html",Kt=Lo(t.getSpecialElements(),Ne.toLowerCase()),Ye=Kt?`<${Ne}>${we}</${Ne}>`:we,He=bt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Ye}</body></html>`:`<body>${Ye}</body>`,pt=c.parseFromString(He,Bt).body;return d.sanitizeHtmlElement(pt,Bt),Kt?pt.firstChild:pt},v=o.addFilter,E=o.getFilters,I=o.removeFilter,B=s.addFilter,U=s.getFilters,X=s.removeFilter,ne=(we,Ne)=>{oC(t,we)&&Ne.push(we)},Q=(we,Ne)=>{const bt=Qe(Ne.attr(jC)),Bt=Ne.type===1&&!Lo(we,Ne.name)&&!Cu(t,Ne)&&!nl(Ne.name);return Ne.type===3||Bt&&!bt},se=(we,Ne)=>{const bt=yw($C("script,style,head,html,body,title,meta,param"),t.getBlockElements()),Bt=/^[ \t\r\n]+/,Kt=/[ \t\r\n]+$/;let Ye=we.firstChild,He=null;const pt=io=>{var Co,vn;io&&(Ye=io.firstChild,Ye&&Ye.type===3&&(Ye.value=(Co=Ye.value)===null||Co===void 0?void 0:Co.replace(Bt,"")),Ye=io.lastChild,Ye&&Ye.type===3&&(Ye.value=(vn=Ye.value)===null||vn===void 0?void 0:vn.replace(Kt,"")))};if(t.isValidChild(we.name,Ne.toLowerCase())){for(;Ye;){const io=Ye.next;Q(bt,Ye)?(He||(He=new jl(Ne,1),He.attr(a.forced_root_block_attrs),we.insert(He,Ye)),He.append(Ye)):(pt(He),He=null),Ye=io}pt(He)}},Ce={schema:t,addAttributeFilter:B,getAttributeFilters:U,removeAttributeFilter:X,addNodeFilter:v,getNodeFilters:E,removeNodeFilter:I,parse:(we,Ne={})=>{var bt;const Bt=a.validate,Kt=(bt=Ne.context)!==null&&bt!==void 0?bt:a.root_name,Ye=g(we,Kt,Ne.format);H1(t,Ye);const He=new jl(Kt,11);vw(He,Ye,t.getSpecialElements(),d.sanitizeNamespaceElement),Ye.innerHTML="";const[pt,io]=KC(He,t,a,Ne),Co=[],vn=Bt?Jr=>ne(Jr,Co):dt,En={nodes:{},attributes:{}},Ds=Jr=>n0(E(),U(),Jr,En);if(GC(He,[pt,Ds],[io,vn]),Co.reverse(),Bt&&Co.length>0)if(Ne.context){const{pass:Jr,fail:wl}=St(Co,Rs=>Rs.parent===He);r0(wl,t,He,Ds),Ne.invalid=Jr.length>0}else r0(Co,t,He,Ds);const Gs=K3(a,Ne);return Gs&&(He.name==="body"||Ne.isRootContent)&&se(He,Gs),Ne.invalid||s0(En,Ne),He}};return dw(Ce,a),sB(Ce,a,t),Ce},YC=e=>Vx(e)?Cg({validate:!1}).serialize(e):e,Y3=(e,t,o)=>{const s=YC(e),a=t(s);if(a.isDefaultPrevented())return a;if(Vx(e))if(a.content!==s){const c=Eb({validate:!1,forced_root_block:!1,...o}).parse(a.content,{context:e.name});return{...a,content:c}}else return{...a,content:e};else return a},QC=(e,t)=>{if(t.no_events)return be.value(t);{const o=QT(e,t);return o.isDefaultPrevented()?be.error(HA(e,{content:"",...o}).content):be.value(o)}},kw=(e,t,o)=>o.no_events?t:Y3(t,a=>HA(e,{...o,content:a}),{sanitize:Rk(e),sandbox_iframes:K_(e)}).content,xw=(e,t)=>{if(t.no_events)return be.value(t);{const o=Y3(t.content,s=>YT(e,{...t,content:s}),{sanitize:Rk(e),sandbox_iframes:K_(e)});return o.isDefaultPrevented()?(UA(e,o),be.error(void 0)):be.value(o)}},ww=(e,t,o)=>{o.no_events||UA(e,{...o,content:t})},h1=(e,t,o)=>({element:e,width:t,rows:o}),JC=(e,t)=>({element:e,cells:t}),Q3=(e,t)=>({x:e,y:t}),J3=(e,t)=>Qi(e,t).bind(ir).getOr(1),AB=(e,t,o,s,a)=>{const c=J3(a,"rowspan"),d=J3(a,"colspan"),g=e.rows;for(let v=o;v<o+c;v++){g[v]||(g[v]=JC(pf(s),[]));for(let E=t;E<t+d;E++){const I=g[v].cells;I[E]=v===o&&E===t?a:bm(a)}}},CB=(e,t,o)=>{const s=e.rows;return!!(s[o]?s[o].cells:[])[t]},SB=(e,t,o)=>{for(;CB(e,t,o);)t++;return t},X3=e=>rn(e,(t,o)=>o.cells.length>t?o.cells.length:t,0),Pr=(e,t)=>{const o=e.rows;for(let s=0;s<o.length;s++){const a=o[s].cells;for(let c=0;c<a.length;c++)if(On(a[c],t))return H.some(Q3(c,s))}return H.none()},_w=(e,t,o,s,a)=>{const c=[],d=e.rows;for(let g=o;g<=a;g++){const v=d[g].cells,E=t<s?v.slice(t,s+1):v.slice(s,t+1);c.push(JC(d[g].element,E))}return c},Zf=(e,t,o)=>{const s=t.x,a=t.y,c=o.x,d=o.y,g=a<d?_w(e,s,a,c,d):_w(e,s,d,c,a);return h1(e.element,X3(g),g)},ez=(e,t)=>{const o=bm(e.element),s=oe.fromTag("tbody");return Kr(s,t),Fs(o,s),o},tz=e=>Zo(e.rows,t=>{const o=Zo(t.cells,a=>{const c=pf(a);return ur(c,"colspan"),ur(c,"rowspan"),c}),s=bm(t.element);return Kr(s,o),s}),Aw=e=>{const t=h1(bm(e),0,[]);return ut($a(e,"tr"),(o,s)=>{ut($a(o,"td,th"),(a,c)=>{AB(t,SB(t,c,s),s,o,a)})}),h1(t.element,X3(t.rows),t.rows)},XC=e=>ez(e,tz(e)),oz=(e,t,o)=>Pr(e,t).bind(s=>Pr(e,o).map(a=>Zf(e,s,a))),nz=e=>on(e,t=>fn(t)==="ul"||fn(t)==="ol"),sz=(e,t)=>on(e,o=>fn(o)==="li"&&bA(o,t)).fold(ht([]),o=>nz(e).map(s=>{const a=oe.fromTag(fn(s)),c=Ki(Ta(s),(d,g)=>ds(g,"list-style"));return el(a,c),[oe.fromTag("li"),a]}).getOr([])),EB=(e,t)=>{const o=rn(t,(s,a)=>(Fs(a,s),a),e);return t.length>0?_g([o]):o},TB=e=>Pd(e)?Za(e).filter(Ic).fold(ht([]),t=>[e,t]):Ic(e)?[e]:[],OB=(e,t,o)=>{const s=oe.fromDom(t.commonAncestorContainer),a=_m(s,e),c=nt(a,v=>o.isWrapper(fn(v))),d=sz(a,t),g=c.concat(d.length?d:TB(s));return Zo(g,bm)},eS=()=>_g([]),rz=(e,t,o)=>EB(oe.fromDom(t.cloneContents()),OB(e,t,o)),zB=(e,t)=>Sa(t,"table",$t(On,e)),tS=(e,t)=>zB(e,t[0]).bind(o=>{const s=t[0],a=t[t.length-1],c=Aw(o);return oz(c,s,a).map(d=>_g([XC(d)]))}).getOrThunk(eS),az=(e,t,o)=>t.length>0&&t[0].collapsed?eS():rz(e,t[0],o),DB=(e,t,o)=>{const s=zT(t,e);return s.length>0?tS(e,s):az(e,t,o)},w0=(e,t)=>t>=0&&t<e.length&&By(e.charAt(t)),iz=e=>F(e.innerText),RB=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),vl=e=>H.from(e.selection.getRng()).map(t=>{var o;const s=H.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),a=e.getBody(),c=RB(s),d=oe.fromDom(t.cloneContents());Hv(d),yl(d);const g=e.dom.add(a,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},d.dom),v=iz(g),E=F((o=g.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(g),w0(E,0)||w0(E,E.length-1)){const I=s.getOr(a),B=iz(I),U=B.indexOf(v);if(U===-1)return v;{const X=w0(B,U-1),ne=w0(B,U+v.length);return(X?" ":"")+v+(ne?" ":"")}}else return v}).getOr(""),NB=(e,t)=>{const o=e.selection.getRng(),s=e.dom.create("body"),a=e.selection.getSel(),c=ux(e,Wd(a)),d=t.contextual?DB(oe.fromDom(e.getBody()),c,e.schema).dom:o.cloneContents();return d&&s.appendChild(d),e.selection.serializer.serialize(s,t)},MB=(e,t)=>{if(t.format==="text")return vl(e);{const o=NB(e,t);return t.format==="tree"?o:e.selection.isCollapsed()?"":o}},IB=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),BB=(e,t,o={})=>{const s=IB(o,t);return QC(e,s).fold(So,a=>{const c=MB(e,a);return kw(e,c,a)})},b1=0,lz=1,Cw=2,oS=(e,t)=>{const o=e.length+t.length+2,s=new Array(o),a=new Array(o),c=(I,B,U)=>({start:I,end:B,diag:U}),d=(I,B,U,X,ne)=>{const Q=v(I,B,U,X);if(Q===null||Q.start===B&&Q.diag===B-X||Q.end===I&&Q.diag===I-U){let se=I,ke=U;for(;se<B||ke<X;)se<B&&ke<X&&e[se]===t[ke]?(ne.push([b1,e[se]]),++se,++ke):B-I>X-U?(ne.push([Cw,e[se]]),++se):(ne.push([lz,t[ke]]),++ke)}else{d(I,Q.start,U,Q.start-Q.diag,ne);for(let se=Q.start;se<Q.end;++se)ne.push([b1,e[se]]);d(Q.end,B,Q.end-Q.diag,X,ne)}},g=(I,B,U,X)=>{let ne=I;for(;ne-B<X&&ne<U&&e[ne]===t[ne-B];)++ne;return c(I,ne,B)},v=(I,B,U,X)=>{const ne=B-I,Q=X-U;if(ne===0||Q===0)return null;const se=ne-Q,ke=Q+ne,Ce=(ke%2===0?ke:ke+1)/2;s[1+Ce]=I,a[1+Ce]=B+1;let we,Ne,bt,Bt,Kt;for(we=0;we<=Ce;++we){for(Ne=-we;Ne<=we;Ne+=2){for(bt=Ne+Ce,Ne===-we||Ne!==we&&s[bt-1]<s[bt+1]?s[bt]=s[bt+1]:s[bt]=s[bt-1]+1,Bt=s[bt],Kt=Bt-I+U-Ne;Bt<B&&Kt<X&&e[Bt]===t[Kt];)s[bt]=++Bt,++Kt;if(se%2!==0&&se-we<=Ne&&Ne<=se+we&&a[bt-se]<=s[bt])return g(a[bt-se],Ne+I-U,B,X)}for(Ne=se-we;Ne<=se+we;Ne+=2){for(bt=Ne+Ce-se,Ne===se-we||Ne!==se+we&&a[bt+1]<=a[bt-1]?a[bt]=a[bt+1]-1:a[bt]=a[bt-1],Bt=a[bt]-1,Kt=Bt-I+U-Ne;Bt>=I&&Kt>=U&&e[Bt]===t[Kt];)a[bt]=Bt--,Kt--;if(se%2===0&&-we<=Ne&&Ne<=we&&a[bt]<=s[bt+se])return g(a[bt],Ne+I-U,B,X)}}return null},E=[];return d(0,e.length,0,t.length,E),E},nS=e=>ro(e)?e.outerHTML:kt(e)?gr.encodeRaw(e.data,!1):Bd(e)?"<!--"+e.data+"-->":"",LB=e=>{let t;const o=document.createElement("div"),s=document.createDocumentFragment();for(e&&(o.innerHTML=e);t=o.firstChild;)s.appendChild(t);return s},zm=(e,t,o)=>{const s=LB(t);if(e.hasChildNodes()&&o<e.childNodes.length){const a=e.childNodes[o];e.insertBefore(s,a)}else e.appendChild(s)},cz=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const o=e.childNodes[t];e.removeChild(o)}},PB=(e,t)=>{let o=0;ut(e,s=>{s[0]===b1?o++:s[0]===lz?(zm(t,s[1],o),o++):s[0]===Cw&&cz(t,o)})},sS=(e,t)=>nt(Zo(uo(e.childNodes),t?Jt(F,nS):nS),o=>o.length>0),dz=(e,t)=>{const o=Zo(uo(t.childNodes),nS);return PB(oS(o,e),t),t},Sw=si(()=>document.implementation.createHTMLDocument("undo")),uz=e=>e.querySelector("iframe")!==null,mz=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),fz=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Ew=e=>{const t=e.serializer.getTempAttrs(),o=$4(e.getBody(),t);return uz(o)?mz(sS(o,!0)):fz(F(o.innerHTML))},rS=(e,t,o)=>{const s=o?t.beforeBookmark:t.bookmark;t.type==="fragmented"?dz(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:_e(s)&&cA(s)?!s.isFakeCaret:!0}),s&&(e.selection.moveToBookmark(s),e.selection.scrollIntoView())},_0=e=>e.type==="fragmented"?e.fragments.join(""):e.content,gz=e=>{const t=oe.fromTag("body",Sw());return hu(t,_0(e)),ut($a(t,"*[data-mce-bogus]"),ra),Nd(t)},FB=(e,t)=>_0(e)===_0(t),Tw=(e,t)=>gz(e)===gz(t),A0=(e,t)=>!e||!t?!1:FB(e,t)?!0:Tw(e,t),C0=e=>e.get()===0,S0=(e,t,o)=>{C0(o)&&(e.typing=t)},Bg=(e,t)=>{e.typing&&(S0(e,!1,t),e.add())},UB=e=>{e.typing&&(e.typing=!1,e.add())},HB=(e,t,o)=>{C0(t)&&o.set(re(e.selection))},Ow=(e,t,o,s,a,c,d)=>{const g=Ew(e),v=Mt.extend(c||{},g);if(!C0(s)||e.removed)return null;const E=t.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:v,lastLevel:E,originalEvent:d}).isDefaultPrevented()||E&&A0(E,v))return null;t.data[o.get()]&&a.get().each(U=>{t.data[o.get()].beforeBookmark=U});const I=VN(e);if(I&&t.data.length>I){for(let U=0;U<t.data.length-1;U++)t.data[U]=t.data[U+1];t.data.length--,o.set(t.data.length)}v.bookmark=re(e.selection),o.get()<t.data.length-1&&(t.data.length=o.get()+1),t.data.push(v),o.set(t.data.length-1);const B={level:v,lastLevel:E,originalEvent:d};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",B),e.dispatch("change",B)):e.dispatch("AddUndo",B),v},pz=(e,t,o)=>{t.data=[],o.set(0),t.typing=!1,e.dispatch("ClearUndos")},hz=(e,t,o,s,a)=>{if(t.transact(s)){const c=t.data[o.get()].bookmark,d=t.data[o.get()-1];rS(e,d,!0),t.transact(a)&&(t.data[o.get()-1].beforeBookmark=c)}},bz=(e,t,o)=>{let s;return t.get()<o.length-1&&(t.set(t.get()+1),s=o[t.get()],rS(e,s,!1),e.setDirty(!0),e.dispatch("Redo",{level:s})),s},VB=(e,t,o,s)=>{let a;return t.typing&&(t.add(),t.typing=!1,S0(t,!1,o)),s.get()>0&&(s.set(s.get()-1),a=t.data[s.get()],rS(e,a,!0),e.setDirty(!0),e.dispatch("Undo",{level:a})),a},jB=e=>{e.clear(),e.add()},yz=(e,t,o)=>o.get()>0||t.typing&&t.data[0]&&!A0(Ew(e),t.data[0]),aS=(e,t)=>t.get()<e.data.length-1&&!e.typing,iS=(e,t,o)=>(Bg(e,t),e.beforeChange(),e.ignore(o),e.add()),vz=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},zw=(e,t)=>{const o=e.dom,s=_e(t)?t:e.getBody();ut(o.select("table,a",s),a=>{switch(a.nodeName){case"TABLE":const c=ZE(e),d=o.getAttrib(a,"border");(!d||d==="0")&&e.hasVisual?o.addClass(a,c):o.removeClass(a,c);break;case"A":if(!o.getAttrib(a,"href")){const g=o.getAttrib(a,"name")||a.id,v=Ok(e);g&&e.hasVisual?o.addClass(a,v):o.removeClass(a,v)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},lS=e=>({init:{bindEvents:dt},undoManager:{beforeChange:(t,o)=>HB(e,t,o),add:(t,o,s,a,c,d)=>Ow(e,t,o,s,a,c,d),undo:(t,o,s)=>VB(e,t,o,s),redo:(t,o)=>bz(e,t,o),clear:(t,o)=>pz(e,t,o),reset:t=>jB(t),hasUndo:(t,o)=>yz(e,t,o),hasRedo:(t,o)=>aS(t,o),transact:(t,o,s)=>iS(t,o,s),ignore:(t,o)=>vz(t,o),extra:(t,o,s,a)=>hz(e,t,o,s,a)},formatter:{match:(t,o,s,a)=>xb(e,t,o,s,a),matchAll:(t,o)=>Wx(e,t,o),matchNode:(t,o,s,a)=>Vf(e,t,o,s,a),canApply:t=>JO(e,t),closest:t=>QO(e,t),apply:(t,o,s)=>y3(e,t,o,s),remove:(t,o,s,a)=>ow(e,t,o,s,a),toggle:(t,o,s)=>aw(e,t,o,s),formatChanged:(t,o,s,a,c)=>A3(e,t,o,s,a,c)},editor:{getContent:t=>Yc(e,t),setContent:(t,o)=>ZI(e,t,o),insertContent:(t,o)=>lC(e,t,o),addVisual:t=>zw(e,t)},selection:{getContent:(t,o)=>BB(e,t,o)},autocompleter:{addDecoration:t=>P4(e,t),removeDecoration:()=>U4(e,oe.fromDom(e.getBody()))},raw:{getModel:()=>H.none()}}),kz=e=>{const t=E=>ae(E)?E:{},{init:o,undoManager:s,formatter:a,editor:c,selection:d,autocompleter:g,raw:v}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:s.beforeChange,add:s.add,undo:s.undo,redo:s.redo,clear:s.clear,reset:s.reset,hasUndo:s.hasUndo,hasRedo:s.hasRedo,transact:(E,I,B)=>s.transact(B),ignore:(E,I)=>s.ignore(I),extra:(E,I,B,U)=>s.extra(B,U)},formatter:{match:(E,I,B,U)=>a.match(E,t(I),U),matchAll:a.matchAll,matchNode:a.matchNode,canApply:E=>a.canApply(E),closest:E=>a.closest(E),apply:(E,I,B)=>a.apply(E,t(I)),remove:(E,I,B,U)=>a.remove(E,t(I)),toggle:(E,I,B)=>a.toggle(E,t(I)),formatChanged:(E,I,B,U,X)=>a.formatChanged(I,B,U,X)},editor:{getContent:E=>c.getContent(E),setContent:(E,I)=>({content:c.setContent(E,I),html:""}),insertContent:(E,I)=>(c.insertContent(E),""),addVisual:c.addVisual},selection:{getContent:(E,I)=>d.getContent(I)},autocompleter:{addDecoration:g.addDecoration,removeDecoration:g.removeDecoration},raw:{getModel:()=>H.some(v.getRawModel())}}},ZB=()=>{const e=ht(null),t=ht("");return{init:{bindEvents:dt},undoManager:{beforeChange:dt,add:e,undo:e,redo:e,clear:dt,reset:dt,hasUndo:Mo,hasRedo:Mo,transact:e,ignore:dt,extra:dt},formatter:{match:Mo,matchAll:ht([]),matchNode:ht(void 0),canApply:Mo,closest:t,apply:dt,remove:dt,toggle:dt,formatChanged:ht({unbind:dt})},editor:{getContent:t,setContent:ht({content:"",html:""}),insertContent:ht(""),addVisual:dt},selection:{getContent:t},autocompleter:{addDecoration:dt,removeDecoration:dt},raw:{getModel:ht(H.none())}}},qf=e=>Lo(e.plugins,"rtc"),cS=e=>hs(e.plugins,"rtc").bind(t=>H.from(t.setup)),xz=e=>{const t=e;return cS(e).fold(()=>(t.rtcInstance=lS(e),H.none()),o=>(t.rtcInstance=ZB(),H.some(()=>o().then(s=>(t.rtcInstance=kz(s),s.rtc.isRemote)))))},Dw=e=>e.rtcInstance?e.rtcInstance:lS(e),Ba=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},qB=(e,t,o)=>{Ba(e).undoManager.beforeChange(t,o)},WB=(e,t,o,s,a,c,d)=>Ba(e).undoManager.add(t,o,s,a,c,d),wz=(e,t,o,s)=>Ba(e).undoManager.undo(t,o,s),_z=(e,t,o)=>Ba(e).undoManager.redo(t,o),$B=(e,t,o)=>{Ba(e).undoManager.clear(t,o)},GB=(e,t)=>{Ba(e).undoManager.reset(t)},y1=(e,t,o)=>Ba(e).undoManager.hasUndo(t,o),KB=(e,t,o)=>Ba(e).undoManager.hasRedo(t,o),YB=(e,t,o,s)=>Ba(e).undoManager.transact(t,o,s),Az=(e,t,o)=>{Ba(e).undoManager.ignore(t,o)},Cz=(e,t,o,s,a)=>{Ba(e).undoManager.extra(t,o,s,a)},Rw=(e,t,o,s,a)=>Ba(e).formatter.match(t,o,s,a),QB=(e,t,o)=>Ba(e).formatter.matchAll(t,o),JB=(e,t,o,s,a)=>Ba(e).formatter.matchNode(t,o,s,a),XB=(e,t)=>Ba(e).formatter.canApply(t),e5=(e,t)=>Ba(e).formatter.closest(t),t5=(e,t,o,s)=>{Ba(e).formatter.apply(t,o,s)},o5=(e,t,o,s,a)=>{Ba(e).formatter.remove(t,o,s,a)},n5=(e,t,o,s)=>{Ba(e).formatter.toggle(t,o,s)},s5=(e,t,o,s,a,c)=>Ba(e).formatter.formatChanged(t,o,s,a,c),r5=(e,t)=>Dw(e).editor.getContent(t),a5=(e,t,o)=>Dw(e).editor.setContent(t,o),Vs=(e,t,o)=>Dw(e).editor.insertContent(t,o),Sz=(e,t,o)=>Ba(e).selection.getContent(t,o),dS=(e,t)=>Ba(e).editor.addVisual(t),uS=e=>Ba(e).init.bindEvents(),Ez=(e,t)=>Ba(e).autocompleter.addDecoration(t),mS=e=>Ba(e).autocompleter.removeDecoration(),i5=(e,t={})=>{const o=t.format?t.format:"html";return Sz(e,o,t)},Tz=e=>e.dom.length===0?(Hn(e),H.none()):H.some(e),Oz=(e,t)=>e.filter(o=>Hy.isBookmarkNode(o.dom)).bind(t?Fi:li),l5=(e,t,o,s,a)=>{const c=e.dom,d=t.dom,g=s?c.length:d.length;s?(P2(c,d,a,!1,!s),o.setStart(d,g)):(P2(d,c,a,!1,!s),o.setEnd(d,g))},c5=(e,t,o)=>{Za(e).each(s=>{const a=e.dom;t&&t1(s,qe(a,0),o)?Wv(a,0,o):!t&&mb(s,qe(a,a.length),o)&&$v(a,a.length,o)})},Tb=(e,t,o,s,a)=>{e.bind(c=>((s?$v:Wv)(c.dom,s?c.dom.length:0,a),t.filter(kr).map(g=>l5(c,g,o,s,a)))).orThunk(()=>Oz(t,s).or(t).filter(kr).map(d=>c5(d,s,a)))},d5=(e,t,o)=>{const s=H.from(t.firstChild).map(oe.fromDom),a=H.from(t.lastChild).map(oe.fromDom);e.deleteContents(),e.insertNode(t);const c=s.bind(li).filter(kr).bind(Tz),d=a.bind(Fi).filter(kr).bind(Tz);Tb(c,s,e,!0,o),Tb(d,a,e,!1,o),e.collapse(!1)},v1=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),E0=(e,t)=>{if(t.format!=="raw"){const o=e.selection.getRng(),s=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),a=s?{context:s.nodeName.toLowerCase()}:{},c=e.parser.parse(t.content,{forced_root_block:!1,...a,...t});return Cg({validate:!1},e.schema).serialize(c)}else return t.content},k1=(e,t,o={})=>{const s=v1(o,t);xw(e,s).each(a=>{const c=E0(e,a),d=e.selection.getRng();d5(d,d.createContextualFragment(c),e.schema),e.selection.setRng(d),Bv(e,d),ww(e,c,a)})},Nw=(e,t,o)=>{if(Lo(e,t)){const s=nt(e[t],a=>a!==o);s.length===0?delete e[t]:e[t]=s}};var zz=(e,t)=>{let o,s;const a=(g,v)=>on(v,E=>e.is(E,g)),c=g=>e.getParents(g,void 0,e.getRoot()),d=()=>{o={},s={},t.on("NodeChange",g=>{const v=g.element,E=c(v),I={};An(o,(B,U)=>{a(U,E).each(X=>{s[U]||(ut(B,ne=>{ne(!0,{node:X,selector:U,parents:E})}),s[U]=B),I[U]=B})}),An(s,(B,U)=>{I[U]||(delete s[U],ut(B,X=>{X(!1,{node:v,selector:U,parents:E})}))})})};return{selectorChangedWithUnbind:(g,v)=>(o||d(),o[g]||(o[g]=[]),o[g].push(v),a(g,c(t.selection.getStart())).each(()=>{s[g]=o[g]}),{unbind:()=>{Nw(o,g,v),Nw(s,g,v)}})}};const fS=e=>!!(e&&e.ownerDocument)&&Li(oe.fromDom(e.ownerDocument),oe.fromDom(e)),gS=e=>e?fS(e.startContainer)&&fS(e.endContainer):!1,pS=(e,t,o,s)=>{let a,c;const{selectorChangedWithUnbind:d}=zz(e,s),g=(jt,fo)=>{const Xn=e.createRng();_e(jt)&&_e(fo)?(Xn.setStart(jt,fo),Xn.setEnd(jt,fo),Ne(Xn),ke(!1)):(Kc(e,Xn,s.getBody(),!0),Ne(Xn))},v=jt=>i5(s,jt),E=(jt,fo)=>k1(s,jt,fo),I=jt=>lb(s.getBody(),we(),jt),B=jt=>cb(s.getBody(),we(),jt),U=(jt,fo)=>wl.getBookmark(jt,fo),X=jt=>wl.moveToBookmark(jt),ne=(jt,fo)=>(R4(e,jt,fo).each(Ne),jt),Q=()=>{const jt=we(),fo=Ce();return!jt||jt.item?!1:jt.compareEndPoints?jt.compareEndPoints("StartToEnd",jt)===0:!fo||jt.collapsed},se=()=>{const jt=we(),fo=s.getBody().querySelectorAll('[data-mce-selected="1"]');return fo.length>0?jr(fo,Xn=>e.isEditable(Xn.parentElement)):O4(e,jt)},ke=jt=>{const fo=we();fo.collapse(!!jt),Ne(fo)},Ce=()=>t.getSelection?t.getSelection():t.document.selection,we=()=>{let jt;const fo=(Dn,co,en)=>{try{return co.compareBoundaryPoints(Dn,en)}catch{return-1}},Xn=t.document;if(_e(s.bookmark)&&!Pp(s)){const Dn=f2(s);if(Dn.isSome())return Dn.map(co=>ux(s,[co])[0]).getOr(Xn.createRange())}try{const Dn=Ce();Dn&&!Zm(Dn.anchorNode)&&(Dn.rangeCount>0?jt=Dn.getRangeAt(0):jt=Xn.createRange(),jt=ux(s,[jt])[0])}catch{}if(jt||(jt=Xn.createRange()),Ld(jt.startContainer)&&jt.collapsed){const Dn=e.getRoot();jt.setStart(Dn,0),jt.setEnd(Dn,0)}return a&&c&&(fo(jt.START_TO_START,jt,a)===0&&fo(jt.END_TO_END,jt,a)===0?jt=c:(a=null,c=null)),jt},Ne=(jt,fo)=>{if(!gS(jt))return;const Xn=Ce();if(jt=s.dispatch("SetSelectionRange",{range:jt,forward:fo}).range,Xn){c=jt;try{Xn.removeAllRanges(),Xn.addRange(jt)}catch{}fo===!1&&Xn.extend&&(Xn.collapse(jt.endContainer,jt.endOffset),Xn.extend(jt.startContainer,jt.startOffset)),a=Xn.rangeCount>0?Xn.getRangeAt(0):null}if(!jt.collapsed&&jt.startContainer===jt.endContainer&&(Xn!=null&&Xn.setBaseAndExtent)&&jt.endOffset-jt.startOffset<2&&jt.startContainer.hasChildNodes()){const co=jt.startContainer.childNodes[jt.startOffset];co&&co.nodeName==="IMG"&&(Xn.setBaseAndExtent(jt.startContainer,jt.startOffset,jt.endContainer,jt.endOffset),(Xn.anchorNode!==jt.startContainer||Xn.focusNode!==jt.endContainer)&&Xn.setBaseAndExtent(co,0,co,1))}s.dispatch("AfterSetSelectionRange",{range:jt,forward:fo})},bt=jt=>(E(e.getOuterHTML(jt)),jt),Bt=()=>D4(s.getBody(),we()),Kt=(jt,fo)=>h2(e,we(),jt,fo),Ye=()=>{const jt=Ce(),fo=jt==null?void 0:jt.anchorNode,Xn=jt==null?void 0:jt.focusNode;if(!jt||!fo||!Xn||Zm(fo)||Zm(Xn))return!0;const Dn=e.createRng(),co=e.createRng();try{Dn.setStart(fo,jt.anchorOffset),Dn.collapse(!0),co.setStart(Xn,jt.focusOffset),co.collapse(!0)}catch{return!0}return Dn.compareBoundaryPoints(Dn.START_TO_START,co)<=0},Jr={dom:e,win:t,serializer:o,editor:s,expand:(jt={type:"word"})=>Ne(Ag(e).expand(we(),jt)),collapse:ke,setCursorLocation:g,getContent:v,setContent:E,getBookmark:U,moveToBookmark:X,select:ne,isCollapsed:Q,isEditable:se,isForward:Ye,setNode:bt,getNode:Bt,getSel:Ce,setRng:Ne,getRng:we,getStart:I,getEnd:B,getSelectedBlocks:Kt,normalize:()=>{const jt=we(),fo=Ce();if(!fA(fo)&&zp(s)){const Xn=nb(e,jt);return Xn.each(Dn=>{Ne(Dn,Ye())}),Xn.getOr(jt)}return jt},selectorChanged:(jt,fo)=>(d(jt,fo),Jr),selectorChangedWithUnbind:d,getScrollContainer:()=>{let jt,fo=e.getRoot();for(;fo&&fo.nodeName!=="BODY";){if(fo.scrollHeight>fo.clientHeight){jt=fo;break}fo=fo.parentNode}return jt},scrollIntoView:(jt,fo)=>{_e(jt)?Iv(s,jt,fo):Bv(s,we(),fo)},placeCaretAt:(jt,fo)=>Ne(QA(jt,fo,s.getDoc())),getBoundingClientRect:()=>{const jt=we();return jt.collapsed?qe.fromRangeStart(jt).getClientRects()[0]:jt.getBoundingClientRect()},destroy:()=>{t=a=c=null,Rs.destroy()}},wl=Hy(Jr),Rs=jy(Jr,s);return Jr.bookmarkManager=wl,Jr.controlSelection=Rs,Jr},Dz=(e,t,o)=>{e.addAttributeFilter("data-mce-tabindex",(s,a)=>{let c=s.length;for(;c--;){const d=s[c];d.attr("tabindex",d.attr("data-mce-tabindex")),d.attr(a,null)}}),e.addAttributeFilter("src,href,style",(s,a)=>{const c="data-mce-"+a,d=t.url_converter,g=t.url_converter_scope;let v=s.length;for(;v--;){const E=s[v];let I=E.attr(c);I!==void 0?(E.attr(a,I.length>0?I:null),E.attr(c,null)):(I=E.attr(a),a==="style"?I=o.serializeStyle(o.parseStyle(I),E.name):d&&(I=d.call(g,I,a,E.name)),E.attr(a,I.length>0?I:null))}}),e.addAttributeFilter("class",s=>{let a=s.length;for(;a--;){const c=s[a];let d=c.attr("class");d&&(d=d.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",d.length>0?d:null))}}),e.addAttributeFilter("data-mce-type",(s,a,c)=>{let d=s.length;for(;d--;){const g=s[d];g.attr("data-mce-type")==="bookmark"&&!c.cleanup&&(H.from(g.firstChild).exists(E=>{var I;return!T((I=E.value)!==null&&I!==void 0?I:"")})?g.unwrap():g.remove())}}),e.addNodeFilter("noscript",s=>{var a;let c=s.length;for(;c--;){const d=s[c].firstChild;d&&(d.value=gr.decode((a=d.value)!==null&&a!==void 0?a:""))}}),e.addNodeFilter("script,style",(s,a)=>{var c;const d=v=>v.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let g=s.length;for(;g--;){const v=s[g],E=v.firstChild,I=(c=E==null?void 0:E.value)!==null&&c!==void 0?c:"";if(a==="script"){const B=v.attr("type");B&&v.attr("type",B==="mce-no/type"?null:B.replace(/^mce\-/,"")),t.element_format==="xhtml"&&E&&I.length>0&&(E.value=`// <![CDATA[
`+d(I)+`
// ]]>`)}else t.element_format==="xhtml"&&E&&I.length>0&&(E.value=`<!--
`+d(I)+`
-->`)}}),e.addNodeFilter("#comment",s=>{let a=s.length;for(;a--;){const c=s[a],d=c.value;t.preserve_cdata&&(d==null?void 0:d.indexOf("[CDATA["))===0?(c.name="#cdata",c.type=4,c.value=o.decode(d.replace(/^\[CDATA\[|\]\]$/g,""))):(d==null?void 0:d.indexOf("mce:protected "))===0&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(d).substr(14))}}),e.addNodeFilter("xml:namespace,input",(s,a)=>{let c=s.length;for(;c--;){const d=s[c];d.type===7?d.remove():d.type===1&&a==="input"&&!d.attr("type")&&d.attr("type","text")}}),e.addAttributeFilter("data-mce-type",s=>{ut(s,a=>{a.attr("data-mce-type")==="format-caret"&&(a.isEmpty(e.schema.getNonEmptyElements())?a.remove():a.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(s,a)=>{let c=s.length;for(;c--;)s[c].attr(a,null)}),t.remove_trailing_brs&&T3(t,e,e.schema)},Rz=e=>{const t=s=>(s==null?void 0:s.name)==="br",o=e.lastChild;if(t(o)){const s=o.prev;t(s)&&(o.remove(),s.remove())}},hS=(e,t,o)=>{let s;const a=e.dom;let c=t.cloneNode(!0);const d=document.implementation;if(d.createHTMLDocument){const g=d.createHTMLDocument("");Mt.each(c.nodeName==="BODY"?c.childNodes:[c],v=>{g.body.appendChild(g.importNode(v,!0))}),c.nodeName!=="BODY"?c=g.body.firstChild:c=g.body,s=a.doc,a.doc=g}return jT(e,{...o,node:c}),s&&(a.doc=s),c},Nz=(e,t)=>_e(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,Mz=(e,t,o)=>Nz(e,o)?hS(e,t,o):t,bS=(e,t,o)=>{Mt.inArray(t,o)===-1&&(e.addAttributeFilter(o,(s,a)=>{let c=s.length;for(;c--;)s[c].attr(a,null)}),t.push(o))},u5=(e,t,o)=>!t.no_events&&e?BA(e,{...t,content:o}).content:o,Iz=(e,t,o)=>{const s=F(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||am(oe.fromDom(t))?s:Mt.trim(s)},Bz=(e,t,o)=>{const s=o.selection?{forced_root_block:!1,...o}:o,a=e.parse(t,s);return Rz(a),a},Lz=(e,t,o)=>Cg(e,t).serialize(o),m5=(e,t,o,s,a)=>{const c=Lz(t,o,s);return u5(e,a,c)},f5=(e,t)=>{const o=["data-mce-selected"],s={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},a=t&&t.dom?t.dom:Hs.DOM,c=t&&t.schema?t.schema:Su(s),d=Eb(s,c);Dz(d,s,a);const g=(v,E={})=>{const I={format:"html",...E},B=Mz(t,v,I),U=Iz(a,B,I),X=Bz(d,U,I);return I.format==="tree"?X:m5(t,s,c,X,I)};return{schema:c,addNodeFilter:d.addNodeFilter,addAttributeFilter:d.addAttributeFilter,serialize:g,addRules:c.addValidElements,setRules:c.setValidElements,addTempAttr:$t(bS,d,o),getTempAttrs:ht(o),getNodeFilters:d.getNodeFilters,getAttributeFilters:d.getAttributeFilters,removeNodeFilter:d.removeNodeFilter,removeAttributeFilter:d.removeAttributeFilter}},T0=(e,t)=>{const o=f5(e,t);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},Pz="html",Fz=(e,t)=>({...e,format:t,get:!0,getInner:!0}),Uz=(e,t={})=>{const o=t.format?t.format:Pz,s=Fz(t,o);return QC(e,s).fold(So,a=>{const c=r5(e,a);return kw(e,c,a)})},g5="html",p5=(e,t)=>({format:g5,...e,set:!0,content:t}),yS=(e,t,o={})=>{const s=p5(o,t);return xw(e,s).map(a=>{const c=a5(e,a.content,a);return ww(e,c.html,a),c.content}).getOr(t)},h5="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),Hz="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),Vz="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),vS=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],jz=(e,t)=>{const o=nt(t,s=>Lo(e,s));return wn(o)},b5=e=>{const t=jz(e,h5),o=e.forced_root_block;return(o===!1||o==="")&&t.push("forced_root_block (false only)"),wn(t)},y5=e=>jz(e,Hz),Zz=(e,t)=>{const o=Mt.makeMap(e.plugins," "),a=nt(t,c=>Lo(o,c));return wn(a)},Mw=e=>Zz(e,Vz),qz=e=>Zz(e,vS.map(t=>t.name)),v5=(e,t)=>{const o=b5(e),s=Mw(t),a=s.length>0,c=o.length>0,d=t.theme==="mobile";if(a||c||d){const g=`
- `,v=d?`

Themes:${g}mobile`:"",E=a?`

Plugins:${g}${s.join(g)}`:"",I=c?`

Options:${g}${o.join(g)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+v+E+I)}},Wz=e=>on(vS,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),$z=(e,t)=>{const o=y5(e),s=qz(t),a=s.length>0,c=o.length>0;if(a||c){const d=`
- `,g=a?`

Plugins:${d}${s.map(Wz).join(d)}`:"",v=c?`

Options:${d}${o.join(d)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+g+v)}},kS=(e,t)=>{v5(e,t),$z(e,t)},O0=Hs.DOM,Gz=e=>{O0.setStyle(e.id,"display",e.orgDisplay)},z0=e=>H.from(e).each(t=>t.destroy()),k5=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const o=e.selection;if(o){const s=o.dom;t.selection=o.win=o.dom=s.doc=null}},x5=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),O0.unbind(t,"submit reset",e.formEventDelegate))},D0=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:o}=e,s=e.getBody(),a=e.getElement();s&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&_e(a==null?void 0:a.nextSibling)&&O0.remove(a.nextSibling),wM(e),e.editorManager.remove(e),!e.inline&&s&&Gz(e),_M(e),O0.remove(e.getContainer()),z0(t),z0(o),e.destroy()}},w5=(e,t)=>{const{selection:o,dom:s}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),z0(o),z0(s)),x5(e),k5(e),e.destroyed=!0}},Ob=(()=>{const e={};return{add:(a,c)=>{e[a]=c},get:a=>e[a]?e[a]:{icons:{}},has:a=>Lo(e,a)}})(),zb=Zi.ModelManager,xS=(e,t)=>t.dom[e],Kz=(e,t)=>parseInt(ha(t,e),10),A5=$t(xS,"clientWidth"),wS=$t(xS,"clientHeight"),_S=$t(Kz,"margin-top"),Iw=$t(Kz,"margin-left"),Yz=e=>e.dom.getBoundingClientRect(),AS=(e,t,o)=>{const s=A5(e),a=wS(e);return t>=0&&o>=0&&t<=s&&o<=a},Qz=(e,t,o,s)=>{const a=Yz(t),c=e?a.left+t.dom.clientLeft+Iw(t):0,d=e?a.top+t.dom.clientTop+_S(t):0,g=o-c,v=s-d;return{x:g,y:v}},C5=(e,t,o)=>{const s=oe.fromDom(e.getBody()),a=e.inline?s:sd(s),c=Qz(e.inline,a,t,o);return AS(a,c.x,c.y)},Jz=e=>H.from(e).map(oe.fromDom),S5=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return Jz(t).map(wr).getOr(!1)};var Xz=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const CS=e=>{const t=[],o=()=>{const U=e.theme;return U&&U.getNotificationManagerImpl?U.getNotificationManagerImpl():Xz()},s=()=>H.from(t[0]),a=(U,X)=>U.type===X.type&&U.text===X.text&&!U.progressBar&&!U.timeout&&!X.progressBar&&!X.timeout,c=()=>{ut(t,U=>{U.reposition()})},d=U=>{t.push(U)},g=U=>{La(t,X=>X===U).each(X=>{t.splice(X,1)})},v=(U,X=!0)=>e.removed||!S5(e)?{}:(X&&e.dispatch("BeforeOpenNotification",{notification:U}),on(t,ne=>a(o().getArgs(ne),U)).getOrThunk(()=>{e.editorManager.setActive(e);const ne=o().open(U,()=>{g(ne),c(),cx(e)&&s().fold(()=>e.focus(),Q=>c2(oe.fromDom(Q.getEl())))});return d(ne),c(),e.dispatch("OpenNotification",{notification:{...ne}}),ne})),E=()=>{s().each(U=>{o().close(U),g(U),c()})},I=ht(t);return(U=>{U.on("SkinLoaded",()=>{const X=HE(U);X&&v({text:X,type:"warning",timeout:0},!1),c()}),U.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(c)}),U.on("remove",()=>{ut(t.slice(),X=>{o().close(X)})})})(e),{open:v,close:E,getNotifications:I}},x1=Zi.PluginManager,$p=Zi.ThemeManager;var SS=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const ES=e=>{let t=[];const o=()=>{const Q=e.theme;return Q&&Q.getWindowManagerImpl?Q.getWindowManagerImpl():SS()},s=(Q,se)=>(...ke)=>se?se.apply(Q,ke):void 0,a=Q=>{e.dispatch("OpenWindow",{dialog:Q})},c=Q=>{e.dispatch("CloseWindow",{dialog:Q})},d=Q=>{t.push(Q),a(Q)},g=Q=>{c(Q),t=nt(t,se=>se!==Q),t.length===0&&e.focus()},v=()=>H.from(t[t.length-1]),E=Q=>{e.editorManager.setActive(e),m2(e),e.ui.show();const se=Q();return d(se),se},I=(Q,se)=>E(()=>o().open(Q,se,g)),B=Q=>E(()=>o().openUrl(Q,g)),U=(Q,se,ke)=>{const Ce=o();Ce.alert(Q,s(ke||Ce,se))},X=(Q,se,ke)=>{const Ce=o();Ce.confirm(Q,s(ke||Ce,se))},ne=()=>{v().each(Q=>{o().close(Q),g(Q)})};return e.on("remove",()=>{ut(t,Q=>{o().close(Q)})}),{open:I,openUrl:B,alert:U,confirm:X,close:ne}},TS=(e,t)=>{e.notificationManager.open({type:"error",text:t})},R0=(e,t)=>{e._skinLoaded?TS(e,t):e.on("SkinLoaded",()=>{TS(e,t)})},eD=(e,t)=>{R0(e,Pl.translate(["Failed to upload image: {0}",t]))},N0=(e,t,o)=>{LA(e,t,{message:o}),console.error(o)},M0=(e,t,o)=>o?`Failed to load ${e}: ${o} from url ${t}`:`Failed to load ${e} url: ${t}`,OS=(e,t,o)=>{N0(e,"PluginLoadError",M0("plugin",t,o))},E5=(e,t,o)=>{N0(e,"IconsLoadError",M0("icons",t,o))},tD=(e,t,o)=>{N0(e,"LanguageLoadError",M0("language",t,o))},oD=(e,t,o)=>{N0(e,"ThemeLoadError",M0("theme",t,o))},zS=(e,t,o)=>{N0(e,"ModelLoadError",M0("model",t,o))},DS=(e,t,o)=>{const s=Pl.translate(["Failed to initialize plugin: {0}",t]);LA(e,"PluginLoadError",{message:s}),w1(s,o),R0(e,s)},w1=(e,...t)=>{const o=window.console;o&&(o.error?o.error(e,...t):o.log(e,...t))},T5=e=>/^[a-z0-9\-]+$/i.test(e),Bw=e=>"content/"+e+"/content.css",O5=e=>tinymce.Resource.has(Bw(e)),z5=e=>Lw(e,FE(e)),nD=e=>Lw(e,UE(e)),Lw=(e,t)=>{const o=e.editorManager.baseURL+"/skins/content",a=`content${e.editorManager.suffix}.css`;return Zo(t,c=>O5(c)?c:T5(c)&&!e.inline?`${o}/${c}/${a}`:e.documentBaseURI.toAbsolute(c))},D5=e=>{e.contentCSS=e.contentCSS.concat(z5(e),nD(e))},Pw=e=>e?uo(e.getElementsByTagName("img")):[],R5=(e,t)=>{const o={};return{findAll:(a,c=pn)=>{const d=nt(Pw(a),v=>{const E=v.src;return v.hasAttribute("data-mce-bogus")||v.hasAttribute("data-mce-placeholder")||!E||E===Mn.transparentSrc?!1:ds(E,"blob:")?!e.isUploaded(E)&&c(v):ds(E,"data:")?c(v):!1}),g=Zo(d,v=>{const E=v.src;if(Lo(o,E))return o[E].then(I=>Qe(I)?I:{image:v,blobInfo:I.blobInfo});{const I=N3(t,E).then(B=>(delete o[E],{image:v,blobInfo:B})).catch(B=>(delete o[E],B));return o[E]=I,I}});return Promise.all(g)}}},sD=()=>{let o={};const s=(U,X)=>({status:U,resultUri:X}),a=U=>U in o;return{hasBlobUri:a,getResultUri:U=>{const X=o[U];return X?X.resultUri:null},isPending:U=>a(U)?o[U].status===1:!1,isUploaded:U=>a(U)?o[U].status===2:!1,markPending:U=>{o[U]=s(1,null)},markUploaded:(U,X)=>{o[U]=s(2,X)},removeFailed:U=>{delete o[U]},destroy:()=>{o={}}}};let N5=0;const rD=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},aD=e=>e+N5+++rD(),M5=()=>{let e=[];const t=B=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[B.toLowerCase()]||"dat",o=(B,U,X,ne,Q)=>{if(Qe(B))return s({id:B,name:ne,filename:Q,blob:U,base64:X});if(ae(B))return s(B);throw new Error("Unknown input type")},s=B=>{if(!B.blob||!B.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const U=B.id||aD("blobid"),X=B.name||U,ne=B.blob;return{id:ht(U),name:ht(X),filename:ht(B.filename||X+"."+t(ne.type)),blob:ht(ne),base64:ht(B.base64),blobUri:ht(B.blobUri||URL.createObjectURL(ne)),uri:ht(B.uri)}},a=B=>{d(B.id())||e.push(B)},c=B=>on(e,B).getOrUndefined(),d=B=>c(U=>U.id()===B);return{create:o,add:a,get:d,getByUri:B=>c(U=>U.blobUri()===B),getByData:(B,U)=>c(X=>X.base64()===B&&X.blob().type===U),findFirst:c,removeByUri:B=>{e=nt(e,U=>U.blobUri()===B?(URL.revokeObjectURL(U.blobUri()),!1):!0)},destroy:()=>{ut(e,B=>{URL.revokeObjectURL(B.blobUri())}),e=[]}}},iD=(e,t)=>{const o={},s=(Q,se)=>Q?Q.replace(/\/$/,"")+"/"+se.replace(/^\//,""):se,a=(Q,se)=>new Promise((ke,Ce)=>{const we=new XMLHttpRequest;we.open("POST",t.url),we.withCredentials=t.credentials,we.upload.onprogress=bt=>{se(bt.loaded/bt.total*100)},we.onerror=()=>{Ce("Image upload failed due to a XHR Transport error. Code: "+we.status)},we.onload=()=>{if(we.status<200||we.status>=300){Ce("HTTP Error: "+we.status);return}const bt=JSON.parse(we.responseText);if(!bt||!Qe(bt.location)){Ce("Invalid JSON: "+we.responseText);return}ke(s(t.basePath,bt.location))};const Ne=new FormData;Ne.append("file",Q.blob(),Q.filename()),we.send(Ne)}),c=Je(t.handler)?t.handler:a,d=()=>new Promise(Q=>{Q([])}),g=(Q,se)=>({url:se,blobInfo:Q,status:!0}),v=(Q,se)=>({url:"",blobInfo:Q,status:!1,error:se}),E=(Q,se)=>{Mt.each(o[Q],ke=>{ke(se)}),delete o[Q]},I=(Q,se,ke)=>(e.markPending(Q.blobUri()),new Promise(Ce=>{let we,Ne;try{const bt=()=>{we&&(we.close(),Ne=dt)},Bt=Ye=>{bt(),e.markUploaded(Q.blobUri(),Ye),E(Q.blobUri(),g(Q,Ye)),Ce(g(Q,Ye))},Kt=Ye=>{bt(),e.removeFailed(Q.blobUri()),E(Q.blobUri(),v(Q,Ye)),Ce(v(Q,Ye))};Ne=Ye=>{Ye<0||Ye>100||H.from(we).orThunk(()=>H.from(ke).map(Yt)).each(He=>{we=He,He.progressBar.value(Ye)})},se(Q,Ne).then(Bt,Ye=>{Kt(Qe(Ye)?{message:Ye}:Ye)})}catch(bt){Ce(v(Q,bt))}})),B=Q=>Q===a,U=Q=>{const se=Q.blobUri();return new Promise(ke=>{o[se]=o[se]||[],o[se].push(ke)})},X=(Q,se)=>(Q=Mt.grep(Q,ke=>!e.isUploaded(ke.blobUri())),Promise.all(Mt.map(Q,ke=>e.isPending(ke.blobUri())?U(ke):I(ke,c,se))));return{upload:(Q,se)=>!t.url&&B(c)?d():X(Q,se)}},_1=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),RS=(e,t)=>iD(t,{url:In(e),basePath:MN(e),credentials:LE(e),handler:L_(e)}),I5=e=>{const t=sD(),o=RS(e,t);return{upload:(s,a=!0)=>o.upload(s,a?_1(e):void 0)}},lD=(e,t)=>e.dom.isEmpty(t.dom)&&_e(e.schema.getTextBlockElements()[fn(t)]),cD=e=>t=>{lD(e,t)&&Fs(t,oe.fromHtml('<br data-mce-bogus="1" />'))},B5=e=>{const t=M5();let o,s;const a=sD(),c=[],d=we=>Ne=>e.selection?we(Ne):[],g=we=>we+(we.indexOf("?")===-1?"?":"&")+new Date().getTime(),v=(we,Ne,bt)=>{let Bt=0;do Bt=we.indexOf(Ne,Bt),Bt!==-1&&(we=we.substring(0,Bt)+bt+we.substr(Bt+Ne.length),Bt+=bt.length-Ne.length+1);while(Bt!==-1);return we},E=(we,Ne,bt)=>{const Bt=`src="${bt}"${bt===Mn.transparentSrc?' data-mce-placeholder="1"':""}`;return we=v(we,`src="${Ne}"`,Bt),we=v(we,'data-mce-src="'+Ne+'"','data-mce-src="'+bt+'"'),we},I=(we,Ne)=>{ut(e.undoManager.data,bt=>{bt.type==="fragmented"?bt.fragments=Zo(bt.fragments,Bt=>E(Bt,we,Ne)):bt.content=E(bt.content,we,Ne)})},B=(we,Ne)=>{const bt=e.convertURL(Ne,"src");I(we.src,Ne),Qs(oe.fromDom(we),{src:bl(e)?g(Ne):Ne,"data-mce-src":bt})},U=()=>(o||(o=RS(e,a)),se().then(d(we=>{const Ne=Zo(we,bt=>bt.blobInfo);return o.upload(Ne,_1(e)).then(d(bt=>{const Bt=[];let Kt=!1;const Ye=Zo(bt,(He,pt)=>{const{blobInfo:io,image:Co}=we[pt];let vn=!1;return He.status&&Sy(e)?(He.url&&!os(Co.src,He.url)&&(Kt=!0),t.removeByUri(Co.src),qf(e)||B(Co,He.url)):He.error&&(He.error.remove&&(I(Co.src,Mn.transparentSrc),Bt.push(Co),vn=!0),eD(e,He.error.message)),{element:Co,status:He.status,uploadUri:He.url,blobInfo:io,removed:vn}});return Bt.length>0&&!qf(e)?e.undoManager.transact(()=>{ut(Ml(Bt),He=>{const pt=Za(He);Hn(He),pt.each(cD(e)),t.removeByUri(He.dom.src)})}):Kt&&e.undoManager.dispatchChange(),Ye}))}))),X=()=>qc(e)?U():Promise.resolve([]),ne=we=>jr(c,Ne=>Ne(we)),Q=we=>{c.push(we)},se=()=>(s||(s=R5(a,t)),s.findAll(e.getBody(),ne).then(d(we=>{const Ne=nt(we,bt=>Qe(bt)?(R0(e,bt),!1):bt.uriType!=="blob");return qf(e)||ut(Ne,bt=>{I(bt.image.src,bt.blobInfo.blobUri()),bt.image.src=bt.blobInfo.blobUri(),bt.image.removeAttribute("data-mce-src")}),Ne}))),ke=()=>{t.destroy(),a.destroy(),s=o=null},Ce=we=>we.replace(/src="(blob:[^"]+)"/g,(Ne,bt)=>{const Bt=a.getResultUri(bt);if(Bt)return'src="'+Bt+'"';let Kt=t.getByUri(bt);return Kt||(Kt=rn(e.editorManager.get(),(Ye,He)=>Ye||He.editorUpload&&He.editorUpload.blobCache.getByUri(bt),void 0)),Kt?'src="data:'+Kt.blob().type+";base64,"+Kt.base64()+'"':Ne});return e.on("SetContent",()=>{qc(e)?X():se()}),e.on("RawSaveContent",we=>{we.content=Ce(we.content)}),e.on("GetContent",we=>{we.source_view||we.format==="raw"||we.format==="tree"||(we.content=Ce(we.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",we=>{ut(we,Ne=>{const bt=Ne.attr("src");if(!bt||t.getByUri(bt))return;const Bt=a.getResultUri(bt);Bt&&Ne.attr("src",Bt)})})}),{blobCache:t,addFilter:Q,uploadImages:U,uploadImagesAuto:X,scanForImages:se,destroy:ke}},L5=e=>{const t=e.dom,o=e.schema.type,s={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:a=>{t.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:a=>{t.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const a={inline:"span",styles:{textDecoration:"line-through"},exact:!0},c={inline:"strike",remove:"all",preserve_attributes:["class","style"]},d={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[d,a,c]:[a,d,c]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(a,c,d)=>ro(a)&&a.hasAttribute("href"),onformat:(a,c,d)=>{Mt.each(d,(g,v)=>{t.setAttrib(a,v,g)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":a=>{var c;return(c=a==null?void 0:a.customValue)!==null&&c!==void 0?c:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Mt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),a=>{s[a]={block:a,remove:"all"}}),s},dD={remove_similar:!0,inherit:!1},A1={selector:"td,th",...dD},uD={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...A1},tablecellverticalalign:{styles:{"vertical-align":"%value"},...A1},tablecellbordercolor:{styles:{borderColor:"%value"},...A1},tablecellclass:{classes:["%value"],...A1},tableclass:{selector:"table",classes:["%value"],...dD},tablecellborderstyle:{styles:{borderStyle:"%value"},...A1},tablecellborderwidth:{styles:{borderWidth:"%value"},...A1}},NS=ht(uD),mD=e=>{const t={},o=d=>_e(d)?t[d]:t,s=d=>Lo(t,d),a=(d,g)=>{d&&(Qe(d)?(he(g)||(g=[g]),ut(g,v=>{lo(v.deep)&&(v.deep=!Gd(v)),lo(v.split)&&(v.split=!Gd(v)||Di(v)),lo(v.remove)&&Gd(v)&&!Di(v)&&(v.remove="none"),Gd(v)&&Di(v)&&(v.mixed=!0,v.block_expand=!0),Qe(v.classes)&&(v.classes=v.classes.split(/\s+/))}),t[d]=g):An(d,(v,E)=>{a(E,v)}))},c=d=>(d&&t[d]&&delete t[d],t);return a(L5(e)),a(NS()),a(UN(e)),{get:o,has:s,register:a,unregister:c}},I0=Mt.each,kd=Hs.DOM,Fw=e=>_e(e)&&ae(e),fD=(e,t)=>{const o=t&&t.schema||Su({}),s=(v,E)=>{E.classes.length>0&&kd.addClass(v,E.classes.join(" ")),kd.setAttribs(v,E.attrs)},a=v=>{const E=Qe(v)?{name:v,classes:[],attrs:{}}:v,I=kd.create(E.name);return s(I,E),I},c=(v,E)=>{const I=o.getElementRule(v.nodeName.toLowerCase()),B=I==null?void 0:I.parentsRequired;return B&&B.length?E&&Nn(B,E)?E:B[0]:!1},d=(v,E,I)=>{let B;const U=E[0],X=Fw(U)?U.name:void 0,ne=c(v,X);if(ne)X===ne?(B=U,E=E.slice(1)):B=ne;else if(U)B=U,E=E.slice(1);else if(!I)return v;const Q=B?a(B):kd.create("div");Q.appendChild(v),I&&Mt.each(I,ke=>{const Ce=a(ke);Q.insertBefore(Ce,v)});const se=Fw(B)?B.siblings:void 0;return d(Q,E,se)},g=kd.create("div");if(e.length>0){const v=e[0],E=a(v),I=Fw(v)?v.siblings:void 0;g.appendChild(d(E,e.slice(1),I))}return g},MS=e=>{e=Mt.trim(e);let t="div";const o={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(s,a,c,d,g)=>{switch(a){case"#":o.attrs.id=c;break;case".":o.classes.push(c);break;case":":Mt.inArray("checked disabled enabled read-only required".split(" "),c)!==-1&&(o.attrs[c]=c);break}if(d==="["){const v=g.match(/([\w\-]+)(?:\=\"([^\"]+))?/);v&&(o.attrs[v[1]]=v[2])}return""})),o.name=t||"div",o},Uw=e=>Qe(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Mt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const o=Mt.map(t.split(/(?:~\+|~|\+)/),MS),s=o.pop();return o.length&&(s.siblings=o),s}).reverse()):[],Hw=(e,t)=>{let o="",s=yg(e);if(s==="")return"";const a=U=>Qe(U)?U.replace(/%(\w+)/g,""):"",c=(U,X)=>kd.getStyle(X??e.getBody(),U,!0);if(Qe(t)){const U=e.formatter.get(t);if(!U)return"";t=U[0]}if("preview"in t){const U=t.preview;if(U===!1)return"";s=U||s}let d=t.block||t.inline||"span",g;const v=Uw(t.selector);v.length>0?(v[0].name||(v[0].name=d),d=t.selector,g=fD(v,e)):g=fD([d],e);const E=kd.select(d,g)[0]||g.firstChild;I0(t.styles,(U,X)=>{const ne=a(U);ne&&kd.setStyle(E,X,ne)}),I0(t.attributes,(U,X)=>{const ne=a(U);ne&&kd.setAttrib(E,X,ne)}),I0(t.classes,U=>{const X=a(U);kd.hasClass(E,X)||kd.addClass(E,X)}),e.dispatch("PreviewFormats"),kd.setStyles(g,{position:"absolute",left:-65535}),e.getBody().appendChild(g);const I=c("fontSize"),B=/px$/.test(I)?parseInt(I,10):0;return I0(s.split(" "),U=>{let X=c(U,E);if(!(U==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(X)&&(X=c(U),dm(X).toLowerCase()==="#ffffff"))&&!(U==="color"&&dm(X).toLowerCase()==="#000000")){if(U==="font-size"&&/em|%$/.test(X)){if(B===0)return;X=parseFloat(X)/(/%$/.test(X)?100:1)*B+"px"}U==="border"&&X&&(o+="padding:0 2px;"),o+=U+":"+X+";"}}),e.dispatch("AfterPreviewFormats"),kd.remove(g),o},Lg=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},B0=e=>{const t=mD(e),o=ia({});return Lg(e),o3(e),qf(e)||Cb(o,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(s,a,c)=>{t5(e,s,a,c)},remove:(s,a,c,d)=>{o5(e,s,a,c,d)},toggle:(s,a,c)=>{n5(e,s,a,c)},match:(s,a,c,d)=>Rw(e,s,a,c,d),closest:s=>e5(e,s),matchAll:(s,a)=>QB(e,s,a),matchNode:(s,a,c,d)=>JB(e,s,a,c,d),canApply:s=>XB(e,s),formatChanged:(s,a,c,d)=>s5(e,o,s,a,c,d),getCssText:$t(Hw,e)}},Db=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},gD=(e,t,o)=>{const s=ia(!1),a=v=>{S0(t,!1,o),t.add({},v)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",v=>{const E=v.command;Db(E)||(Bg(t,o),t.beforeChange())}),e.on("ExecCommand",v=>{const E=v.command;Db(E)||a(v)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",a),e.on("dragend",a),e.on("keyup",v=>{const E=v.keyCode;if(v.isDefaultPrevented())return;const I=Mn.os.isMacOS()&&v.key==="Meta";(E>=33&&E<=36||E>=37&&E<=40||E===45||v.ctrlKey||I)&&(a(),e.nodeChanged()),(E===46||E===8)&&e.nodeChanged(),s.get()&&t.typing&&!A0(Ew(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),s.set(!1),e.nodeChanged())}),e.on("keydown",v=>{const E=v.keyCode;if(v.isDefaultPrevented())return;if(E>=33&&E<=36||E>=37&&E<=40||E===45){t.typing&&a(v);return}const I=v.ctrlKey&&!v.altKey||v.metaKey;if((E<16||E>20)&&E!==224&&E!==91&&!t.typing&&!I){t.beforeChange(),S0(t,!0,o),t.add({},v),s.set(!0);return}(Mn.os.isMacOS()?v.metaKey:v.ctrlKey&&!v.altKey)&&t.beforeChange()}),e.on("mousedown",v=>{t.typing&&a(v)});const c=v=>v.inputType==="insertReplacementText",d=v=>v.inputType==="insertText"&&v.data===null,g=v=>v.inputType==="insertFromPaste"||v.inputType==="insertFromDrop";e.on("input",v=>{v.inputType&&(c(v)||d(v)||g(v))&&a(v)}),e.on("AddUndo Undo Redo ClearUndos",v=>{v.isDefaultPrevented()||e.nodeChanged()})},pD=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},Vw=e=>{const t=jd(),o=ia(0),s=ia(0),a={data:[],typing:!1,beforeChange:()=>{qB(e,o,t)},add:(c,d)=>WB(e,a,s,o,t,c,d),dispatchChange:()=>{e.setDirty(!0);const c=Ew(e);c.bookmark=re(e.selection),e.dispatch("change",{level:c,lastLevel:Zr(a.data,s.get()).getOrUndefined()})},undo:()=>wz(e,a,o,s),redo:()=>_z(e,s,a.data),clear:()=>{$B(e,a,s)},reset:()=>{GB(e,a)},hasUndo:()=>y1(e,a,s),hasRedo:()=>KB(e,a,s),transact:c=>YB(e,a,o,c),ignore:c=>{Az(e,o,c)},extra:(c,d)=>{Cz(e,a,s,c,d)}};return qf(e)||gD(e,a,o),pD(e),a},jw=[9,27,Xt.HOME,Xt.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Xt.DOWN,Xt.UP,Xt.LEFT,Xt.RIGHT].concat(Mn.browser.isFirefox()?[224]:[]),Pg="data-mce-placeholder",Gp=e=>e.type==="keydown"||e.type==="keyup",IS=e=>{const t=e.keyCode;return t===Xt.BACKSPACE||t===Xt.DELETE},P5=e=>{if(Gp(e)){const t=e.keyCode;return!IS(e)&&(Xt.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||Nn(jw,t))}else return!1},hD=e=>Gp(e)&&!(IS(e)||e.type==="keyup"&&e.keyCode===229),F5=(e,t,o)=>{if(ks(oe.fromDom(t),!1)){const s=t.firstElementChild;return s?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:o===s.nodeName.toLowerCase():!0}else return!1},U5=e=>{var t;const o=e.dom,s=Ia(e),a=(t=H_(e))!==null&&t!==void 0?t:"",c=(d,g)=>{if(P5(d))return;const v=e.getBody(),E=hD(d)?!1:F5(o,v,s);(o.getAttrib(v,Pg)!==""!==E||g)&&(o.setAttrib(v,Pg,E?a:null),o.setAttrib(v,"aria-placeholder",E?a:null),KT(e,E),e.on(E?"keydown":"keyup",c),e.off(E?"keyup":"keydown",c))};ta(a)&&e.on("init",d=>{c(d,!0),e.on("change SetContent ExecCommand",c),e.on("paste",g=>yd.setEditorTimeout(e,()=>c(g)))})},H5=(e,t)=>({block:e,position:t}),BS=(e,t)=>({from:e,to:t}),Zw=(e,t)=>{const o=oe.fromDom(e),s=oe.fromDom(t.container());return Kv(o,s).map(a=>H5(a,t))},V5=e=>!On(e.from.block,e.to.block),LS=(e,t)=>Xe(t,a=>wu(a)||ml(a.dom),a=>On(a,e)).filter(xi).getOr(e),j5=(e,t)=>{const o=oe.fromDom(e);return On(LS(o,t.from.block),LS(o,t.to.block))},PS=e=>Ts(e.from.block.dom)===!1&&Ts(e.to.block.dom)===!1,Z5=e=>{const t=o=>Km(o)||ug(o.dom);return t(e.from.block)&&t(e.to.block)},bD=(e,t,o)=>fr(o.position.getNode())&&!ks(o.block)?Yh(!1,o.block.dom).bind(s=>s.isEqual(o.position)?pd(t,e,s).bind(a=>Zw(e,a)):H.some(o)).getOr(o):o,FS=(e,t,o)=>{const s=Zw(e,qe.fromRangeStart(o)),a=s.bind(c=>pd(t,e,c.position).bind(d=>Zw(e,d).map(g=>bD(e,t,g))));return na(s,a,BS).filter(c=>V5(c)&&j5(e,c)&&PS(c)&&Z5(c))},yD=(e,t,o)=>o.collapsed?FS(e,t,o):H.none(),US=(e,t)=>{const o=Es(e);return La(o,s=>t.isBlock(fn(s))).fold(ht(o),s=>o.slice(0,s))},vD=(e,t)=>{const o=US(e,t);return ut(o,Hn),o},HS=(e,t)=>{const o=_m(t,e);return on(o.reverse(),s=>ks(s)).each(Hn)},q5=e=>nt(rp(e),t=>!ks(t)).length===0,kD=(e,t,o,s,a)=>{if(ks(o))return _u(o),Hl(o.dom);q5(a)&&ks(t)&&zr(a,oe.fromTag("br"));const c=$c(o.dom,qe.before(a.dom));return ut(vD(t,s),d=>{zr(a,d)}),HS(e,t),c},xD=(e,t)=>e.isInline(fn(t)),W5=(e,t,o,s)=>{if(ks(o)){if(ks(t)){const d=go((g=>{const v=(E,I)=>pu(E).fold(()=>I,B=>xD(s,B)?v(B,I.concat(bm(B))):I);return v(g,[])})(o),(g,v)=>(em(g,v),v),Ym());Oa(t),Fs(t,d)}return Hn(o),Hl(t.dom)}const a=Du(o.dom);return ut(vD(t,s),c=>{Fs(o,c)}),HS(e,t),a},$5=(e,t)=>{const o=_m(t,e);return H.from(o[o.length-1])},G5=(e,t)=>Li(t,e)?$5(t,e):H.none(),wD=(e,t)=>{Yh(e,t.dom).bind(o=>H.from(o.getNode())).map(oe.fromDom).filter(gl).each(Hn)},_D=(e,t,o,s)=>(wD(!0,t),wD(!1,o),G5(t,o).fold($t(W5,e,t,o,s),$t(kD,e,t,o,s))),Kp=(e,t,o,s,a)=>t?_D(e,s,o,a):_D(e,o,s,a),qw=(e,t)=>{const o=oe.fromDom(e.getBody());return yD(o.dom,t,e.selection.getRng()).map(a=>()=>{Kp(o,t,a.from.block,a.to.block,e.schema).each(c=>{e.selection.setRng(c.toRange())})})},AD=(e,t,o)=>{const s=t.getRng();return na(Kv(e,oe.fromDom(s.startContainer)),Kv(e,oe.fromDom(s.endContainer)),(a,c)=>On(a,c)?H.none():H.some(()=>{s.deleteContents(),Kp(e,!0,a,c,o).each(d=>{t.setRng(d.toRange())})})).getOr(H.none())},VS=(e,t)=>{const o=oe.fromDom(t),s=$t(On,e);return Ji(o,wu,s).isSome()},K5=(e,t)=>VS(e,t.startContainer)||VS(e,t.endContainer),Y5=(e,t)=>{const o=$c(e.dom,qe.fromRangeStart(t)).isNone(),s=bc(e.dom,qe.fromRangeEnd(t)).isNone();return!K5(e,t)&&o&&s},Yp=e=>H.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),CD=e=>{const t=oe.fromDom(e.getBody()),o=e.selection.getRng();return Y5(t,o)?Yp(e):AD(t,e.selection,e.schema)},C1=(e,t)=>e.selection.isCollapsed()?H.none():CD(e),Fg=(e,t,o,s,a)=>H.from(t._selectionOverrides.showCaret(e,o,s,a)),SD=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},L0=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?H.none():H.some(SD(t)),Q5=(e,t,o)=>{const s=xo(1,e.getBody(),t),a=qe.fromRangeStart(s),c=a.getNode();if(Dy(c))return Fg(1,e,c,!a.isAtEnd(),!1);const d=a.getNode(!0);if(Dy(d))return Fg(1,e,d,!1,!1);const g=qp(e.dom.getRoot(),a.getNode());return Dy(g)?Fg(1,e,g,!1,o):H.none()},P0=(e,t,o)=>t.collapsed?Q5(e,t,o).getOr(t):t,J5=e=>Pf(e)||Zv(e),ei=e=>Sg(e)||Xy(e),X5=(e,t)=>{kt(t)&&t.data.length===0&&e.remove(t)},ED=(e,t,o,s,a,c)=>{Fg(s,e,c.getNode(!a),a,!0).each(d=>{if(t.collapsed){const g=t.cloneRange();a?g.setEnd(d.startContainer,d.startOffset):g.setStart(d.endContainer,d.endOffset),g.deleteContents()}else t.deleteContents();e.selection.setRng(d)}),X5(e.dom,o)},jS=(e,t)=>{const o=e.selection.getRng();if(!kt(o.commonAncestorContainer))return H.none();const s=t?zi.Forwards:zi.Backwards,a=zf(e.getBody()),c=$t(nA,t?a.next:a.prev),d=t?J5:ei,g=Ny(s,e.getBody(),o),v=c(g),E=v&&al(t,v);if(!E||!Gh(g,E))return H.none();if(d(E))return H.some(()=>ED(e,o,g.getNode(),s,t,E));const I=c(E);return I&&d(I)&&Gh(E,I)?H.some(()=>ED(e,o,g.getNode(),s,t,I)):H.none()},Ww=(e,t)=>jS(e,t),F0=(e,t)=>{const o=e.getBody();return t?Hl(o).filter(Pf):Du(o).filter(Sg)},ZS=e=>{const t=e.selection.getRng();return!t.collapsed&&(F0(e,!0).exists(o=>o.isEqual(qe.fromRangeStart(t)))||F0(e,!1).exists(o=>o.isEqual(qe.fromRangeEnd(t))))},e8=e=>_e(e)&&(wu(oe.fromDom(e))||Pd(oe.fromDom(e))),xd=Ee.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),t8=(e,t)=>{const o=t.getNode(!e),s=e?"after":"before";return ro(o)&&o.getAttribute("data-mce-caret")===s},o8=(e,t,o,s,a)=>{const c=d=>a.isInline(d.nodeName.toLowerCase())&&!Of(o,s,e);return tA(!t,o).fold(()=>tA(t,s).fold(Mo,c),c)},TD=(e,t,o,s)=>{const a=s.getNode(!t);return Kv(oe.fromDom(e),oe.fromDom(o.getNode())).map(c=>ks(c)?xd.remove(c.dom):xd.moveToElement(a)).orThunk(()=>H.some(xd.moveToElement(a)))},OD=(e,t,o,s)=>pd(t,e,o).bind(a=>e8(a.getNode())||o8(e,t,o,a,s)?H.none():t&&Ts(a.getNode())||!t&&Ts(a.getNode(!0))?TD(e,t,o,a):t&&Sg(o)||!t&&Pf(o)?H.some(xd.moveToPosition(a)):H.none()),S1=(e,t)=>Vt(t)?H.none():e&&Ts(t.nextSibling)?H.some(xd.moveToElement(t.nextSibling)):!e&&Ts(t.previousSibling)?H.some(xd.moveToElement(t.previousSibling)):H.none(),Dm=(e,t,o)=>o.fold(s=>H.some(xd.remove(s)),s=>H.some(xd.moveToElement(s)),s=>Of(t,s,e)?H.none():H.some(xd.moveToPosition(s))),n8=(e,t,o,s)=>t8(t,o)?S1(t,o.getNode(!t)).orThunk(()=>OD(e,t,o,s)):OD(e,t,o,s).bind(a=>Dm(e,o,a)),s8=(e,t,o,s)=>{const a=xo(t?1:-1,e,o),c=qe.fromRangeStart(a),d=oe.fromDom(e);return!t&&Sg(c)?H.some(xd.remove(c.getNode(!0))):t&&Pf(c)?H.some(xd.remove(c.getNode())):!t&&Pf(c)&&vx(d,c,s)?sI(d,c,s).map(g=>xd.remove(g.getNode())):t&&Sg(c)&&I2(d,c,s)?rI(d,c,s).map(g=>xd.remove(g.getNode())):n8(e,t,c,s)},r8=(e,t)=>o=>(e._selectionOverrides.hideFakeCaret(),pb(e,t,oe.fromDom(o)),!0),a8=(e,t)=>o=>{const s=t?qe.before(o):qe.after(o);return e.selection.setRng(s.toRange()),!0},i8=e=>t=>(e.selection.setRng(t.toRange()),!0),zD=(e,t)=>H.from(qp(e.getBody(),t)),l8=(e,t)=>{const o=e.selection.getNode();return zD(e,o).filter(Ts).fold(()=>s8(e.getBody(),t,e.selection.getRng(),e.schema).map(s=>()=>s.fold(r8(e,t),a8(e,t),i8(e))),()=>H.some(dt))},c8=e=>{ut($a(e,".mce-offscreen-selection"),Hn)},d8=(e,t)=>{const o=e.selection.getNode();return Ts(o)&&!om(o)?zD(e,o.parentNode).filter(Ts).fold(()=>H.some(()=>{c8(oe.fromDom(e.getBody())),pb(e,t,oe.fromDom(e.selection.getNode())),j2(e)}),()=>H.some(dt)):ZS(e)?H.some(()=>{q2(e,e.selection.getRng(),oe.fromDom(e.getBody()))}):H.none()},DD=e=>{const t=e.dom,o=e.selection,s=qp(e.getBody(),o.getNode());if(ml(s)&&t.isBlock(s)&&t.isEmpty(s)){const a=t.create("br",{"data-mce-bogus":"1"});t.setHTML(s,""),s.appendChild(a),o.setRng(qe.before(a).toRange())}return!0},qS=(e,t)=>e.selection.isCollapsed()?l8(e,t):d8(e,t),u8=(e,t)=>{const o=qe.fromRangeStart(e.selection.getRng());return pd(t,e.getBody(),o).filter(s=>t?Q4(s):tI(s)).bind(s=>eA(t?0:-1,s)).map(s=>()=>e.selection.select(s))},WS=(e,t)=>e.selection.isCollapsed()?u8(e,t):H.none(),E1=kt,RD=e=>E1(e)&&e.data[0]===x,ND=e=>E1(e)&&e.data[e.data.length-1]===x,MD=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(x)},m8=e=>{var t;if(E1(e.previousSibling))return ND(e.previousSibling)||e.previousSibling.appendData(x),e.previousSibling;if(E1(e))return RD(e)||e.insertData(0,x),e;{const o=MD(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(o,e),o}},f8=e=>{var t,o;if(E1(e.nextSibling))return RD(e.nextSibling)||e.nextSibling.insertData(0,x),e.nextSibling;if(E1(e))return ND(e)||e.appendData(x),e;{const s=MD(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(s,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(s),s}},$w=(e,t)=>e?m8(t):f8(t),g8=$t($w,!0),p8=$t($w,!1),ID=(e,t)=>kt(e.container())?$w(t,e.container()):$w(t,e.getNode()),BD=(e,t)=>{const o=t.get();return o&&e.container()===o&&Wt(o)},$S=(e,t)=>t.fold(o=>{Tf(e.get());const s=g8(o);return e.set(s),H.some(qe(s,s.length-1))},o=>Hl(o).map(s=>{if(BD(s,e)){const a=e.get();return qe(a,1)}else{Tf(e.get());const a=ID(s,!0);return e.set(a),qe(a,1)}}),o=>Du(o).map(s=>{if(BD(s,e)){const a=e.get();return qe(a,a.length-1)}else{Tf(e.get());const a=ID(s,!1);return e.set(a),qe(a,a.length-1)}}),o=>{Tf(e.get());const s=p8(o);return e.set(s),H.some(qe(s,1))}),LD=(e,t)=>{for(let o=0;o<e.length;o++){const s=e[o].apply(null,t);if(s.isSome())return s}return H.none()},oc=Ee.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),PD=(e,t)=>{const o=Ep(t,e);return o||e},h8=(e,t,o)=>{const s=vc(o),a=PD(t,s.container());return Bu(e,a,s).fold(()=>bc(a,s).bind($t(Bu,e,a)).map(c=>oc.before(c)),H.none)},b8=(e,t)=>vg(e,t)===null,FD=(e,t,o)=>Bu(e,t,o).filter($t(b8,t)),UD=(e,t,o)=>{const s=n1(o);return FD(e,t,s).bind(a=>$c(a,s).isNone()?H.some(oc.start(a)):H.none())},y8=(e,t,o)=>{const s=vc(o);return FD(e,t,s).bind(a=>bc(a,s).isNone()?H.some(oc.end(a)):H.none())},v8=(e,t,o)=>{const s=n1(o),a=PD(t,s.container());return Bu(e,a,s).fold(()=>$c(a,s).bind($t(Bu,e,a)).map(c=>oc.after(c)),H.none)},HD=e=>!pr(GS(e)),Wf=(e,t,o)=>LD([h8,UD,y8,v8],[e,t,o]).filter(HD),GS=e=>e.fold(So,So,So,So),VD=e=>e.fold(ht("before"),ht("start"),ht("end"),ht("after")),Gw=e=>e.fold(oc.before,oc.before,oc.after,oc.after),KS=e=>e.fold(oc.start,oc.start,oc.end,oc.end),jD=(e,t)=>VD(e)===VD(t)&&GS(e)===GS(t),k8=(e,t,o,s,a,c)=>na(Bu(t,o,s),Bu(t,o,a),(d,g)=>d!==g&&bI(o,d,g)?oc.after(e?d:g):c).getOr(c),x8=(e,t)=>e.fold(pn,o=>!jD(o,t)),w8=(e,t,o,s,a)=>{const c=al(e,a);return pd(e,o,c).map($t(al,e)).fold(()=>s.map(Gw),v=>Wf(t,o,v).map($t(k8,e,t,o,c,v)).filter($t(x8,s))).filter(HD)},_8=(e,t)=>e?t.fold(Jt(H.some,oc.start),H.none,Jt(H.some,oc.after),H.none):t.fold(H.none,Jt(H.some,oc.before),H.none,Jt(H.some,oc.end)),A8=(e,t,o,s)=>{const a=al(e,s),c=Wf(t,o,a);return Wf(t,o,a).bind($t(_8,e)).orThunk(()=>w8(e,t,o,c,s))},C8=e=>Je(e.selection.getSel().modify),ZD=(e,t,o)=>{const s=e?1:-1;return t.setRng(qe(o.container(),o.offset()+s).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},S8=(e,t)=>{const o=t.selection.getRng(),s=e?qe.fromRangeEnd(o):qe.fromRangeStart(o);return C8(t)?e&&dn(s)?ZD(!0,t.selection,s):!e&&Gn(s)?ZD(!1,t.selection,s):!1:!1};var Rm;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Rm||(Rm={}));const U0=(e,t)=>e===zi.Backwards?ea(t):t,E8=(e,t,o)=>e===zi.Forwards?t.next(o):t.prev(o),qD=(e,t,o,s)=>fr(s.getNode(t===zi.Forwards))?Rm.Br:Of(o,s)===!1?Rm.Block:Rm.Wrap,WD=(e,t,o,s)=>{const a=zf(o);let c=s;const d=[];for(;c;){const g=E8(t,a,c);if(!g)break;if(fr(g.getNode(!1)))return t===zi.Forwards?{positions:U0(t,d).concat([g]),breakType:Rm.Br,breakAt:H.some(g)}:{positions:U0(t,d),breakType:Rm.Br,breakAt:H.some(g)};if(!g.isVisible()){c=g;continue}if(e(c,g)){const v=qD(o,t,c,g);return{positions:U0(t,d),breakType:v,breakAt:H.some(g)}}d.push(g),c=g}return{positions:U0(t,d),breakType:Rm.Eol,breakAt:H.none()}},$D=(e,t,o,s)=>t(o,s).breakAt.map(a=>{const c=t(o,a).positions;return e===zi.Backwards?c.concat(a):[a].concat(c)}).getOr([]),YS=(e,t)=>rn(e,(o,s)=>o.fold(()=>H.some(s),a=>na(Jo(a.getClientRects()),Jo(s.getClientRects()),(c,d)=>{const g=Math.abs(t-c.left);return Math.abs(t-d.left)<=g?s:a}).or(o)),H.none()),Kw=(e,t)=>Jo(t.getClientRects()).bind(o=>YS(e,o.left)),H0=$t(WD,qe.isAbove,-1),V0=$t(WD,qe.isBelow,1),Yw=$t($D,-1,H0),Qw=$t($D,1,V0),GD=(e,t)=>H0(e,t).breakAt.isNone(),QS=(e,t)=>V0(e,t).breakAt.isNone(),T8=e=>Hl(e).map(t=>[t].concat(V0(e,t).positions)).getOr([]),O8=e=>Du(e).map(t=>H0(e,t).positions.concat(t)).getOr([]),z8=(e,t)=>Kw(Yw(e,t),t),D8=(e,t)=>Kw(Qw(e,t),t),R8=Ts,KD=(e,t)=>Math.abs(e.left-t),YD=(e,t)=>Math.abs(e.right-t),N8=e=>ni(e,"node"),Jw=(e,t)=>$l(e,(o,s)=>{const a=Math.min(KD(o,t),YD(o,t)),c=Math.min(KD(s,t),YD(s,t));return c===a&&N8(s)&&R8(s.node)||c<a?s:o}),M8=e=>{const t=o=>Zo(o,s=>{const a=qd(s);return a.node=e,a});if(ro(e))return t(e.getClientRects());if(kt(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),t(o.getClientRects())}else return[]},QD=e=>ln(e,M8);var j0;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(j0||(j0={}));const JD=(e,t,o,s)=>{let a=s;for(;a=Av(a,e,pc,t);)if(o(a))return},Qp=(e,t,o,s,a,c)=>{let d=0;const g=[],v=B=>{let U=QD([B]);e===-1&&(U=U.reverse());for(let X=0;X<U.length;X++){const ne=U[X];if(!o(ne,E)){if(g.length>0&&t(ne,br(g))&&d++,ne.line=d,a(ne))return!0;g.push(ne)}}return!1},E=br(c.getClientRects());if(!E)return g;const I=c.getNode();return I&&(v(I),JD(e,s,v,I)),g},I8=(e,t)=>t.line>e,B8=(e,t)=>t.line===e,L8=$t(Qp,j0.Up,vf,vp),Jc=$t(Qp,j0.Down,vp,vf),JS=e=>br(e.getClientRects()),P8=(e,t,o,s)=>{const a=zf(t);let c,d,g,v;const E=[];let I=0;e===1?(c=a.next,d=vp,g=vf,v=qe.after(s)):(c=a.prev,d=vf,g=vp,v=qe.before(s));const B=JS(v);do{if(!v.isVisible())continue;const U=JS(v);if(g(U,B))continue;E.length>0&&d(U,br(E))&&I++;const X=qd(U);if(X.position=v,X.line=I,o(X))return E;E.push(X)}while(v=c(v));return E},XD=e=>t=>I8(e,t),XS=e=>t=>B8(e,t),Ug=(e,t)=>{e.selection.setRng(t),Bv(e,e.selection.getRng())},eE=(e,t,o)=>H.some(P0(e,t,o)),tE=(e,t,o,s,a,c)=>{const d=t===zi.Forwards,g=zf(e.getBody()),v=$t(nA,d?g.next:g.prev),E=d?s:a;if(!o.collapsed){const ne=kf(o);if(c(ne))return Fg(t,e,ne,t===zi.Backwards,!1);if(ZS(e)){const Q=o.cloneRange();return Q.collapse(t===zi.Backwards),H.from(Q)}}const I=Ny(t,e.getBody(),o);if(E(I))return L0(e,I.getNode(!d));let B=v(I);const U=Jm(o);if(B)B=al(d,B);else return U?H.some(o):H.none();if(E(B))return Fg(t,e,B.getNode(!d),d,!1);const X=v(B);return X&&E(X)&&Gh(B,X)?Fg(t,e,X.getNode(!d),d,!1):U?eE(e,B.toRange(),!1):H.none()},eR=(e,t,o,s,a,c)=>{const d=Ny(t,e.getBody(),o),g=br(d.getClientRects()),v=t===j0.Down,E=e.getBody();if(!g)return H.none();if(ZS(e)){const se=v?qe.fromRangeEnd(o):qe.fromRangeStart(o);return(v?D8:z8)(E,se).orThunk(()=>H.from(se)).map(Ce=>Ce.toRange())}const B=(v?Jc:L8)(E,XD(1),d),U=nt(B,XS(1)),X=g.left,ne=Jw(U,X);if(ne&&c(ne.node)){const se=Math.abs(X-ne.left),ke=Math.abs(X-ne.right);return Fg(t,e,ne.node,se<ke,!1)}let Q;if(s(d)?Q=d.getNode():a(d)?Q=d.getNode(!0):Q=kf(o),Q){const se=P8(t,E,XD(1),Q);let ke=Jw(nt(se,XS(1)),X);if(ke||(ke=br(nt(se,XS(0))),ke))return eE(e,ke.position.toRange(),!1)}return U.length===0?oE(e,v).filter(v?a:s).map(se=>P0(e,se.toRange(),!1)):H.none()},oE=(e,t)=>{const o=e.selection.getRng(),s=t?qe.fromRangeEnd(o):qe.fromRangeStart(o),a=lM(s.container(),e.getBody());if(t){const c=V0(a,s);return Qt(c.positions)}else{const c=H0(a,s);return Jo(c.positions)}},tR=(e,t,o)=>oE(e,t).filter(o).exists(s=>(e.selection.setRng(s.toRange()),!0)),Xw=(e,t)=>{const o=e.dom.createRng();o.setStart(t.container(),t.offset()),o.setEnd(t.container(),t.offset()),e.selection.setRng(o)},oR=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},Rb=(e,t,o)=>$S(t,o).map(s=>(Xw(e,s),o)),nR=(e,t,o)=>{const s=qe.fromRangeStart(e);if(e.collapsed)return s;{const a=qe.fromRangeEnd(e);return o?$c(t,a).getOr(a):bc(t,s).getOr(s)}},e_=(e,t,o)=>{const s=e.getBody(),a=nR(e.selection.getRng(),s,o),c=$t(hb,e);return A8(o,c,s,a).bind(g=>Rb(e,t,g))},nE=(e,t,o)=>{const s=Zo($a(oe.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),d=>d.dom),a=nt(s,e),c=nt(o,e);ut(Ns(a,c),$t(oR,!1)),ut(Ns(c,a),$t(oR,!0))},sR=(e,t)=>{const o=t.get();if(e.selection.isCollapsed()&&!e.composing&&o){const s=qe.fromRangeStart(e.selection.getRng());qe.isTextPosition(s)&&!bO(s)&&(Xw(e,nM(o,s)),t.set(null))}},rR=(e,t,o,s)=>{if(t.selection.isCollapsed()){const a=nt(s,e);ut(a,c=>{const d=qe.fromRangeStart(t.selection.getRng());Wf(e,t.getBody(),d).bind(g=>Rb(t,o,g))})}},aR=(e,t,o)=>jn(e)?e_(e,t,o).isSome():!1,sE=(e,t,o)=>jn(t)?S8(e,t):!1,F8=e=>{const t=ia(null),o=$t(hb,e);return e.on("NodeChange",s=>{jn(e)&&(nE(o,e.dom,s.parents),sR(e,t),rR(o,e,t,s.parents))}),t},iR=$t(sE,!0),lR=$t(sE,!1),Z0=(e,t,o)=>{if(jn(e)){const s=oE(e,t).getOrThunk(()=>{const a=e.selection.getRng();return t?qe.fromRangeEnd(a):qe.fromRangeStart(a)});return Wf($t(hb,e),e.getBody(),s).exists(a=>{const c=Gw(a);return $S(o,c).exists(d=>(Xw(e,d),!0))})}else return!1},cR=(e,t)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(t.container(),t.offset()),o},dR=e=>na(Hl(e),Du(e),(t,o)=>{const s=al(!0,t),a=al(!1,o);return bc(e,s).forall(c=>c.isEqual(a))}).getOr(!0),rE=(e,t)=>o=>$S(t,o).map(s=>()=>Xw(e,s)),t_=(e,t,o,s)=>{const a=e.getBody(),c=$t(hb,e);e.undoManager.ignore(()=>{e.selection.setRng(cR(o,s)),bb(e),Wf(c,a,qe.fromRangeStart(e.selection.getRng())).map(KS).bind(rE(e,t)).each(hi)}),e.nodeChanged()},uR=(e,t)=>{const o=Ep(t,e);return o||e},mR=(e,t,o,s)=>{const a=uR(e.getBody(),s.container()),c=$t(hb,e),d=Wf(c,a,s);return d.bind(v=>o?v.fold(ht(H.some(KS(v))),H.none,ht(H.some(Gw(v))),H.none):v.fold(H.none,ht(H.some(Gw(v))),H.none,ht(H.some(KS(v))))).map(rE(e,t)).getOrThunk(()=>{const v=Kh(o,a,s),E=v.bind(I=>Wf(c,a,I));return na(d,E,()=>Bu(c,a,s).bind(I=>dR(I)?H.some(()=>{pb(e,o,oe.fromDom(I))}):H.none())).getOrThunk(()=>E.bind(()=>v.map(I=>()=>{o?t_(e,t,s,I):t_(e,t,I,s)})))})},o_=(e,t,o)=>{if(e.selection.isCollapsed()&&jn(e)){const s=qe.fromRangeStart(e.selection.getRng());return mR(e,t,o,s)}return H.none()},fR=e=>fc(e)>1,aE=(e,t)=>{const o=oe.fromDom(e.getBody()),s=oe.fromDom(e.selection.getStart()),a=_m(s,o);return La(a,t).fold(ht(a),c=>a.slice(0,c))},gR=e=>fc(e)===1,pR=e=>aE(e,t=>e.schema.isBlock(fn(t))||fR(t)),iE=e=>aE(e,t=>e.schema.isBlock(fn(t))),n_=(e,t)=>{const o=$t(vd,e);return ln(t,s=>o(s)?[s.dom]:[])},q0=e=>{const t=iE(e);return n_(e,t)},hR=(e,t,o,s)=>{const a=n_(t,s);if(a.length===0)pb(t,e,o);else{const c=Ng(o.dom,a);t.selection.setRng(c.toRange())}},bR=(e,t)=>{const o=nt(pR(e),gR);return Qt(o).bind(s=>{const a=qe.fromRangeStart(e.selection.getRng());return vO(t,a,s.dom)&&!Tv(s)?H.some(()=>hR(t,e,s,o)):H.none()})},yR=(e,t)=>{const o=t.parentElement;return fr(t)&&!tt(o)&&e.dom.isEmpty(o)},lE=e=>Tv(oe.fromDom(e)),cE=(e,t)=>{const o=e.selection.getStart(),s=yR(e,o)||lE(o)?Ng(o,t):n3(e.selection.getRng(),t);e.selection.setRng(s.toRange())},vR=(e,t)=>{const o=Ns(t,q0(e));o.length>0&&cE(e,o)},dE=e=>kt(e.startContainer),U8=e=>e.startOffset===0&&dE(e),kR=(e,t)=>{const o=t.startContainer.parentElement;return!tt(o)&&vd(e,oe.fromDom(o))},xR=e=>{const t=e.startContainer.parentNode,o=e.endContainer.parentNode;return!tt(t)&&!tt(o)&&t.isEqualNode(o)},wR=e=>{const t=e.endContainer;return e.endOffset===(kt(t)?t.length:t.childNodes.length)},_R=e=>xR(e)&&wR(e),AR=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),uE=e=>_R(e)||AR(e),H8=e=>{const t=e.selection.getRng();return U8(t)&&kR(e,t)&&uE(t)},CR=e=>{if(H8(e)){const t=q0(e);return H.some(()=>{bb(e),vR(e,t)})}else return H.none()},mE=(e,t)=>e.selection.isCollapsed()?bR(e,t):CR(e),SR=(e,t)=>kO(e,o=>Gc(o.dom),o=>t.isBlock(fn(o))),ER=e=>SR(oe.fromDom(e.selection.getStart()),e.schema),V8=e=>{const t=e.selection.getRng();return t.collapsed&&(dE(t)||e.dom.isEmpty(t.startContainer))&&!ER(e)},W0=e=>(V8(e)&&cE(e,[]),!0),n=(e,t,o)=>_e(o)?H.some(()=>{e._selectionOverrides.hideFakeCaret(),pb(e,t,oe.fromDom(o))}):H.none(),r=(e,t)=>{const o=t?Zv:Xy,s=t?zi.Forwards:zi.Backwards,a=Ny(s,e.getBody(),e.selection.getRng());return o(a)?n(e,t,a.getNode(!t)):H.from(al(t,a)).filter(c=>o(c)&&Gh(a,c)).bind(c=>n(e,t,c.getNode(!t)))},i=(e,t)=>{const o=e.selection.getNode();return ao(o)?n(e,t,o):H.none()},l=(e,t)=>e.selection.isCollapsed()?r(e,t):i(e,t),u=e=>Xe(e,t=>ml(t.dom)||Ts(t.dom)).exists(t=>ml(t.dom)),m=e=>ir(e??"").getOr(0),p=(e,t)=>{const o=e||Gm(t)?"margin":"padding",s=ha(t,"direction")==="rtl"?"-right":"-left";return o+s},b=(e,t,o,s,a,c)=>{const d=p(o,oe.fromDom(c)),g=m(e.getStyle(c,d));if(t==="outdent"){const v=Math.max(0,g-s);e.setStyle(c,d,v?v+a:"")}else{const v=g+s+a;e.setStyle(c,d,v)}},y=(e,t)=>jr(t,o=>{const s=p(Sk(e),o),a=Te(o,s).map(m).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&a>0}),w=e=>{const t=z(e);return!e.mode.isReadOnly()&&(t.length>1||y(e,t))},C=e=>Ic(e)||Pd(e),S=e=>Za(e).exists(C),z=e=>nt(Ml(e.selection.getSelectedBlocks()),t=>!C(t)&&!S(t)&&u(t)),M=(e,t)=>{var o,s;const{dom:a}=e,c=F_(e),d=(s=(o=/[a-z%]+$/i.exec(c))===null||o===void 0?void 0:o[0])!==null&&s!==void 0?s:"px",g=m(c),v=Sk(e);ut(z(e),E=>{b(a,t,v,g,d,E.dom)})},P=e=>M(e,"indent"),$=e=>M(e,"outdent"),K=e=>{if(e.selection.isCollapsed()&&w(e)){const t=e.dom,o=e.selection.getRng(),s=qe.fromRangeStart(o),a=t.getParent(o.startContainer,t.isBlock);if(a!==null&&e1(oe.fromDom(a),s,e.schema))return H.some(()=>$(e))}return H.none()},ee=(e,t,o)=>Cr([K,qS,Ww,(s,a)=>o_(s,t,a),qw,Rx,WS,l,C1,mE],s=>s(e,o)).filter(s=>e.selection.isEditable()),q=(e,t)=>{ee(e,t,!1).fold(()=>{e.selection.isEditable()&&(bb(e),j2(e))},hi)},V=(e,t)=>{ee(e,t,!0).fold(()=>{e.selection.isEditable()&&H2(e)},hi)},J=(e,t)=>{e.addCommand("delete",()=>{q(e,t)}),e.addCommand("forwardDelete",()=>{V(e,t)})},te=5,ie=400,ve=e=>e.touches===void 0||e.touches.length!==1?H.none():H.some(e.touches[0]),Re=(e,t)=>{const o=Math.abs(e.clientX-t.x),s=Math.abs(e.clientY-t.y);return o>te||s>te},st=e=>{const t=jd(),o=ia(!1),s=Vc(a=>{e.dispatch("longpress",{...a,type:"longpress"}),o.set(!0)},ie);e.on("touchstart",a=>{ve(a).each(c=>{s.cancel();const d={x:c.clientX,y:c.clientY,target:a.target};s.throttle(a),o.set(!1),t.set(d)})},!0),e.on("touchmove",a=>{s.cancel(),ve(a).each(c=>{t.on(d=>{Re(c,d)&&(t.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",a=>{s.cancel(),a.type!=="touchcancel"&&t.get().filter(c=>c.target.isEqualNode(a.target)).each(()=>{o.get()?a.preventDefault():e.dispatch("tap",{...a,type:"tap"})})},!0)},it=(e,t)=>Lo(e,t.nodeName),lt=(e,t)=>kt(t)?!0:ro(t)?!it(e.getBlockElements(),t)&&!hd(t)&&!sf(e,t)&&!gh(t):!1,qt=(e,t,o)=>ts(R2(oe.fromDom(o),oe.fromDom(t)),s=>it(e,s.dom)),eo=(e,t)=>{if(kt(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||it(e,t.nextSibling)||gh(t.nextSibling)}return!1},po=e=>e.dom.create(Ia(e),bv(e)),Bo=e=>{const t=e.dom,o=e.selection,s=e.schema,a=s.getBlockElements(),c=o.getStart(),d=e.getBody();let g,v,E=!1;const I=Ia(e);if(!c||!ro(c))return;const B=d.nodeName.toLowerCase();if(!s.isValidChild(B,I.toLowerCase())||qt(a,d,c))return;const U=o.getRng(),{startContainer:X,startOffset:ne,endContainer:Q,endOffset:se}=U,ke=Pp(e);let Ce=d.firstChild;for(;Ce;)if(ro(Ce)&&V1(s,Ce),lt(s,Ce)){if(eo(a,Ce)){v=Ce,Ce=Ce.nextSibling,t.remove(v);continue}g||(g=po(e),d.insertBefore(g,Ce),E=!0),v=Ce,Ce=Ce.nextSibling,g.appendChild(v)}else g=null,Ce=Ce.nextSibling;E&&ke&&(U.setStart(X,ne),U.setEnd(Q,se),o.setRng(U),e.nodeChanged())},Fo=(e,t,o)=>{const s=oe.fromDom(po(e)),a=Ym();Fs(s,a),o(t,s);const c=document.createRange();return c.setStartBefore(a.dom),c.setEndBefore(a.dom),c},yn=e=>{e.on("NodeChange",$t(Bo,e))},Ms=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,hr=(e,t,o)=>function(s){const a=arguments,c=a[a.length-2],d=c>0?t.charAt(c-1):"";if(d==='"')return s;if(d===">"){const g=t.lastIndexOf("<",c);if(g!==-1&&t.substring(g,c).indexOf('contenteditable="false"')!==-1)return s}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(a[0])+'">'+e.dom.encode(typeof a[1]=="string"?a[1]:a[0])+"</span>"},Go=(e,t,o)=>{let s=t.length,a=o.content;if(o.format!=="raw"){for(;s--;)a=a.replace(t[s],hr(e,a,$_(e)));o.content=a}},fi=e=>{const t="contenteditable",o=" "+Mt.trim(JE(e))+" ",s=" "+Mt.trim($_(e))+" ",a=Ms(o),c=Ms(s),d=XE(e);d.length>0&&e.on("BeforeSetContent",g=>{Go(e,d,g)}),e.parser.addAttributeFilter("class",g=>{let v=g.length;for(;v--;){const E=g[v];a(E)?E.attr(t,"true"):c(E)&&E.attr(t,"false")}}),e.serializer.addAttributeFilter(t,g=>{let v=g.length;for(;v--;){const E=g[v];!a(E)&&!c(E)||(d.length>0&&E.attr("data-mce-content")?(E.name="#text",E.type=3,E.raw=!0,E.value=E.attr("data-mce-content")):E.attr(t,null))}})},Yo=e=>Ea(oe.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),Fr=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Qm(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},Is=(e,t)=>{const o=Yo(e);if(o){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),Fr(e,o);return}Xo(o)&&(Fr(e,o),e.undoManager.add())}},kl=e=>{e.on("keyup compositionstart",$t(Is,e))},Nr=Ts,gi=(e,t,o)=>tE(t,e,o,Pf,Sg,Nr),wc=(e,t,o)=>eR(t,e,o,c=>Pf(c)||z2(c),c=>Sg(c)||hx(c),Nr),T1=e=>{const t=e.dom.create(Ia(e));return t.innerHTML='<br data-mce-bogus="1">',t},Nb=(e,t,o)=>{const s=zf(e.getBody()),a=$t(nA,t===1?s.next:s.prev);if(o.collapsed){const c=e.dom.getParent(o.startContainer,"PRE");if(!c)return;if(!a(qe.fromRangeStart(o))){const g=oe.fromDom(T1(e));t===1?Js(oe.fromDom(c),g):zr(oe.fromDom(c),g),e.selection.select(g.dom,!0),e.selection.collapse()}}},Jp=(e,t)=>{const o=t?zi.Forwards:zi.Backwards,s=e.selection.getRng();return gi(o,e,s).orThunk(()=>(Nb(e,o,s),H.none()))},Hg=(e,t)=>{const o=t?1:-1,s=e.selection.getRng();return wc(o,e,s).orThunk(()=>(Nb(e,o,s),H.none()))},$0=(e,t)=>{const o=t?e.getEnd(!0):e.getStart(!0);return pr(o)?!t:t},Vg=(e,t)=>Jp(e,$0(e.selection,t)).exists(o=>(Ug(e,o),!0)),$f=(e,t)=>Hg(e,t).exists(o=>(Ug(e,o),!0)),Xp=(e,t)=>tR(e,t,t?Sg:Pf),Gf=(e,t)=>F0(e,!t).map(o=>{const s=o.toRange(),a=e.selection.getRng();return t?s.setStart(a.startContainer,a.startOffset):s.setEnd(a.endContainer,a.endOffset),s}).exists(o=>(Ug(e,o),!0)),G0=e=>Nn(["figcaption"],fn(e)),s_=(e,t,o)=>{const s=$t(On,t);return Xe(oe.fromDom(e.container()),a=>o.isBlock(fn(a)),s).filter(G0)},K0=(e,t,o)=>t?QS(e.dom,o):GD(e.dom,o),eh=(e,t)=>{const o=oe.fromDom(e.getBody()),s=qe.fromRangeStart(e.selection.getRng());return s_(s,o,e.schema).exists(()=>{if(K0(o,t,s)){const c=Fo(e,o,t?Fs:rr);return e.selection.setRng(c),!0}else return!1})},Kf=(e,t)=>e.selection.isCollapsed()?eh(e,t):!1,jg=(e,t,o)=>{const s=e.selection.getRng(),a=qe.fromRangeStart(s);return e.getBody().firstChild===t&&GD(o,a)?(e.execCommand("InsertNewBlockBefore"),!0):!1},js=(e,t)=>{const o=e.selection.getRng(),s=qe.fromRangeStart(o);return e.getBody().lastChild===t&&QS(t,s)?(e.execCommand("InsertNewBlockAfter"),!0):!1},th=(e,t)=>t?H.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>js(e,o)).getOr(!1):H.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>H.from(e.dom.getParent(o,"details")).map(s=>jg(e,s,o))).getOr(!1),ju=(e,t)=>th(e,t),r_={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},TR=e=>Zo(e,t=>({...r_,...t})),a_=e=>Zo(e,t=>({...r_,...t})),Y0=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,Zg=(e,t)=>ln(TR(e),o=>Y0(o,t)?[o]:[]),O1=(e,t)=>ln(a_(e),o=>Y0(o,t)?[o]:[]),Vo=(e,...t)=>()=>e.apply(null,t),Mb=(e,t)=>on(Zg(e,t),o=>o.action()),OR=(e,t)=>Cr(O1(e,t),o=>o.action()),Ib=(e,t)=>{const o=t?zi.Forwards:zi.Backwards,s=e.selection.getRng();return tE(e,o,s,Zv,Xy,ao).exists(a=>(Ug(e,a),!0))},zR=(e,t)=>{const o=t?1:-1,s=e.selection.getRng();return eR(e,o,s,Zv,Xy,ao).exists(a=>(Ug(e,a),!0))},xl=(e,t)=>tR(e,t,t?Xy:Zv),Bb=Ee.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),z1={...Bb,none:e=>Bb.none(e)},fE=(e,t)=>gE(e,t,pn),gE=(e,t,o)=>ln(Es(e),s=>ja(s,t)?o(s)?[s]:[]:gE(s,t,o)),DR=(e,t,o=Mo)=>{if(o(t))return H.none();if(Nn(e,fn(t)))return H.some(t);const s=a=>ja(a,"table")||o(a);return Sa(t,e.join(","),s)},j8=(e,t)=>DR(["td","th"],e,t),i_=e=>fE(e,"th,td"),l_=(e,t)=>Hi(e,"table",t),qg=(e,t,o,s,a=pn)=>{const c=s===1;if(!c&&o<=0)return z1.first(e[0]);if(c&&o>=e.length-1)return z1.last(e[e.length-1]);{const d=o+s,g=e[d];return a(g)?z1.middle(t,g):qg(e,t,d,s,a)}},D1=(e,t)=>l_(e,t).bind(o=>{const s=i_(o);return La(s,c=>On(e,c)).map(c=>({index:c,all:s}))}),RR=(e,t,o)=>D1(e,o).fold(()=>z1.none(e),a=>qg(a.all,e,a.index,1,t)),NR=(e,t,o)=>D1(e,o).fold(()=>z1.none(),a=>qg(a.all,e,a.index,-1,t)),c_=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),Wg=(e,t)=>ln(t,o=>{const s=c_(qd(o.getBoundingClientRect()),-1);return[{x:s.left,y:e(s),cell:o},{x:s.right,y:e(s),cell:o}]}),MR=(e,t,o)=>rn(e,(s,a)=>s.fold(()=>H.some(a),c=>{const d=Math.sqrt(Math.abs(c.x-t)+Math.abs(c.y-o)),g=Math.sqrt(Math.abs(a.x-t)+Math.abs(a.y-o));return H.some(g<d?a:c)}),H.none()),pE=(e,t,o,s,a)=>{const c=$a(oe.fromDom(o),"td,th,caption").map(g=>g.dom),d=nt(Wg(e,c),g=>t(g,a));return MR(d,s,a).map(g=>g.cell)},IR=e=>e.bottom,BR=e=>e.top,Z8=(e,t)=>e.y<t,Ie=(e,t)=>e.y>t,Ao=$t(pE,IR,Z8),Qo=$t(pE,BR,Ie),Zs=(e,t)=>Jo(t.getClientRects()).bind(o=>Ao(e,o.left,o.top)).bind(o=>Kw(O8(o),t)),Mr=(e,t)=>Qt(t.getClientRects()).bind(o=>Qo(e,o.left,o.top)).bind(o=>Kw(T8(o),t)),Qr=(e,t,o)=>o.breakAt.exists(s=>e(t,s).breakAt.isSome()),Ur=e=>e.breakType===Rm.Wrap&&e.positions.length===0,ka=e=>e.breakType===Rm.Br&&e.positions.length===1,Lb=(e,t,o)=>{const s=e(t,o);return Ur(s)||!fr(o.getNode())&&ka(s)?!Qr(e,t,s):s.breakAt.isNone()},q8=$t(Lb,H0),LR=$t(Lb,V0),d6=(e,t,o)=>{const s=qe.fromRangeStart(t);return Yh(!e,o).exists(a=>a.isEqual(s))},EF=(e,t,o,s)=>{const a=e.selection.getRng(),c=t?1:-1;return Q_()&&d6(t,a,o)?(Fg(c,e,o,!t,!1).each(d=>{Ug(e,d)}),!0):!1},TF=(e,t,o)=>Zs(t,o).orThunk(()=>Jo(o.getClientRects()).bind(s=>YS(Yw(e,qe.before(t)),s.left))).getOr(qe.before(t)),OF=(e,t,o)=>Mr(t,o).orThunk(()=>Jo(o.getClientRects()).bind(s=>YS(Qw(e,qe.after(t)),s.left))).getOr(qe.after(t)),u6=(e,t)=>{const o=t.getNode(e);return Mc(o)?H.some(o):H.none()},zF=(e,t,o)=>{t.undoManager.transact(()=>{const s=e?Js:zr,a=Fo(t,oe.fromDom(o),s);Ug(t,a)})},m6=(e,t,o)=>{const s=u6(!!t,o),a=t===!1;s.fold(()=>Ug(e,o.toRange()),c=>Yh(a,e.getBody()).filter(d=>d.isEqual(o)).fold(()=>Ug(e,o.toRange()),d=>zF(t,e,c)))},DF=(e,t,o,s)=>{const a=e.selection.getRng(),c=qe.fromRangeStart(a),d=e.getBody();if(!t&&q8(s,c)){const g=TF(d,o,c);return m6(e,t,g),!0}else if(t&&LR(s,c)){const g=OF(d,o,c);return m6(e,t,g),!0}else return!1},f6=(e,t,o)=>H.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(s=>H.from(e.dom.getParent(s,"table")).map(a=>o(e,t,a,s))).getOr(!1),g6=(e,t)=>f6(e,t,EF),W8=(e,t)=>f6(e,t,DF),RF=e=>{const t=wg.exact(e,0,e,0);return f4(t)},p6=(e,t,o)=>o.fold(H.none,H.none,(s,a)=>I4(a).map(c=>RF(c)),s=>(e.execCommand("mceTableInsertRowAfter"),h6(e,t,s))),h6=(e,t,o)=>p6(e,t,RR(o,pa)),NF=(e,t,o)=>p6(e,t,NR(o,pa)),b6=(e,t)=>{const o=["table","li","dl"],s=oe.fromDom(e.getBody()),a=g=>{const v=fn(g);return On(g,s)||Nn(o,v)},c=e.selection.getRng(),d=oe.fromDom(t?c.endContainer:c.startContainer);return j8(d,a).map(g=>(l_(g,a).each(I=>{e.model.table.clearSelectedCells(I.dom)}),e.selection.collapse(!t),(t?h6:NF)(e,a,g).each(I=>{e.selection.setRng(I)}),!0)).getOr(!1)},MF=(e,t,o)=>{const s=Mn.os.isMacOS()||Mn.os.isiOS();Mb([{keyCode:Xt.RIGHT,action:Vo(Vg,e,!0)},{keyCode:Xt.LEFT,action:Vo(Vg,e,!1)},{keyCode:Xt.UP,action:Vo($f,e,!1)},{keyCode:Xt.DOWN,action:Vo($f,e,!0)},...s?[{keyCode:Xt.UP,action:Vo(Gf,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Xt.DOWN,action:Vo(Gf,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Xt.RIGHT,action:Vo(g6,e,!0)},{keyCode:Xt.LEFT,action:Vo(g6,e,!1)},{keyCode:Xt.UP,action:Vo(W8,e,!1)},{keyCode:Xt.DOWN,action:Vo(W8,e,!0)},{keyCode:Xt.UP,action:Vo(W8,e,!1)},{keyCode:Xt.UP,action:Vo(ju,e,!1)},{keyCode:Xt.DOWN,action:Vo(ju,e,!0)},{keyCode:Xt.RIGHT,action:Vo(Ib,e,!0)},{keyCode:Xt.LEFT,action:Vo(Ib,e,!1)},{keyCode:Xt.UP,action:Vo(zR,e,!1)},{keyCode:Xt.DOWN,action:Vo(zR,e,!0)},{keyCode:Xt.RIGHT,action:Vo(aR,e,t,!0)},{keyCode:Xt.LEFT,action:Vo(aR,e,t,!1)},{keyCode:Xt.RIGHT,ctrlKey:!s,altKey:s,action:Vo(iR,e,t)},{keyCode:Xt.LEFT,ctrlKey:!s,altKey:s,action:Vo(lR,e,t)},{keyCode:Xt.UP,action:Vo(Kf,e,!1)},{keyCode:Xt.DOWN,action:Vo(Kf,e,!0)}],o).each(a=>{o.preventDefault()})},IF=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||MF(e,t,o)})},$g=(e,t)=>({container:e,offset:t}),PR=Hs.DOM,FR=e=>t=>e===t?-1:0,BF=e=>t=>e.isBlock(t)||Nn(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",$8=(e,t,o)=>{if(kt(e)&&t>=0)return H.some($g(e,t));{const s=bf(PR);return H.from(s.backwards(e,t,FR(e),o)).map(a=>$g(a.container,a.container.data.length))}},LF=(e,t,o)=>{if(kt(e)&&t>=e.length)return H.some($g(e,t));{const s=bf(PR);return H.from(s.forwards(e,t,FR(e),o)).map(a=>$g(a.container,0))}},G8=(e,t,o)=>{if(!kt(e))return H.none();const s=e.data;if(t>=0&&t<=s.length)return H.some($g(e,t));{const a=bf(PR);return H.from(a.backwards(e,t,FR(e),o)).bind(c=>{const d=c.container.data;return G8(c.container,t+d.length,o)})}},y6=(e,t,o)=>{if(!kt(e))return H.none();const s=e.data;if(t<=s.length)return H.some($g(e,t));{const a=bf(PR);return H.from(a.forwards(e,t,FR(e),o)).bind(c=>y6(c.container,t-s.length,o))}},K8=(e,t,o,s,a)=>{const c=bf(e,BF(e));return H.from(c.backwards(t,o,s,a))},PF=e=>e.collapsed&&kt(e.startContainer),v6=e=>F(e.toString().replace(/\u00A0/g," ")),k6=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,Y8=(e,t)=>e.substring(t.length),FF=(e,t,o)=>{let s;const a=o.charAt(0);for(s=t-1;s>=0;s--){const c=e.charAt(s);if(k6(c))return H.none();if(a===c&&os(e,o,s,t))break}return H.some(s)},UF=(e,t,o,s=0)=>{if(!PF(t))return H.none();const a={text:"",offset:0},c=(g,v,E)=>(a.text=E+a.text,a.offset+=v,FF(a.text,a.offset,o).getOr(v)),d=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return K8(e,t.startContainer,t.startOffset,c,d).bind(g=>{const v=t.cloneRange();if(v.setStart(g.container,g.offset),v.setEnd(t.endContainer,t.endOffset),v.collapsed)return H.none();const E=v6(v);return E.lastIndexOf(o)!==0||Y8(E,o).length<s?H.none():H.some({text:Y8(E,o),range:v,trigger:o})})},x6=(e,t,o,s=0)=>F4(oe.fromDom(t.startContainer)).fold(()=>UF(e,t,o,s),a=>{const c=e.createRng();c.selectNode(a.dom);const d=v6(c);return H.some({range:c,text:Y8(d,o),trigger:o})}),HF=e=>e.nodeType===Gl,VF=e=>e.nodeType===Ol,w6=e=>{if(HF(e))return $g(e,e.data.length);{const t=e.childNodes;return t.length>0?w6(t[t.length-1]):$g(e,t.length)}},_6=(e,t)=>{const o=e.childNodes;return o.length>0&&t<o.length?_6(o[t],0):o.length>0&&VF(e)&&o.length===t?w6(o[o.length-1]):$g(e,t)},jF=(e,t)=>{var o;const s=(o=e.getParent(t.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return K8(e,t.container,t.offset,(a,c)=>c===0?-1:c,s).filter(a=>{const c=a.container.data.charAt(a.offset-1);return!k6(c)}).isSome()},ZF=e=>t=>{const o=_6(t.startContainer,t.startOffset);return!jF(e,o)},qF=(e,t,o)=>Cr(o.triggers,s=>x6(e,t,s)),WF=(e,t)=>{const o=t(),s=e.selection.getRng();return qF(e.dom,s,o).bind(a=>A6(e,t,a))},A6=(e,t,o,s={})=>{var a;const c=t(),g=(a=e.selection.getRng().startContainer.nodeValue)!==null&&a!==void 0?a:"",v=nt(c.lookupByTrigger(o.trigger),I=>o.text.length>=I.minChars&&I.matches.getOrThunk(()=>ZF(e.dom))(o.range,g,o.text));if(v.length===0)return H.none();const E=Promise.all(Zo(v,I=>I.fetch(o.text,I.maxResults,s).then(U=>({matchText:o.text,items:U,columns:I.columns,onAction:I.onAction,highlightOn:I.highlightOn}))));return H.some({lookupData:E,context:o})};var Gg;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Gg||(Gg={}));const Q8=(e,t,o)=>e.stype===Gg.Error?t(e.serror):o(e.svalue),$F=e=>{const t=[],o=[];return ut(e,s=>{Q8(s,a=>o.push(a),a=>t.push(a))}),{values:t,errors:o}},GF=(e,t)=>e.stype===Gg.Error?{stype:Gg.Error,serror:t(e.serror)}:e,KF=(e,t)=>e.stype===Gg.Value?{stype:Gg.Value,svalue:t(e.svalue)}:e,YF=(e,t)=>e.stype===Gg.Value?t(e.svalue):e,QF=(e,t)=>e.stype===Gg.Error?t(e.serror):e,C6=e=>({stype:Gg.Value,svalue:e}),S6=e=>({stype:Gg.Error,serror:e}),Zl={fromResult:e=>e.fold(S6,C6),toResult:e=>Q8(e,be.error,be.value),svalue:C6,partition:$F,serror:S6,bind:YF,bindError:QF,map:KF,mapError:GF,fold:Q8},J8=e=>ae(e)&&vt(e).length>100?" removed due to size":JSON.stringify(e,null,2),JF=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:ht("... (only showing first ten failures)")}]):e;return Zo(t,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},UR=(e,t)=>Zl.serror([{path:e,getErrorInfo:t}]),XF=(e,t,o)=>UR(e,()=>'Could not find valid *required* value for "'+t+'" in '+J8(o)),eU=(e,t)=>UR(e,()=>'Choice schema did not contain choice key: "'+t+'"'),tU=(e,t,o)=>UR(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+J8(t)),oU=(e,t)=>UR(e,ht(t)),nU=(e,t,o,s)=>hs(o,s).fold(()=>tU(e,o,s),c=>c.extract(e.concat(["branch: "+s]),t)),sU=(e,t)=>({extract:(a,c)=>hs(c,e).fold(()=>eU(a,e),g=>nU(a,c,t,g)),toString:()=>"chooseOn("+e+"). Possible values: "+vt(t)}),rU=(e,t)=>t,aU=(e,t)=>Lt(e)&&Lt(t)?HR(e,t):t,E6=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const o={};for(let s=0;s<t.length;s++){const a=t[s];for(const c in a)Lo(a,c)&&(o[c]=e(o[c],a[c]))}return o},HR=E6(aU),iU=E6(rU),T6=()=>({tag:"required",process:{}}),lU=e=>({tag:"defaultedThunk",process:e}),O6=e=>lU(ht(e)),cU=()=>({tag:"option",process:{}}),dU=(e,t)=>e.length>0?Zl.svalue(HR(t,iU.apply(void 0,e))):Zl.svalue(t),z6=e=>Jt(Zl.serror,fs)(e),uU={consolidateObj:(e,t)=>{const o=Zl.partition(e);return o.errors.length>0?z6(o.errors):dU(o.values,t)},consolidateArr:e=>{const t=Zl.partition(e);return t.errors.length>0?z6(t.errors):Zl.svalue(t.values)}},mU=(e,t,o,s)=>({tag:"field",key:e,newKey:t,presence:o,prop:s}),fU=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),D6=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},X8=e=>{const t=(s,a)=>Zl.bindError(e(a),c=>oU(s,c)),o=ht("val");return{extract:t,toString:o}},gU=X8(Zl.svalue),pU=(e,t,o,s)=>hs(t,o).fold(()=>XF(e,o,t),s),R6=(e,t,o,s)=>{const a=hs(e,t).getOrThunk(()=>o(e));return s(a)},hU=(e,t,o)=>o(hs(e,t)),bU=(e,t,o,s)=>{const a=hs(e,t).map(c=>c===!0?o(e):c);return s(a)},yU=(e,t,o,s,a)=>{const c=g=>a.extract(t.concat([s]),g),d=g=>g.fold(()=>Zl.svalue(H.none()),v=>{const E=a.extract(t.concat([s]),v);return Zl.map(E,H.some)});switch(e.tag){case"required":return pU(t,o,s,c);case"defaultedThunk":return R6(o,s,e.process,c);case"option":return hU(o,s,d);case"defaultedOptionThunk":return bU(o,s,e.process,d);case"mergeWithThunk":return R6(o,s,ht({}),g=>{const v=HR(e.process(o),g);return c(v)})}},vU=(e,t,o)=>{const s={},a=[];for(const c of o)D6(c,(d,g,v,E)=>{const I=yU(v,e,t,d,E);Zl.fold(I,B=>{a.push(...B)},B=>{s[g]=B})},(d,g)=>{s[d]=g(t)});return a.length>0?Zl.serror(a):Zl.svalue(s)},eL=e=>({extract:(s,a)=>vU(s,a,e),toString:()=>`obj{
`+Zo(e,a=>D6(a,(c,d,g,v)=>c+" -> "+v.toString(),(c,d)=>"state("+c+")")).join(`
`)+"}"}),N6=e=>({extract:(s,a)=>{const c=Zo(a,(d,g)=>e.extract(s.concat(["["+g+"]"]),d));return uU.consolidateArr(c)},toString:()=>"array("+e.toString()+")"}),kU=e=>X8(t=>e(t).fold(Zl.serror,Zl.svalue)),xU=(e,t,o)=>{const s=t.extract([e],o);return Zl.mapError(s,a=>({input:o,errors:a}))},wU=(e,t,o)=>Zl.toResult(xU(e,t,o)),_U=e=>`Errors: 
`+JF(e.errors).join(`
`)+`

Input object: `+J8(e.input),M6=(e,t)=>sU(e,Fa(t,eL)),AU=ht(gU),VR=(e,t)=>X8(o=>{const s=typeof o;return e(o)?Zl.svalue(o):Zl.serror(`Expected type: ${t} but got: ${s}`)}),CU=VR(O,"number"),jR=VR(Qe,"string"),SU=VR(sn,"boolean"),tL=VR(Je,"function"),hE=mU,I6=fU,EU=e=>kU(t=>Nn(e,t)?be.value(t):be.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),B6=(e,t)=>hE(e,e,T6(),t),L6=e=>B6(e,jR),P6=e=>B6(e,tL),TU=(e,t)=>hE(e,e,T6(),N6(t)),oL=(e,t)=>hE(e,e,cU(),t),ZR=e=>oL(e,jR),OU=e=>oL(e,tL),zU=(e,t)=>hE(e,e,O6(t),AU()),d_=(e,t,o)=>hE(e,e,O6(t),o),F6=(e,t)=>d_(e,t,CU),DU=(e,t)=>d_(e,t,jR),U6=(e,t,o)=>d_(e,t,EU(o)),nL=(e,t)=>d_(e,t,SU),sL=(e,t)=>d_(e,t,tL),RU=(e,t,o)=>d_(e,t,N6(o)),NU=L6("type"),MU=P6("fetch"),rL=P6("onAction"),IU=sL("onSetup",()=>dt),BU=ZR("text"),LU=ZR("icon"),PU=ZR("tooltip"),FU=ZR("label"),UU=nL("active",!1),HU=nL("enabled",!0),H6=nL("primary",!1),VU=e=>zU("columns",e),bE=e=>DU("type",e),jU=eL([NU,L6("trigger"),F6("minChars",1),VU(1),F6("maxResults",10),OU("matches"),MU,rL,RU("highlightOn",[],jR)]),ZU=e=>wU("Autocompleter",jU,{trigger:e.ch,...e}),aL=[HU,PU,LU,BU,IU],V6=[UU].concat(aL),qU=[sL("predicate",Mo),U6("scope","node",["node","editor"]),U6("position","selection",["node","selection","line"])],WU=aL.concat([bE("contextformbutton"),H6,rL,I6("original",So)]),$U=V6.concat([bE("contextformbutton"),H6,rL,I6("original",So)]),GU=aL.concat([bE("contextformbutton")]),KU=V6.concat([bE("contextformtogglebutton")]),YU=M6("type",{contextformbutton:WU,contextformtogglebutton:$U});eL([bE("contextform"),sL("initValue",ht("")),FU,TU("commands",YU),oL("launch",M6("type",{contextformbutton:GU,contextformtogglebutton:KU}))].concat(qU));const QU=e=>{const t=e.ui.registry.getAll().popups,o=Fa(t,d=>ZU(d).fold(g=>{throw new Error(_U(g))},So)),s=Ni(oi(o,d=>d.trigger)),a=cl(o);return{dataset:o,triggers:s,lookupByTrigger:d=>nt(a,g=>g.trigger===d)}},JU=(e,t)=>{const o=Vc(t.load,50);e.on("keypress compositionend",s=>{s.which!==27&&o.throttle()}),e.on("keydown",s=>{const a=s.which;a===8?o.throttle():a===27&&t.cancelIfNecessary()}),e.on("remove",o.cancel)},XU=e=>{const t=jd(),o=ia(!1),s=t.isSet,a=()=>{s()&&(mS(e),XT(e),o.set(!1),t.clear())},c=E=>{s()||(Ez(e,E.range),t.set({trigger:E.trigger,matchLength:E.text.length}))},d=si(()=>QU(e)),g=E=>t.get().map(I=>x6(e.dom,e.selection.getRng(),I.trigger).bind(B=>A6(e,d,B,E))).getOrThunk(()=>WF(e,d)),v=E=>{g(E).fold(a,I=>{c(I.context),I.lookupData.then(B=>{t.get().map(U=>{const X=I.context;U.trigger===X.trigger&&(X.text.length-U.matchLength>=10?a():(t.set({...U,matchLength:X.text.length}),o.get()?JT(e,{lookupData:B}):(o.set(!0),VA(e,{lookupData:B}))))})})})};e.addCommand("mceAutocompleterReload",(E,I)=>{const B=ae(I)?I.fetchOptions:{};v(B)}),e.addCommand("mceAutocompleterClose",a),JU(e,{cancelIfNecessary:a,load:v})},eH=Cn().browser.isSafari(),j6=e=>_u(oe.fromDom(e)),Z6=(e,t)=>{var o;return e.startOffset===0&&e.endOffset===((o=t.textContent)===null||o===void 0?void 0:o.length)},qR=(e,t)=>H.from(e.getParent(t.container(),"details")),q6=(e,t)=>qR(e,t).isSome(),tH=(e,t)=>{const o=H.from(e.getParent(t.startContainer,"details")),s=H.from(e.getParent(t.endContainer,"details"));if(o.isSome()||s.isSome()){const a=o.bind(c=>H.from(e.select("summary",c)[0]));return H.some({startSummary:a,startDetails:o,endDetails:s})}else return H.none()},oH=(e,t)=>Hl(t).exists(o=>o.isEqual(e)),nH=(e,t)=>Du(t).exists(o=>fr(o.getNode())&&$c(t,o).exists(s=>s.isEqual(e))||o.isEqual(e)),sH=(e,t)=>t.startSummary.exists(o=>oH(e,o)),rH=(e,t)=>t.startSummary.exists(o=>nH(e,o)),aH=(e,t)=>t.startDetails.exists(o=>$c(o,e).forall(s=>t.startSummary.exists(a=>!a.contains(e.container())&&a.contains(s.container())))),iH=(e,t,o)=>o.startDetails.exists(s=>bc(e,t).forall(a=>!s.contains(a.container()))),W6=(e,t)=>{const o=t.getNode();lo(o)||e.selection.setCursorLocation(o,t.offset())},$6=(e,t,o)=>{const s=e.dom.getParent(t.container(),"details");if(s&&!s.open){const a=e.dom.select("summary",s)[0];a&&(o?Hl(a):Du(a)).each(d=>W6(e,d))}else W6(e,t)},lH=(e,t)=>{const o=v=>v.contains(e.startContainer),s=v=>v.contains(e.endContainer),a=t.startSummary.exists(o),c=t.startSummary.exists(s),d=t.startDetails.forall(v=>t.endDetails.forall(E=>v!==E));return(a||c)&&!(a&&c)||d},G6=(e,t,o)=>{const{dom:s,selection:a}=e,c=e.getBody();if(o==="character"){const d=qe.fromRangeStart(a.getRng()),g=s.getParent(d.container(),s.isBlock),v=qR(s,d),E=g&&s.isEmpty(g),I=tt(g==null?void 0:g.previousSibling),B=tt(g==null?void 0:g.nextSibling);return E&&(t?B:I)&&Kh(!t,c,d).exists(ne=>q6(s,ne)&&!Xg(v,qR(s,ne)))?!0:Kh(t,c,d).fold(Mo,U=>{const X=qR(s,U);if(q6(s,U)&&!Xg(v,X)){if(t||$6(e,U,!1),g&&E){if(t&&I)return!0;if(!t&&B)return!0;$6(e,U,t),e.dom.remove(g)}return!0}else return!1})}else return!1},cH=(e,t,o,s)=>{const c=e.selection.getRng(),d=qe.fromRangeStart(c),g=e.getBody();return s==="selection"?lH(c,t):o?rH(d,t)||iH(g,d,t):sH(d,t)||aH(d,t)},dH=(e,t,o)=>tH(e.dom,e.selection.getRng()).fold(()=>G6(e,t,o),s=>cH(e,s,t,o)||G6(e,t,o)),uH=(e,t,o)=>{const s=e.selection,a=s.getNode(),c=s.getRng(),d=qe.fromRangeStart(c);return cg(a)?(o==="selection"&&Z6(c,a)||vO(t,d,a)?j6(a):e.undoManager.transact(()=>{const g=s.getSel();let{anchorNode:v,anchorOffset:E,focusNode:I,focusOffset:B}=g??{};const U=()=>{_e(v)&&_e(E)&&_e(I)&&_e(B)&&(g==null||g.setBaseAndExtent(v,E,I,B))},X=()=>{v=g==null?void 0:g.anchorNode,E=g==null?void 0:g.anchorOffset,I=g==null?void 0:g.focusNode,B=g==null?void 0:g.focusOffset},ne=(se,ke)=>{ut(se.childNodes,Ce=>{cs(Ce)&&ke.appendChild(Ce)})},Q=e.dom.create("span",{"data-mce-bogus":"1"});ne(a,Q),a.appendChild(Q),U(),(o==="word"||o==="line")&&(g==null||g.modify("extend",t?"right":"left",o)),!s.isCollapsed()&&Z6(s.getRng(),Q)?j6(a):(e.execCommand(t?"ForwardDelete":"Delete"),X(),ne(Q,a),U()),e.dom.remove(Q)}),!0):!1},Q0=(e,t,o)=>dH(e,t,o)||eH&&uH(e,t,o)?H.some(dt):H.none(),K6=e=>(t,o,s={})=>{const a=t.getBody(),c={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:a,currentTarget:a,eventPhase:Event.AT_TARGET,originalTarget:a,explicitOriginalTarget:a,isTrusted:!1,srcElement:a,cancelable:!1,preventDefault:dt,inputType:o},d=ev(new InputEvent(e));return t.dispatch(e,{...d,...c,...s})},yE=K6("input"),WR=K6("beforeinput"),Y6=Cn(),Q6=Y6.os,J6=Q6.isMacOS()||Q6.isiOS(),mH=Y6.browser.isFirefox(),fH=(e,t,o)=>{const s=o.keyCode===Xt.BACKSPACE?"deleteContentBackward":"deleteContentForward",a=e.selection.isCollapsed(),c=a?"character":"selection",d=g=>a?g?"word":"line":"selection";OR([{keyCode:Xt.BACKSPACE,action:Vo(K,e)},{keyCode:Xt.BACKSPACE,action:Vo(qS,e,!1)},{keyCode:Xt.DELETE,action:Vo(qS,e,!0)},{keyCode:Xt.BACKSPACE,action:Vo(Ww,e,!1)},{keyCode:Xt.DELETE,action:Vo(Ww,e,!0)},{keyCode:Xt.BACKSPACE,action:Vo(o_,e,t,!1)},{keyCode:Xt.DELETE,action:Vo(o_,e,t,!0)},{keyCode:Xt.BACKSPACE,action:Vo(Rx,e,!1)},{keyCode:Xt.DELETE,action:Vo(Rx,e,!0)},{keyCode:Xt.BACKSPACE,action:Vo(Q0,e,!1,c)},{keyCode:Xt.DELETE,action:Vo(Q0,e,!0,c)},...J6?[{keyCode:Xt.BACKSPACE,altKey:!0,action:Vo(Q0,e,!1,d(!0))},{keyCode:Xt.DELETE,altKey:!0,action:Vo(Q0,e,!0,d(!0))},{keyCode:Xt.BACKSPACE,metaKey:!0,action:Vo(Q0,e,!1,d(!1))}]:[{keyCode:Xt.BACKSPACE,ctrlKey:!0,action:Vo(Q0,e,!1,d(!0))},{keyCode:Xt.DELETE,ctrlKey:!0,action:Vo(Q0,e,!0,d(!0))}],{keyCode:Xt.BACKSPACE,action:Vo(WS,e,!1)},{keyCode:Xt.DELETE,action:Vo(WS,e,!0)},{keyCode:Xt.BACKSPACE,action:Vo(l,e,!1)},{keyCode:Xt.DELETE,action:Vo(l,e,!0)},{keyCode:Xt.BACKSPACE,action:Vo(C1,e,!1)},{keyCode:Xt.DELETE,action:Vo(C1,e,!0)},{keyCode:Xt.BACKSPACE,action:Vo(qw,e,!1)},{keyCode:Xt.DELETE,action:Vo(qw,e,!0)},{keyCode:Xt.BACKSPACE,action:Vo(mE,e,!1)},{keyCode:Xt.DELETE,action:Vo(mE,e,!0)}],o).filter(g=>e.selection.isEditable()).each(g=>{o.preventDefault(),WR(e,s).isDefaultPrevented()||(g(),yE(e,s))})},gH=(e,t,o)=>Mb([{keyCode:Xt.BACKSPACE,action:Vo(DD,e)},{keyCode:Xt.DELETE,action:Vo(DD,e)},...J6?[{keyCode:Xt.BACKSPACE,altKey:!0,action:Vo(W0,e)},{keyCode:Xt.DELETE,altKey:!0,action:Vo(W0,e)},...o?[{keyCode:mH?224:91,action:Vo(W0,e)}]:[]]:[{keyCode:Xt.BACKSPACE,ctrlKey:!0,action:Vo(W0,e)},{keyCode:Xt.DELETE,ctrlKey:!0,action:Vo(W0,e)}]],t),pH=(e,t)=>{let o=!1;e.on("keydown",s=>{o=s.keyCode===Xt.BACKSPACE,s.isDefaultPrevented()||fH(e,t,s)}),e.on("keyup",s=>{s.isDefaultPrevented()||gH(e,s,o),o=!1})},hH=e=>{for(;e;){if(ro(e)||kt(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},u_=(e,t)=>{const o=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const c=hH(t.firstChild);c&&/^(UL|OL|DL)$/.test(c.nodeName)&&t.insertBefore(o.doc.createTextNode(hn),t.firstChild)}const a=o.createRng();if(t.normalize(),t.hasChildNodes()){const c=new Da(t,t);let d=t,g;for(;g=c.current();){if(kt(g)){a.setStart(g,0),a.setEnd(g,0);break}if(s[g.nodeName.toLowerCase()]){a.setStartBefore(g),a.setEndBefore(g);break}d=g,g=c.next()}g||(a.setStart(d,0),a.setEnd(d,0))}else fr(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)):(a.setStart(t,0),a.setEnd(t,0));e.selection.setRng(a),Bv(e,a)},vE=(e,t)=>{const o=e.getRoot();let s,a=t;for(;a!==o&&a&&e.getContentEditable(a)!=="false";){if(e.getContentEditable(a)==="true"){s=a;break}a=a.parentNode}return a!==o?s:o},iL=e=>H.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),bH=e=>iL(e).fold(ht(""),t=>t.nodeName.toUpperCase()),yH=e=>iL(e).filter(t=>Pd(oe.fromDom(t))).isSome(),lL=e=>{e.innerHTML='<br data-mce-bogus="1">'},vH=(e,t,o)=>{const s=e.dom;H.from(o.style).map(s.parseStyle).each(v=>{const I={...Ta(oe.fromDom(t)),...v};s.setStyles(t,I)});const a=H.from(o.class).map(v=>v.split(/\s+/)),c=H.from(t.className).map(v=>nt(v.split(/\s+/),E=>E!==""));na(a,c,(v,E)=>{const I=nt(E,U=>!Nn(v,U)),B=[...v,...I];s.setAttrib(t,"class",B.join(" "))});const d=["style","class"],g=Ki(o,(v,E)=>!Nn(d,E));s.setAttribs(t,g)},kE=(e,t)=>{if(Ia(e).toLowerCase()===t.tagName.toLowerCase()){const s=bv(e);vH(e,t,s)}},X6=(e,t,o,s,a=!0,c,d)=>{const g=e.dom,v=e.schema,E=Ia(e),I=o?o.nodeName.toUpperCase():"";let B=t;const U=v.getTextInlineElements();let X;c||I==="TABLE"||I==="HR"?X=g.create(c||E,d||{}):X=o.cloneNode(!1);let ne=X;if(!a)g.setAttrib(X,"style",null),g.setAttrib(X,"class",null);else do if(U[B.nodeName]){if(Gc(B)||hd(B))continue;const Q=B.cloneNode(!1);g.setAttrib(Q,"id",""),X.hasChildNodes()?(Q.appendChild(X.firstChild),X.appendChild(Q)):(ne=Q,X.appendChild(Q))}while((B=B.parentNode)&&B!==s);return kE(e,X),lL(ne),X},kH=(e,t)=>e.dom.getParent(t,lg),xH=(e,t,o)=>{let s=t;for(;s&&s!==e&&tt(s.nextSibling);){const a=s.parentElement;if(!a||!o(a))return lg(a);s=a}return!1},wH=(e,t,o)=>!t&&o.nodeName.toLowerCase()===Ia(e)&&e.dom.isEmpty(o)&&xH(e.getBody(),o,s=>Lo(e.schema.getTextBlockElements(),s.nodeName.toLowerCase())),_H=(e,t,o)=>{var s,a,c;const d=t(Ia(e)),g=kH(e,o);g&&(e.dom.insertAfter(d,g),u_(e,d),((c=(a=(s=o.parentElement)===null||s===void 0?void 0:s.childNodes)===null||a===void 0?void 0:a.length)!==null&&c!==void 0?c:0)>1&&e.dom.remove(o))},AH=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,CH=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},eP=(e,t)=>{const o=e==null?void 0:e.parentNode;return _e(o)&&o.nodeName===t},tP=e=>_e(e)&&/^(OL|UL|LI)$/.test(e.nodeName),cL=e=>_e(e)&&/^(LI|DT|DD)$/.test(e.nodeName),SH=e=>tP(e)&&tP(e.parentNode),$R=e=>{const t=e.parentNode;return cL(t)?t:e},GR=(e,t,o)=>{let s=e[o?"firstChild":"lastChild"];for(;s&&!ro(s);)s=s[o?"nextSibling":"previousSibling"];return s===t},oP=e=>rn(oi(Ta(oe.fromDom(e)),(t,o)=>`${o}: ${t};`),(t,o)=>t+o,""),EH=(e,t,o,s,a)=>{const c=e.dom,d=e.selection.getRng(),g=o.parentNode;if(o===e.getBody()||!g)return;SH(o)&&(a="LI");const v=cL(s)?oP(s):void 0;let E=cL(s)&&v?t(a,{style:oP(s)}):t(a);if(GR(o,s,!0)&&GR(o,s,!1))if(eP(o,"LI")){const I=$R(o);c.insertAfter(E,I),CH(o)?c.remove(I):c.remove(o)}else c.replace(E,o);else if(GR(o,s,!0))eP(o,"LI")?(c.insertAfter(E,$R(o)),E.appendChild(c.doc.createTextNode(" ")),E.appendChild(o)):g.insertBefore(E,o),c.remove(s);else if(GR(o,s,!1))c.insertAfter(E,$R(o)),c.remove(s);else{o=$R(o);const I=d.cloneRange();I.setStartAfter(s),I.setEndAfter(o);const B=I.extractContents();if(a==="LI"&&AH(B,"LI")){const U=nt(Zo(E.children,oe.fromDom),is(Er("br")));E=B.firstChild,c.insertAfter(B,o),ut(U,X=>rr(oe.fromDom(E),X)),v&&E.setAttribute("style",v)}else c.insertAfter(B,o),c.insertAfter(E,o);c.remove(s)}u_(e,E)},TH=e=>{ut(Rc(oe.fromDom(e),kr),t=>{const o=t.dom;o.nodeValue=F(o.data)})},OH=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},zH=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),dL=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,uL=(e,t)=>_e(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",DH=(e,t,o)=>{var s;const a=[];if(!o)return;let c=o;for(;c=c.firstChild;){if(e.isBlock(c))return;ro(c)&&!t[c.nodeName.toLowerCase()]&&a.push(c)}let d=a.length;for(;d--;)c=a[d],(!c.hasChildNodes()||c.firstChild===c.lastChild&&((s=c.firstChild)===null||s===void 0?void 0:s.nodeValue)===""||zH(e,c))&&e.remove(c)},mL=(e,t,o)=>kt(t)?e?o===1&&t.data.charAt(o-1)===x?0:o:o===t.data.length-1&&t.data.charAt(o)===x?t.data.length:o:o,RH=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,mL(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,mL(!1,e.endContainer,e.endOffset)),t},NH=e=>{let t=e;do kt(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},MH=(e,t,o,s,a)=>{var c,d;const g=e.dom,v=(c=vE(g,s))!==null&&c!==void 0?c:g.getRoot();let E=g.getParent(s,g.isBlock);if(!E||!uL(g,E)){if(E=E||v,!E.hasChildNodes()){const X=g.create(t);return kE(e,X),E.appendChild(X),o.setStart(X,0),o.setEnd(X,0),X}let I=s;for(;I&&I.parentNode!==E;)I=I.parentNode;let B;for(;I&&!g.isBlock(I);)B=I,I=I.previousSibling;const U=(d=B==null?void 0:B.parentElement)===null||d===void 0?void 0:d.nodeName;if(B&&U&&e.schema.isValidChild(U,t.toLowerCase())){const X=B.parentNode,ne=g.create(t);for(kE(e,ne),X.insertBefore(ne,B),I=B;I&&!g.isBlock(I);){const Q=I.nextSibling;ne.appendChild(I),I=Q}o.setStart(s,a),o.setEnd(s,a)}}return s},IH=(e,t)=>{t.normalize();const o=t.lastChild;(!o||ro(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(t,"br")},BH=(e,t)=>{const o=RN(e);return Vt(t)?!1:Qe(o)?Nn(Mt.explode(o),t.nodeName.toLowerCase()):o},nP={insert:(e,t)=>{let o,s,a,c,d=!1;const g=e.dom,v=e.schema,E=v.getNonEmptyElements(),I=e.selection.getRng(),B=Ia(e),U=oe.fromDom(I.startContainer),X=Ec(U,I.startOffset),ne=X.exists(pt=>uu(pt)&&!pa(pt)),Q=I.collapsed&&ne,se=(pt,io)=>X6(e,o,Bt,bt,DN(e),pt,io),ke=pt=>{const io=mL(pt,o,s);if(kt(o)&&(pt?io>0:io<o.data.length))return!1;if(o.parentNode===Bt&&d&&!pt||pt&&ro(o)&&o===Bt.firstChild)return!0;if(dL(o,"TABLE")||dL(o,"HR"))return d&&!pt||!d&&pt;const Co=new Da(o,Bt);kt(o)&&(pt&&io===0?Co.prev():!pt&&io===o.data.length&&Co.next());let vn;for(;vn=Co.current();){if(ro(vn)){if(!vn.getAttribute("data-mce-bogus")){const En=vn.nodeName.toLowerCase();if(E[En]&&En!=="br")return!1}}else if(kt(vn)&&!Ud(vn.data))return!1;pt?Co.prev():Co.next()}return!0},Ce=()=>{let pt;return/^(H[1-6]|PRE|FIGURE)$/.test(a)&&Kt!=="HGROUP"?pt=se(B):pt=se(),BH(e,c)&&uL(g,c)&&g.isEmpty(Bt,void 0,{includeZwsp:!0})?pt=g.split(c,Bt):g.insertAfter(pt,Bt),u_(e,pt),pt};nb(g,I).each(pt=>{I.setStart(pt.startContainer,pt.startOffset),I.setEnd(pt.endContainer,pt.endOffset)}),o=I.startContainer,s=I.startOffset;const we=!!(t&&t.shiftKey),Ne=!!(t&&t.ctrlKey);ro(o)&&o.hasChildNodes()&&!Q&&(d=s>o.childNodes.length-1,o=o.childNodes[Math.min(s,o.childNodes.length-1)]||o,d&&kt(o)?s=o.data.length:s=0);const bt=vE(g,o);if(!bt||OH(e,o))return;we||(o=MH(e,B,I,o,s));let Bt=g.getParent(o,g.isBlock)||g.getRoot();c=_e(Bt==null?void 0:Bt.parentNode)?g.getParent(Bt.parentNode,g.isBlock):null,a=Bt?Bt.nodeName.toUpperCase():"";const Kt=c?c.nodeName.toUpperCase():"";if(Kt==="LI"&&!Ne){const pt=c;Bt=pt,c=pt.parentNode,a=Kt}if(ro(c)&&wH(e,we,Bt))return _H(e,se,Bt);if(/^(LI|DT|DD)$/.test(a)&&ro(c)&&g.isEmpty(Bt)){EH(e,se,c,Bt,B);return}if(!Q&&(Bt===e.getBody()||!uL(g,Bt)))return;const Ye=Bt.parentNode;let He;if(Q)He=se(B),X.fold(()=>{Fs(U,oe.fromDom(He))},pt=>{zr(pt,oe.fromDom(He))}),e.selection.setCursorLocation(He,0);else if(Et(Bt))He=Qm(Bt),g.isEmpty(Bt)&&lL(Bt),kE(e,He),u_(e,He);else if(ke(!1))He=Ce();else if(ke(!0)&&Ye){He=Ye.insertBefore(se(),Bt);const pt=Hm(oe.fromDom(I.startContainer))&&I.collapsed;u_(e,dL(Bt,"HR")||pt?He:Bt)}else{const pt=RH(I).cloneRange();pt.setEndAfter(Bt);const io=pt.extractContents();TH(io),NH(io),He=io.firstChild,g.insertAfter(io,Bt),DH(g,E,He),IH(g,Bt),g.isEmpty(Bt)&&lL(Bt),He.normalize(),g.isEmpty(He)?(g.remove(He),Ce()):(kE(e,He),u_(e,He))}g.setAttrib(He,"id",""),e.dispatch("NewBlock",{newBlock:He})},fakeEventName:"insertParagraph"},LH=(e,t,o)=>{const s=new Da(t,o);let a;const c=e.getNonEmptyElements();for(;a=s.next();)if(c[a.nodeName.toLowerCase()]||kt(a)&&a.length>0)return!0;return!1},sP=(e,t,o)=>{const s=e.dom.createRng();o?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)),e.selection.setRng(s),Bv(e,s)},PH=(e,t)=>{const o=e.selection,s=e.dom,a=o.getRng();let c,d=!1;nb(s,a).each(X=>{a.setStart(X.startContainer,X.startOffset),a.setEnd(X.endContainer,X.endOffset)});let g=a.startOffset,v=a.startContainer;if(ro(v)&&v.hasChildNodes()){const X=g>v.childNodes.length-1;v=v.childNodes[Math.min(g,v.childNodes.length-1)]||v,X&&kt(v)?g=v.data.length:g=0}let E=s.getParent(v,s.isBlock);const I=E&&E.parentNode?s.getParent(E.parentNode,s.isBlock):null,B=I?I.nodeName.toUpperCase():"",U=!!(t&&t.ctrlKey);B==="LI"&&!U&&(E=I),kt(v)&&g>=v.data.length&&(LH(e.schema,v,E||s.getRoot())||(c=s.create("br"),a.insertNode(c),a.setStartAfter(c),a.setEndAfter(c),d=!0)),c=s.create("br"),wp(s,a,c),sP(e,c,d),e.undoManager.add()},FH=(e,t)=>{const o=oe.fromTag("br");zr(oe.fromDom(t),o),e.undoManager.add()},UH=(e,t)=>{VH(e.getBody(),t)||Js(oe.fromDom(t),oe.fromTag("br"));const o=oe.fromTag("br");Js(oe.fromDom(t),o),sP(e,o.dom,!1),e.undoManager.add()},HH=e=>fr(e.getNode()),VH=(e,t)=>HH(qe.after(t))?!0:bc(e,qe.after(t)).map(o=>fr(o.getNode())).getOr(!1),rP=e=>e&&e.nodeName==="A"&&"href"in e,jH=e=>e.fold(Mo,rP,rP,Mo),ZH=e=>{const t=$t(hb,e),o=qe.fromRangeStart(e.selection.getRng());return Wf(t,e.getBody(),o).filter(jH)},qH=(e,t)=>{t.fold(dt,$t(FH,e),$t(UH,e),dt)},aP={insert:(e,t)=>{const o=ZH(e);o.isSome()?o.each($t(qH,e)):PH(e,t)},fakeEventName:"insertLineBreak"},iP=(e,t)=>iL(e).filter(o=>t.length>0&&ja(oe.fromDom(o),t)).isSome(),WH=e=>iP(e,B_(e)),$H=e=>iP(e,IE(e)),Zu=Ee.generate([{br:[]},{block:[]},{none:[]}]),GH=(e,t)=>$H(e),lP=e=>(t,o)=>yH(t)===e,cP=(e,t)=>(o,s)=>bH(o)===e.toUpperCase()===t,KH=e=>{const t=vE(e.dom,e.selection.getStart());return Vt(t)},xE=e=>cP("pre",e),YH=()=>cP("summary",!0),KR=e=>(t,o)=>Zh(t)===e,QH=(e,t)=>WH(e),YR=(e,t)=>t,JH=e=>{const t=Ia(e),o=vE(e.dom,e.selection.getStart());return _e(o)&&e.schema.isValidChild(o.nodeName,t)},XH=e=>{const t=e.selection.getRng(),o=oe.fromDom(t.startContainer),a=Ec(o,t.startOffset).map(c=>uu(c)&&!pa(c));return t.collapsed&&a.getOr(!0)},Nm=(e,t)=>(o,s)=>rn(e,(c,d)=>c&&d(o,s),!0)?H.some(t):H.none(),eV=(e,t)=>LD([Nm([GH],Zu.none()),Nm([xE(!0),KH],Zu.none()),Nm([YH()],Zu.br()),Nm([xE(!0),KR(!1),YR],Zu.br()),Nm([xE(!0),KR(!1)],Zu.block()),Nm([xE(!0),KR(!0),YR],Zu.block()),Nm([xE(!0),KR(!0)],Zu.br()),Nm([lP(!0),YR],Zu.br()),Nm([lP(!0)],Zu.block()),Nm([QH],Zu.br()),Nm([YR],Zu.br()),Nm([JH],Zu.block()),Nm([XH],Zu.block())],[e,!!(t&&t.shiftKey)]).getOr(Zu.none()),QR=(e,t,o)=>{t.selection.isCollapsed()||Ff(t),!(_e(o)&&WR(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,o),_e(o)&&yE(t,e.fakeEventName))},dP=(e,t)=>{const o=()=>QR(aP,e,t),s=()=>QR(nP,e,t),a=eV(e,t);switch(ME(e)){case"linebreak":a.fold(o,o,dt);break;case"block":a.fold(s,s,dt);break;case"invert":a.fold(s,o,dt);break;default:a.fold(o,s,dt);break}},uP=Cn(),tV=uP.os.isiOS()&&uP.browser.isSafari(),mP=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),UB(e.undoManager),e.undoManager.transact(()=>{dP(e,t)}))},oV=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(kt(t)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,s=t.data.charAt(e.startOffset-1);return o.test(s)}else return!1},nV=e=>{let t=H.none();const o=a=>{t=H.some(a.selection.getBookmark()),a.undoManager.add()},s=(a,c)=>{a.undoManager.undo(),t.fold(dt,d=>a.selection.moveToBookmark(d)),mP(a,c),t=H.none()};e.on("keydown",a=>{a.keyCode===Xt.ENTER&&(tV&&oV(e.selection.getRng())?o(e):mP(e,a))}),e.on("keyup",a=>{a.keyCode===Xt.ENTER&&t.each(()=>s(e,a))})},sV=(e,t,o)=>{const s=Mn.os.isMacOS()||Mn.os.isiOS();Mb([{keyCode:Xt.END,action:Vo(Xp,e,!0)},{keyCode:Xt.HOME,action:Vo(Xp,e,!1)},...s?[]:[{keyCode:Xt.HOME,action:Vo(Gf,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Xt.END,action:Vo(Gf,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Xt.END,action:Vo(xl,e,!0)},{keyCode:Xt.HOME,action:Vo(xl,e,!1)},{keyCode:Xt.END,action:Vo(Z0,e,!0,t)},{keyCode:Xt.HOME,action:Vo(Z0,e,!1,t)}],o).each(a=>{o.preventDefault()})},rV=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||sV(e,t,o)})},aV=e=>{e.on("input",t=>{t.isComposing||dI(e)})},iV=Cn(),lV=(e,t,o)=>{Mb([{keyCode:Xt.PAGE_UP,action:Vo(Z0,e,!1,t)},{keyCode:Xt.PAGE_DOWN,action:Vo(Z0,e,!0,t)}],o)},fP=e=>e.stopImmediatePropagation(),gP=e=>e.keyCode===Xt.PAGE_UP||e.keyCode===Xt.PAGE_DOWN,pP=(e,t,o)=>{o&&!e.get()?t.on("NodeChange",fP,!0):!o&&e.get()&&t.off("NodeChange",fP),e.set(o)},cV=(e,t)=>{if(iV.os.isMacOS())return;const o=ia(!1);e.on("keydown",s=>{gP(s)&&pP(o,e,!0)}),e.on("keyup",s=>{s.isDefaultPrevented()||lV(e,t,s),gP(s)&&o.get()&&(pP(o,e,!1),e.nodeChanged())})},dV=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||ts(t.getTargetRanges(),o=>!O4(e.dom,o)))&&t.preventDefault()})},hP=(e,t)=>{const o=t.container(),s=t.offset();return kt(o)?(o.insertData(s,e),H.some(qe(o,s+e.length))):Lk(t).map(a=>{const c=oe.fromText(e);return t.isAtEnd()?Js(a,c):zr(a,c),qe(c.dom,e.length)})},bP=$t(hP,hn),yP=$t(hP," "),uV=(e,t,o)=>wx(e,t,o)?bP(t):yP(t),mV=e=>t=>t.fold(o=>$c(e.dom,qe.before(o)),o=>Hl(o),o=>Du(o),o=>bc(e.dom,qe.after(o))),fV=(e,t,o)=>s=>wx(e,s,o)?bP(t):yP(t),vP=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},gV=(e,t)=>e.isEditable(e.getParent(t,"summary")),pV=e=>{const t=qe.fromRangeStart(e.selection.getRng()),o=oe.fromDom(e.getBody());if(e.selection.isCollapsed()){const s=$t(hb,e),a=qe.fromRangeStart(e.selection.getRng());return Wf(s,e.getBody(),a).bind(mV(o)).map(c=>()=>fV(o,t,e.schema)(c).each(vP(e)))}else return H.none()},hV=e=>{const t=()=>{const o=oe.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const s=qe.fromRangeStart(e.selection.getRng());uV(o,s,e.schema).each(vP(e))};return lu(Mn.browser.isFirefox()&&e.selection.isEditable()&&gV(e.dom,e.selection.getRng().startContainer),t)},bV=(e,t)=>{OR([{keyCode:Xt.SPACEBAR,action:Vo(pV,e)},{keyCode:Xt.SPACEBAR,action:Vo(hV,e)}],t).each(o=>{t.preventDefault(),WR(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),yE(e,"insertText",{data:" "}))})},yV=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||bV(e,t)})},vV=e=>JN(e)?[{keyCode:Xt.TAB,action:Vo(b6,e,!0)},{keyCode:Xt.TAB,shiftKey:!0,action:Vo(b6,e,!1)}]:[],kV=(e,t)=>{Mb([...vV(e)],t).each(o=>{t.preventDefault()})},xV=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||kV(e,t)})},wV=e=>{if(e.addShortcut("Meta+P","","mcePrint"),XU(e),qf(e))return ia(null);{const t=F8(e);return dV(e),kl(e),IF(e,t),pH(e,t),nV(e),yV(e),aV(e),xV(e),rV(e,t),cV(e,t),t}};class _V{constructor(t){this.lastPath=[],this.editor=t;let o;const s=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",a=>{const c=t.selection.getRng(),d={startContainer:c.startContainer,startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};(a.type==="nodechange"||!qy(d,o))&&t.dispatch("SelectionChange"),o=d}),t.on("contextmenu",()=>{t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const a=t.selection.getStart(!0);a&&zp(t)&&!s.isSameElementPath(a)&&t.dom.isChildOf(a,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",a=>{!a.isDefaultPrevented()&&zp(t)&&(t.selection.getNode().nodeName==="IMG"?yd.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const o=this.editor.selection;let s;if(this.editor.initialized&&o&&!jN(this.editor)&&!this.editor.mode.isReadOnly()){const a=this.editor.getBody();s=o.getStart(!0)||a,(s.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(s,a))&&(s=a);const c=[];this.editor.dom.getParent(s,d=>d===a?!0:(c.push(d),!1)),this.editor.dispatch("NodeChange",{...t,element:s,parents:c})}}isSameElementPath(t){let o;const s=this.editor,a=ea(s.dom.getParents(t,pn,s.getBody()));if(a.length===this.lastPath.length){for(o=a.length;o>=0&&a[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=a,!0}return this.lastPath=a,!1}}const kP=hm("image"),AV=e=>{const t=e;return H.from(t[kP])},CV=(e,t)=>{const o=e;o[kP]=t},fL=hm("event"),SV=e=>{const t=e;return H.from(t[fL])},JR=e=>t=>{const o=t;o[fL]=e},EV=(e,t)=>JR(t)(e),xP=JR(0),TV=JR(2),OV=JR(1),zV=(e=>t=>{const o=t;return H.from(o[fL]).exists(s=>s===e)})(0),DV=()=>Object.freeze({length:0,item:e=>null}),gL=hm("mode"),RV=e=>{const t=e;return H.from(t[gL])},XR=e=>t=>{const o=t;o[gL]=e},wP=(e,t)=>XR(t)(e),_P=XR(0),pL=XR(2),NV=XR(1),AP=e=>t=>{const o=t;return H.from(o[gL]).exists(s=>s===e)},m_=AP(0),CP=AP(1),MV=(e,t)=>({...t,get length(){return t.length},add:(o,s)=>{if(m_(e))if(Qe(o)){if(!lo(s))return t.add(o,s)}else return t.add(o);return null},remove:o=>{m_(e)&&t.remove(o)},clear:()=>{m_(e)&&t.clear()}}),IV=["none","copy","link","move"],BV=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],hL=()=>{const e=new window.DataTransfer;let t="move",o="all";const s={get dropEffect(){return t},set dropEffect(a){Nn(IV,a)&&(t=a)},get effectAllowed(){return o},set effectAllowed(a){zV(s)&&Nn(BV,a)&&(o=a)},get items(){return MV(s,e.items)},get files(){return CP(s)?DV():e.files},get types(){return e.types},setDragImage:(a,c,d)=>{m_(s)&&(CV(s,{image:a,x:c,y:d}),e.setDragImage(a,c,d))},getData:a=>CP(s)?"":e.getData(a),setData:(a,c)=>{m_(s)&&e.setData(a,c)},clearData:a=>{m_(s)&&e.clearData(a)}};return _P(s),s},LV=e=>{const t=hL(),o=RV(e);return pL(e),xP(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,AV(e).each(s=>t.setDragImage(s.image,s.x,s.y)),ut(e.types,s=>{s!=="Files"&&t.setData(s,e.getData(s))}),ut(e.files,s=>t.items.add(s)),SV(e).each(s=>{EV(t,s)}),o.each(s=>{wP(e,s),wP(t,s)}),t},PV=e=>{const t=e.getData("text/html");return t===""?H.none():H.some(t)},SP=(e,t)=>e.setData("text/html",t),EP="x-tinymce/html",eN=ht(EP),bL="<!-- "+EP+" -->",FV=e=>bL+e,UV=e=>e.replace(bL,""),TP=e=>e.indexOf(bL)!==-1,HV=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),VV=(e,t)=>{let o="<"+e;const s=oi(t,(a,c)=>c+'="'+gr.encodeAllRaw(a)+'"');return s.length&&(o+=" "+s.join(" ")),o+">"},jV=(e,t,o)=>{const s=e.split(/\n\n/),a=VV(t,o),c="</"+t+">",d=Zo(s,v=>v.split(/\n/).join("<br />")),g=v=>a+v+c;return d.length===1?d[0]:Zo(d,g).join("")},OP="%MCEPASTEBIN%",ZV=(e,t)=>{const{dom:o,selection:s}=e,a=e.getBody();t.set(s.getRng());const c=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},OP);Mn.browser.isFirefox()&&o.setStyle(c,"left",o.getStyle(a,"direction",!0)==="rtl"?65535:-65535),o.bind(c,"beforedeactivate focusin focusout",d=>{d.stopPropagation()}),c.focus(),s.select(c,!0)},qV=(e,t)=>{const o=e.dom;if(yL(e)){let s;const a=t.get();for(;s=yL(e);)o.remove(s),o.unbind(s);a&&e.selection.setRng(a)}t.set(null)},yL=e=>e.dom.get("mcepastebin"),WV=e=>_e(e)&&e.id==="mcepastebin",$V=e=>{const t=e.dom,o=(d,g)=>{d.appendChild(g),t.remove(g,!0)},[s,...a]=nt(e.getBody().childNodes,WV);ut(a,d=>{o(s,d)});const c=t.select("div[id=mcepastebin]",s);for(let d=c.length-1;d>=0;d--){const g=t.create("div");s.insertBefore(g,c[d]),o(g,c[d])}return s?s.innerHTML:""},zP=e=>e===OP,GV=e=>{const t=ia(null);return{create:()=>ZV(e,t),remove:()=>qV(e,t),getEl:()=>yL(e),getHtml:()=>$V(e),getLastRng:t.get}},DP=(e,t)=>(Mt.each(t,o=>{At(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),KV=e=>{const t=Su(),o=Eb({},t);let s="";const a=t.getVoidElements(),c=Mt.makeMap("script noscript style textarea video audio iframe object"," "),d=t.getBlockElements(),g=v=>{const E=v.name,I=v;if(E==="br"){s+=`
`;return}if(E!=="wbr"){if(a[E]&&(s+=" "),c[E]){s+=" ";return}if(v.type===3&&(s+=v.value),!(v.name in t.getVoidElements())){let B=v.firstChild;if(B)do g(B);while(B=B.next)}d[E]&&I.next&&(s+=`
`,E==="p"&&(s+=`
`))}};return e=DP(e,[/<!\[[^\]]+\]>/g]),g(o.parse(e)),s},RP=e=>(e=DP(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,s,a)=>!s&&!a?" ":hn],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),YV=e=>{let t=0;return()=>e+t++},QV=e=>{const t=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Mt.hasOwn(o,t)?"image/"+o[t]:"image/"+t},JV=(e,t)=>{const o=Eb({sanitize:Rk(e),sandbox_iframes:K_(e)},e.schema);o.addNodeFilter("meta",a=>{Mt.each(a,c=>{c.remove()})});const s=o.parse(t,{forced_root_block:!1,isRootContent:!0});return Cg({validate:!0},e.schema).serialize(s)},NP=(e,t)=>({content:e,cancelled:t}),XV=(e,t,o)=>{const s=e.dom.create("div",{style:"display:none"},t),a=t4(e,s,o);return NP(a.node.innerHTML,a.isDefaultPrevented())},e9=(e,t,o)=>{const s=e4(e,t,o),a=JV(e,s.content);return e.hasEventListeners("PastePostProcess")&&!s.isDefaultPrevented()?XV(e,a,o):NP(a,s.isDefaultPrevented())},t9=(e,t,o)=>e9(e,t,o),vL=(e,t)=>(e.insertContent(t,{merge:Z_(e),paste:!0}),!0),kL=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),o9=(e,t)=>kL(t)&&ts(G_(e),o=>Yi(t.toLowerCase(),`.${o.toLowerCase()}`)),n9=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),s9=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),r9=(e,t,o)=>!e.selection.isCollapsed()&&kL(t)?s9(e,t,o):!1,a9=(e,t,o)=>o9(e,t)?n9(e,t,o):!1,i9=(e,t)=>{Mt.each([r9,a9,vL],o=>!o(e,t,vL))},l9=(e,t,o)=>{o||!q_(e)?vL(e,t):i9(e,t)},c9=YV("mceclip"),d9=e=>{const t=hL();return SP(t,e),pL(t),t},MP=(e,t,o,s,a)=>{const c=t9(e,t,o);if(!c.cancelled){const d=c.content,g=()=>l9(e,d,s);a?WR(e,"insertFromPaste",{dataTransfer:d9(d)}).isDefaultPrevented()||(g(),yE(e,"insertFromPaste")):g()}},tN=(e,t,o,s)=>{const a=o||TP(t);MP(e,UV(t),a,!1,s)},xL=(e,t,o)=>{const s=e.dom.encode(t).replace(/\r\n/g,`
`),a=nf(s,KE(e)),c=jV(a,Ia(e),bv(e));MP(e,c,!1,!0,o)},IP=e=>{const t={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const s=e.types[o];try{t[s]=e.getData(s)}catch{t[s]=""}}return t},R1=(e,t)=>t in e&&e[t].length>0,BP=e=>R1(e,"text/html")||R1(e,"text/plain"),u9=(e,t)=>{const o=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return _e(o)?e.dom.encode(o[1]):void 0},m9=(e,t,o,s)=>{const a=c9(),c=bl(e)&&_e(o.name),d=c?u9(e,o.name):a,g=c?o.name:void 0,v=t.create(a,o,s,d,g);return t.add(v),v},f9=(e,t)=>{OC(t.uri).each(({data:o,type:s,base64Encoded:a})=>{const c=a?o:btoa(o),d=t.file,g=e.editorUpload.blobCache,v=g.getByData(c,s),E=v??m9(e,g,d,c);tN(e,`<img src="${E.blobUri()}">`,!1,!0)})},g9=e=>e.type==="paste",p9=e=>Promise.all(Zo(e,t=>D3(t).then(o=>({file:t,uri:o})))),h9=e=>{const t=G_(e);return o=>ds(o.type,"image/")&&ts(t,s=>QV(s)===o.type)},b9=(e,t)=>{const o=t.items?ln(uo(t.items),a=>a.kind==="file"?[a.getAsFile()]:[]):[],s=t.files?uo(t.files):[];return nt(o.length>0?o:s,h9(e))},LP=(e,t,o)=>{const s=g9(t)?t.clipboardData:t.dataTransfer;if(zk(e)&&s){const a=b9(e,s);if(a.length>0)return t.preventDefault(),p9(a).then(c=>{o&&e.selection.setRng(o),ut(c,d=>{f9(e,d)})}),!0}return!1},y9=e=>{var t,o;return Mn.os.isAndroid()&&((o=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||o===void 0?void 0:o.length)===0},v9=e=>Xt.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,wL=(e,t,o,s,a)=>{let c=RP(o);const d=R1(t,eN())||TP(o),g=!d&&HV(c),v=kL(c);(zP(c)||!c.length||g&&!v)&&(s=!0),(s||v)&&(R1(t,"text/plain")&&g?c=t["text/plain"]:c=KV(c)),!zP(c)&&(s?xL(e,c,a):tN(e,c,d,a))},k9=(e,t,o)=>{let s;const a=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",c=>{v9(c)&&!c.isDefaultPrevented()&&(s=c.shiftKey&&c.keyCode===86)}),e.on("paste",c=>{if(c.isDefaultPrevented()||y9(c))return;const d=o.get()==="text"||s;s=!1;const g=IP(c.clipboardData);!BP(g)&&LP(e,c,a())||(R1(g,"text/html")?(c.preventDefault(),wL(e,g,g["text/html"],d,!0)):R1(g,"text/plain")&&R1(g,"text/uri-list")?(c.preventDefault(),wL(e,g,g["text/plain"],d,!0)):(t.create(),yd.setEditorTimeout(e,()=>{const v=t.getHtml();t.remove(),wL(e,g,v,d,!1)},0)))})},x9=e=>{const t=a=>ds(a,"webkit-fake-url"),o=a=>ds(a,"data:"),s=a=>{var c;return((c=a.data)===null||c===void 0?void 0:c.paste)===!0};e.parser.addNodeFilter("img",(a,c,d)=>{if(!zk(e)&&s(d))for(const g of a){const v=g.attr("src");Qe(v)&&!g.attr("data-mce-object")&&v!==Mn.transparentSrc&&(t(v)||!YE(e)&&o(v))&&g.remove()}})},w9=(e,t,o)=>{k9(e,t,o),x9(e)},_9=(e,t)=>{t.get()==="text"?(t.set("html"),jA(e,!1)):(t.set("text"),jA(e,!0)),e.focus()},A9=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{_9(e,t)}),e.addCommand("mceInsertClipboardContent",(o,s)=>{s.html&&tN(e,s.html,s.internal,!1),s.text&&xL(e,s.text,!1)})},C9=(e,t,o)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",o),e.setData(eN(),t),!0}catch{return!1}else return!1},PP=(e,t,o,s)=>{C9(e.clipboardData,t.html,t.text)?(e.preventDefault(),s()):o(t.html,s)},FP=e=>(t,o)=>{const{dom:s,selection:a}=e,c=s.create("div",{contenteditable:"false","data-mce-bogus":"all"}),d=s.create("div",{contenteditable:"true"},t);s.setStyles(c,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),c.appendChild(d),s.add(e.getBody(),c);const g=a.getRng();d.focus();const v=s.createRng();v.selectNodeContents(d),a.setRng(v),yd.setEditorTimeout(e,()=>{a.setRng(g),s.remove(c),o()},0)},UP=e=>({html:FV(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),S9=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),HP=e=>!e.selection.isCollapsed()||S9(e),E9=e=>t=>{!t.isDefaultPrevented()&&HP(e)&&e.selection.isEditable()&&PP(t,UP(e),FP(e),()=>{if(Mn.browser.isChromium()||Mn.browser.isFirefox()){const o=e.selection.getRng();yd.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},T9=e=>t=>{!t.isDefaultPrevented()&&HP(e)&&PP(t,UP(e),FP(e),dt)},O9=e=>{e.on("cut",E9(e)),e.on("copy",T9(e))},VP=(e,t)=>{var o,s;return Ag.getCaretRangeFromPoint((o=t.clientX)!==null&&o!==void 0?o:0,(s=t.clientY)!==null&&s!==void 0?s:0,e.getDoc())},z9=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},jP=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},D9=e=>ts(e.files,t=>/^image\//.test(t.type)),R9=(e,t,o,s)=>{const a=e.getParent(o,d=>sf(t,d));if(!tt(e.getParent(o,"summary")))return!0;if(a&&Lo(s,"text/html")){const d=new DOMParser().parseFromString(s["text/html"],"text/html").body;return!tt(d.querySelector(a.nodeName.toLowerCase()))}else return!1},N9=e=>{e.on("input",t=>{const o=s=>tt(s.querySelector("summary"));if(t.inputType==="deleteByDrag"){const s=nt(e.dom.select("details"),o);ut(s,a=>{fr(a.firstChild)&&a.firstChild.remove();const c=e.dom.create("summary");c.appendChild(Ym().dom),a.prepend(c)})}})},M9=(e,t)=>{zy(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),zk(e)||e.on("drop",o=>{const s=o.dataTransfer;s&&D9(s)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const s=VP(e,o);if(Vt(s))return;const a=IP(o.dataTransfer),c=R1(a,eN());if((!BP(a)||z9(a))&&LP(e,o,s))return;const d=a[eN()],g=d||a["text/html"]||a["text/plain"],v=R9(e.dom,e.schema,s.startContainer,a),E=t.get();E&&!v||g&&(o.preventDefault(),yd.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(d||E&&v)&&e.execCommand("Delete"),jP(e,s);const I=RP(g);a["text/html"]?tN(e,I,c,!0):xL(e,I,!0)})}))}),e.on("dragstart",o=>{t.set(!0)}),e.on("dragover dragend",o=>{zk(e)&&!t.get()&&(o.preventDefault(),jP(e,VP(e,o))),o.type==="dragend"&&t.set(!1)}),N9(e)},I9=e=>{const t=a=>c=>{a(e,c)},o=WE(e);Je(o)&&e.on("PastePreProcess",t(o));const s=GN(e);Je(s)&&e.on("PastePostProcess",t(s))},B9=(e,t)=>{e.on("PastePreProcess",o=>{o.content=t(e,o.content,o.internal)})},L9=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,ZP=e=>Mt.trim(e).replace(L9,dm).toLowerCase(),P9=(e,t,o)=>{const s=KN(e);if(o||s==="all"||!GE(e))return t;const a=s?s.split(/[, ]/):[];if(a&&s!=="none"){const c=e.dom,d=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(g,v,E,I)=>{const B=c.parseStyle(c.decode(E)),U={};for(let ne=0;ne<a.length;ne++){const Q=B[a[ne]];let se=Q,ke=c.getStyle(d,a[ne],!0);/color/.test(a[ne])&&(se=ZP(se),ke=ZP(ke)),ke!==se&&(U[a[ne]]=Q)}const X=c.serializeStyle(U,"span");return X?v+' style="'+X+'"'+I:v+I})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(c,d,g,v)=>d+' style="'+g+'"'+v),t},F9=e=>{(Mn.browser.isChromium()||Mn.browser.isSafari())&&B9(e,P9)},U9=e=>{const t=ia(!1),o=ia(W_(e)?"text":"html"),s=GV(e);F9(e),A9(e,o),I9(e),e.on("PreInit",()=>{O9(e),M9(e,t),w9(e,s,o)})},H9=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},V9=e=>{e.parser.addNodeFilter("details",t=>{const o=XN(e);ut(t,s=>{o==="expanded"?s.attr("open","open"):o==="collapsed"&&s.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const o=eM(e);ut(t,s=>{o==="expanded"?s.attr("open","open"):o==="collapsed"&&s.attr("open",null)})})},j9=e=>{H9(e),V9(e)},Z9=fr,qP=kt,q9=e=>Ts(e.dom),W9=e=>ml(e.dom),WP=e=>t=>On(oe.fromDom(e),t),$9=(e,t,o)=>Xe(oe.fromDom(e),s=>W9(s)||o.isBlock(fn(s)),WP(t)).getOr(oe.fromDom(t)).dom,$P=(e,t)=>Xe(oe.fromDom(e),q9,WP(t)),GP=(e,t,o)=>{const s=new Da(e,t),a=o?s.next.bind(s):s.prev.bind(s);let c=e;for(let d=o?e:a();d&&!Z9(d);d=a())ss(d)&&(c=d);return c},G9=(e,t,o)=>{const a=qe.fromRangeStart(e).getNode(),c=$9(a,t,o),d=GP(a,c,!1),g=GP(a,c,!0),v=document.createRange();return $P(d,c).fold(()=>{qP(d)?v.setStart(d,0):v.setStartBefore(d)},E=>v.setStartBefore(E.dom)),$P(g,c).fold(()=>{qP(g)?v.setEnd(g,g.data.length):v.setEndAfter(g)},E=>v.setEndAfter(E.dom)),v},K9=e=>{const t=G9(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(nC(t))},Y9=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),K9(e))})};var f_;(function(e){e.Before="before",e.After="after"})(f_||(f_={}));const Q9=(e,t)=>Math.abs(e.left-t),J9=(e,t)=>Math.abs(e.right-t),X9=(e,t)=>e>=t.top&&e<=t.bottom,ej=(e,t)=>e.top<t.bottom&&e.bottom>t.top,tj=(e,t)=>{const o=qi(e,t)/Math.min(e.height,t.height);return ej(e,t)&&o>.5},oj=(e,t)=>{const o=nt(e,s=>X9(t,s));return cv(o).fold(()=>[[],e],s=>{const{pass:a,fail:c}=St(e,d=>tj(d,s));return[a,c]})},nj=(e,t)=>({node:e.node,position:Q9(e,t)<J9(e,t)?f_.Before:f_.After}),sj=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),_L=(e,t,o,s)=>{const a=B=>ss(B.node)?H.some(B):ro(B.node)?_L(uo(B.node.childNodes),t,o,!1):H.none(),c=(B,U,X)=>a(U).filter(ne=>Math.abs(X(B,t,o)-X(ne,t,o))<2&&kt(ne.node)),d=(B,U)=>{const X=wn(B,(ne,Q)=>U(ne,t,o)-U(Q,t,o));return Cr(X,a).map(ne=>s&&!kt(ne.node)&&X.length>1?c(ne,X[1],U).getOr(ne):ne)},[g,v]=oj(QD(e),o),{pass:E,fail:I}=St(v,B=>B.top<o);return d(g,sj).orThunk(()=>d(I,dv)).orThunk(()=>d(E,dv))},rj=(e,t,o,s)=>{const a=(c,d)=>{const g=E=>ro(E)&&E.classList.contains("mce-drag-container"),v=nt(c.dom.childNodes,is(g));return d.fold(()=>_L(v,o,s,!0),E=>{const I=nt(v,B=>B!==E.dom);return _L(I,o,s,!0)}).orThunk(()=>(On(c,e)?H.none():mc(c)).bind(I=>a(I,H.some(c))))};return a(t,H.none())},aj=(e,t,o)=>{const s=oe.fromDom(e),a=Pi(s),d=oe.fromPoint(a,t,o).filter(g=>Li(s,g)).getOr(s);return rj(s,d,t,o)},KP=(e,t,o)=>aj(e,t,o).filter(s=>_v(s.node)).map(s=>nj(s,t)),YP=e=>{var t,o;const s=e.getBoundingClientRect(),a=e.ownerDocument,c=a.documentElement,d=a.defaultView;return{top:s.top+((t=d==null?void 0:d.scrollY)!==null&&t!==void 0?t:0)-c.clientTop,left:s.left+((o=d==null?void 0:d.scrollX)!==null&&o!==void 0?o:0)-c.clientLeft}},ij=e=>e.inline?YP(e.getBody()):{left:0,top:0},lj=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},cj=e=>{const t=e.getBody(),o=e.getDoc().documentElement,s={left:t.scrollLeft,top:t.scrollTop},a={left:t.scrollLeft||o.scrollLeft,top:t.scrollTop||o.scrollTop};return e.inline?s:a},dj=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const o=YP(e.getContentAreaContainer()),s=cj(e);return{left:t.pageX-o.left+s.left,top:t.pageY-o.top+s.top}}return{left:t.pageX,top:t.pageY}},uj=(e,t,o)=>({pageX:o.left-e.left+t.left,pageY:o.top-e.top+t.top}),mj=(e,t)=>uj(ij(e),lj(e),dj(e,t)),QP=e=>({target:e,srcElement:e}),fj=(e,t,o,s)=>({...t,dataTransfer:s,type:e,...QP(o)}),gj=(e,t,o)=>{const s=Ct("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:s,initEvent:s,preventDefault:dt,stopImmediatePropagation:dt,stopPropagation:dt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:s,initMouseEvent:s,getModifierState:s,dataTransfer:o,...QP(t)}},pj=(e,t)=>{const o=LV(e);return t==="dragstart"?(xP(o),_P(o)):t==="drop"?(TV(o),pL(o)):(OV(o),NV(o)),o},hj=(e,t,o,s)=>{const a=pj(o,e);return lo(s)?gj(e,t,a):fj(e,s,t,a)},oN=32,bj=100,nN=8,sN=16,JP=Ts,yj=wf(JP,ml),vj=(e,t,o)=>JP(o)&&o!==t&&e.isEditable(o.parentElement),kj=(e,t,o)=>Vt(t)||t===o||e.dom.isChildOf(t,o)?!1:e.dom.isEditable(t),xj=(e,t,o,s)=>{const a=e.dom,c=t.cloneNode(!0);a.setStyles(c,{width:o,height:s}),a.setAttrib(c,"data-mce-selected",null);const d=a.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return a.setStyles(d,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:s}),a.setStyles(c,{margin:0,boxSizing:"border-box"}),d.appendChild(c),d},wj=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},rN=(e,t)=>o=>()=>{const s=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:s+t,behavior:"smooth"})},XP=rN("left",-oN),e7=rN("left",oN),t7=rN("top",-oN),o7=rN("top",oN),_j=(e,t,o,s,a,c,d,g,v,E,I,B)=>{let U=0,X=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+o>a&&(U=t.pageX+o-a),t.pageY+s>c&&(X=t.pageY+s-c),e.style.width=o-U+"px",e.style.height=s-X+"px";const ne=v.clientHeight,Q=v.clientWidth,se=d+v.getBoundingClientRect().top,ke=g+v.getBoundingClientRect().left;I.on(Ce=>{Ce.intervalId.clear(),Ce.dragging&&B&&(d+nN>=ne?Ce.intervalId.set(o7(E)):d-nN<=0?Ce.intervalId.set(t7(E)):g+nN>=Q?Ce.intervalId.set(e7(E)):g-nN<=0?Ce.intervalId.set(XP(E)):se+sN>=window.innerHeight?Ce.intervalId.set(o7(window)):se-sN<=0?Ce.intervalId.set(t7(window)):ke+sN>=window.innerWidth?Ce.intervalId.set(e7(window)):ke-sN<=0&&Ce.intervalId.set(XP(window)))})},n7=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Aj=(e,t)=>{const o=e.getParent(t.parentNode,e.isBlock);n7(t),o&&o!==e.getRoot()&&e.isEmpty(o)&&_u(oe.fromDom(o))},Cj=e=>e.button===0,Sj=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),Ej=(e,t)=>o=>{if(Cj(o)){const s=on(t.dom.getParents(o.target),yj).getOr(null);if(_e(s)&&vj(t.dom,t.getBody(),s)){const a=t.dom.getPos(s),c=t.getBody(),d=t.getDoc().documentElement;e.set({element:s,dataTransfer:hL(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(t.inline?c.scrollWidth:d.offsetWidth)-2,maxY:(t.inline?c.scrollHeight:d.offsetHeight)-2,relX:o.pageX-a.x,relY:o.pageY-a.y,width:s.offsetWidth,height:s.offsetHeight,ghost:xj(t,s,s.offsetWidth,s.offsetHeight),intervalId:uy(bj)})}}},Tj=(e,t,o)=>{e._selectionOverrides.hideFakeCaret(),KP(e.getBody(),t,o).fold(()=>e.selection.placeCaretAt(t,o),s=>{const a=e._selectionOverrides.showCaret(1,s.node,s.position===f_.Before,!1);a?e.selection.setRng(a):e.selection.placeCaretAt(t,o)})},wE=(e,t,o,s,a)=>{t==="dragstart"&&SP(s,e.dom.getOuterHTML(o));const c=hj(t,o,s,a);return e.dispatch(t,c)},Oj=(e,t)=>{const o=zh((a,c)=>Tj(t,a,c),0);t.on("remove",o.cancel);const s=e;return a=>e.on(c=>{const d=Math.max(Math.abs(a.screenX-c.screenX),Math.abs(a.screenY-c.screenY));if(!c.dragging&&d>10){const g=wE(t,"dragstart",c.element,c.dataTransfer,a);if(_e(g.dataTransfer)&&(c.dataTransfer=g.dataTransfer),g.isDefaultPrevented())return;c.dragging=!0,t.focus()}if(c.dragging){const g=a.currentTarget===t.getDoc().documentElement,v=Sj(c,mj(t,a));wj(c.ghost,t.getBody()),_j(c.ghost,v,c.width,c.height,c.maxX,c.maxY,a.clientY,a.clientX,t.getContentAreaContainer(),t.getWin(),s,g),o.throttle(a.clientX,a.clientY)}})},zj=e=>{const t=e.getSel();if(_e(t)){const s=t.getRangeAt(0).startContainer;return kt(s)?s.parentNode:s}else return null},Dj=(e,t)=>o=>{e.on(s=>{var a;if(s.intervalId.clear(),s.dragging){if(kj(t,zj(t.selection),s.element)){const c=(a=t.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&a!==void 0?a:t.getBody();wE(t,"drop",c,s.dataTransfer,o).isDefaultPrevented()||t.undoManager.transact(()=>{Aj(t.dom,s.element),PV(s.dataTransfer).each(g=>t.insertContent(g)),t._selectionOverrides.hideFakeCaret()})}wE(t,"dragend",t.getBody(),s.dataTransfer,o)}}),r7(e)},s7=(e,t,o)=>{e.on(s=>{s.intervalId.clear(),s.dragging&&o.fold(()=>wE(t,"dragend",s.element,s.dataTransfer),a=>wE(t,"dragend",s.element,s.dataTransfer,a))}),r7(e)},Rj=(e,t)=>o=>s7(e,t,H.some(o)),r7=e=>{e.on(t=>{t.intervalId.clear(),n7(t.ghost)}),e.clear()},Nj=e=>{const t=jd(),o=Hs.DOM,s=document,a=Ej(t,e),c=Oj(t,e),d=Dj(t,e),g=Rj(t,e);e.on("mousedown",a),e.on("mousemove",c),e.on("mouseup",d),o.bind(s,"mousemove",c),o.bind(s,"mouseup",g),e.on("remove",()=>{o.unbind(s,"mousemove",c),o.unbind(s,"mouseup",g)}),e.on("keydown",v=>{v.keyCode===Xt.ESC&&s7(t,e,H.none())})},Mj=e=>{const t=a=>{if(!a.isDefaultPrevented()){const c=a.dataTransfer;c&&(Nn(c.types,"Files")||c.files.length>0)&&(a.preventDefault(),a.type==="drop"&&R0(e,"Dropped file type is not supported"))}},o=a=>{Lp(e,a.target)&&t(a)},s=()=>{const a=Hs.DOM,c=e.dom,d=document,g=e.inline?e.getBody():e.getDoc(),v=["drop","dragover"];ut(v,E=>{a.bind(d,E,o),c.bind(g,E,t)}),e.on("remove",()=>{ut(v,E=>{a.unbind(d,E,o),c.unbind(g,E,t)})})};e.on("init",()=>{yd.setEditorTimeout(e,s,0)})},Ij=e=>{Nj(e),kv(e)&&Mj(e)},Bj=e=>{const t=zh(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const s=P0(e,o,!1);e.selection.setRng(s)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},Lj=e=>{e.on("init",()=>{e.on("focusin",t=>{const o=t.target;if(ao(o)){const s=qp(e.getBody(),o),a=Ts(s)?s:o;e.selection.getNode()!==a&&L0(e,a).each(c=>e.selection.setRng(c))}})})},_E=Ts,a7=(e,t)=>qp(e.getBody(),t),Pj=e=>{const t=e.selection,o=e.dom,s=e.getBody(),a=Ik(e,s,o.isBlock,()=>Pp(e)),c="sel-"+o.uniqueId(),d="data-mce-selected";let g;const v=Kt=>_e(Kt)&&o.hasClass(Kt,"mce-offscreen-selection"),E=Kt=>Kt!==s&&(_E(Kt)||ao(Kt))&&o.isChildOf(Kt,s)&&o.isEditable(Kt.parentNode),I=Kt=>{Kt&&t.setRng(Kt)},B=(Kt,Ye,He,pt=!0)=>e.dispatch("ShowCaret",{target:Ye,direction:Kt,before:He}).isDefaultPrevented()?null:(pt&&t.scrollIntoView(Ye,Kt===-1),a.show(He,Ye)),U=Kt=>{Kt.hasAttribute("data-mce-caret")&&(Qm(Kt),t.scrollIntoView(Kt))},X=()=>{e.on("click",Ye=>{o.isEditable(Ye.target)||(Ye.preventDefault(),e.focus())}),e.on("blur NewBlock",Ne),e.on("ResizeWindow FullscreenStateChanged",a.reposition),e.on("tap",Ye=>{const He=Ye.target,pt=a7(e,He);_E(pt)?(Ye.preventDefault(),L0(e,pt).each(we)):E(He)&&L0(e,He).each(we)},!0),e.on("mousedown",Ye=>{const He=Ye.target;if(He!==s&&He.nodeName!=="HTML"&&!o.isChildOf(He,s)||!C5(e,Ye.clientX,Ye.clientY))return;Ne(),Bt();const pt=a7(e,He);_E(pt)?(Ye.preventDefault(),L0(e,pt).each(we)):KP(s,Ye.clientX,Ye.clientY).each(io=>{Ye.preventDefault();const Co=B(1,io.node,io.position===f_.Before,!1);I(Co),_i(pt)?pt.focus():e.getBody().focus()})}),e.on("keypress",Ye=>{Xt.modifierPressed(Ye)||_E(t.getNode())&&Ye.preventDefault()}),e.on("GetSelectionRange",Ye=>{let He=Ye.range;if(g){if(!g.parentNode){g=null;return}He=He.cloneRange(),He.selectNode(g),Ye.range=He}}),e.on("SetSelectionRange",Ye=>{Ye.range=se(Ye.range);const He=we(Ye.range,Ye.forward);He&&(Ye.range=He)});const Kt=Ye=>ro(Ye)&&Ye.id==="mcepastebin";e.on("AfterSetSelectionRange",Ye=>{const He=Ye.range,pt=He.startContainer.parentElement;!Q(He)&&!Kt(pt)&&Bt(),v(pt)||Ne()}),Ij(e),Bj(e),Lj(e)},ne=Kt=>bo(Kt)||ba(Kt)||ya(Kt),Q=Kt=>ne(Kt.startContainer)||ne(Kt.endContainer),se=Kt=>{const Ye=e.schema.getVoidElements(),He=o.createRng(),pt=Kt.startContainer,io=Kt.startOffset,Co=Kt.endContainer,vn=Kt.endOffset;return Lo(Ye,pt.nodeName.toLowerCase())?io===0?He.setStartBefore(pt):He.setStartAfter(pt):He.setStart(pt,io),Lo(Ye,Co.nodeName.toLowerCase())?vn===0?He.setEndBefore(Co):He.setEndAfter(Co):He.setEnd(Co,vn),He},ke=(Kt,Ye)=>{const He=oe.fromDom(e.getBody()),pt=e.getDoc(),io=Ea(He,"#"+c).getOrThunk(()=>{const En=oe.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',pt);return Cs(En,"id",c),Fs(He,En),En}),Co=o.createRng();Oa(io),Kr(io,[oe.fromText(hn,pt),oe.fromDom(Ye),oe.fromText(hn,pt)]),Co.setStart(io.dom.firstChild,1),Co.setEnd(io.dom.lastChild,0),el(io,{top:o.getPos(Kt,e.getBody()).y+"px"}),c2(io);const vn=t.getSel();return vn&&(vn.removeAllRanges(),vn.addRange(Co)),Co},Ce=Kt=>{const Ye=Kt.cloneNode(!0),He=e.dispatch("ObjectSelected",{target:Kt,targetClone:Ye});if(He.isDefaultPrevented())return null;const pt=ke(Kt,He.targetClone),io=oe.fromDom(Kt);return ut($a(oe.fromDom(e.getBody()),`*[${d}]`),Co=>{On(io,Co)||ur(Co,d)}),o.getAttrib(Kt,d)||Kt.setAttribute(d,"1"),g=Kt,Bt(),pt},we=(Kt,Ye)=>{if(!Kt)return null;if(Kt.collapsed){if(!Q(Kt)){const Co=Ye?1:-1,vn=Ny(Co,s,Kt),En=vn.getNode(!Ye);if(_e(En)){if(_v(En))return B(Co,En,Ye?!vn.isAtEnd():!1,!1);if(Wt(En)&&Ts(En.nextSibling)){const Gs=o.createRng();return Gs.setStart(En,0),Gs.setEnd(En,0),Gs}}const Ds=vn.getNode(Ye);if(_e(Ds)){if(_v(Ds))return B(Co,Ds,Ye?!1:!vn.isAtEnd(),!1);if(Wt(Ds)&&Ts(Ds.previousSibling)){const Gs=o.createRng();return Gs.setStart(Ds,1),Gs.setEnd(Ds,1),Gs}}}return null}let He=Kt.startContainer,pt=Kt.startOffset;const io=Kt.endOffset;if(kt(He)&&pt===0&&_E(He.parentNode)&&(He=He.parentNode,pt=o.nodeIndex(He),He=He.parentNode),!ro(He))return null;if(io===pt+1&&He===Kt.endContainer){const Co=He.childNodes[pt];if(E(Co))return Ce(Co)}return null},Ne=()=>{g&&g.removeAttribute(d),Ea(oe.fromDom(e.getBody()),"#"+c).each(Hn),g=null},bt=()=>{a.destroy(),g=null},Bt=()=>{a.hide()};return qf(e)||X(),{showCaret:B,showBlockCaretContainer:U,hideFakeCaret:Bt,destroy:bt}},Fj=(e,t)=>{let o=t;for(let s=e.previousSibling;kt(s);s=s.previousSibling)o+=s.data.length;return o},i7=(e,t,o,s,a)=>{if(kt(o)&&(s<0||s>o.data.length))return[];const c=a&&kt(o)?[Fj(o,s)]:[s];let d=o;for(;d!==t&&d.parentNode;)c.push(e.nodeIndex(d,a)),d=d.parentNode;return d===t?c.reverse():[]},AL=(e,t,o,s,a,c,d=!1)=>{const g=i7(e,t,o,s,d),v=i7(e,t,a,c,d);return{start:g,end:v}},l7=(e,t)=>{const o=t.slice(),s=o.pop();return O(s)?rn(o,(c,d)=>c.bind(g=>H.from(g.childNodes[d])),H.some(e)).bind(c=>kt(c)&&(s<0||s>c.data.length)?H.none():H.some({node:c,offset:s})):H.none()},c7=(e,t)=>l7(e,t.start).bind(({node:o,offset:s})=>l7(e,t.end).map(({node:a,offset:c})=>{const d=document.createRange();return d.setStart(o,s),d.setEnd(a,c),d})),Uj=(e,t,o,s=!1)=>AL(e,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,s),g_=(e,t,o)=>{if(t&&e.isEmpty(t)&&!o(t)){const s=t.parentNode;e.remove(t,kt(t.firstChild)&&Ud(t.firstChild.data)),g_(e,s,o)}},aN=(e,t,o,s=!0)=>{const a=t.startContainer.parentNode,c=t.endContainer.parentNode;t.deleteContents(),s&&!o(t.startContainer)&&(kt(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),kt(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),g_(e,a,o),a!==c&&g_(e,c,o))},CL=(e,t)=>H.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),d7=(e,t,o)=>{const s=e.dynamicPatternsLookup({text:o,block:t});return{...e,blockPatterns:Ot(s).concat(e.blockPatterns),inlinePatterns:It(s).concat(e.inlinePatterns)}},u7=(e,t,o,s)=>{const a=e.createRng();return a.setStart(t,0),a.setEnd(o,s),a.toString()},Hj=e=>/^\s[^\s]/.test(e),m7=(e,t,o)=>{LF(t,0,t).each(a=>{const c=a.container;y6(c,o.start.length,t).each(v=>{const E=e.createRng();E.setStart(c,0),E.setEnd(v.container,v.offset),aN(e,E,I=>I===t)});const d=oe.fromDom(c),g=xu(d);Hj(g)&&uh(d,g.slice(1))})},Vj=(e,t)=>{const o=e.dom,s=t.pattern,a=c7(o.getRoot(),t.range).getOrDie("Unable to resolve path range"),c=(d,g)=>{const v=g.get(d);return he(v)&&Jo(v).exists(E=>Lo(E,"block"))};return CL(e,a).each(d=>{s.type==="block-format"?c(s.format,e.formatter)&&e.undoManager.transact(()=>{m7(e.dom,d,s),e.formatter.apply(s.format)}):s.type==="block-command"&&e.undoManager.transact(()=>{m7(e.dom,d,s),e.execCommand(s.cmd,!1,s.value)})}),!0},jj=e=>wn(e,(t,o)=>o.start.length-t.start.length),Zj=(e,t)=>{const o=jj(e),s=t.replace(hn," ");return on(o,a=>t.indexOf(a.start)===0||s.indexOf(a.start)===0)},qj=(e,t,o,s)=>{var a;const c=e.dom,d=Ia(e);if(!c.is(t,d))return[];const g=(a=t.textContent)!==null&&a!==void 0?a:"";return Zj(o.blockPatterns,g).map(v=>Mt.trim(g).length===v.start.length?[]:[{pattern:v,range:AL(c,c.getRoot(),t,0,t,0,s)}]).getOr([])},Wj=(e,t)=>{if(t.length===0)return;const o=e.selection.getBookmark();ut(t,s=>Vj(e,s)),e.selection.moveToBookmark(o)},f7=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),iN=(e,t)=>{const o=e.createRng();return o.setStartAfter(t.start),o.setEndBefore(t.end),o},g7=(e,t,o)=>{const s=c7(e.getRoot(),o).getOrDie("Unable to resolve path range"),a=s.startContainer,c=s.endContainer,d=s.endOffset===0?c:c.splitText(s.endOffset),g=s.startOffset===0?a:a.splitText(s.startOffset),v=g.parentNode,E=d.parentNode;return{prefix:t,end:E.insertBefore(f7(e,t+"-end"),d),start:v.insertBefore(f7(e,t+"-start"),g)}},p7=(e,t,o)=>{g_(e,e.get(t.prefix+"-end"),o),g_(e,e.get(t.prefix+"-start"),o)},SL=e=>e.start.length===0,$j=e=>(t,o)=>{const a=t.data.substring(0,o),c=a.lastIndexOf(e.charAt(e.length-1)),d=a.lastIndexOf(e);return d!==-1?d+e.length:c!==-1?c+1:-1},h7=(e,t,o,s)=>{const a=t.start;return K8(e,s.container,s.offset,$j(a),o).bind(d=>{var g,v;const E=(v=(g=o.textContent)===null||g===void 0?void 0:g.indexOf(a))!==null&&v!==void 0?v:-1;if(E!==-1&&d.offset>=E+a.length){const B=e.createRng();return B.setStart(d.container,d.offset-a.length),B.setEnd(d.container,d.offset),H.some(B)}else{const B=d.offset-a.length;return G8(d.container,B,o).map(U=>{const X=e.createRng();return X.setStart(U.container,U.offset),X.setEnd(d.container,d.offset),X}).filter(U=>U.toString()===a).orThunk(()=>h7(e,t,o,$g(d.container,0)))}})},Gj=(e,t,o,s,a,c=!1)=>{if(t.start.length===0&&!c){const d=e.createRng();return d.setStart(o,s),d.setEnd(o,s),H.some(d)}return $8(o,s,a).bind(d=>h7(e,t,a,d).bind(v=>{var E;if(c){if(v.endContainer===d.container&&v.endOffset===d.offset)return H.none();if(d.offset===0&&((E=v.endContainer.textContent)===null||E===void 0?void 0:E.length)===v.endOffset)return H.none()}return H.some(v)}))},Kj=(e,t,o,s)=>{const a=e.dom,c=a.getRoot(),d=o.pattern,g=o.position.container,v=o.position.offset;return G8(g,v-o.pattern.end.length,t).bind(E=>{const I=AL(a,c,E.container,E.offset,g,v,s);if(SL(d))return H.some({matches:[{pattern:d,startRng:I,endRng:I}],position:E});{const B=lN(e,o.remainingPatterns,E.container,E.offset,t,s),U=B.getOr({matches:[],position:E}),X=U.position;return Gj(a,d,X.container,X.offset,t,B.isNone()).map(Q=>{const se=Uj(a,c,Q,s);return{matches:U.matches.concat([{pattern:d,startRng:se,endRng:I}]),position:$g(Q.startContainer,Q.startOffset)}})}})},lN=(e,t,o,s,a,c)=>{const d=e.dom;return $8(o,s,d.getRoot()).bind(g=>{const v=u7(d,a,o,s);for(let E=0;E<t.length;E++){const I=t[E];if(!Yi(v,I.end))continue;const B=t.slice();B.splice(E,1);const U=Kj(e,a,{pattern:I,remainingPatterns:B,position:g},c);if(U.isNone()&&s>0)return lN(e,t,o,s-1,a,c);if(U.isSome())return U}return H.none()})},b7=(e,t,o)=>{e.selection.setRng(o),t.type==="inline-format"?ut(t.format,s=>{e.formatter.apply(s)}):e.execCommand(t.cmd,!1,t.value)},Yj=(e,t,o,s)=>{const a=iN(e.dom,o);aN(e.dom,a,s),b7(e,t,a)},Qj=(e,t,o,s,a)=>{const c=e.dom,d=iN(c,s),g=iN(c,o);aN(c,g,a),aN(c,d,a);const v={prefix:o.prefix,start:o.end,end:s.start},E=iN(c,v);b7(e,t,E)},Jj=(e,t)=>{const o=hm("mce_textpattern"),s=go(t,(a,c)=>{const d=g7(e,o+`_end${a.length}`,c.endRng);return a.concat([{...c,endMarker:d}])},[]);return go(s,(a,c)=>{const d=s.length-a.length-1,g=SL(c.pattern)?c.endMarker:g7(e,o+`_start${d}`,c.startRng);return a.concat([{...c,startMarker:g}])},[])},Xj=e=>wn(e,(t,o)=>o.end.length-t.end.length),eZ=(e,t)=>{const o=jr(e,s=>ts(t,a=>s.pattern.start===a.pattern.start&&s.pattern.end===a.pattern.end));return e.length===t.length?o?e:t:e.length>t.length?e:t},y7=(e,t,o,s,a,c)=>{const d=lN(e,a.inlinePatterns,o,s,t,c).fold(()=>[],v=>v.matches),g=lN(e,Xj(a.inlinePatterns),o,s,t,c).fold(()=>[],v=>v.matches);return eZ(d,g)},v7=(e,t)=>{if(t.length===0)return;const o=e.dom,s=e.selection.getBookmark(),a=Jj(o,t);ut(a,c=>{const d=o.getParent(c.startMarker.start,o.isBlock),g=v=>v===d;SL(c.pattern)?Yj(e,c.pattern,c.endMarker,g):Qj(e,c.pattern,c.startMarker,c.endMarker,g),p7(o,c.endMarker,g),p7(o,c.startMarker,g)}),e.selection.moveToBookmark(s)},tZ=(e,t)=>{const o=e.selection.getRng();return CL(e,o).map(s=>{var a;const c=Math.max(0,o.startOffset),d=d7(t,s,(a=s.textContent)!==null&&a!==void 0?a:""),g=y7(e,s,o.startContainer,c,d,!0),v=qj(e,s,d,!0);return v.length>0||g.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{Y(e),v7(e,g),Wj(e,v);const E=e.selection.getRng(),I=$8(E.startContainer,E.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),I.each(B=>{const U=B.container;U.data.charAt(B.offset-1)===fl&&(U.deleteData(B.offset-1,1),g_(e.dom,U.parentNode,X=>X===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},oZ=(e,t)=>{const o=e.selection.getRng();CL(e,o).map(s=>{const a=Math.max(0,o.startOffset-1),c=u7(e.dom,s,o.startContainer,a),d=d7(t,s,c),g=y7(e,s,o.startContainer,a,d,!1);g.length>0&&e.undoManager.transact(()=>{v7(e,g)})})},k7=(e,t,o)=>{for(let s=0;s<e.length;s++)if(o(e[s],t))return!0;return!1},nZ=(e,t)=>k7(e,t,(o,s)=>o===s.keyCode&&!Xt.modifierPressed(s)),sZ=(e,t)=>k7(e,t,(o,s)=>o.charCodeAt(0)===s.charCode),rZ=e=>{const t=[",",".",";",":","!","?"],o=[32],s=()=>Zt(QE(e),Dk(e)),a=()=>QN(e);e.on("keydown",d=>{if(d.keyCode===13&&!Xt.modifierPressed(d)&&e.selection.isCollapsed()){const g=s();(g.inlinePatterns.length>0||g.blockPatterns.length>0||a())&&tZ(e,g)&&d.preventDefault()}},!0);const c=()=>{if(e.selection.isCollapsed()){const d=s();(d.inlinePatterns.length>0||a())&&oZ(e,d)}};e.on("keyup",d=>{nZ(o,d)&&c()}),e.on("keypress",d=>{sZ(t,d)&&yd.setEditorTimeout(e,c)})},aZ=e=>{rZ(e)},iZ=e=>{const t=Mt.each,o=Xt.BACKSPACE,s=Xt.DELETE,a=e.dom,c=e.selection,d=e.parser,g=Mn.browser,v=g.isFirefox(),E=g.isChromium()||g.isSafari(),I=Mn.deviceType.isiPhone()||Mn.deviceType.isiPad(),B=Mn.os.isMacOS()||Mn.os.isiOS(),U=(co,en)=>{try{e.getDoc().execCommand(co,!1,String(en))}catch{}},X=co=>co.isDefaultPrevented(),ne=()=>{const co=Ft=>{const tn=a.create("body"),Fn=Ft.cloneContents();return tn.appendChild(Fn),c.serializer.serialize(tn,{format:"html"})},en=Ft=>{const tn=co(Ft),Fn=a.createRng();Fn.selectNode(e.getBody());const qs=co(Fn);return tn===qs};e.on("keydown",Ft=>{const tn=Ft.keyCode;if(!X(Ft)&&(tn===s||tn===o)&&e.selection.isEditable()){const Fn=e.selection.isCollapsed(),qs=e.getBody();if(Fn&&!ks(oe.fromDom(qs))||!Fn&&!en(e.selection.getRng()))return;Ft.preventDefault(),e.setContent(""),qs.firstChild&&a.isBlock(qs.firstChild)?e.selection.setCursorLocation(qs.firstChild,0):e.selection.setCursorLocation(qs,0),e.nodeChanged()}})},Q=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},se=()=>{e.inline||a.bind(e.getDoc(),"mousedown mouseup",co=>{let en;if(co.target===e.getDoc().documentElement)if(en=c.getRng(),e.getBody().focus(),co.type==="mousedown"){if(bo(en.startContainer))return;c.placeCaretAt(co.clientX,co.clientY)}else c.setRng(en)})},ke=()=>{e.on("keydown",co=>{if(!X(co)&&co.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&c.getRng().startOffset===0){const en=c.getNode(),Ft=en.previousSibling;if(en.nodeName==="HR"){a.remove(en),co.preventDefault();return}Ft&&Ft.nodeName&&Ft.nodeName.toLowerCase()==="hr"&&(a.remove(Ft),co.preventDefault())}}})},Ce=()=>{Range.prototype.getClientRects||e.on("mousedown",co=>{if(!X(co)&&co.target.nodeName==="HTML"){const en=e.getBody();en.blur(),yd.setEditorTimeout(e,()=>{en.focus()})}})},we=()=>{const co=Ok(e);e.on("click",en=>{const Ft=en.target;/^(IMG|HR)$/.test(Ft.nodeName)&&a.isEditable(Ft)&&(en.preventDefault(),e.selection.select(Ft),e.nodeChanged()),Ft.nodeName==="A"&&a.hasClass(Ft,co)&&Ft.childNodes.length===0&&a.isEditable(Ft.parentNode)&&(en.preventDefault(),c.select(Ft))})},Ne=()=>{const co=()=>{const Ft=a.getAttribs(c.getStart().cloneNode(!1));return()=>{const tn=c.getStart();tn!==e.getBody()&&(a.setAttrib(tn,"style",null),t(Ft,Fn=>{tn.setAttributeNode(Fn.cloneNode(!0))}))}},en=()=>!c.isCollapsed()&&a.getParent(c.getStart(),a.isBlock)!==a.getParent(c.getEnd(),a.isBlock);e.on("keypress",Ft=>{let tn;return!X(Ft)&&(Ft.keyCode===8||Ft.keyCode===46)&&en()?(tn=co(),e.getDoc().execCommand("delete",!1),tn(),Ft.preventDefault(),!1):!0}),a.bind(e.getDoc(),"cut",Ft=>{if(!X(Ft)&&en()){const tn=co();yd.setEditorTimeout(e,()=>{tn()})}})},bt=()=>{e.on("keydown",co=>{if(!X(co)&&co.keyCode===o&&c.isCollapsed()&&c.getRng().startOffset===0){const en=c.getNode().previousSibling;if(en&&en.nodeName&&en.nodeName.toLowerCase()==="table")return co.preventDefault(),!1}return!0})},Bt=()=>{e.on("keydown",co=>{if(X(co)||co.keyCode!==Xt.BACKSPACE)return;let en=c.getRng();const Ft=en.startContainer,tn=en.startOffset,Fn=a.getRoot();let qs=Ft;if(!(!en.collapsed||tn!==0)){for(;qs.parentNode&&qs.parentNode.firstChild===qs&&qs.parentNode!==Fn;)qs=qs.parentNode;qs.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,qs),en=a.createRng(),en.setStart(Ft,0),en.setEnd(Ft,0),c.setRng(en))}})},Kt=()=>{const co=()=>{U("StyleWithCSS",!1),U("enableInlineTableEditing",!1),U_(e)||U("enableObjectResizing",!1)};jE(e)||e.on("BeforeExecCommand mousedown",co)},Ye=()=>{const co=()=>{t(a.select("a:not([data-mce-block])"),en=>{var Ft;let tn=en.parentNode;const Fn=a.getRoot();if((tn==null?void 0:tn.lastChild)===en){for(;tn&&!a.isBlock(tn);){if(((Ft=tn.parentNode)===null||Ft===void 0?void 0:Ft.lastChild)!==tn||tn===Fn)return;tn=tn.parentNode}a.add(tn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",en=>{(en.type==="setcontent"||en.command==="mceInsertLink")&&co()})},He=()=>{e.on("init",()=>{U("DefaultParagraphSeparator",Ia(e))})},pt=co=>{const en=co.getBody(),Ft=co.selection.getRng();return Ft.startContainer===Ft.endContainer&&Ft.startContainer===en&&Ft.startOffset===0&&Ft.endOffset===en.childNodes.length},io=()=>{e.on("keyup focusin mouseup",co=>{!Xt.modifierPressed(co)&&!pt(e)&&c.normalize()},!0)},Co=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},vn=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},En=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",co=>{let en;co.target.nodeName==="HTML"&&(en=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(en),e.selection.normalize(),e.nodeChanged())}))},Ds=()=>{B&&e.on("keydown",co=>{Xt.metaKeyPressed(co)&&!co.shiftKey&&(co.keyCode===37||co.keyCode===39)&&(co.preventDefault(),e.selection.getSel().modify("move",co.keyCode===37?"backward":"forward","lineboundary"))})},Gs=()=>{e.on("click",co=>{let en=co.target;do if(en.tagName==="A"){co.preventDefault();return}while(en=en.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Jr=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",co=>{co.preventDefault()})})},wl=()=>{d.addNodeFilter("br",co=>{let en=co.length;for(;en--;)co[en].attr("class")==="Apple-interchange-newline"&&co[en].remove()})},Rs=dt,jt=()=>{if(!v||e.removed)return!1;const co=e.selection.getSel();return!co||!co.rangeCount||co.rangeCount===0},fo=()=>{E&&(se(),we(),Jr(),Q(),I&&(vn(),En(),Gs())),v&&(Ce(),Kt(),Co(),Ds())},Xn=()=>{e.on("drop",co=>{var en;const Ft=(en=co.dataTransfer)===null||en===void 0?void 0:en.getData("text/html");Qe(Ft)&&/^<img[^>]*>$/.test(Ft)&&e.dispatch("dragend",new window.DragEvent("dragend",co))})},Dn=()=>{Bt(),ne(),Mn.windowsPhone||io(),E&&(se(),we(),He(),Jr(),bt(),wl(),I?(vn(),En(),Gs()):Q()),v&&(ke(),Ce(),Ne(),Kt(),Ye(),Co(),Ds(),bt(),Xn())};return qf(e)?fo():Dn(),{refreshContentEditable:Rs,isHidden:jt}},EL=Hs.DOM,lZ=(e,t)=>{const o=oe.fromDom(e.getBody()),s=Ps(Oc(o)),a=oe.fromTag("style");Cs(a,"type","text/css"),Fs(a,oe.fromText(t)),Fs(s,a),e.on("remove",()=>{Hn(a)})},cZ=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,TL=e=>Ki(e,t=>lo(t)===!1),x7=e=>{const t=e.options.get,o=e.editorUpload.blobCache;return TL({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:cZ(e),sandbox_iframes:t("sandbox_iframes"),sanitize:t("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},w7=e=>{const t=e.options.get;return TL({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},dZ=e=>{const t=e.options.get;return{...x7(e),...w7(e),...TL({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},uZ=e=>{const t=Eb(x7(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(o,s)=>{const a=e.dom,c="data-mce-"+s;let d=o.length;for(;d--;){const g=o[d];let v=g.attr(s);if(v&&!g.attr(c)){if(v.indexOf("data:")===0||v.indexOf("blob:")===0)continue;s==="style"?(v=a.serializeStyle(a.parseStyle(v),g.name),v.length||(v=null),g.attr(c,v),g.attr(s,v)):s==="tabindex"?(g.attr(c,v),g.attr(s,null)):g.attr(c,e.convertURL(v,s,g.name))}}}),t.addNodeFilter("script",o=>{let s=o.length;for(;s--;){const a=o[s],c=a.attr("type")||"no/type";c.indexOf("mce-")!==0&&a.attr("type","mce-"+c)}}),eT(e)&&t.addNodeFilter("#cdata",o=>{var s;let a=o.length;for(;a--;){const c=o[a];c.type=8,c.name="#comment",c.value="[CDATA["+e.dom.encode((s=c.value)!==null&&s!==void 0?s:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let s=o.length;const a=e.schema.getNonEmptyElements();for(;s--;){const c=o[s];c.isEmpty(a)&&c.getAll("br").length===0&&c.append(new jl("br",1))}}),t},mZ=e=>{const t=WN(e);t&&yd.setEditorTimeout(e,()=>{let o;t===!0?o=e:o=e.editorManager.get(t),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},fZ=e=>{const t=e.dom.getRoot();!e.inline&&(!zp(e)||e.selection.getStart(!0)===t)&&Hl(t).each(o=>{const s=o.getNode(),a=Mc(s)?Hl(s).getOr(o):o;e.selection.setRng(a.toRange())})},gZ=e=>{e.bindPendingEventDelegates(),e.initialized=!0,GT(e),e.focus(!0),fZ(e),e.nodeChanged({initial:!0});const t=Wh(e);Je(t)&&t.call(e,e),mZ(e)},OL=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,pZ=(e,t,o)=>{const{pass:s,fail:a}=St(t,g=>tinymce.Resource.has(Bw(g))),d=[...s.map(g=>{const v=tinymce.Resource.get(Bw(g));return Qe(v)?Promise.resolve(OL(e).loadRawCss(g,v)):Promise.resolve()}),OL(e).loadAll(a)];return e.inline?d:d.concat([e.ui.styleSheetLoader.loadAll(o)])},_7=e=>{const t=OL(e),o=UE(e),s=e.contentCSS,a=()=>{t.unloadAll(s),e.inline||e.ui.styleSheetLoader.unloadAll(o)},c=()=>{e.removed?a():e.on("remove",a)};if(e.contentStyles.length>0){let v="";Mt.each(e.contentStyles,E=>{v+=E+`\r
`}),e.dom.addStyle(v)}const d=Promise.all(pZ(e,s,o)).then(c).catch(c),g=LN(e);return g&&lZ(e,g),d},hZ=e=>{const t=e.getDoc(),o=e.getBody();Gk(e),$N(e)||(t.body.spellcheck=!1,EL.setAttrib(o,"spellcheck","false")),e.quirks=iZ(e),$T(e);const s=PN(e);s!==void 0&&(o.dir=s);const a=xv(e);a&&e.on("BeforeSetContent",c=>{Mt.each(a,d=>{c.content=c.content.replace(d,g=>"<!--mce:protected "+escape(g)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",c=>{e.composing=c.type==="compositionstart"})},bZ=e=>{qf(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},zL=e=>{e.removed!==!0&&(bZ(e),gZ(e))},yZ=e=>{let t=!1;const o=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(o),t=!0,e.setProgressState(!1)}},A7=e=>{const t=e.getElement();let o=e.getDoc();e.inline&&(EL.addClass(t,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const s=e.getBody();s.disabled=!0,e.readonly=jE(e),e._editableRoot=Pn(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&EL.getStyle(s,"position",!0)==="static"&&(s.style.position="relative"),s.contentEditable="true"),s.disabled=!1,e.editorUpload=B5(e),e.schema=Su(w7(e)),e.dom=Hs(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:IN(e),referrerPolicy:P_(e),onSetAttrib:d=>{e.dispatch("SetAttrib",d)},force_hex_color:tM(e)}),e.parser=uZ(e),e.serializer=T0(dZ(e),e),e.selection=pS(e.dom,e.getWin(),e.serializer,e),e.annotator=IA(e),e.formatter=B0(e),e.undoManager=Vw(e),e._nodeChangeDispatcher=new _V(e),e._selectionOverrides=Pj(e),st(e),j9(e),fi(e),qf(e)||(Y9(e),aZ(e));const a=wV(e);J(e,a),yn(e),U5(e),U9(e);const c=xz(e);hZ(e),c.fold(()=>{const d=yZ(e);_7(e).then(()=>{zL(e),d()})},d=>{e.setProgressState(!0),_7(e).then(()=>{d().then(g=>{e.setProgressState(!1),zL(e),uS(e)},g=>{e.notificationManager.open({type:"error",text:String(g)}),zL(e),uS(e)})})})},vZ=pn,kZ=(e,t,o)=>bu(e,t,vZ,o),DL=Hs.DOM,xZ=(e,t,o,s)=>{const a=oe.fromTag("iframe");return s.each(c=>Cs(a,"tabindex",c)),Qs(a,o),Qs(a,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Br(a,"tox-edit-area__iframe"),a},wZ=e=>{let t=Ma(e)+"<html><head>";xm(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=Vh(e),s=jh(e),a=e.translate(qN(e));return Sp(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+Sp(e)+'" />'),t+=`</head><body id="${o}" class="mce-content-body ${s}" data-id="${e.id}" aria-label="${a}"><br></body></html>`,t},_Z=(e,t)=>{const o=e.translate("Rich Text Area"),s=Qi(oe.fromDom(e.getElement()),"tabindex").bind(ir),a=xZ(e.id,o,as(e),s).dom;a.onload=()=>{a.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=a,e.iframeHTML=wZ(e),DL.add(t.iframeContainer,a)},AZ=e=>{const t=e.iframeElement,o=()=>{e.contentDocument=t.contentDocument,A7(e)};if(YN(e)||Mn.browser.isFirefox()){const s=e.getDoc();s.open(),s.write(e.iframeHTML),s.close(),o()}else{const s=kZ(oe.fromDom(t),"load",()=>{s.unbind(),o()});t.srcdoc=e.iframeHTML}},CZ=(e,t)=>{_Z(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=DL.isHidden(t.editorContainer)),e.getElement().style.display="none",DL.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,AZ(e)},C7=Hs.DOM,SZ=(e,t,o)=>{const s=x1.get(o),a=x1.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=Mt.trim(o),s&&Mt.inArray(t,o)===-1){if(e.plugins[o])return;try{const c=s(e,a)||{};e.plugins[o]=c,Je(c.init)&&(c.init(e,a),t.push(o))}catch(c){DS(e,o,c)}}},EZ=e=>e.replace(/^\-/,""),TZ=e=>{const t=[];ut(Ef(e),o=>{SZ(e,t,EZ(o))})},OZ=e=>{const t=Mt.trim(BE(e)),o=e.ui.registry.getAll().icons,s={...Ob.get("default").icons,...Ob.get(t).icons};An(s,(a,c)=>{Lo(o,c)||e.ui.registry.addIcon(c,a)})},zZ=e=>{const t=qh(e);if(Qe(t)){const o=$p.get(t);e.theme=o(e,$p.urls[t])||{},Je(e.theme.init)&&e.theme.init(e,$p.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},DZ=e=>{const t=j_(e),o=zb.get(t);e.model=o(e,zb.urls[t])},RZ=e=>{const t=e.theme.renderUI;return t?t():E7(e)},NZ=e=>{const t=e.getElement(),s=qh(e)(e,t);return s.editorContainer.nodeType&&(s.editorContainer.id=s.editorContainer.id||e.id+"_parent"),s.iframeContainer&&s.iframeContainer.nodeType&&(s.iframeContainer.id=s.iframeContainer.id||e.id+"_iframecontainer"),s.height=s.iframeHeight?s.iframeHeight:t.offsetHeight,s},S7=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),MZ=e=>{const t=C7.create("div");return C7.insertAfter(t,e),S7(t,t)},E7=e=>{const t=e.getElement();return e.inline?S7(null):MZ(t)},IZ=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,Qe(qh(e))?RZ(e):Je(qh(e))?NZ(e):E7(e)},BZ=(e,t)=>{const o={show:H.from(t.show).getOr(dt),hide:H.from(t.hide).getOr(dt),isEnabled:H.from(t.isEnabled).getOr(pn),setEnabled:s=>{e.mode.isReadOnly()||H.from(t.setEnabled).each(a=>a(s))}};e.ui={...e.ui,...o}},LZ=async e=>{e.dispatch("ScriptsLoaded"),OZ(e),zZ(e),DZ(e),TZ(e);const t=await IZ(e);BZ(e,H.from(t.api).getOr({})),e.editorContainer=t.editorContainer,D5(e),e.inline?A7(e):CZ(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},J0=Hs.DOM,T7=e=>e.charAt(0)==="-",PZ=(e,t)=>{const o=PE(t),s=BN(t);if(!Pl.hasCode(o)&&o!=="en"){const a=ta(s)?s:`${t.editorManager.baseURL}/langs/${o}.js`;e.add(a).catch(()=>{tD(t,a,o)})}},FZ=(e,t)=>{const o=qh(e);if(Qe(o)&&!T7(o)&&!Lo($p.urls,o)){const s=VE(e),a=s?e.documentBaseURI.toAbsolute(s):`themes/${o}/theme${t}.js`;$p.load(o,a).catch(()=>{oD(e,a,o)})}},UZ=(e,t)=>{const o=j_(e);if(o!=="plugin"&&!Lo(zb.urls,o)){const s=FN(e),a=Qe(s)?e.documentBaseURI.toAbsolute(s):`models/${o}/model${t}.js`;zb.load(o,a).catch(()=>{zS(e,a,o)})}},HZ=e=>H.from(NN(e)).filter(ta).map(t=>({url:t,name:H.none()})),O7=(e,t,o)=>H.from(t).filter(s=>ta(s)&&!Ob.has(s)).map(s=>({url:`${e.editorManager.baseURL}/icons/${s}/icons${o}.js`,name:H.some(s)})),VZ=(e,t,o)=>{const s=O7(t,"default",o),a=HZ(t).orThunk(()=>O7(t,BE(t),""));ut(Td([s,a]),c=>{e.add(c.url).catch(()=>{E5(t,c.url,c.name.getOrUndefined())})})},jZ=(e,t)=>{const o=(s,a)=>{x1.load(s,a).catch(()=>{OS(e,a,s)})};An(ZN(e),(s,a)=>{o(a,s),e.options.set("plugins",Ef(e).concat(a))}),ut(Ef(e),s=>{s=Mt.trim(s),s&&!x1.urls[s]&&!T7(s)&&o(s,`plugins/${s}/plugin${t}.js`)})},ZZ=e=>{const t=qh(e);return!Qe(t)||_e($p.get(t))},qZ=e=>{const t=j_(e);return _e(zb.get(t))},WZ=(e,t)=>{const o=sl.ScriptLoader,s=()=>{!e.removed&&ZZ(e)&&qZ(e)&&LZ(e)};FZ(e,t),UZ(e,t),PZ(o,e),VZ(o,e,t),jZ(e,t),o.loadQueue().then(s,s)},$Z=(e,t)=>Z1.forElement(e,{contentCssCors:zu(t),referrerPolicy:P_(t)}),GZ=e=>{const t=e.id;Pl.setCode(PE(e));const o=()=>{J0.unbind(window,"ready",o),e.render()};if(!mf.Event.domLoaded){J0.bind(window,"ready",o);return}if(!e.getElement())return;const s=oe.fromDom(e.getElement()),a=mr(s);e.on("remove",()=>{yt(s.dom.attributes,d=>ur(s,d.name)),Qs(s,a)}),e.ui.styleSheetLoader=$Z(s,e),Ey(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const c=e.getElement().form||J0.getParent(t,"form");c&&(e.formElement=c,vv(e)&&!Id(e.getElement())&&(J0.insertAfter(J0.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=d=>{e.dispatch(d.type,d)},J0.bind(c,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),Tk(e)&&!c.submit.nodeType&&!c.submit.length&&!c._mceOldSubmit&&(c._mceOldSubmit=c.submit,c.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),c._mceOldSubmit(c)))),e.windowManager=ES(e),e.notificationManager=CS(e),nT(e)&&e.on("GetContent",d=>{d.save&&(d.content=J0.encode(d.content))}),Ty(e)&&e.on("submit",()=>{e.initialized&&e.save()}),HN(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),WZ(e,e.suffix)},KZ=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),o4(e,t))},YZ=e=>e._editableRoot,QZ=(e,t)=>({sections:ht(e),options:ht(t)}),z7=Cn().deviceType,D7=z7.isPhone(),JZ=z7.isTablet(),AE=e=>{if(Vt(e))return[];{const t=he(e)?e:e.split(/[ ,]/),o=Zo(t,ac);return nt(o,ta)}},XZ=(e,t)=>{const o=Cl(t,(s,a)=>Nn(e,a));return QZ(o.t,o.f)},eq=(e,t,o={})=>{const s=e.sections(),a=hs(s,t).getOr({});return Mt.extend({},o,a)},RL=(e,t)=>Lo(e.sections(),t),tq=(e,t)=>RL(e,t)?e.sections()[t]:{},oq=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:hs(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),nq=(e,t)=>{var o;const s=(o=t.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?Mt.extend({},e.external_plugins,s):s},sq=(e,t)=>[...AE(e),...AE(t)],rq=(e,t,o,s)=>e&&RL(t,"mobile")?s:o,aq=(e,t,o,s)=>{const a=AE(o.forced_plugins),c=AE(s.plugins),d=tq(t,"mobile"),g=d.plugins?AE(d.plugins):c,v=rq(e,t,c,g),E=sq(a,v);return Mt.extend(s,{forced_plugins:a,plugins:E})},iq=(e,t)=>e&&RL(t,"mobile"),lq=(e,t,o,s,a)=>{var c;const d=e?{mobile:oq((c=a.mobile)!==null&&c!==void 0?c:{},t)}:{},g=XZ(["mobile"],HR(d,a)),v=Mt.extend(o,s,g.options(),iq(e,g)?eq(g,"mobile"):{},{external_plugins:nq(s,g.options())});return aq(e,g,s,v)},cq=(e,t)=>lq(D7||JZ,D7,t,e,t),dq=(e,t)=>dS(e,t),uq=e=>{const t=(s,a)=>{e.formatter.toggle(s,a),e.nodeChanged()},o=s=>()=>{ut("left,center,right,justify".split(","),a=>{s!==a&&e.formatter.remove("align"+a)}),s!=="none"&&t("align"+s)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},mq=e=>{const t=o=>()=>{const s=e.selection,a=s.isCollapsed()?[e.dom.getParent(s.getNode(),e.dom.isBlock)]:s.getSelectedBlocks();return ts(a,c=>_e(e.formatter.matchNode(c,o)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},fq=e=>{uq(e),mq(e)},gq=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const o=e.getDoc();let s;try{o.execCommand(t)}catch{s=!0}if(t==="paste"&&!o.queryCommandEnabled(t)&&(s=!0),s||!o.queryCommandSupported(t)){let a=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Mn.os.isMacOS()||Mn.os.isiOS())&&(a=a.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:a,type:"error"})}}})},pq=(e,t,o,s)=>{const a=oe.fromDom(e.getRoot());return t1(a,qe.fromRangeStart(t),s)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),mb(a,qe.fromRangeEnd(t),s)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},hq=e=>{if(typeof e!="string"){const t=Mt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},bq=(e,t)=>{const o=e.selection,s=e.dom;return/^ | $/.test(t)?pq(s,o.getRng(),t,e.schema):t},cN=(e,t)=>{if(e.selection.isEditable()){const{content:o,details:s}=hq(t);xw(e,{...s,content:bq(e,o),format:"html",set:!1,selection:!0}).each(a=>{const c=Vs(e,a.content,s);ww(e,c,a),e.addVisual()})}},yq=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,o,s)=>{cN(e,e.dom.createHTML("img",{src:s}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,o,s)=>{cN(e,e.dom.encode(s))},insertHTML:(t,o,s)=>{cN(e,s)},mceInsertContent:(t,o,s)=>{cN(e,s)},mceSetContent:(t,o,s)=>{e.setContent(s)},mceReplaceContent:(t,o,s)=>{e.execCommand("mceInsertContent",!1,s.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent($E(e))}})},vq={"font-size":"size","font-family":"face"},kq=Er("font"),xq=(e,t,o)=>{const s=c=>Te(c,e).orThunk(()=>kq(c)?hs(vq,e).bind(d=>Qi(c,d)):H.none()),a=c=>On(oe.fromDom(t),c);return a0(oe.fromDom(o),c=>s(c),a)},wq=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),_q=(e,t)=>H.from(Hs.DOM.getStyle(t,e,!0)),R7=e=>(t,o)=>H.from(o).map(oe.fromDom).filter(xi).bind(s=>xq(e,t,s.dom).or(_q(e,s.dom))).getOr(""),Aq=R7("font-size"),Cq=Jt(wq,R7("font-family")),Sq=e=>Hl(e.getBody()).bind(t=>{const o=t.container();return H.from(kt(o)?o.parentNode:o)}),Eq=e=>H.from(e.selection.getRng()).bind(t=>{const o=e.getBody();return t.startContainer===o&&t.startOffset===0?H.none():H.from(e.selection.getStart(!0))}),Tq=(e,t)=>Eq(e).orThunk($t(Sq,e)).map(oe.fromDom).filter(xi).bind(t),NL=(e,t)=>Tq(e,kn(H.some,t)),N7=(e,t)=>{if(/^[0-9.]+$/.test(t)){const o=parseInt(t,10);if(o>=1&&o<=7){const s=Nk(e),a=oT(e);return a.length>0?a[o-1]||t:s[o-1]||t}else return t}else return t},Oq=e=>{const t=e.split(/\s*,\s*/);return Zo(t,o=>o.indexOf(" ")!==-1&&!(ds(o,'"')||ds(o,"'"))?`'${o}'`:o).join(",")},zq=(e,t)=>{const o=N7(e,t);e.formatter.toggle("fontname",{value:Oq(o)}),e.nodeChanged()},Dq=e=>NL(e,t=>Cq(e.getBody(),t.dom)).getOr(""),Rq=(e,t)=>{e.formatter.toggle("fontsize",{value:N7(e,t)}),e.nodeChanged()},Nq=e=>NL(e,t=>Aq(e.getBody(),t.dom)).getOr(""),Mq=e=>NL(e,t=>{const o=oe.fromDom(e.getBody()),s=a0(t,c=>Te(c,"line-height"),$t(On,o)),a=()=>{const c=parseFloat(ha(t,"line-height")),d=parseFloat(ha(t,"font-size"));return String(c/d)};return s.getOrThunk(a)}).getOr(""),Iq=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},Bq=e=>{const t=(o,s)=>{e.formatter.toggle(o,s),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{t(o)},"ForeColor,HiliteColor":(o,s,a)=>{t(o,{value:a})},BackColor:(o,s,a)=>{t("hilitecolor",{value:a})},FontName:(o,s,a)=>{zq(e,a)},FontSize:(o,s,a)=>{Rq(e,a)},LineHeight:(o,s,a)=>{Iq(e,a)},Lang:(o,s,a)=>{var c;t(o,{value:a.code,customValue:(c=a.customCode)!==null&&c!==void 0?c:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(o,s,a)=>{t(Qe(a)?a:"p")},mceToggleFormat:(o,s,a)=>{t(a)}})},Lq=e=>{const t=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>t(o),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>Dq(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>Nq(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>Mq(e))},Pq=e=>{Bq(e),Lq(e)},Fq=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},Uq=e=>{e.editorCommands.addCommands({Indent:()=>{P(e)},Outdent:()=>{$(e)}}),e.editorCommands.addCommands({Outdent:()=>w(e)},"state")},Hq=e=>{const t=(o,s,a)=>{const c=Qe(a)?{href:a}:a,d=e.dom.getParent(e.selection.getNode(),"a");ae(c)&&Qe(c.href)&&(c.href=c.href.replace(/ /g,"%20"),(!d||!c.href)&&e.formatter.remove("link"),c.href&&e.formatter.apply("link",c,d))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},Vq=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);const o=e.dom.getParent(e.selection.getNode(),"ol,ul");if(o){const s=o.parentNode;if(s&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(s.nodeName)){const a=e.selection.getBookmark();e.dom.split(s,o),e.selection.moveToBookmark(a)}}}})},jq=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{const o=e.dom.getParent(e.selection.getNode(),"ul,ol");return o&&(t==="insertunorderedlist"&&o.tagName==="UL"||t==="insertorderedlist"&&o.tagName==="OL")}},"state")},Zq=e=>{Vq(e),jq(e)},qq=(e,t,o,s)=>{const a=e.dom,c=g=>a.isBlock(g)&&g.parentElement===o,d=c(t)?t:a.getParent(s,c,o);return H.from(d).map(oe.fromDom)},M7=(e,t)=>{const o=e.dom,s=e.selection.getRng(),a=t?e.selection.getStart():e.selection.getEnd(),c=t?s.startContainer:s.endContainer,d=vE(o,c);if(!d||!d.isContentEditable)return;const g=t?zr:Js,v=Ia(e);qq(e,a,d,c).each(E=>{const I=X6(e,c,E.dom,d,!1,v);g(E,oe.fromDom(I)),e.selection.setCursorLocation(I,0),e.dispatch("NewBlock",{newBlock:I}),yE(e,"insertParagraph")})},Wq=e=>M7(e,!0),$q=e=>M7(e,!1),Gq=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{Wq(e)},InsertNewBlockAfter:()=>{$q(e)}})},Kq=e=>{e.editorCommands.addCommands({insertParagraph:()=>{QR(nP,e)},mceInsertNewLine:(t,o,s)=>{dP(e,s)},InsertLineBreak:(t,o,s)=>{QR(aP,e)}})},Yq=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,o,s)=>{let a=0;e.dom.getParent(e.selection.getNode(),c=>ro(c)&&a++===s?(e.selection.select(c),!1):!0,e.getBody())},mceSelectNode:(t,o,s)=>{e.selection.select(s)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),ml);if(t){const o=e.dom.createRng();o.selectNodeContents(t),e.selection.setRng(o)}}})},Qq=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,o,s)=>{const a=s??e.selection.getNode();if(a!==e.getBody()){const c=e.selection.getBookmark();e.dom.remove(a,!0),e.selection.moveToBookmark(c)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,o,s)=>{Fp(e,s===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},Jq=e=>{fq(e),gq(e),Fq(e),Yq(e),yq(e),Hq(e),Uq(e),Gq(e),Kq(e),Zq(e),Pq(e),Qq(e)},Xq=["toggleview"],I7=e=>Nn(Xq,e.toLowerCase());class B7{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,o=!1,s,a){const c=this.editor,d=t.toLowerCase(),g=a==null?void 0:a.skip_focus;if(c.removed||(d!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(d)&&!g?c.focus():C4(c)),c.dispatch("BeforeExecCommand",{command:t,ui:o,value:s}).isDefaultPrevented()))return!1;const E=this.commands.exec[d];return Je(E)?(E(d,o,s),c.dispatch("ExecCommand",{command:t,ui:o,value:s}),!0):!1}queryCommandState(t){if(!I7(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=t.toLowerCase(),s=this.commands.state[o];return Je(s)?s(o):!1}queryCommandValue(t){if(!I7(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=t.toLowerCase(),s=this.commands.value[o];return Je(s)?s(o):""}addCommands(t,o="exec"){const s=this.commands;An(t,(a,c)=>{ut(c.toLowerCase().split(","),d=>{s[o][d]=a})})}addCommand(t,o,s){const a=t.toLowerCase();this.commands.exec[a]=(c,d,g)=>o.call(s??this.editor,d,g)}queryCommandSupported(t){const o=t.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(t,o,s){this.commands.state[t.toLowerCase()]=()=>o.call(s??this.editor)}addQueryValueHandler(t,o,s){this.commands.value[t.toLowerCase()]=()=>o.call(s??this.editor)}}const X0="data-mce-contenteditable",eW=(e,t,o)=>{Yl(e,t)&&!o?Kl(e,t):o&&Br(e,t)},ML=(e,t,o)=>{try{e.getDoc().execCommand(t,!1,String(o))}catch{}},dN=(e,t)=>{e.dom.contentEditable=t?"true":"false"},tW=e=>{ut($a(e,'*[contenteditable="true"]'),t=>{Cs(t,X0,"true"),dN(t,!1)})},oW=e=>{ut($a(e,`*[${X0}="true"]`),t=>{ur(t,X0),dN(t,!0)})},nW=e=>{H.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},sW=e=>{e.selection.setRng(e.selection.getRng())},rW=(e,t)=>{const o=oe.fromDom(e.getBody());eW(o,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),nW(e),e.readonly=!0,dN(o,!1),tW(o)):(e.readonly=!1,e.hasEditableRoot()&&dN(o,!0),oW(o),ML(e,"StyleWithCSS",!1),ML(e,"enableInlineTableEditing",!1),ML(e,"enableObjectResizing",!1),cx(e)&&e.focus(),sW(e),e.nodeChanged())},ek=e=>e.readonly,L7=e=>{e.parser.addAttributeFilter("contenteditable",t=>{ek(e)&&ut(t,o=>{o.attr(X0,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(X0,t=>{ek(e)&&ut(t,o=>{o.attr("contenteditable",o.attr(X0))})}),e.serializer.addTempAttr(X0)},aW=e=>{e.serializer?L7(e):e.on("PreInit",()=>{L7(e)})},iW=e=>e.type==="click",lW=["copy"],cW=e=>Nn(lW,e.type),dW=(e,t)=>Hi(t,"a",s=>On(s,oe.fromDom(e.getBody()))).bind(s=>Qi(s,"href")),uW=(e,t)=>{if(iW(t)&&!Xt.metaKeyPressed(t)){const o=oe.fromDom(t.target);dW(e,o).each(s=>{if(t.preventDefault(),/^#/.test(s)){const a=e.dom.select(`${s},[name="${$u(s,"#")}"]`);a.length&&e.selection.scrollIntoView(a[0],!0)}else window.open(s,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else cW(t)&&e.dispatch(t.type,t)},mW=e=>{e.on("ShowCaret",t=>{ek(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{ek(e)&&t.preventDefault()})},fW=Mt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class IL{static isNative(t){return!!fW[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Mo}fire(t,o){return this.dispatch(t,o)}dispatch(t,o){const s=t.toLowerCase(),a=tv(s,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(a);const c=this.bindings[s];if(c)for(let d=0,g=c.length;d<g;d++){const v=c[d];if(!v.removed){if(v.once&&this.off(s,v.func),a.isImmediatePropagationStopped())return a;if(v.func.call(this.scope,a)===!1)return a.preventDefault(),a}}return a}on(t,o,s,a){if(o===!1&&(o=Mo),o){const c={func:o,removed:!1};a&&Mt.extend(c,a);const d=t.toLowerCase().split(" ");let g=d.length;for(;g--;){const v=d[g];let E=this.bindings[v];E||(E=[],this.toggleEvent(v,!0)),s?E=[c,...E]:E=[...E,c],this.bindings[v]=E}}return this}off(t,o){if(t){const s=t.toLowerCase().split(" ");let a=s.length;for(;a--;){const c=s[a];let d=this.bindings[c];if(!c)return An(this.bindings,(g,v)=>{this.toggleEvent(v,!1),delete this.bindings[v]}),this;if(d){if(!o)d.length=0;else{const g=St(d,v=>v.func===o);d=g.fail,this.bindings[c]=d,ut(g.pass,v=>{v.removed=!0})}d.length||(this.toggleEvent(t,!1),delete this.bindings[c])}}}else An(this.bindings,(s,a)=>{this.toggleEvent(a,!1)}),this.bindings={};return this}once(t,o,s){return this.on(t,o,s,{once:!0})}has(t){t=t.toLowerCase();const o=this.bindings[t];return!(!o||o.length===0)}}const CE=e=>(e._eventDispatcher||(e._eventDispatcher=new IL({scope:e,toggleEvent:(t,o)=>{IL.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,o)}})),e._eventDispatcher),BL={fire(e,t,o){return this.dispatch(e,t,o)},dispatch(e,t,o){const s=this;if(s.removed&&e!=="remove"&&e!=="detach")return tv(e.toLowerCase(),t??{},s);const a=CE(s).dispatch(e,t);if(o!==!1&&s.parent){let c=s.parent();for(;c&&!a.isPropagationStopped();)c.dispatch(e,a,!1),c=c.parent?c.parent():void 0}return a},on(e,t,o){return CE(this).on(e,t,o)},off(e,t){return CE(this).off(e,t)},once(e,t){return CE(this).once(e,t)},hasEventListeners(e){return CE(this).has(e)}},uN=Hs.DOM;let tk;const mN=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const o=V_(e);return o?(e.eventRoot||(e.eventRoot=uN.select(o)[0]),e.eventRoot):e.getBody()},gW=e=>!e.hidden&&!ek(e),P7=(e,t,o)=>{gW(e)?e.dispatch(t,o):ek(e)&&uW(e,o)},F7=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const o=mN(e,t);if(V_(e)){if(tk||(tk={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||tk&&(An(tk,(a,c)=>{e.dom.unbind(mN(e,c))}),tk=null)})),tk[t])return;const s=a=>{const c=a.target,d=e.editorManager.get();let g=d.length;for(;g--;){const v=d[g].getBody();(v===c||uN.isChildOf(c,v))&&P7(d[g],t,a)}};tk[t]=s,uN.bind(o,t,s)}else{const s=a=>{P7(e,t,a)};uN.bind(o,t,s),e.delegates[t]=s}},U7={...BL,bindPendingEventDelegates(){const e=this;Mt.each(e._pendingNativeEvents,t=>{F7(e,t)})},toggleNativeEvent(e,t){const o=this;e==="focus"||e==="blur"||o.removed||(t?o.initialized?F7(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(mN(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),o=e.dom;e.delegates&&(An(e.delegates,(s,a)=>{e.dom.unbind(mN(e,a),a,s)}),delete e.delegates),!e.inline&&t&&o&&(t.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(t),o.unbind(e.getContainer()))}},pW=e=>Qe(e)?{value:e.split(/[ ,]/),valid:!0}:ft(e,Qe)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},hW=e=>{const t=(()=>{switch(e){case"array":return he;case"boolean":return sn;case"function":return Je;case"number":return O;case"object":return ae;case"string":return Qe;case"string[]":return pW;case"object[]":return o=>ft(o,ae);case"regexp":return o=>At(o,RegExp);default:return pn}})();return o=>LL(o,t,`The value must be a ${e}.`)},bW=e=>Qe(e.processor),H7=(e,t)=>{const o=nr(t.message)?"":`. ${t.message}`;return e+o},V7=e=>e.valid,LL=(e,t,o="")=>{const s=t(e);return sn(s)?s?{value:e,valid:!0}:{valid:!1,message:o}:s},yW=(e,t,o)=>{if(!lo(t)){const s=LL(t,o);if(V7(s))return s.value;console.error(H7(`Invalid default value passed for the "${e}" option`,s))}},vW=(e,t)=>{const o={},s={},a=(B,U,X)=>{const ne=LL(U,X);return V7(ne)?(s[B]=ne.value,!0):(console.warn(H7(`Invalid value passed for the ${B} option`,ne)),!1)},c=(B,U)=>{const X=bW(U)?hW(U.processor):U.processor,ne=yW(B,U.default,X);o[B]={...U,default:ne,processor:X},hs(s,B).orThunk(()=>hs(t,B)).each(se=>a(B,se,X))},d=B=>Lo(o,B);return{register:c,isRegistered:d,get:B=>hs(s,B).orThunk(()=>hs(o,B).map(U=>U.default)).getOrUndefined(),set:(B,U)=>{if(d(B)){const X=o[B];return X.immutable?(console.error(`"${B}" is an immutable option and cannot be updated`),!1):a(B,U,X.processor)}else return console.warn(`"${B}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:B=>{const U=d(B);return U&&delete s[B],U},isSet:B=>Lo(s,B)}},kW=["design","readonly"],j7=(e,t,o,s)=>{const a=o[t.get()],c=o[s];try{c.activate()}catch(d){console.error(`problem while activating editor mode ${s}:`,d);return}a.deactivate(),a.editorReadOnly!==c.editorReadOnly&&rW(e,c.editorReadOnly),t.set(s),ZT(e,s)},xW=(e,t,o,s)=>{if(s!==o.get()){if(!Lo(t,s))throw new Error(`Editor mode '${s}' is invalid`);e.initialized?j7(e,o,t,s):e.on("init",()=>j7(e,o,t,s))}},wW=(e,t,o)=>{if(Nn(kW,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...o,deactivate:()=>{try{o.deactivate()}catch(s){console.error(`problem while deactivating editor mode ${t}:`,s)}}}}},_W=e=>{const t=ia("design"),o=ia({design:{activate:dt,deactivate:dt,editorReadOnly:!1},readonly:{activate:dt,deactivate:dt,editorReadOnly:!0}});return aW(e),mW(e),{isReadOnly:()=>ek(e),set:s=>xW(e,o.get(),t,s),get:()=>t.get(),register:(s,a)=>{o.set(wW(o.get(),s,a))}}},PL=Mt.each,FL=Mt.explode,AW={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Z7=Mt.makeMap("alt,ctrl,shift,meta,access"),CW=e=>e in Z7,SW=e=>{const t={},o=Mn.os.isMacOS()||Mn.os.isiOS();PL(FL(e.toLowerCase(),"+"),c=>{CW(c)?t[c]=!0:/^[0-9]{2,}$/.test(c)?t.keyCode=parseInt(c,10):(t.charCode=c.charCodeAt(0),t.keyCode=AW[c]||c.toUpperCase().charCodeAt(0))});const s=[t.keyCode];let a;for(a in Z7)t[a]?s.push(a):t[a]=!1;return t.id=s.join(","),t.access&&(t.alt=!0,o?t.ctrl=!0:t.shift=!0),t.meta&&(o?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class q7{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const o=this;t.on("keyup keypress keydown",s=>{(o.hasModifier(s)||o.isFunctionKey(s))&&!s.isDefaultPrevented()&&(PL(o.shortcuts,a=>{o.matchShortcut(s,a)&&(o.pendingPatterns=a.subpatterns.slice(0),s.type==="keydown"&&o.executeShortcutAction(a))}),o.matchShortcut(s,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&s.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(t,o,s,a){const c=this,d=c.normalizeCommandFunc(s);return PL(FL(Mt.trim(t)),g=>{const v=c.createShortcut(g,o,d,a);c.shortcuts[v.id]=v}),!0}remove(t){const o=this.createShortcut(t);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(t){const o=this,s=t;return typeof s=="string"?()=>{o.editor.execCommand(s,!1,null)}:Mt.isArray(s)?()=>{o.editor.execCommand(s[0],s[1],s[2])}:s}createShortcut(t,o,s,a){const c=Mt.map(FL(t,">"),SW);return c[c.length-1]=Mt.extend(c[c.length-1],{func:s,scope:a||this.editor}),Mt.extend(c[0],{desc:this.editor.translate(o),subpatterns:c.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,o){return!o||o.ctrl!==t.ctrlKey||o.meta!==t.metaKey||o.alt!==t.altKey||o.shift!==t.shiftKey?!1:t.keyCode===o.keyCode||t.charCode&&t.charCode===o.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const EW=()=>{const e={},t={},o={},s={},a={},c={},d={},g={},v=(I,B)=>(U,X)=>{I[U.toLowerCase()]={...X,type:B}},E=(I,B)=>s[I.toLowerCase()]=B;return{addButton:v(e,"button"),addGroupToolbarButton:v(e,"grouptoolbarbutton"),addToggleButton:v(e,"togglebutton"),addMenuButton:v(e,"menubutton"),addSplitButton:v(e,"splitbutton"),addMenuItem:v(t,"menuitem"),addNestedMenuItem:v(t,"nestedmenuitem"),addToggleMenuItem:v(t,"togglemenuitem"),addAutocompleter:v(o,"autocompleter"),addContextMenu:v(a,"contextmenu"),addContextToolbar:v(c,"contexttoolbar"),addContextForm:v(c,"contextform"),addSidebar:v(d,"sidebar"),addView:v(g,"views"),addIcon:E,getAll:()=>({buttons:e,menuItems:t,icons:s,popups:o,contextMenus:a,contextToolbars:c,sidebars:d,views:g})}},TW=()=>{const e=EW();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},ok=Hs.DOM,W7=Mt.extend,OW=Mt.each;class fN{constructor(t,o,s){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=s,this.documentBaseUrl=s.documentBaseURL,W7(this,U7);const a=this;this.id=t,this.hidden=!1;const c=cq(s.defaultOptions,o);this.options=vW(a,c),Ul(a);const d=this.options.get;d("deprecation_warnings")&&kS(o,c);const g=d("suffix");g&&(s.suffix=g),this.suffix=s.suffix;const v=d("base_url");v&&s._setBaseUrl(v),this.baseUri=s.baseURI;const E=P_(a);E&&(sl.ScriptLoader._setReferrerPolicy(E),Hs.DOM.styleSheetLoader._setReferrerPolicy(E));const I=zu(a);_e(I)&&Hs.DOM.styleSheetLoader._setContentCssCors(I),Zi.languageLoad=d("language_load"),Zi.baseURL=s.baseURL,this.setDirty(!1),this.documentBaseURI=new eu(xm(a),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Ey(a),this.hasVisual=Yn(a),this.shortcuts=new q7(this),this.editorCommands=new B7(this),Jq(this);const B=d("cache_suffix");B&&(Mn.cacheSuffix=B.replace(/^[\?\&]+/,"")),this.ui={registry:TW(),styleSheetLoader:void 0,show:dt,hide:dt,setEnabled:dt,isEnabled:pn},this.mode=_W(a),s.dispatch("SetupEditor",{editor:this});const U=Oy(a);Je(U)&&U.call(a,a)}render(){GZ(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return Pp(this)}translate(t){return Pl.translate(t)}getParam(t,o,s){const a=this.options;return a.isRegistered(t)||(_e(s)?a.register(t,{processor:s,default:o}):a.register(t,{processor:pn,default:o})),!a.isSet(t)&&!lo(o)?o:a.get(t)}hasPlugin(t,o){return Nn(Ef(this),t)?o?x1.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,o,s){this.editorCommands.addCommand(t,o,s)}addQueryStateHandler(t,o,s){this.editorCommands.addQueryStateHandler(t,o,s)}addQueryValueHandler(t,o,s){this.editorCommands.addQueryValueHandler(t,o,s)}addShortcut(t,o,s,a){this.shortcuts.add(t,o,s,a)}execCommand(t,o,s,a){return this.editorCommands.execCommand(t,o,s,a)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(ok.show(t.getContainer()),ok.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(ok.hide(t.getContainer()),ok.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,o){this.dispatch("ProgressState",{state:t,time:o})}load(t={}){const o=this,s=o.getElement();if(o.removed)return"";if(s){const a={...t,load:!0},c=Id(s)?s.value:s.innerHTML,d=o.setContent(c,a);return a.no_events||o.dispatch("LoadContent",{...a,element:s}),d}else return""}save(t={}){const o=this;let s=o.getElement();if(!s||!o.initialized||o.removed)return"";const a={...t,save:!0,element:s};let c=o.getContent(a);const d={...a,content:c};if(d.no_events||o.dispatch("SaveContent",d),d.format==="raw"&&o.dispatch("RawSaveContent",d),c=d.content,Id(s))s.value=c;else{(t.is_removing||!o.inline)&&(s.innerHTML=c);const g=ok.getParent(o.id,"form");g&&OW(g.elements,v=>v.name===o.id?(v.value=c,!1):!0)}return d.element=a.element=s=null,d.set_dirty!==!1&&o.setDirty(!1),c}setContent(t,o){return yS(this,t,o)}getContent(t){return Uz(this,t)}insertContent(t,o){o&&(t=W7({content:t},o)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?yS(this,this.startContent,{format:"raw"}):yS(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const o=!this.isNotDirty;this.isNotDirty=!t,t&&t!==o&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||ok.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=ok.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const o=t.iframeElement;o&&(t.contentWindow=o.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const o=t.getWin();o&&(t.contentDocument=o.document)}return t.contentDocument}getBody(){var t,o;const s=this.getDoc();return(o=(t=this.bodyElement)!==null&&t!==void 0?t:s==null?void 0:s.body)!==null&&o!==void 0?o:null}convertURL(t,o,s){const a=this,c=a.options.get,d=qE(a);if(Je(d))return d.call(a,t,s,!0,o);if(!c("convert_urls")||s==="link"||ae(s)&&s.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const g=new eu(t);return g.protocol!=="http"&&g.protocol!=="https"&&g.protocol!==""?t:c("relative_urls")?a.documentBaseURI.toRelative(t):(t=a.documentBaseURI.toAbsolute(t,c("remove_script_host")),t)}addVisual(t){dq(this,t)}setEditableRoot(t){KZ(this,t)}hasEditableRoot(){return YZ(this)}remove(){D0(this)}destroy(t){w5(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const p_=Hs.DOM,gN=Mt.each;let $7=!1,pN,wd=[];const hN=e=>{const t=e.type;gN(N1.get(),o=>{switch(t){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},G7=e=>{if(e!==$7){const t=Hs.DOM;e?(t.bind(window,"resize",hN),t.bind(window,"scroll",hN)):(t.unbind(window,"resize",hN),t.unbind(window,"scroll",hN)),$7=e}},K7=e=>{const t=wd;return wd=nt(wd,o=>e!==o),N1.activeEditor===e&&(N1.activeEditor=wd.length>0?wd[0]:null),N1.focusedEditor===e&&(N1.focusedEditor=null),t.length!==wd.length},zW=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(K7(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},DW=document.compatMode!=="CSS1Compat",N1={...BL,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"8.2",releaseDate:"2023-12-11",i18n:Pl,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",o="",s=eu.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/"));const a=window.tinymce||window.tinyMCEPreInit;if(a)t=a.base||a.baseURL,o=a.suffix;else{const c=document.getElementsByTagName("script");for(let d=0;d<c.length;d++){const g=c[d].src||"";if(g==="")continue;const v=g.substring(g.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(g)){v.indexOf(".min")!==-1&&(o=".min"),t=g.substring(0,g.lastIndexOf("/"));break}}if(!t&&document.currentScript){const d=document.currentScript.src;d.indexOf(".min")!==-1&&(o=".min"),t=d.substring(0,d.lastIndexOf("/"))}}e.baseURL=new eu(s).toAbsolute(t),e.documentBaseURL=s,e.baseURI=new eu(e.baseURL),e.suffix=o,KM(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const s=e.plugin_base_urls;s!==void 0&&An(s,(a,c)=>{Zi.PluginManager.urls[c]=a})},init(e){const t=this;let o;const s=Mt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=(I,B)=>I.inline&&B.tagName.toLowerCase()in s,c=I=>{let B=I.id;return B||(B=hs(I,"name").filter(U=>!p_.get(U)).getOrThunk(p_.uniqueId),I.setAttribute("id",B)),B},d=I=>{const B=e[I];if(B)return B.apply(t,[])},g=I=>Mn.browser.isIE()||Mn.browser.isEdge()?(w1("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):DW?(w1("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):Qe(I.selector)?p_.select(I.selector):_e(I.target)?[I.target]:[];let v=I=>{o=I};const E=()=>{let I=0;const B=[];let U;const X=(ne,Q,se)=>{const ke=new fN(ne,Q,t);B.push(ke),ke.on("init",()=>{++I===U.length&&v(B)}),ke.targetElm=ke.targetElm||se,ke.render()};p_.unbind(window,"ready",E),d("onpageload"),U=Pa(g(e)),Mt.each(U,ne=>{zW(t.get(ne.id))}),U=Mt.grep(U,ne=>!t.get(ne.id)),U.length===0?v([]):gN(U,ne=>{a(e,ne)?w1("Could not initialize inline editor on invalid inline target element",ne):X(c(ne),e,ne)})};return p_.bind(window,"ready",E),new Promise(I=>{o?I(o):v=B=>{I(B)}})},get(e){return arguments.length===0?wd.slice(0):Qe(e)?on(wd,t=>t.id===e).getOr(null):O(e)&&wd[e]?wd[e]:null},add(e){const t=this,o=t.get(e.id);return o===e||(o===null&&wd.push(e),G7(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),pN||(pN=s=>{const a=t.dispatch("BeforeUnload");if(a.returnValue)return s.preventDefault(),s.returnValue=a.returnValue,a.returnValue},window.addEventListener("beforeunload",pN))),e},createEditor(e,t){return this.add(new fN(e,t,this))},remove(e){const t=this;let o;if(!e){for(let s=wd.length-1;s>=0;s--)t.remove(wd[s]);return}if(Qe(e)){gN(p_.select(e),s=>{o=t.get(s.id),o&&t.remove(o)});return}return o=e,tt(t.get(o.id))?null:(K7(o)&&t.dispatch("RemoveEditor",{editor:o}),wd.length===0&&window.removeEventListener("beforeunload",pN),o.remove(),G7(wd.length>0),o)},execCommand(e,t,o){var s;const a=this,c=ae(o)?(s=o.id)!==null&&s!==void 0?s:o.index:o;switch(e){case"mceAddEditor":{if(!a.get(c)){const d=o.options;new fN(c,d,a).render()}return!0}case"mceRemoveEditor":{const d=a.get(c);return d&&d.remove(),!0}case"mceToggleEditor":{const d=a.get(c);return d?(d.isHidden()?d.show():d.hide(),!0):(a.execCommand("mceAddEditor",!1,o),!0)}}return a.activeEditor?a.activeEditor.execCommand(e,t,o):!1},triggerSave:()=>{gN(wd,e=>{e.save()})},addI18n:(e,t)=>{Pl.add(e,t)},translate:e=>Pl.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new eu(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new eu(this.baseURL)}};N1.setup();const RW=(()=>{const e=jd(),t=c=>({items:c,types:vt(c),getType:d=>hs(c,d).getOrUndefined()}),o=c=>{e.set(c)},s=()=>e.get().getOrUndefined(),a=e.clear;return{FakeClipboardItem:t,write:o,read:s,clear:a}})(),Y7=Math.min,h_=Math.max,bN=Math.round,Q7=(e,t,o)=>{let s=t.x,a=t.y;const c=e.w,d=e.h,g=t.w,v=t.h,E=(o||"").split("");return E[0]==="b"&&(a+=v),E[1]==="r"&&(s+=g),E[0]==="c"&&(a+=bN(v/2)),E[1]==="c"&&(s+=bN(g/2)),E[3]==="b"&&(a-=d),E[4]==="r"&&(s-=c),E[3]==="c"&&(a-=bN(d/2)),E[4]==="c"&&(s-=bN(c/2)),b_(s,a,c,d)},NW=(e,t,o,s)=>{for(let a=0;a<s.length;a++){const c=Q7(e,t,s[a]);if(c.x>=o.x&&c.x+c.w<=o.w+o.x&&c.y>=o.y&&c.y+c.h<=o.h+o.y)return s[a]}return null},MW=(e,t,o)=>b_(e.x-t,e.y-o,e.w+t*2,e.h+o*2),IW=(e,t)=>{const o=h_(e.x,t.x),s=h_(e.y,t.y),a=Y7(e.x+e.w,t.x+t.w),c=Y7(e.y+e.h,t.y+t.h);return a-o<0||c-s<0?null:b_(o,s,a-o,c-s)},BW=(e,t,o)=>{let s=e.x,a=e.y,c=e.x+e.w,d=e.y+e.h;const g=t.x+t.w,v=t.y+t.h,E=h_(0,t.x-s),I=h_(0,t.y-a),B=h_(0,c-g),U=h_(0,d-v);return s+=E,a+=I,o&&(c+=E,d+=I,s-=B,a-=U),c-=B,d-=U,b_(s,a,c-s,d-a)},b_=(e,t,o,s)=>({x:e,y:t,w:o,h:s}),LW={inflate:MW,relativePosition:Q7,findBestRelativePosition:NW,intersect:IW,clamp:BW,create:b_,fromClientRect:e=>b_(e.left,e.top,e.width,e.height)},PW=(e,t,o=1e3)=>{let s=!1,a=null;const c=E=>(...I)=>{s||(s=!0,a!==null&&(clearTimeout(a),a=null),E.apply(null,I))},d=c(e),g=c(t);return{start:(...E)=>{!s&&a===null&&(a=setTimeout(()=>g.apply(null,E),o))},resolve:d,reject:g}},FW=(()=>{const e={},t={},o={};return{load:(v,E)=>{const I=`Script at URL "${E}" failed to load`,B=`Script at URL "${E}" did not call \`tinymce.Resource.add('${v}', data)\` within 1 second`;if(e[v]!==void 0)return e[v];{const U=new Promise((X,ne)=>{const Q=PW(X,ne);t[v]=Q.resolve,sl.ScriptLoader.loadScript(E).then(()=>Q.start(B),()=>Q.reject(I))});return e[v]=U,U}},add:(v,E)=>{t[v]!==void 0&&(t[v](E),delete t[v]),e[v]=Promise.resolve(E),o[v]=E},has:v=>v in o,get:v=>o[v],unload:v=>{delete e[v]}}})(),UW=()=>(()=>{let e={},t=[];const o={getItem:s=>{const a=e[s];return a||null},setItem:(s,a)=>{t.push(s),e[s]=String(a)},key:s=>t[s],removeItem:s=>{t=t.filter(a=>a===s),delete e[s]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),o})();let SE;try{const e="__storage_test__";SE=window.localStorage,SE.setItem(e,e),SE.removeItem(e)}catch{SE=UW()}var HW=SE;const VW={geom:{Rect:LW},util:{Delay:yd,Tools:Mt,VK:Xt,URI:eu,EventDispatcher:IL,Observable:BL,I18n:Pl,LocalStorage:HW,ImageUploader:I5},dom:{EventUtils:mf,TreeWalker:Da,TextSeeker:bf,DOMUtils:Hs,ScriptLoader:sl,RangeUtils:Ag,Serializer:T0,StyleSheetLoader:$s,ControlSelection:jy,BookmarkManager:Hy,Selection:pS,Event:mf.Event},html:{Styles:Ch,Entities:gr,Node:jl,Schema:Su,DomParser:Eb,Writer:A2,Serializer:Cg},Env:Mn,AddOnManager:Zi,Annotator:IA,Formatter:B0,UndoManager:Vw,EditorCommands:B7,WindowManager:ES,NotificationManager:CS,EditorObservable:U7,Shortcuts:q7,Editor:fN,FocusManager:ab,EditorManager:N1,DOM:Hs.DOM,ScriptLoader:sl.ScriptLoader,PluginManager:x1,ThemeManager:$p,ModelManager:zb,IconManager:Ob,Resource:FW,FakeClipboard:RW,trim:Mt.trim,isArray:Mt.isArray,is:Mt.is,toArray:Mt.toArray,makeMap:Mt.makeMap,each:Mt.each,map:Mt.map,grep:Mt.grep,inArray:Mt.inArray,extend:Mt.extend,walk:Mt.walk,resolve:Mt.resolve,explode:Mt.explode,_addCacheSuffix:Mt._addCacheSuffix},J7=Mt.extend(N1,VW),jW=e=>{try{le.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(J7),jW(J7)})()})(TG);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const le=Object.getPrototypeOf,De=(n,r,i)=>{var l;return!!i(n,r.prototype)||((l=n.constructor)===null||l===void 0?void 0:l.name)===r.name},de=n=>r=>(i=>{const l=typeof i;return i===null?"null":l==="object"&&Array.isArray(i)?"array":l==="object"&&De(i,String,(u,m)=>m.isPrototypeOf(u))?"string":l})(r)===n,xe=n=>r=>typeof r===n,Le=n=>r=>n===r,ze=de("string"),Tt=de("object"),Oe=n=>((r,i)=>Tt(r)&&De(r,i,(l,u)=>le(l)===u))(n,Object),Pe=de("array"),je=Le(null),rt=xe("boolean"),zt=Le(void 0),ct=n=>n==null,Se=n=>!ct(n),Ue=xe("function"),xt=xe("number"),so=(n,r)=>{if(Pe(n)){for(let i=0,l=n.length;i<l;++i)if(!r(n[i]))return!1;return!0}return!1},We=()=>{},At=n=>()=>n(),Qe=(n,r)=>(...i)=>n(r.apply(null,i)),ae=n=>()=>n,Lt=n=>n,he=(n,r)=>n===r;function tt(n,...r){return(...i)=>{const l=r.concat(i);return n.apply(null,l)}}const sn=n=>r=>!n(r),lo=n=>()=>{throw new Error(n)},Vt=n=>n(),_e=ae(!1),Je=ae(!0);class O{constructor(r,i){this.tag=r,this.value=i}static some(r){return new O(!0,r)}static none(){return O.singletonNone}fold(r,i){return this.tag?i(this.value):r()}isSome(){return this.tag}isNone(){return!this.tag}map(r){return this.tag?O.some(r(this.value)):O.none()}bind(r){return this.tag?r(this.value):O.none()}exists(r){return this.tag&&r(this.value)}forall(r){return!this.tag||r(this.value)}filter(r){return!this.tag||r(this.value)?this:O.none()}getOr(r){return this.tag?this.value:r}or(r){return this.tag?this:r}getOrThunk(r){return this.tag?this.value:r()}orThunk(r){return this.tag?this:r()}getOrDie(r){if(this.tag)return this.value;throw new Error(r??"Called getOrDie on None")}static from(r){return Se(r)?O.some(r):O.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(r){this.tag&&r(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}O.singletonNone=new O(!1);const ft=Array.prototype.slice,dt=Array.prototype.indexOf,Jt=Array.prototype.push,kn=(n,r)=>dt.call(n,r),ht=(n,r)=>{const i=kn(n,r);return i===-1?O.none():O.some(i)},So=(n,r)=>kn(n,r)>-1,tr=(n,r)=>{for(let i=0,l=n.length;i<l;i++)if(r(n[i],i))return!0;return!1},$t=(n,r)=>{const i=[];for(let l=0;l<n;l++)i.push(r(l));return i},is=(n,r)=>{const i=[];for(let l=0;l<n.length;l+=r){const u=ft.call(n,l,l+r);i.push(u)}return i},Ct=(n,r)=>{const i=n.length,l=new Array(i);for(let u=0;u<i;u++){const m=n[u];l[u]=r(m,u)}return l},Yt=(n,r)=>{for(let i=0,l=n.length;i<l;i++)r(n[i],i)},hi=(n,r)=>{const i=[],l=[];for(let u=0,m=n.length;u<m;u++){const p=n[u];(r(p,u)?i:l).push(p)}return{pass:i,fail:l}},Mo=(n,r)=>{const i=[];for(let l=0,u=n.length;l<u;l++){const m=n[l];r(m,l)&&i.push(m)}return i},pn=(n,r,i)=>(((l,u)=>{for(let m=l.length-1;m>=0;m--)u(l[m],m)})(n,(l,u)=>{i=r(i,l,u)}),i),H=(n,r,i)=>(Yt(n,(l,u)=>{i=r(i,l,u)}),i),Un=(n,r)=>((i,l,u)=>{for(let m=0,p=i.length;m<p;m++){const b=i[m];if(l(b,m))return O.some(b);if(u(b,m))break}return O.none()})(n,r,_e),ti=(n,r)=>{for(let i=0,l=n.length;i<l;i++)if(r(n[i],i))return O.some(i);return O.none()},qn=n=>{const r=[];for(let i=0,l=n.length;i<l;++i){if(!Pe(n[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+n);Jt.apply(r,n[i])}return r},Ws=(n,r)=>qn(Ct(n,r)),Al=(n,r)=>{for(let i=0,l=n.length;i<l;++i)if(r(n[i],i)!==!0)return!1;return!0},Nn=n=>{const r=ft.call(n,0);return r.reverse(),r},ts=(n,r)=>Mo(n,i=>!So(r,i)),Zo=(n,r)=>{const i={};for(let l=0,u=n.length;l<u;l++){const m=n[l];i[String(m)]=r(m,l)}return i},ut=n=>[n],yt=(n,r)=>{const i=ft.call(n,0);return i.sort(r),i},St=(n,r)=>r>=0&&r<n.length?O.some(n[r]):O.none(),nt=n=>St(n,0),go=n=>St(n,n.length-1),rn=Ue(Array.from)?Array.from:n=>ft.call(n),Bn=(n,r)=>{for(let i=0;i<n.length;i++){const l=r(n[i],i);if(l.isSome())return l}return O.none()},on=Object.keys,La=Object.hasOwnProperty,fs=(n,r)=>{const i=on(n);for(let l=0,u=i.length;l<u;l++){const m=i[l];r(n[m],m)}},ln=(n,r)=>jr(n,(i,l)=>({k:l,v:r(i,l)})),jr=(n,r)=>{const i={};return fs(n,(l,u)=>{const m=r(l,u);i[m.k]=m.v}),i},ea=n=>(r,i)=>{n[i]=r},Ns=(n,r,i,l)=>{fs(n,(u,m)=>{(r(u,m)?i:l)(u,m)})},ws=(n,r)=>{const i={};return Ns(n,r,ea(i),We),i},wn=(n,r)=>{const i=[];return fs(n,(l,u)=>{i.push(r(l,u))}),i},Zr=(n,r)=>{const i=on(n);for(let l=0,u=i.length;l<u;l++){const m=i[l],p=n[m];if(r(p,m,n))return O.some(p)}return O.none()},Jo=n=>wn(n,Lt),Qt=(n,r)=>uo(n,r)?O.from(n[r]):O.none(),uo=(n,r)=>La.call(n,r),Cr=(n,r)=>uo(n,r)&&n[r]!==void 0&&n[r]!==null,Pa=(n,r,i=he)=>n.exists(l=>i(l,r)),vt=n=>{const r=[],i=l=>{r.push(l)};for(let l=0;l<n.length;l++)n[l].each(i);return r},wa=(n,r,i)=>n.isSome()&&r.isSome()?O.some(i(n.getOrDie(),r.getOrDie())):O.none(),An=(n,r)=>n!=null?O.some(r(n)):O.none(),Fa=(n,r)=>n?O.some(r):O.none(),Jn=(n,r,i)=>r===""||n.length>=r.length&&n.substr(i,i+r.length)===r,ed=(n,r)=>Cl(n,r)?((i,l)=>i.substring(l))(n,r.length):n,Sr=(n,r,i=0,l)=>{const u=n.indexOf(r,i);return u!==-1&&(!!zt(l)||u+r.length<=l)},Cl=(n,r)=>Jn(n,r,0),Ki=(n,r)=>Jn(n,r,n.length-r.length),oi=(du=/^\s+|\s+$/g,n=>n.replace(du,"")),cl=n=>n.length>0,hs=n=>!cl(n),Lo=n=>n.style!==void 0&&Ue(n.style.getPropertyValue),ni=n=>{if(n==null)throw new Error("Node cannot be null or undefined");return{dom:n}},bi=(n,r)=>{const i=(r||document).createElement("div");if(i.innerHTML=n,!i.hasChildNodes()||i.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,n),new Error(l)}return ni(i.childNodes[0])},Ni=(n,r)=>{const i=(r||document).createElement(n);return ni(i)},sc=(n,r)=>{const i=(r||document).createTextNode(n);return ni(i)},Ht=ni,Cd=typeof window<"u"?window:Function("return this;")(),_s=(n,r)=>((i,l)=>{let u=l??Cd;for(let m=0;m<i.length&&u!=null;++m)u=u[i[m]];return u})(n.split("."),r),ou=Object.getPrototypeOf,Sd=n=>{const r=_s("ownerDocument.defaultView",n);return Tt(n)&&((i=>((l,u)=>{const m=((p,b)=>_s(p,b))(l,u);if(m==null)throw new Error(l+" not available on this browser");return m})("HTMLElement",i))(r).prototype.isPrototypeOf(n)||/^HTML\w*Element$/.test(ou(n).constructor.name))},Ua=n=>n.dom.nodeName.toLowerCase(),$l=n=>r=>(i=>i.dom.nodeType)(r)===n,_a=n=>br(n)&&Sd(n.dom),br=$l(1),si=$l(3),nu=$l(9),dl=$l(11),Wu=n=>r=>br(r)&&Ua(r)===n,Sl=(n,r)=>{const i=n.dom;if(i.nodeType!==1)return!1;{const l=i;if(l.matches!==void 0)return l.matches(r);if(l.msMatchesSelector!==void 0)return l.msMatchesSelector(r);if(l.webkitMatchesSelector!==void 0)return l.webkitMatchesSelector(r);if(l.mozMatchesSelector!==void 0)return l.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")}},Ed=n=>n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11||n.childElementCount===0,Wn=(n,r)=>n.dom===r.dom,or=(n,r)=>{const i=n.dom,l=r.dom;return i!==l&&i.contains(l)},da=n=>Ht(n.dom.ownerDocument),rc=n=>nu(n)?n:da(n),su=n=>Ht(rc(n).dom.documentElement),ru=n=>Ht(rc(n).dom.defaultView),Mi=n=>O.from(n.dom.parentNode).map(Ht),yr=n=>O.from(n.dom.parentElement).map(Ht),$u=n=>O.from(n.dom.offsetParent).map(Ht),os=n=>Ct(n.dom.childNodes,Ht),ds=(n,r)=>{const i=n.dom.childNodes;return O.from(i[r]).map(Ht)},Yi=n=>ds(n,0),Ii=(n,r)=>({element:n,offset:r}),ac=(n,r)=>{const i=os(n);return i.length>0&&r<i.length?Ii(i[r],0):Ii(n,r)},ic=n=>dl(n)&&Se(n.dom.host),Ac=Ue(Element.prototype.attachShadow)&&Ue(Node.prototype.getRootNode),ta=ae(Ac),nr=Ac?n=>Ht(n.dom.getRootNode()):rc,oa=n=>ic(n)?n:Ht(rc(n).dom.body),ir=n=>{const r=nr(n);return ic(r)?O.some(r):O.none()},Bi=n=>Ht(n.dom.host),gs=n=>{const r=si(n)?n.dom.parentNode:n.dom;if(r==null||r.ownerDocument===null)return!1;const i=r.ownerDocument;return ir(Ht(r)).fold(()=>i.body.contains(r),(l=gs,u=Bi,m=>l(u(m))));var l,u},Aa=()=>Ha(Ht(document)),Ha=n=>{const r=n.dom.body;if(r==null)throw new Error("Body is not available yet");return Ht(r)},ua=(n,r,i)=>{if(!(ze(i)||rt(i)||xt(i)))throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",i,":: Element ",n),new Error("Attribute value was not simple");n.setAttribute(r,i+"")},Ho=(n,r,i)=>{ua(n.dom,r,i)},ri=(n,r)=>{const i=n.dom;fs(r,(l,u)=>{ua(i,u,l)})},qr=(n,r)=>{const i=n.dom.getAttribute(r);return i===null?void 0:i},Wr=(n,r)=>O.from(qr(n,r)),yi=(n,r)=>{const i=n.dom;return!(!i||!i.hasAttribute)&&i.hasAttribute(r)},As=(n,r)=>{n.dom.removeAttribute(r)},lr=(n,r,i)=>{if(!ze(i))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",i,":: Element ",n),new Error("CSS value must be a string: "+i);Lo(n)&&n.style.setProperty(r,i)},El=(n,r)=>{Lo(n)&&n.style.removeProperty(r)},Ro=(n,r,i)=>{const l=n.dom;lr(l,r,i)},Tl=(n,r)=>{const i=n.dom;fs(r,(l,u)=>{lr(i,u,l)})},ai=(n,r)=>{const i=n.dom;fs(r,(l,u)=>{l.fold(()=>{El(i,u)},m=>{lr(i,u,m)})})},Ys=(n,r)=>{const i=n.dom,l=window.getComputedStyle(i).getPropertyValue(r);return l!==""||gs(n)?l:vi(i,r)},vi=(n,r)=>Lo(n)?n.style.getPropertyValue(r):"",vr=(n,r)=>{const i=n.dom,l=vi(i,r);return O.from(l).filter(u=>u.length>0)},Cc=n=>{const r={},i=n.dom;if(Lo(i))for(let l=0;l<i.style.length;l++){const u=i.style.item(l);r[u]=i.style[u]}return r},au=(n,r,i)=>{const l=Ni(n);return Ro(l,r,i),vr(l,r).isSome()},Ln=(n,r)=>{const i=n.dom;El(i,r),Pa(Wr(n,"style").map(oi),"")&&As(n,"style")},W=n=>n.dom.offsetWidth,fe=(n,r)=>{const i=u=>{const m=r(u);if(m<=0||m===null){const p=Ys(u,n);return parseFloat(p)||0}return m},l=(u,m)=>H(m,(p,b)=>{const y=Ys(u,b),w=y===void 0?0:parseInt(y,10);return isNaN(w)?p:p+w},0);return{set:(u,m)=>{if(!xt(m)&&!m.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+m);const p=u.dom;Lo(p)&&(p.style[n]=m+"px")},get:i,getOuter:i,aggregate:l,max:(u,m,p)=>{const b=l(u,p);return m>b?m-b:0}}},Ae=fe("height",n=>{const r=n.dom;return gs(n)?r.getBoundingClientRect().height:r.offsetHeight}),Ve=n=>Ae.get(n),Dt=n=>Ae.getOuter(n),yo=(n,r)=>({left:n,top:r,translate:(i,l)=>yo(n+i,r+l)}),qo=yo,Cn=(n,r)=>n!==void 0?n:r!==void 0?r:0,_n=n=>{const r=n.dom.ownerDocument,i=r.body,l=r.defaultView,u=r.documentElement;if(i===n.dom)return qo(i.offsetLeft,i.offsetTop);const m=Cn(l==null?void 0:l.pageYOffset,u.scrollTop),p=Cn(l==null?void 0:l.pageXOffset,u.scrollLeft),b=Cn(u.clientTop,i.clientTop),y=Cn(u.clientLeft,i.clientLeft);return Ls(n).translate(p-y,m-b)},Ls=n=>{const r=n.dom,i=r.ownerDocument.body;return i===r?qo(i.offsetLeft,i.offsetTop):gs(n)?(l=>{const u=l.getBoundingClientRect();return qo(u.left,u.top)})(r):qo(0,0)},ns=fe("width",n=>n.dom.offsetWidth),vs=n=>ns.get(n),$r=n=>ns.getOuter(n),ki=n=>{let r,i=!1;return(...l)=>(i||(i=!0,r=n.apply(null,l)),r)},Mn=()=>Gu(0,0),Gu=(n,r)=>({major:n,minor:r}),lc={nu:Gu,detect:(n,r)=>{const i=String(r).toLowerCase();return n.length===0?Mn():((l,u)=>{const m=((b,y)=>{for(let w=0;w<b.length;w++){const C=b[w];if(C.test(y))return C}})(l,u);if(!m)return{major:0,minor:0};const p=b=>Number(u.replace(m,"$"+b));return Gu(p(1),p(2))})(n,i)},unknown:Mn},Ku=(n,r)=>{const i=String(r).toLowerCase();return Un(n,l=>l.search(i))},Yu=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ca=n=>r=>Sr(r,n),lh=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:n=>Sr(n,"edge/")&&Sr(n,"chrome")&&Sr(n,"safari")&&Sr(n,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Yu],search:n=>Sr(n,"chrome")&&!Sr(n,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:n=>Sr(n,"msie")||Sr(n,"trident")},{name:"Opera",versionRegexes:[Yu,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ca("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ca("firefox")},{name:"Safari",versionRegexes:[Yu,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:n=>(Sr(n,"safari")||Sr(n,"mobile/"))&&Sr(n,"applewebkit")}],Va=[{name:"Windows",search:Ca("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:n=>Sr(n,"iphone")||Sr(n,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ca("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ca("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ca("linux"),versionRegexes:[]},{name:"Solaris",search:Ca("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ca("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ca("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],og={browsers:ae(lh),oses:ae(Va)},Jg="Edge",Hb="Chromium",Mt="Opera",iu="Firefox",Xg="Safari",Td=n=>{const r=n.current,i=n.version,l=u=>()=>r===u;return{current:r,version:i,isEdge:l(Jg),isChromium:l(Hb),isIE:l("IE"),isOpera:l(Mt),isFirefox:l(iu),isSafari:l(Xg)}},na=()=>Td({current:void 0,version:lc.unknown()}),ep=Td,lu="Windows",Od="Android",tp="Linux",Im="macOS",cu="Solaris",B1="FreeBSD",Vb="ChromeOS",op=n=>{const r=n.current,i=n.version,l=u=>()=>r===u;return{current:r,version:i,isWindows:l(lu),isiOS:l("iOS"),isAndroid:l(Od),isMacOS:l(Im),isLinux:l(tp),isSolaris:l(cu),isFreeBSD:l(B1),isChromeOS:l(Vb)}},jb=()=>op({current:void 0,version:lc.unknown()}),cc=op,ng=n=>window.matchMedia(n).matches;var du;let Ol=ki(()=>((n,r,i)=>{const l=og.browsers(),u=og.oses(),m=r.bind(y=>((w,C)=>Bn(C.brands,S=>{const z=S.brand.toLowerCase();return Un(w,M=>{var P;return z===((P=M.brand)===null||P===void 0?void 0:P.toLowerCase())}).map(M=>({current:M.name,version:lc.nu(parseInt(S.version,10),0)}))}))(l,y)).orThunk(()=>((y,w)=>Ku(y,w).map(C=>{const S=lc.detect(C.versionRegexes,w);return{current:C.name,version:S}}))(l,n)).fold(na,ep),p=((y,w)=>Ku(y,w).map(C=>{const S=lc.detect(C.versionRegexes,w);return{current:C.name,version:S}}))(u,n).fold(jb,cc),b=((y,w,C,S)=>{const z=y.isiOS()&&/ipad/i.test(C)===!0,M=y.isiOS()&&!z,P=y.isiOS()||y.isAndroid(),$=P||S("(pointer:coarse)"),K=z||!M&&P&&S("(min-device-width:768px)"),ee=M||P&&!K,q=w.isSafari()&&y.isiOS()&&/safari/i.test(C)===!1,V=!ee&&!K&&!q;return{isiPad:ae(z),isiPhone:ae(M),isTablet:ae(K),isPhone:ae(ee),isTouch:ae($),isAndroid:y.isAndroid,isiOS:y.isiOS,isWebView:ae(q),isDesktop:ae(V)}})(p,m,n,i);return{browser:m,os:p,deviceType:b}})(navigator.userAgent,O.from(navigator.userAgentData),ng));const Gl=()=>Ol(),fn=n=>{const r=Ht((m=>{if(ta()&&Se(m.target)){const p=Ht(m.target);if(br(p)&&(b=>Se(b.dom.shadowRoot))(p)&&m.composed&&m.composedPath){const b=m.composedPath();if(b)return nt(b)}}return O.from(m.target)})(n).getOr(n.target)),i=()=>n.stopPropagation(),l=()=>n.preventDefault(),u=Qe(l,i);return((m,p,b,y,w,C,S)=>({target:m,x:p,y:b,stop:y,prevent:w,kill:C,raw:S}))(r,n.clientX,n.clientY,i,l,u,n)},Bm=(n,r,i,l,u)=>{const m=((p,b)=>y=>{p(y)&&b(fn(y))})(i,l);return n.dom.addEventListener(r,m,u),{unbind:tt(ma,n,r,m,u)}},ma=(n,r,i,l)=>{n.dom.removeEventListener(r,i,l)},td=(n,r)=>{Mi(n).each(i=>{i.dom.insertBefore(r.dom,n.dom)})},uu=(n,r)=>{(l=>O.from(l.dom.nextSibling).map(Ht))(n).fold(()=>{Mi(n).each(l=>{kr(l,r)})},l=>{td(l,r)})},xi=(n,r)=>{Yi(n).fold(()=>{kr(n,r)},i=>{n.dom.insertBefore(r.dom,i.dom)})},kr=(n,r)=>{n.dom.appendChild(r.dom)},mu=(n,r)=>{Yt(r,i=>{kr(n,i)})},Lm=n=>{n.dom.textContent="",Yt(os(n),r=>{Er(r)})},Er=n=>{const r=n.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},dr=n=>{const r=n!==void 0?n.dom:document,i=r.body.scrollLeft||r.documentElement.scrollLeft,l=r.body.scrollTop||r.documentElement.scrollTop;return qo(i,l)},Cs=(n,r,i)=>{const l=(i!==void 0?i.dom:document).defaultView;l&&l.scrollTo(n,r)},Qs=(n,r,i,l)=>({x:n,y:r,width:i,height:l,right:n+i,bottom:r+l}),wi=n=>{const r=n===void 0?window:n,i=r.document,l=dr(Ht(i));return(u=>{const m=u===void 0?window:u;return Gl().browser.isFirefox()?O.none():O.from(m.visualViewport)})(r).fold(()=>{const u=r.document.documentElement,m=u.clientWidth,p=u.clientHeight;return Qs(l.left,l.top,m,p)},u=>Qs(Math.max(u.pageLeft,l.left),Math.max(u.pageTop,l.top),u.width,u.height))},Qi=()=>Ht(document),fa=(n,r)=>n.view(r).fold(ae([]),i=>{const l=n.owner(i),u=fa(n,l);return[i].concat(u)});var ur=Object.freeze({__proto__:null,view:n=>{var r;return(n.dom===document?O.none():O.from((r=n.dom.defaultView)===null||r===void 0?void 0:r.frameElement)).map(Ht)},owner:n=>da(n)});const fu=n=>{const r=Qi(),i=dr(r);return((u,m)=>{const p=m.owner(u),b=fa(m,p);return O.some(b)})(n,ur).fold(tt(_n,n),u=>{const m=Ls(n),p=pn(u,(b,y)=>{const w=Ls(y);return{left:b.left+w.left,top:b.top+w.top}},{left:0,top:0});return qo(p.left+m.left+i.left,p.top+m.top+i.top)})},mr=(n,r,i,l)=>({x:n,y:r,width:i,height:l,right:n+i,bottom:r+l}),Tr=n=>{const r=_n(n),i=$r(n),l=Dt(n);return mr(r.left,r.top,i,l)},xr=n=>{const r=fu(n),i=$r(n),l=Dt(n);return mr(r.left,r.top,i,l)},od=(n,r)=>{const i=Math.max(n.x,r.x),l=Math.max(n.y,r.y),u=Math.min(n.right,r.right),m=Math.min(n.bottom,r.bottom);return mr(i,l,u-i,m-l)},Ss=()=>wi(window);var Qu=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Pm=n=>{const r=m=>m(n),i=ae(n),l=()=>u,u={tag:!0,inner:n,fold:(m,p)=>p(n),isValue:Je,isError:_e,map:m=>un.value(m(n)),mapError:l,bind:r,exists:r,forall:r,getOr:i,or:l,getOrThunk:i,orThunk:l,getOrDie:i,each:m=>{m(n)},toOptional:()=>O.some(n)};return u},zl=n=>{const r=()=>i,i={tag:!1,inner:n,fold:(l,u)=>l(n),isValue:_e,isError:Je,map:r,mapError:l=>un.error(l(n)),bind:r,exists:_e,forall:Je,getOr:Lt,or:Lt,getOrThunk:Vt,orThunk:Vt,getOrDie:lo(String(n)),each:We,toOptional:O.none};return i},un={value:Pm,error:zl,fromOption:(n,r)=>n.fold(()=>zl(r),Pm)};var Br;(function(n){n[n.Error=0]="Error",n[n.Value=1]="Value"})(Br||(Br={}));const zd=(n,r,i)=>n.stype===Br.Error?r(n.serror):i(n.svalue),Kl=n=>({stype:Br.Value,svalue:n}),Fm=n=>({stype:Br.Error,serror:n}),Yl=Kl,Sc=Fm,np=zd,Um=(n,r,i,l)=>({tag:"field",key:n,newKey:r,presence:i,prop:l}),dc=(n,r,i)=>{switch(n.tag){case"field":return r(n.key,n.newKey,n.presence,n.prop);case"custom":return i(n.newKey,n.instantiator)}},sp=n=>(...r)=>{if(r.length===0)throw new Error("Can't merge zero objects");const i={};for(let l=0;l<r.length;l++){const u=r[l];for(const m in u)uo(u,m)&&(i[m]=n(i[m],u[m]))}return i},oe=sp((n,r)=>Oe(n)&&Oe(r)?oe(n,r):r),Dl=sp((n,r)=>r),ja=n=>({tag:"defaultedThunk",process:n}),uc=n=>ja(ae(n)),gu=n=>({tag:"mergeWithThunk",process:n}),sg=n=>{const r=(l=>{const u=[],m=[];return Yt(l,p=>{zd(p,b=>m.push(b),b=>u.push(b))}),{values:u,errors:m}})(n);return r.errors.length>0?(i=r.errors,Qe(Sc,qn)(i)):Yl(r.values);var i},On=n=>Tt(n)&&on(n).length>100?" removed due to size":JSON.stringify(n,null,2),Li=(n,r)=>Sc([{path:n,getErrorInfo:r}]),nd=n=>({extract:(r,i)=>((l,u)=>l.stype===Br.Error?u(l.serror):l)(n(i),l=>((u,m)=>Li(u,ae(m)))(r,l)),toString:ae("val")}),Pi=nd(Yl),sd=(n,r,i,l)=>l(Qt(n,r).getOrThunk(()=>i(n))),ul=(n,r,i,l,u)=>{const m=b=>u.extract(r.concat([l]),b),p=b=>b.fold(()=>Yl(O.none()),y=>((w,C)=>w.stype===Br.Value?{stype:Br.Value,svalue:C(w.svalue)}:w)(u.extract(r.concat([l]),y),O.some));switch(n.tag){case"required":return((b,y,w,C)=>Qt(y,w).fold(()=>((S,z,M)=>Li(S,()=>'Could not find valid *required* value for "'+z+'" in '+On(M)))(b,w,y),C))(r,i,l,m);case"defaultedThunk":return sd(i,l,n.process,m);case"option":return((b,y,w)=>w(Qt(b,y)))(i,l,p);case"defaultedOptionThunk":return((b,y,w,C)=>C(Qt(b,y).map(S=>S===!0?w(b):S)))(i,l,n.process,p);case"mergeWithThunk":return sd(i,l,ae({}),b=>{const y=oe(n.process(i),b);return m(y)})}},Za=n=>({extract:(r,i)=>n().extract(r,i),toString:()=>n().toString()}),mc=n=>on(ws(n,Se)),ii=n=>{const r=ko(n),i=pn(n,(l,u)=>dc(u,m=>oe(l,{[m]:!0}),ae(l)),{});return{extract:(l,u)=>{const m=rt(u)?[]:mc(u),p=Mo(m,b=>!Cr(i,b));return p.length===0?r.extract(l,u):((b,y)=>Li(b,()=>"There are unsupported fields: ["+y.join(", ")+"] specified"))(l,p)},toString:r.toString}},ko=n=>({extract:(r,i)=>((l,u,m)=>{const p={},b=[];for(const y of m)dc(y,(w,C,S,z)=>{const M=ul(S,l,u,w,z);np(M,P=>{b.push(...P)},P=>{p[C]=P})},(w,C)=>{p[w]=C(u)});return b.length>0?Sc(b):Yl(p)})(r,i,n),toString:()=>`obj{
`+Ct(n,i=>dc(i,(l,u,m,p)=>l+" -> "+p.toString(),(l,u)=>"state("+l+")")).join(`
`)+"}"}),li=n=>({extract:(r,i)=>{const l=Ct(i,(u,m)=>n.extract(r.concat(["["+m+"]"]),u));return sg(l)},toString:()=>"array("+n.toString()+")"}),Fi=(n,r)=>{const i=r!==void 0?r:Lt;return{extract:(l,u)=>{const m=[];for(const p of n){const b=p.extract(l,u);if(b.stype===Br.Value)return{stype:Br.Value,svalue:i(b.svalue)};m.push(b)}return sg(m)},toString:()=>"oneOf("+Ct(n,l=>l.toString()).join(", ")+")"}},rp=(n,r)=>({extract:(i,l)=>{const u=on(l),m=((p,b)=>li(nd(n)).extract(p,b))(i,u);return((p,b)=>p.stype===Br.Value?b(p.svalue):p)(m,p=>{const b=Ct(p,y=>Um(y,y,{tag:"required",process:{}},r));return ko(b).extract(i,l)})},toString:()=>"setOf("+r.toString()+")"}),Dd=Qe(li,ko),Es=ae(Pi),Ec=(n,r)=>nd(i=>{const l=typeof i;return n(i)?Yl(i):Sc(`Expected type: ${r} but got: ${l}`)}),pu=Ec(xt,"number"),Or=Ec(ze,"string"),fc=Ec(rt,"boolean"),Hm=Ec(Ue,"function"),Ju=n=>{if(Object(n)!==n)return!0;switch({}.toString.call(n).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(n).every(r=>Ju(n[r]));default:return!1}},rg=nd(n=>Ju(n)?Yl(n):Sc("Expected value to be acceptable for sending via postMessage")),Tc=(n,r)=>({extract:(i,l)=>Qt(l,n).fold(()=>((u,m)=>Li(u,()=>'Choice schema did not contain choice key: "'+m+'"'))(i,n),u=>((m,p,b,y)=>Qt(b,y).fold(()=>((w,C,S)=>Li(w,()=>'The chosen schema: "'+S+'" did not exist in branches: '+On(C)))(m,b,y),w=>w.extract(m.concat(["branch: "+y]),p)))(i,l,r,u)),toString:()=>"chooseOn("+n+"). Possible values: "+on(r)}),Rl=n=>nd(r=>n(r).fold(Sc,Yl)),Oc=(n,r)=>rp(i=>n(i).fold(Fm,Kl),r),Ps=(n,r,i)=>{return l=((u,m,p)=>((b,y)=>b.stype===Br.Error?{stype:Br.Error,serror:y(b.serror)}:b)(m.extract([u],p),b=>({input:p,errors:b})))(n,r,i),zd(l,un.error,un.value);var l},Nl=n=>n.fold(r=>{throw new Error(zc(r))},Lt),ga=(n,r,i)=>Nl(Ps(n,r,i)),zc=n=>`Errors: 
`+(r=>{const i=r.length>10?r.slice(0,10).concat([{path:[],getErrorInfo:ae("... (only showing first ten failures)")}]):r;return Ct(i,l=>"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo())})(n.errors).join(`
`)+`

Input object: `+On(n.input),qa=(n,r)=>Tc(n,ln(r,ko)),Xu=(n,r)=>((i,l)=>{const u=ki(l);return{extract:(m,p)=>u().extract(m,p),toString:()=>u().toString()}})(0,r),wr=Um,sa=(n,r)=>({tag:"custom",newKey:n,instantiator:r}),Ji=n=>Rl(r=>So(n,r)?un.value(r):un.error(`Unsupported value: "${r}", choose one of "${n.join(", ")}".`)),Xe=n=>wr(n,n,{tag:"required",process:{}},Es()),Ui=(n,r)=>wr(n,n,{tag:"required",process:{}},r),Vm=n=>Ui(n,pu),sr=n=>Ui(n,Or),Sa=(n,r)=>wr(n,n,{tag:"required",process:{}},Ji(r)),Ea=n=>Ui(n,Hm),Hi=(n,r)=>wr(n,n,{tag:"required",process:{}},ko(r)),Rd=(n,r)=>wr(n,n,{tag:"required",process:{}},Dd(r)),pa=(n,r)=>wr(n,n,{tag:"required",process:{}},li(r)),$n=n=>wr(n,n,{tag:"option",process:{}},Es()),Xi=(n,r)=>wr(n,n,{tag:"option",process:{}},r),rd=n=>Xi(n,pu),Gr=n=>Xi(n,Or),jm=(n,r)=>Xi(n,Ji(r)),el=n=>Xi(n,Hm),ha=(n,r)=>Xi(n,li(r)),Vi=(n,r)=>Xi(n,ko(r)),Te=(n,r)=>wr(n,n,uc(r),Es()),Ta=(n,r,i)=>wr(n,n,uc(r),i),ad=(n,r)=>Ta(n,r,pu),gc=(n,r)=>Ta(n,r,Or),zr=(n,r,i)=>Ta(n,r,Ji(i)),Js=(n,r)=>Ta(n,r,fc),rr=(n,r)=>Ta(n,r,Hm),Fs=(n,r,i)=>Ta(n,r,li(i)),em=(n,r,i)=>Ta(n,r,ko(i)),_o=n=>{let r=n;return{get:()=>r,set:i=>{r=i}}},Kr=n=>{if(!Pe(n))throw new Error("cases must be an array");if(n.length===0)throw new Error("there must be at least one case");const r=[],i={};return Yt(n,(l,u)=>{const m=on(l);if(m.length!==1)throw new Error("one and only one name per case");const p=m[0],b=l[p];if(i[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Pe(b))throw new Error("case arguments must be an array");r.push(p),i[p]=(...y)=>{const w=y.length;if(w!==b.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+b.length+" ("+b+"), got "+w);return{fold:(...C)=>{if(C.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+C.length);return C[u].apply(null,y)},match:C=>{const S=on(C);if(r.length!==S.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+S.join(","));if(!Al(r,z=>So(S,z)))throw new Error("Not all branches were specified when using match. Specified: "+S.join(", ")+`
Required: `+r.join(", "));return C[p].apply(null,y)},log:C=>{console.log(C,{constructors:r,constructor:p,params:y})}}}}),i};Kr([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Oa=(n,r)=>((i,l)=>({[i]:l}))(n,r),Hn=n=>(r=>{const i={};return Yt(r,l=>{i[l.key]=l.value}),i})(n),ra=n=>Ue(n)?n:_e,id=(n,r,i)=>{let l=n.dom;const u=ra(i);for(;l.parentNode;){l=l.parentNode;const m=Ht(l),p=r(m);if(p.isSome())return p;if(u(m))break}return O.none()},Ml=(n,r,i)=>{const l=r(n),u=ra(i);return l.orThunk(()=>u(n)?O.none():id(n,r,u))},Nd=(n,r)=>Wn(n.element,r.event.target),hu={can:Je,abort:_e,run:We},Dc=n=>{if(!Cr(n,"can")&&!Cr(n,"abort")&&!Cr(n,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(n,null,2)+" does not have can, abort, or run!");return{...hu,...n}},aa=ae,Ql=aa("touchstart"),ld=aa("touchmove"),Il=aa("touchend"),bu=aa("touchcancel"),za=aa("mousedown"),A=aa("mousemove"),N=aa("mouseout"),j=aa("mouseup"),ue=aa("mouseover"),ge=aa("focusin"),wt=aa("focusout"),oo=aa("keydown"),Wo=aa("keyup"),Eo=aa("input"),ho=aa("change"),Qn=aa("click"),Yr=aa("transitioncancel"),Wa=aa("transitionend"),Rc=aa("transitionstart"),$a=aa("selectstart"),Dr=n=>ae("alloy."+n),Da={tap:Dr("tap")},Bl=Dr("focus"),Zm=Dr("blur.post"),ro=Dr("paste.post"),_i=Dr("receive"),Ai=Dr("execute"),Jl=Dr("focus.item"),tl=Da.tap,Md=Dr("longpress"),ag=Dr("sandbox.close"),ch=Dr("typeahead.cancel"),Nc=Dr("system.init"),dh=Dr("system.touchmove"),Mc=Dr("system.touchend"),tm=Dr("system.scroll"),Id=Dr("system.resize"),kt=Dr("system.attached"),qm=Dr("system.detached"),yu=Dr("system.dismissRequested"),Bd=Dr("system.repositionRequested"),Ld=Dr("focusmanager.shifted"),ig=Dr("slotcontainer.visibility"),fr=Dr("system.external.element.scroll"),Wm=Dr("change.tab"),ml=Dr("dismiss.tab"),Ts=Dr("highlight"),om=Dr("dehighlight"),Sn=(n,r)=>{cg(n,n.element,r,{})},ao=(n,r,i)=>{cg(n,n.element,r,i)},vu=n=>{Sn(n,Ai())},lg=(n,r,i)=>{cg(n,r,i,{})},cg=(n,r,i,l)=>{const u={target:r,...l};n.getSystem().triggerEvent(i,r,u)},fl=(n,r,i,l)=>{n.getSystem().triggerEvent(i,r,l.event)},hn=n=>Hn(n),ku=(n,r)=>({key:n,value:Dc({abort:r})}),ap=n=>({key:n,value:Dc({run:(r,i)=>{i.event.prevent()}})}),at=(n,r)=>({key:n,value:Dc({run:r})}),$m=(n,r,i)=>({key:n,value:Dc({run:(l,u)=>{r.apply(void 0,[l,u].concat(i))}})}),xu=n=>r=>({key:n,value:Dc({run:(i,l)=>{Nd(i,l)&&r(i,l)}})}),nm=(n,r,i)=>((l,u)=>at(l,(m,p)=>{m.getSystem().getByUid(u).each(b=>{fl(b,b.element,l,p)})}))(n,r.partUids[i]),uh=(n,r)=>at(n,(i,l)=>{const u=l.event,m=i.getSystem().getByDom(u.target).getOrThunk(()=>Ml(u.target,p=>i.getSystem().getByDom(p).toOptional(),_e).getOr(i));r(i,m,l)}),cd=n=>at(n,(r,i)=>{i.cut()}),Zb=n=>at(n,(r,i)=>{i.stop()}),sm=(n,r)=>xu(n)(r),Os=xu(kt()),dd=xu(qm()),qb=xu(Nc()),ol=(rm=Ai(),n=>at(rm,n)),Gm=n=>n.dom.innerHTML,gl=(n,r)=>{const i=da(n).dom,l=Ht(i.createDocumentFragment()),u=((m,p)=>{const b=(p||document).createElement("div");return b.innerHTML=m,os(Ht(b))})(r,i);mu(l,u),Lm(n),kr(n,l)},Km=(n,r)=>Ht(n.dom.cloneNode(r)),Ic=n=>(r=>{if(ic(r))return"#shadow-root";{const i=(l=>Km(l,!1))(r);return(l=>{const u=Ni("div"),m=Ht(l.dom.cloneNode(!0));return kr(u,m),Gm(u)})(i)}})(n),Pd=hn([((n,r)=>({key:n,value:Dc({can:(i,l)=>{const u=l.event,m=u.originator,p=u.target;return!((b,y,w)=>Wn(y,b.element)&&!Wn(y,w))(i,m,p)||(console.warn(Bl()+` did not get interpreted by the desired target. 
Originator: `+Ic(m)+`
Target: `+Ic(p)+`
Check the `+Bl()+" event handlers"),!1)}})}))(Bl())]);var rm,wu=Object.freeze({__proto__:null,events:Pd});let am=0;const no=n=>{const r=new Date().getTime(),i=Math.floor(1e9*Math.random());return am++,n+"_"+i+am+String(r)},ip=ae("alloy-id-"),Ym=ae("data-alloy-id"),_u=ip(),Wb=Ym(),x=(n,r)=>{Object.defineProperty(n.dom,Wb,{value:r,writable:!0})},T=n=>{const r=br(n)?n.dom[Wb]:null;return O.from(r)},F=n=>no(n),Y=Lt,ye=n=>{const r=u=>`The component must be in a context to execute: ${u}`+(n?`
`+Ic(n().element)+" is not in context.":""),i=u=>()=>{throw new Error(r(u))},l=u=>()=>{console.warn(r(u))};return{debugInfo:ae("fake"),triggerEvent:l("triggerEvent"),triggerFocus:l("triggerFocus"),triggerEscape:l("triggerEscape"),broadcast:l("broadcast"),broadcastOn:l("broadcastOn"),broadcastEvent:l("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:_e}},Ge=ye(),Et=n=>Ct(n,r=>Ki(r,"/*")?r.substring(0,r.length-2):r),Wt=(n,r)=>{const i=n.toString(),l=i.indexOf(")")+1,u=i.indexOf("("),m=i.substring(u+1,l-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:r,parameters:Et(m)}),n},bo=no("alloy-premade"),Xo=n=>(Object.defineProperty(n.element.dom,bo,{value:n.uid,writable:!0}),Oa(bo,n)),Xs=n=>Qt(n,bo),dn=n=>((r,i)=>{const l=i.toString(),u=l.indexOf(")")+1,m=l.indexOf("("),p=l.substring(m+1,u-1).split(/,\s*/);return r.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Et(p.slice(1))}),r})((r,...i)=>n(r.getApis(),r,...i),n),Gn={init:()=>zs({readState:ae("No State required")})},zs=n=>n,ba=(n,r)=>{const i={};return fs(n,(l,u)=>{fs(l,(m,p)=>{const b=Qt(i,p).getOr([]);i[p]=b.concat([r(u,m)])})}),i},ya=n=>({classes:zt(n.classes)?[]:n.classes,attributes:zt(n.attributes)?{}:n.attributes,styles:zt(n.styles)?{}:n.styles}),ud=n=>n.cHandler,Qm=(n,r)=>({name:n,handler:r}),Jm=(n,r)=>{const i={};return Yt(n,l=>{i[l.name()]=l.handlers(r)}),i},Fd=(n,r,i)=>{const l=r[i];return l?((u,m,p,b)=>{try{const y=yt(p,(w,C)=>{const S=w[m],z=C[m],M=b.indexOf(S),P=b.indexOf(z);if(M===-1)throw new Error("The ordering for "+u+" does not have an entry for "+S+`.
Order specified: `+JSON.stringify(b,null,2));if(P===-1)throw new Error("The ordering for "+u+" does not have an entry for "+z+`.
Order specified: `+JSON.stringify(b,null,2));return M<P?-1:P<M?1:0});return un.value(y)}catch(y){return un.error([y])}})("Event: "+i,"name",n,l).map(u=>(m=>({can:((y,w)=>(...C)=>H(y,(S,z)=>S&&(M=>M.can)(z).apply(void 0,C),!0))(m),abort:((y,w)=>(...C)=>H(y,(S,z)=>S||(M=>M.abort)(z).apply(void 0,C),!1))(m),run:(...y)=>{Yt(m,w=>{w.run.apply(void 0,y)})}}))(Ct(u,m=>m.handler))):((u,m)=>un.error(["The event ("+u+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ct(m,p=>p.name),null,2)]))(i,n)},Xm=(n,r)=>((i,l)=>{const u=(p=>{const b=[],y=[];return Yt(p,w=>{w.fold(C=>{b.push(C)},C=>{y.push(C)})}),{errors:b,values:y}})(i);return u.errors.length>0?(m=u.errors,un.error(qn(m))):((p,b)=>p.length===0?un.value(b):un.value(oe(b,Dl.apply(void 0,p))))(u.values,l);var m})(wn(n,(i,l)=>(i.length===1?un.value(i[0].handler):Fd(i,r,l)).map(u=>{const m=(b=>{const y=(w=>Ue(w)?{can:Je,abort:_e,run:w}:w)(b);return(w,C,...S)=>{const z=[w,C].concat(S);y.abort.apply(void 0,z)?C.stop():y.can.apply(void 0,z)&&y.run.apply(void 0,z)}})(u),p=i.length>1?Mo(r[l],b=>tr(i,y=>y.name===b)).join(" > "):i[0].name;return Oa(l,((b,y)=>({handler:b,purpose:y}))(m,p))})),{}),md="alloy.base.behaviour",ef=ko([wr("dom","dom",{tag:"required",process:{}},ko([Xe("tag"),Te("styles",{}),Te("classes",[]),Te("attributes",{}),$n("value"),$n("innerHtml")])),Xe("components"),Xe("uid"),Te("events",{}),Te("apis",{}),wr("eventOrder","eventOrder",(nl={[Ai()]:["disabling",md,"toggling","typeaheadevents"],[Bl()]:[md,"focusing","keying"],[Nc()]:[md,"disabling","toggling","representing"],[Eo()]:[md,"representing","streaming","invalidating"],[qm()]:[md,"representing","item-events","tooltipping"],[za()]:["focusing",md,"item-type-events"],[Ql()]:["focusing",md,"item-type-events"],[ue()]:["item-type-events","tooltipping"],[_i()]:["receiving","reflecting","tooltipping"]},gu(ae(nl))),Es()),$n("domModification")]),lp=n=>n.events,cp=(n,r)=>{const i=qr(n,r);return i===void 0||i===""?[]:i.split(" ")},fd=n=>n.dom.classList!==void 0,Vn=n=>cp(n,"class"),ss=(n,r)=>((i,l,u)=>{const m=cp(i,l).concat([u]);return Ho(i,l,m.join(" ")),!0})(n,"class",r),Ci=(n,r)=>((i,l,u)=>{const m=Mo(cp(i,l),p=>p!==u);return m.length>0?Ho(i,l,m.join(" ")):As(i,l),!1})(n,"class",r),rs=(n,r)=>{fd(n)?n.dom.classList.add(r):ss(n,r)},mh=n=>{(fd(n)?n.dom.classList:Vn(n)).length===0&&As(n,"class")},cr=(n,r)=>{fd(n)?n.dom.classList.remove(r):Ci(n,r),mh(n)},Ga=(n,r)=>fd(n)&&n.dom.classList.contains(r),pc=(n,r)=>{Yt(r,i=>{rs(n,i)})},Bc=(n,r)=>{Yt(r,i=>{cr(n,i)})},Ud=n=>fd(n)?(r=>{const i=r.dom.classList,l=new Array(i.length);for(let u=0;u<i.length;u++){const m=i.item(u);m!==null&&(l[u]=m)}return l})(n):Vn(n),Au=n=>n.dom.value,tf=(n,r)=>{if(r===void 0)throw new Error("Value.set was undefined");n.dom.value=r},$b=(n,r,i)=>{i.fold(()=>kr(n,r),l=>{Wn(l,r)||(td(l,r),Er(l))})},of=(n,r,i)=>{const l=Ct(r,i),u=os(n);return Yt(u.slice(l.length),Er),l},nf=(n,r,i,l)=>{const u=ds(n,r),m=l(i,u),p=((b,y,w)=>ds(b,y).map(C=>{if(w.exists(S=>!Wn(S,C))){const S=w.map(Ua).getOr("span"),z=Ni(S);return td(C,z),z}return C}))(n,r,u);return $b(n,m.element,p),m},L1=(n,r)=>{const i=on(n),l=on(r),u=ts(l,i),m=((p,b)=>{const y={},w={};return Ns(p,(C,S)=>!uo(r,S)||C!==r[S],ea(y),ea(w)),{t:y,f:w}})(n).t;return{toRemove:u,toSet:m}},S_=(n,r)=>{const i=r.filter(l=>Ua(l)===n.tag&&!(u=>u.innerHtml.isSome()&&u.domChildren.length>0)(n)&&!(u=>uo(u.dom,bo))(l)).bind(l=>((u,m)=>{try{const p=((b,y)=>{const{class:w,style:C,...S}=(J=>H(J.dom.attributes,(te,ie)=>(te[ie.name]=ie.value,te),{}))(y),{toSet:z,toRemove:M}=L1(b.attributes,S),P=Cc(y),{toSet:$,toRemove:K}=L1(b.styles,P),ee=Ud(y),q=ts(ee,b.classes),V=ts(b.classes,ee);return Yt(M,J=>As(y,J)),ri(y,z),pc(y,V),Bc(y,q),Yt(K,J=>Ln(y,J)),Tl(y,$),b.innerHtml.fold(()=>{const J=b.domChildren;((te,ie)=>{of(te,ie,(ve,Re)=>{const st=ds(te,Re);return $b(te,ve,st),ve})})(y,J)},J=>{gl(y,J)}),(()=>{const J=y,te=b.value.getOrUndefined();te!==Au(J)&&tf(J,te??"")})(),y})(u,m);return O.some(p)}catch{return O.none()}})(n,l)).getOrThunk(()=>(l=>{const u=Ni(l.tag);ri(u,l.attributes),pc(u,l.classes),Tl(u,l.styles),l.innerHtml.each(p=>gl(u,p));const m=l.domChildren;return mu(u,m),l.value.each(p=>{tf(u,p)}),u})(n));return x(i,n.uid),i},P1=n=>{const r=(i=>{const l=Qt(i,"behaviours").getOr({});return Ws(on(l),u=>{const m=l[u];return Se(m)?[m.me]:[]})})(n);return((i,l)=>((u,m)=>{const p=Ct(m,y=>Vi(y.name(),[Xe("config"),Te("state",Gn)])),b=Ps("component.behaviours",ko(p),u.behaviours).fold(y=>{throw new Error(zc(y)+`
Complete spec:
`+JSON.stringify(u,null,2))},Lt);return{list:m,data:ln(b,y=>{const w=y.map(C=>({config:C.config,state:C.state.init(C.config)}));return ae(w)})}})(i,l))(n,r)},fh=(n,r)=>{const i=()=>z,l=_o(Ge),u=Nl((M=>Ps("custom.definition",ef,M))(n)),m=P1(n),p=(M=>M.list)(m),b=(M=>M.data)(m),y=((M,P,$)=>{const K={...(ee=M).dom,uid:ee.uid,domChildren:Ct(ee.components,ve=>ve.element)};var ee;const q=(ve=>ve.domModification.fold(()=>ya({}),ya))(M),V={"alloy.base.modification":q},J=P.length>0?((ve,Re,st,it)=>{const lt={...Re};Yt(st,yn=>{lt[yn.name()]=yn.exhibit(ve,it)});const qt=ba(lt,(yn,Ms)=>({name:yn,modification:Ms})),eo=yn=>pn(yn,(Ms,hr)=>({...hr.modification,...Ms}),{}),po=pn(qt.classes,(yn,Ms)=>Ms.modification.concat(yn),[]),Bo=eo(qt.attributes),Fo=eo(qt.styles);return ya({classes:po,attributes:Bo,styles:Fo})})($,V,P,K):q;return te=K,ie=J,{...te,attributes:{...te.attributes,...ie.attributes},styles:{...te.styles,...ie.styles},classes:te.classes.concat(ie.classes)};var te,ie})(u,p,b),w=S_(y,r),C=((M,P,$)=>{const K={"alloy.base.behaviour":lp(M)};return((ee,q,V,J)=>{const te=((ie,ve,Re)=>{const st={...Re,...Jm(ve,ie)};return ba(st,Qm)})(ee,V,J);return Xm(te,q)})($,M.eventOrder,P,K).getOrDie()})(u,p,b),S=_o(u.components),z={uid:n.uid,getSystem:l.get,config:M=>{const P=b;return(Ue(P[M.name()])?P[M.name()]:()=>{throw new Error("Could not find "+M.name()+" in "+JSON.stringify(n,null,2))})()},hasConfigured:M=>Ue(b[M.name()]),spec:n,readState:M=>b[M]().map(P=>P.state.readState()).getOr("not enabled"),getApis:()=>u.apis,connect:M=>{l.set(M)},disconnect:()=>{l.set(ye(i))},element:w,syncComponents:()=>{const M=os(w),P=Ws(M,$=>l.get().getByDom($).fold(()=>[],ut));S.set(P)},components:S.get,events:C};return z},ar=n=>{const r=sc(n);return F1({element:r})},F1=n=>{const r=ga("external.component",ii([Xe("element"),$n("uid")]),n),i=_o(ye()),l=r.uid.getOrThunk(()=>F("external"));x(r.element,l);const u={uid:l,getSystem:i.get,config:O.none,hasConfigured:_e,connect:m=>{i.set(m)},disconnect:()=>{i.set(ye(()=>u))},getApis:()=>({}),element:r.element,spec:n,readState:ae("No state"),syncComponents:We,components:ae([]),events:{}};return Xo(u)},dk=F,Gb=(n,r)=>Xs(n).getOrThunk(()=>((i,l)=>{const{events:u,...m}=Y(i),p=((y,w)=>{const C=Qt(y,"components").getOr([]);return w.fold(()=>Ct(C,ji),S=>Ct(C,(z,M)=>Gb(z,ds(S,M))))})(m,l),b={...m,events:{...wu,...u},components:p};return un.value(fh(b,l))})((i=>uo(i,"uid"))(n)?n:{uid:dk(""),...n},r).getOrDie()),ji=n=>Gb(n,O.none()),ks=Xo;var nl,gh=(n,r,i,l,u)=>n(i,l)?O.some(i):Ue(u)&&u(i)?O.none():r(i,l,u);const Kb=(n,r,i)=>{let l=n.dom;const u=Ue(i)?i:_e;for(;l.parentNode;){l=l.parentNode;const m=Ht(l);if(r(m))return O.some(m);if(u(m))break}return O.none()},uk=(n,r,i)=>gh((l,u)=>u(l),Kb,n,r,i),Yb=(n,r,i)=>uk(n,r,i).isSome(),Lc=(n,r,i)=>Kb(n,l=>Sl(l,r),i),U1=(n,r)=>((i,l)=>Un(i.dom.childNodes,u=>{return m=Ht(u),Sl(m,r);var m}).map(Ht))(n),_r=(n,r)=>((i,l)=>{const u=l===void 0?document:l.dom;return Ed(u)?O.none():O.from(u.querySelector(i)).map(Ht)})(r,n),Pc=(n,r,i)=>gh((l,u)=>Sl(l,u),Lc,n,r,i),dg="aria-controls",dp=()=>{const n=no(dg);return{id:n,link:r=>{Ho(r,dg,n)},unlink:r=>{As(r,dg)}}},Ka=(n,r)=>Yb(r,i=>Wn(i,n.element),_e)||((i,l)=>(u=>uk(u,m=>{if(!br(m))return!1;const p=qr(m,"id");return p!==void 0&&p.indexOf(dg)>-1}).bind(m=>{const p=qr(m,"id"),b=nr(m);return _r(b,`[${dg}="${p}"]`)}))(l).exists(u=>Ka(i,u)))(n,r);var im;(function(n){n[n.STOP=0]="STOP",n[n.NORMAL=1]="NORMAL",n[n.LOGGING=2]="LOGGING"})(im||(im={}));const ph=_o({}),H1=["alloy/data/Fields","alloy/debugging/Debugging"],V1=(n,r,i)=>((l,u,m)=>{switch(Qt(ph.get(),l).orThunk(()=>{const p=on(ph.get());return Bn(p,b=>l.indexOf(b)>-1?O.some(ph.get()[b]):O.none())}).getOr(im.NORMAL)){case im.NORMAL:return m(E_());case im.LOGGING:{const p=((y,w)=>{const C=[],S=new Date().getTime();return{logEventCut:(z,M,P)=>{C.push({outcome:"cut",target:M,purpose:P})},logEventStopped:(z,M,P)=>{C.push({outcome:"stopped",target:M,purpose:P})},logNoParent:(z,M,P)=>{C.push({outcome:"no-parent",target:M,purpose:P})},logEventNoHandlers:(z,M)=>{C.push({outcome:"no-handlers-left",target:M})},logEventResponse:(z,M,P)=>{C.push({outcome:"response",purpose:P,target:M})},write:()=>{const z=new Date().getTime();So(["mousemove","mouseover","mouseout",Nc()],y)||console.log(y,{event:y,time:z-S,target:w.dom,sequence:Ct(C,M=>So(["cut","stopped","response"],M.outcome)?"{"+M.purpose+"} "+M.outcome+" at ("+Ic(M.target)+")":M.outcome)})}}})(l,u),b=m(p);return p.write(),b}case im.STOP:return!0}})(n,r,i),E_=ae({logEventCut:We,logEventStopped:We,logNoParent:We,logEventNoHandlers:We,logEventResponse:We,write:We}),ug=ae([Xe("menu"),Xe("selectedMenu")]),mg=ae([Xe("item"),Xe("selectedItem")]);ae(ko(mg().concat(ug())));const hh=ae(ko(mg())),sf=Hi("initSize",[Xe("numColumns"),Xe("numRows")]),bh=()=>Hi("markers",[Xe("backgroundMenu")].concat(ug()).concat(mg())),Cu=n=>Hi("markers",Ct(n,Xe)),yh=(n,r,i)=>((()=>{const l=new Error;if(l.stack!==void 0){const u=l.stack.split(`
`);Un(u,m=>m.indexOf("alloy")>0&&!tr(H1,p=>m.indexOf(p)>-1)).getOr("unknown")}})(),wr(r,r,i,Rl(l=>un.value((...u)=>l.apply(void 0,u))))),zn=n=>yh(0,n,uc(We)),pl=n=>yh(0,n,uc(O.none)),Hd=n=>yh(0,n,{tag:"required",process:{}}),j1=n=>yh(0,n,{tag:"required",process:{}}),$s=(n,r)=>sa(n,ae(r)),T_=n=>sa(n,Lt),Z1=ae(sf),Si=(n,r,i,l,u,m,p,b=!1)=>({x:n,y:r,bubble:i,direction:l,placement:u,restriction:m,label:`${p}-${u}`,alwaysFit:b}),lm=Kr([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Qb=lm.southeast,Jb=lm.southwest,q1=lm.northeast,W1=lm.northwest,mk=lm.south,Xb=lm.north,fk=lm.east,vh=lm.west,cm=(n,r,i,l)=>{const u=n+r;return u>l?i:u<i?l:u},hc=(n,r,i)=>Math.min(Math.max(n,r),i),Ei=(n,r)=>Zo(["left","right","top","bottom"],i=>Qt(r,i).map(l=>((u,m)=>{switch(m){case 1:return u.x;case 0:return u.x+u.width;case 2:return u.y;case 3:return u.y+u.height}})(n,l))),rf="layout",af=n=>n.x,gk=(n,r)=>n.x+n.width/2-r.width/2,pk=(n,r)=>n.x+n.width-r.width,ey=(n,r)=>n.y-r.height,kh=n=>n.y+n.height,ty=(n,r)=>n.y+n.height/2-r.height/2,ci=(n,r,i)=>Si(af(n),kh(n),i.southeast(),Qb(),"southeast",Ei(n,{left:1,top:3}),rf),Lr=(n,r,i)=>Si(pk(n,r),kh(n),i.southwest(),Jb(),"southwest",Ei(n,{right:0,top:3}),rf),di=(n,r,i)=>Si(af(n),ey(n,r),i.northeast(),q1(),"northeast",Ei(n,{left:1,bottom:2}),rf),Us=(n,r,i)=>Si(pk(n,r),ey(n,r),i.northwest(),W1(),"northwest",Ei(n,{right:0,bottom:2}),rf),hl=(n,r,i)=>Si(gk(n,r),ey(n,r),i.north(),Xb(),"north",Ei(n,{bottom:2}),rf),gr=(n,r,i)=>Si(gk(n,r),kh(n),i.south(),mk(),"south",Ei(n,{top:3}),rf),ui=(n,r,i)=>Si((l=>l.x+l.width)(n),ty(n,r),i.east(),fk(),"east",Ei(n,{left:0}),rf),xh=(n,r,i)=>Si(((l,u)=>l.x-u.width)(n,r),ty(n,r),i.west(),vh(),"west",Ei(n,{right:1}),rf),$1=()=>[ci,Lr,di,Us,gr,hl,ui,xh],up=()=>[Lr,ci,Us,di,gr,hl,ui,xh],G1=()=>[di,Us,ci,Lr,hl,gr],lf=()=>[Us,di,Lr,ci,hl,gr],oy=()=>[ci,Lr,di,Us,gr,hl],wh=()=>[Lr,ci,Us,di,gr,hl];var O_=Object.freeze({__proto__:null,events:n=>hn([at(_i(),(r,i)=>{const l=n.channels,u=on(l),m=i,p=((b,y)=>y.universal?b:Mo(b,w=>So(y.channels,w)))(u,m);Yt(p,b=>{const y=l[b],w=y.schema,C=ga("channel["+b+`] data
Receiver: `+Ic(r.element),w,m.data);y.onReceive(r,C)})})])}),z_=[Ui("channels",Oc(un.value,ii([Hd("onReceive"),Te("schema",Es())])))];const mp=(n,r,i)=>qb((l,u)=>{i(l,n,r)}),fp=n=>({key:n,value:void 0}),Fc=(n,r,i,l,u,m,p)=>{const b=C=>Cr(C,i)?C[i]():O.none(),y=ln(u,(C,S)=>((z,M,P)=>(($,K,ee)=>{const q=ee.toString(),V=q.indexOf(")")+1,J=q.indexOf("("),te=q.substring(J+1,V-1).split(/,\s*/);return $.toFunctionAnnotation=()=>({name:K,parameters:Et(te.slice(0,1).concat(te.slice(3)))}),$})(($,...K)=>{const ee=[$].concat(K);return $.config({name:ae(z)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+z+". Using API: "+P)},q=>{const V=Array.prototype.slice.call(ee,1);return M.apply(void 0,[$,q.config,q.state].concat(V))})},P,M))(i,C,S)),w={...ln(m,(C,S)=>Wt(C,S)),...y,revoke:tt(fp,i),config:C=>{const S=ga(i+"-config",n,C);return{key:i,value:{config:S,me:w,configAsRaw:ki(()=>ga(i+"-config",n,C)),initialConfig:C,state:p}}},schema:ae(r),exhibit:(C,S)=>wa(b(C),Qt(l,"exhibit"),(z,M)=>M(S,z.config,z.state)).getOrThunk(()=>ya({})),name:ae(i),handlers:C=>b(C).map(S=>Qt(l,"events").getOr(()=>({}))(S.config,S.state)).getOr({})};return w},Rt=n=>Hn(n),K1=ii([Xe("fields"),Xe("name"),Te("active",{}),Te("apis",{}),Te("state",Gn),Te("extra",{})]),Ra=n=>{const r=ga("Creating behaviour: "+n.name,K1,n);return((i,l,u,m,p,b)=>{const y=ii(i),w=Vi(l,[(C=i,Xi("config",ii(C)))]);var C;return Fc(y,w,l,u,m,p,b)})(r.fields,r.name,r.active,r.apis,r.extra,r.state)},_h=ii([Xe("branchKey"),Xe("branches"),Xe("name"),Te("active",{}),Te("apis",{}),Te("state",Gn),Te("extra",{})]),cf=n=>{const r=ga("Creating behaviour: "+n.name,_h,n);return((i,l,u,m,p,b)=>{const y=i,w=Vi(l,[Xi("config",i)]);return Fc(y,w,l,u,m,p,b)})(qa(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},Su=ae(void 0),Ll=Ra({fields:z_,name:"receiving",active:O_});var D_=Object.freeze({__proto__:null,exhibit:(n,r)=>ya({classes:[],styles:r.useFixed()?{}:{position:"relative"}})});const Xl=(n,r=!1)=>n.dom.focus({preventScroll:r}),Y1=n=>n.dom.blur(),Ah=n=>{const r=nr(n).dom;return n.dom===r.activeElement},Uc=(n=Qi())=>O.from(n.dom.activeElement).map(Ht),Hc=n=>Uc(nr(n)).filter(r=>n.dom.contains(r.dom)),gp=(n,r)=>{const i=nr(r),l=Uc(i).bind(m=>{const p=b=>Wn(m,b);return p(r)?O.some(r):((b,y)=>{const w=C=>{for(let S=0;S<C.childNodes.length;S++){const z=Ht(C.childNodes[S]);if(y(z))return O.some(z);const M=w(C.childNodes[S]);if(M.isSome())return M}return O.none()};return w(b.dom)})(r,p)}),u=n(r);return l.each(m=>{Uc(i).filter(p=>Wn(p,m)).fold(()=>{Xl(m)},We)}),u},ec=(n,r,i,l,u)=>{const m=p=>p+"px";return{position:n,left:r.map(m),top:i.map(m),right:l.map(m),bottom:u.map(m)}},Q1=(n,r)=>{ai(n,(i=>({...i,position:O.some(i.position)}))(r))},dm=Kr([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Ch=(n,r,i,l,u,m)=>{const p=r.rect,b=p.x-i,y=p.y-l,w=u-(b+p.width),C=m-(y+p.height),S=O.some(b),z=O.some(y),M=O.some(w),P=O.some(C),$=O.none();return r.direction.fold(()=>ec(n,S,z,$,$),()=>ec(n,$,z,M,$),()=>ec(n,S,$,$,P),()=>ec(n,$,$,M,P),()=>ec(n,S,z,$,$),()=>ec(n,S,$,$,P),()=>ec(n,S,z,$,$),()=>ec(n,$,z,M,$))},J1=(n,r)=>n.fold(()=>{const i=r.rect;return ec("absolute",O.some(i.x),O.some(i.y),O.none(),O.none())},(i,l,u,m)=>Ch("absolute",r,i,l,u,m),(i,l,u,m)=>Ch("fixed",r,i,l,u,m)),ny=(n,r)=>{const i=tt(fu,r),l=n.fold(i,i,()=>{const p=dr();return fu(r).translate(-p.left,-p.top)}),u=$r(r),m=Dt(r);return mr(l.left,l.top,u,m)},R_=(n,r)=>r.fold(()=>n.fold(Ss,Ss,mr),i=>n.fold(ae(i),ae(i),()=>{const l=X1(n,i.x,i.y);return mr(l.left,l.top,i.width,i.height)})),X1=(n,r,i)=>{const l=qo(r,i);return n.fold(ae(l),ae(l),()=>{const u=dr();return l.translate(-u.left,-u.top)})};dm.none;const ev=dm.relative,tv=dm.fixed,Sh="data-alloy-placement",hk=n=>Wr(n,Sh),df=Kr([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Ti=(n,r,i,l)=>{const u=n.bubble,m=u.offset,p=((J,te,ie)=>{const ve=(qt,eo)=>te[qt].map(po=>{const Bo=qt==="top"||qt==="bottom",Fo=Bo?ie.top:ie.left,yn=(qt==="left"||qt==="top"?Math.max:Math.min)(po,eo)+Fo;return Bo?hc(yn,J.y,J.bottom):hc(yn,J.x,J.right)}).getOr(eo),Re=ve("left",J.x),st=ve("top",J.y),it=ve("right",J.right),lt=ve("bottom",J.bottom);return mr(Re,st,it-Re,lt-st)})(l,n.restriction,m),b=n.x+m.left,y=n.y+m.top,w=mr(b,y,r,i),{originInBounds:C,sizeInBounds:S,visibleW:z,visibleH:M}=((J,te)=>{const{x:ie,y:ve,right:Re,bottom:st}=te,{x:it,y:lt,right:qt,bottom:eo,width:po,height:Bo}=J;return{originInBounds:it>=ie&&it<=Re&&lt>=ve&&lt<=st,sizeInBounds:qt<=Re&&qt>=ie&&eo<=st&&eo>=ve,visibleW:Math.min(po,it>=ie?Re-it:qt-ie),visibleH:Math.min(Bo,lt>=ve?st-lt:eo-ve)}})(w,p),P=C&&S,$=P?w:((J,te)=>{const{x:ie,y:ve,right:Re,bottom:st}=te,{x:it,y:lt,width:qt,height:eo}=J,po=Math.max(ie,Re-qt),Bo=Math.max(ve,st-eo),Fo=hc(it,ie,po),yn=hc(lt,ve,Bo),Ms=Math.min(Fo+qt,Re)-Fo,hr=Math.min(yn+eo,st)-yn;return mr(Fo,yn,Ms,hr)})(w,p),K=$.width>0&&$.height>0,{maxWidth:ee,maxHeight:q}=((J,te,ie)=>{const ve=ae(te.bottom-ie.y),Re=ae(ie.bottom-te.y),st=((eo,po,Bo,Fo)=>eo.fold(po,po,Fo,Fo,po,Fo,Bo,Bo))(J,Re,Re,ve),it=ae(te.right-ie.x),lt=ae(ie.right-te.x);return{maxWidth:((eo,po,Bo,Fo)=>eo.fold(po,Fo,po,Fo,Bo,Bo,po,Fo))(J,lt,lt,it),maxHeight:st}})(n.direction,$,l),V={rect:$,maxHeight:q,maxWidth:ee,direction:n.direction,placement:n.placement,classes:{on:u.classesOn,off:u.classesOff},layout:n.label,testY:y};return P||n.alwaysFit?df.fit(V):df.nofit(V,z,M,K)},uf=n=>{const r=_o(O.none()),i=()=>r.get().each(n);return{clear:()=>{i(),r.set(O.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:l=>{i(),r.set(O.some(l))}}},Eu=()=>uf(n=>n.unbind()),er=()=>{const n=uf(We);return{...n,on:r=>n.get().each(r)}},mf=Je,Oi=(n,r,i)=>((l,u,m,p)=>Bm(l,u,m,p,!1))(n,r,mf,i),Eh=(n,r,i)=>((l,u,m,p)=>Bm(l,u,m,p,!0))(n,r,mf,i),sy=fn,pp=["top","bottom","right","left"],um="data-alloy-transition-timer",ov=(n,r,i,l,u,m)=>{const p=((b,y,w)=>w.exists(C=>{const S=b.mode;return S==="all"||C[S]!==y[S]}))(l,u,m);if(p||((b,y)=>((w,C)=>Al(C,S=>Ga(w,S)))(b,y.classes))(n,l)){Ro(n,"position",i.position);const b=ny(r,n),y=J1(r,{...u,rect:b}),w=Zo(pp,C=>y[C]);((C,S)=>{const z=M=>parseFloat(M).toFixed(3);return Zr(S,(M,P)=>!(($,K,ee=he)=>wa($,K,ee).getOr($.isNone()&&K.isNone()))(C[P].map(z),M.map(z))).isSome()})(i,w)&&(ai(n,w),p&&((C,S)=>{pc(C,S.classes),Wr(C,um).each(z=>{clearTimeout(parseInt(z,10)),As(C,um)}),((z,M)=>{const P=Eu(),$=Eu();let K;const ee=te=>{var ie;const ve=(ie=te.raw.pseudoElement)!==null&&ie!==void 0?ie:"";return Wn(te.target,z)&&hs(ve)&&So(pp,te.raw.propertyName)},q=te=>{if(ct(te)||ee(te)){P.clear(),$.clear();const ie=te==null?void 0:te.raw.type;(ct(ie)||ie===Wa())&&(clearTimeout(K),As(z,um),Bc(z,M.classes))}},V=Oi(z,Rc(),te=>{ee(te)&&(V.unbind(),P.set(Oi(z,Wa(),q)),$.set(Oi(z,Yr(),q)))}),J=(te=>{const ie=it=>{const lt=Ys(te,it).split(/\s*,\s*/);return Mo(lt,cl)},ve=it=>{if(ze(it)&&/^[\d.]+/.test(it)){const lt=parseFloat(it);return Ki(it,"ms")?lt:1e3*lt}return 0},Re=ie("transition-delay"),st=ie("transition-duration");return H(st,(it,lt,qt)=>{const eo=ve(Re[qt])+ve(lt);return Math.max(it,eo)},0)})(z);requestAnimationFrame(()=>{K=setTimeout(q,J+17),Ho(z,um,K)})})(C,S)})(n,l),W(n))}else Bc(n,l.classes)},mm=(n,r)=>{((i,l)=>{const u=Ae.max(i,l,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Ro(i,"max-height",u+"px")})(n,Math.floor(r))},fg=ae((n,r)=>{mm(n,r),Tl(n,{"overflow-x":"hidden","overflow-y":"auto"})}),gg=ae((n,r)=>{mm(n,r)}),ry=(n,r,i)=>n[r]===void 0?i:n[r],ay=(n,r,i,l)=>{const u=((m,p,b,y)=>{Ln(p,"max-height"),Ln(p,"max-width");const w={width:$r(C=p),height:Dt(C)};var C;return((S,z,M,P,$,K)=>{const ee=P.width,q=P.height,V=(J,te,ie,ve,Re)=>{const st=J(M,P,$,S,K),it=Ti(st,ee,q,K);return it.fold(ae(it),(lt,qt,eo,po)=>(Re===po?eo>ve||qt>ie:!Re&&po)?it:df.nofit(te,ie,ve,Re))};return H(z,(J,te)=>{const ie=tt(V,te);return J.fold(ae(J),ie)},df.nofit({rect:M,maxHeight:P.height,maxWidth:P.width,direction:Qb(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:M.y},-1,-1,!1)).fold(Lt,Lt)})(p,y.preference,m,w,b,y.bounds)})(n,r,i,l);return((m,p,b)=>{const y=J1(b.origin,p);b.transition.each(w=>{ov(m,b.origin,y,w,p,b.lastPlacement)}),Q1(m,y)})(r,u,l),((m,p)=>{((b,y)=>{Ho(b,Sh,y)})(m,p.placement)})(r,u),((m,p)=>{const b=p.classes;Bc(m,b.off),pc(m,b.on)})(r,u),((m,p,b)=>{(0,b.maxHeightFunction)(m,p.maxHeight)})(r,u,l),((m,p,b)=>{(0,b.maxWidthFunction)(m,p.maxWidth)})(r,u,l),{layout:u.layout,placement:u.placement}},Hs=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Vd=(n,r,i,l=1)=>{const u=n*l,m=r*l,p=y=>Qt(i,y).getOr([]),b=(y,w,C)=>{const S=ts(Hs,C);return{offset:qo(y,w),classesOn:Ws(C,p),classesOff:Ws(S,p)}};return{southeast:()=>b(-n,r,["top","alignLeft"]),southwest:()=>b(n,r,["top","alignRight"]),south:()=>b(-n/2,r,["top","alignCentre"]),northeast:()=>b(-n,-r,["bottom","alignLeft"]),northwest:()=>b(n,-r,["bottom","alignRight"]),north:()=>b(-n/2,-r,["bottom","alignCentre"]),east:()=>b(n,-r/2,["valignCentre","left"]),west:()=>b(-n,-r/2,["valignCentre","right"]),insetNortheast:()=>b(u,m,["top","alignLeft","inset"]),insetNorthwest:()=>b(-u,m,["top","alignRight","inset"]),insetNorth:()=>b(-u/2,m,["top","alignCentre","inset"]),insetSoutheast:()=>b(u,-m,["bottom","alignLeft","inset"]),insetSouthwest:()=>b(-u,-m,["bottom","alignRight","inset"]),insetSouth:()=>b(-u/2,-m,["bottom","alignCentre","inset"]),insetEast:()=>b(-u,-m/2,["valignCentre","right","inset"]),insetWest:()=>b(u,-m/2,["valignCentre","left","inset"])}},Th=()=>Vd(0,0,{}),fm=Lt,Tu=(n,r)=>i=>bk(i)==="rtl"?r:n,bk=n=>Ys(n,"direction")==="rtl"?"rtl":"ltr";var sl;(function(n){n.TopToBottom="toptobottom",n.BottomToTop="bottomtotop"})(sl||(sl={}));const ia="data-alloy-vertical-dir",yk=n=>Yb(n,r=>br(r)&&qr(r,"data-alloy-vertical-dir")===sl.BottomToTop),gm=()=>Vi("layouts",[Xe("onLtr"),Xe("onRtl"),$n("onBottomLtr"),$n("onBottomRtl")]),Oh=(n,r,i,l,u,m,p)=>{const b=p.map(yk).getOr(!1),y=r.layouts.map(z=>z.onLtr(n)),w=r.layouts.map(z=>z.onRtl(n)),C=b?r.layouts.bind(z=>z.onBottomLtr.map(M=>M(n))).or(y).getOr(u):y.getOr(i),S=b?r.layouts.bind(z=>z.onBottomRtl.map(M=>M(n))).or(w).getOr(m):w.getOr(l);return Tu(C,S)(n)};var ff=[Xe("hotspot"),$n("bubble"),Te("overrides",{}),gm(),$s("placement",(n,r,i)=>{const l=r.hotspot,u=ny(i,l.element),m=Oh(n.element,r,oy(),wh(),G1(),lf(),O.some(r.hotspot.element));return O.some(fm({anchorBox:u,bubble:r.bubble.getOr(Th()),overrides:r.overrides,layouts:m}))})],iy=[Xe("x"),Xe("y"),Te("height",0),Te("width",0),Te("bubble",Th()),Te("overrides",{}),gm(),$s("placement",(n,r,i)=>{const l=X1(i,r.x,r.y),u=mr(l.left,l.top,r.width,r.height),m=Oh(n.element,r,$1(),up(),$1(),up(),O.none());return O.some(fm({anchorBox:u,bubble:r.bubble,overrides:r.overrides,layouts:m}))})];const ly=Kr([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),nv=n=>n.fold(Lt,(r,i,l)=>r.translate(-i,-l)),RE=n=>n.fold(Lt,Lt),hp=n=>H(n,(r,i)=>r.translate(i.left,i.top),qo(0,0)),sv=n=>{const r=Ct(n,RE);return hp(r)},vk=ly.screen,NE=ly.absolute,cy=(n,r,i)=>{const l=da(n.element),u=dr(l),m=((p,b,y)=>{const w=ru(y.root).dom;return O.from(w.frameElement).map(Ht).filter(C=>{const S=da(C),z=da(p.element);return Wn(S,z)}).map(_n)})(n,0,i).getOr(u);return NE(m,u.left,u.top)},Pl=(n,r,i,l)=>{const u=vk(qo(n,r));return O.some(((m,p,b)=>({point:m,width:p,height:b}))(u,i,l))},Zi=(n,r,i,l,u)=>n.map(m=>{const p=[r,m.point],b=(y=()=>sv(p),w=()=>sv(p),C=()=>(V=>{const J=Ct(V,nv);return hp(J)})(p),l.fold(y,w,C));var y,w,C;const S=($=b.left,K=b.top,ee=m.width,q=m.height,{x:$,y:K,width:ee,height:q}),z=i.showAbove?G1():oy(),M=i.showAbove?lf():wh(),P=Oh(u,i,z,M,z,M,O.none());var $,K,ee,q;return fm({anchorBox:S,bubble:i.bubble.getOr(Th()),overrides:i.overrides,layouts:P})});var dy=[Xe("node"),Xe("root"),$n("bubble"),gm(),Te("overrides",{}),Te("showAbove",!1),$s("placement",(n,r,i)=>{const l=cy(n,0,r);return r.node.filter(gs).bind(u=>{const m=u.dom.getBoundingClientRect(),p=Pl(m.left,m.top,m.width,m.height),b=r.node.getOr(n.element);return Zi(p,l,r,i,b)})})];const uy=(n,r,i,l)=>({start:n,soffset:r,finish:i,foffset:l}),jd=Kr([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),zh=(jd.before,jd.on,jd.after,n=>n.fold(Lt,Lt,Lt)),Vc=Kr([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ou={domRange:Vc.domRange,relative:Vc.relative,exact:Vc.exact,exactFromRange:n=>Vc.exact(n.start,n.soffset,n.finish,n.foffset),getWin:n=>{const r=(i=>i.match({domRange:l=>Ht(l.startContainer),relative:(l,u)=>zh(l),exact:(l,u,m,p)=>l}))(n);return ru(r)},range:uy},gf=(n,r,i)=>{const l=n.document.createRange();var u;return u=l,r.fold(m=>{u.setStartBefore(m.dom)},(m,p)=>{u.setStart(m.dom,p)},m=>{u.setStartAfter(m.dom)}),((m,p)=>{p.fold(b=>{m.setEndBefore(b.dom)},(b,y)=>{m.setEnd(b.dom,y)},b=>{m.setEndAfter(b.dom)})})(l,i),l},pm=(n,r,i,l,u)=>{const m=n.document.createRange();return m.setStart(r.dom,i),m.setEnd(l.dom,u),m},pg=n=>({left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.width,height:n.height}),Zd=Kr([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),bp=(n,r,i)=>r(Ht(i.startContainer),i.startOffset,Ht(i.endContainer),i.endOffset),Dh=(n,r)=>((i,l)=>{const u=((m,p)=>p.match({domRange:b=>({ltr:ae(b),rtl:O.none}),relative:(b,y)=>({ltr:ki(()=>gf(m,b,y)),rtl:ki(()=>O.some(gf(m,y,b)))}),exact:(b,y,w,C)=>({ltr:ki(()=>pm(m,b,y,w,C)),rtl:ki(()=>O.some(pm(m,w,C,b,y)))})}))(i,l);return((m,p)=>{const b=p.ltr();return b.collapsed?p.rtl().filter(y=>y.collapsed===!1).map(y=>Zd.rtl(Ht(y.endContainer),y.endOffset,Ht(y.startContainer),y.startOffset)).getOrThunk(()=>bp(0,Zd.ltr,b)):bp(0,Zd.ltr,b)})(0,u)})(n,r).match({ltr:(i,l,u,m)=>{const p=n.document.createRange();return p.setStart(i.dom,l),p.setEnd(u.dom,m),p},rtl:(i,l,u,m)=>{const p=n.document.createRange();return p.setStart(u.dom,m),p.setEnd(i.dom,l),p}});Zd.ltr,Zd.rtl;const my=(n,r,i)=>Mo(((l,u)=>{const m=Ue(u)?u:_e;let p=l.dom;const b=[];for(;p.parentNode!==null&&p.parentNode!==void 0;){const y=p.parentNode,w=Ht(y);if(b.push(w),m(w)===!0)break;p=y}return b})(n,i),r),rl=(n,r)=>((i,l)=>{const u=l===void 0?document:l.dom;return Ed(u)?[]:Ct(u.querySelectorAll(i),Ht)})(r,n),rv=n=>{if(n.rangeCount>0){const r=n.getRangeAt(0),i=n.getRangeAt(n.rangeCount-1);return O.some(uy(Ht(r.startContainer),r.startOffset,Ht(i.endContainer),i.endOffset))}return O.none()},av=n=>{if(n.anchorNode===null||n.focusNode===null)return rv(n);{const r=Ht(n.anchorNode),i=Ht(n.focusNode);return((l,u,m,p)=>{const b=((w,C,S,z)=>{const M=da(w).dom.createRange();return M.setStart(w.dom,C),M.setEnd(S.dom,z),M})(l,u,m,p),y=Wn(l,m)&&u===p;return b.collapsed&&!y})(r,n.anchorOffset,i,n.focusOffset)?O.some(uy(r,n.anchorOffset,i,n.focusOffset)):rv(n)}},fy=(n,r)=>(i=>{const l=i.getClientRects(),u=l.length>0?l[0]:i.getBoundingClientRect();return u.width>0||u.height>0?O.some(u).map(pg):O.none()})(Dh(n,r)),N_=((n,r)=>{const i=l=>n(l)?O.from(l.dom.nodeValue):O.none();return{get:l=>{if(!n(l))throw new Error("Can only get text value of a text node");return i(l).getOr("")},getOption:i,set:(l,u)=>{if(!n(l))throw new Error("Can only set raw text value of a text node");l.dom.nodeValue=u}}})(si),gy=(n,r)=>({element:n,offset:r}),iv=(n,r)=>si(n)?gy(n,r):((i,l)=>{const u=os(i);if(u.length===0)return gy(i,l);if(l<u.length)return gy(u[l],0);{const m=u[u.length-1],p=si(m)?(b=>N_.get(b))(m).length:os(m).length;return gy(m,p)}})(n,r),yp=n=>n.foffset!==void 0,hm=(n,r)=>r.getSelection.getOrThunk(()=>()=>(i=>(l=>O.from(l.getSelection()))(i).filter(l=>l.rangeCount>0).bind(av))(n))().map(i=>{if(yp(i)){const l=iv(i.start,i.soffset),u=iv(i.finish,i.foffset);return Ou.range(l.element,l.offset,u.element,u.offset)}return i});var kk=[$n("getSelection"),Xe("root"),$n("bubble"),gm(),Te("overrides",{}),Te("showAbove",!1),$s("placement",(n,r,i)=>{const l=ru(r.root).dom,u=cy(n,0,r),m=hm(l,r).bind(b=>{if(yp(b))return((w,C)=>(S=>{const z=S.getBoundingClientRect();return z.width>0||z.height>0?O.some(z).map(pg):O.none()})(Dh(w,C)))(l,Ou.exactFromRange(b)).orThunk(()=>{const w=sc("\uFEFF");td(b.start,w);const C=fy(l,Ou.exact(w,0,w,1));return Er(w),C}).bind(w=>Pl(w.left,w.top,w.width,w.height));{const y=ln(b,C=>C.dom.getBoundingClientRect()),w={left:Math.min(y.firstCell.left,y.lastCell.left),right:Math.max(y.firstCell.right,y.lastCell.right),top:Math.min(y.firstCell.top,y.lastCell.top),bottom:Math.max(y.firstCell.bottom,y.lastCell.bottom)};return Pl(w.left,w.top,w.right-w.left,w.bottom-w.top)}}),p=hm(l,r).bind(b=>yp(b)?br(b.start)?O.some(b.start):yr(b.start):O.some(b.firstCell)).getOr(n.element);return Zi(m,u,r,i,p)})];const py="link-layout",hy=n=>n.x+n.width,bm=(n,r)=>n.x-r.width,pf=(n,r)=>n.y-r.height+n.height,by=n=>n.y,Rh=(n,r,i)=>Si(hy(n),by(n),i.southeast(),Qb(),"southeast",Ei(n,{left:0,top:2}),py),hf=(n,r,i)=>Si(bm(n,r),by(n),i.southwest(),Jb(),"southwest",Ei(n,{right:1,top:2}),py),bf=(n,r,i)=>Si(hy(n),pf(n,r),i.northeast(),q1(),"northeast",Ei(n,{left:0,bottom:3}),py),hg=(n,r,i)=>Si(bm(n,r),pf(n,r),i.northwest(),W1(),"northwest",Ei(n,{right:1,bottom:3}),py),qd=()=>[Rh,hf,bf,hg],yf=()=>[hf,Rh,hg,bf];var M_=[Xe("item"),gm(),Te("overrides",{}),$s("placement",(n,r,i)=>{const l=ny(i,r.item.element),u=Oh(n.element,r,qd(),yf(),qd(),yf(),O.none());return O.some(fm({anchorBox:l,bubble:Th(),overrides:r.overrides,layouts:u}))})],Nh=qa("type",{selection:kk,node:dy,hotspot:ff,submenu:M_,makeshift:iy});const vf=[pa("classes",Or),zr("mode","all",["all","layout","placement"])],vp=[Te("useFixed",_e),$n("getBounds")],lv=[Ui("anchor",Nh),Vi("transition",vf)],cv=(n,r,i,l,u,m)=>{const p=ga("placement.info",ko(lv),u),b=p.anchor,y=l.element,w=i.get(l.uid);gp(()=>{Ro(y,"position","fixed");const C=vr(y,"visibility");Ro(y,"visibility","hidden");const S=r.useFixed()?(()=>{const z=document.documentElement;return tv(0,0,z.clientWidth,z.clientHeight)})():(z=>{const M=_n(z.element),P=z.element.dom.getBoundingClientRect();return ev(M.left,M.top,P.width,P.height)})(n);b.placement(n,b,S).each(z=>{const M=m.orThunk(()=>r.getBounds.map(Vt)),P=(($,K,ee,q,V,J)=>((te,ie,ve,Re,st,it,lt,qt)=>{const eo=ry(lt,"maxHeightFunction",fg()),po=ry(lt,"maxWidthFunction",We),Bo=te.anchorBox,Fo=te.origin,yn={bounds:R_(Fo,it),origin:Fo,preference:Re,maxHeightFunction:eo,maxWidthFunction:po,lastPlacement:st,transition:qt};return ay(Bo,ie,ve,yn)})(((te,ie)=>((ve,Re)=>({anchorBox:ve,origin:Re}))(te,ie))(K.anchorBox,$),q.element,K.bubble,K.layouts,V,ee,K.overrides,J))(S,z,M,l,w,p.transition);i.set(l.uid,P)}),C.fold(()=>{Ln(y,"visibility")},z=>{Ro(y,"visibility",z)}),vr(y,"left").isNone()&&vr(y,"top").isNone()&&vr(y,"right").isNone()&&vr(y,"bottom").isNone()&&Pa(vr(y,"position"),"fixed")&&Ln(y,"position")},y)};var dv=Object.freeze({__proto__:null,position:(n,r,i,l,u)=>{const m=O.none();cv(n,r,i,l,u,m)},positionWithinBounds:cv,getMode:(n,r,i)=>r.useFixed()?"fixed":"absolute",reset:(n,r,i,l)=>{const u=l.element;Yt(["position","left","right","top","bottom"],m=>Ln(u,m)),(m=>{As(m,Sh)})(u),i.clear(l.uid)}});const qi=Ra({fields:vp,name:"positioning",active:D_,apis:dv,state:Object.freeze({__proto__:null,init:()=>{let n={};return zs({readState:()=>n,clear:r=>{Se(r)?delete n[r]:n={}},set:(r,i)=>{n[r]=i},get:r=>Qt(n,r)})}})}),yy=n=>n.getSystem().isConnected(),kf=n=>{Sn(n,qm());const r=n.components();Yt(r,kf)},jc=n=>{const r=n.components();Yt(r,jc),Sn(n,kt())},uv=(n,r)=>{n.getSystem().addToWorld(r),gs(n.element)&&jc(r)},Mh=n=>{kf(n),n.getSystem().removeFromWorld(n)},xf=(n,r)=>{kr(n.element,r.element)},wf=(n,r)=>{vy(n,r,kr)},vy=(n,r,i)=>{n.getSystem().addToWorld(r),i(n.element,r.element),gs(n.element)&&jc(r),n.syncComponents()},ky=n=>{kf(n),Er(n.element),n.getSystem().removeFromWorld(n)},ym=n=>{const r=Mi(n.element).bind(i=>n.getSystem().getByDom(i).toOptional());ky(n),r.each(i=>{i.syncComponents()})},_f=n=>{const r=n.components();Yt(r,ky),Lm(n.element),n.syncComponents()},Ih=(n,r)=>{xk(n,r,kr)},Af=(n,r)=>{xk(n,r,uu)},xk=(n,r,i)=>{i(n,r.element);const l=os(r.element);Yt(l,u=>{r.getByDom(u).each(jc)})},Bh=n=>{const r=os(n.element);Yt(r,i=>{n.getByDom(i).each(kf)}),Er(n.element)},Lh=(n,r,i,l)=>{i.get().each(p=>{_f(n)});const u=r.getAttachPoint(n);wf(u,n);const m=n.getSystem().build(l);return wf(n,m),i.set(m),m},mv=(n,r,i,l)=>{const u=Lh(n,r,i,l);return r.onOpen(n,u),u},Ph=(n,r,i)=>{i.get().each(l=>{_f(n),ym(n),r.onClose(n,l),i.clear()})},vm=(n,r,i)=>i.isOpen(),Cf=(n,r,i)=>{const l=r.getAttachPoint(n);Ro(n.element,"position",qi.getMode(l)),((u,m,p,b)=>{vr(u.element,m).fold(()=>{As(u.element,p)},y=>{Ho(u.element,p,y)}),Ro(u.element,m,"hidden")})(n,"visibility",r.cloakVisibilityAttr)},Fh=(n,r,i)=>{(l=>tr(["top","left","right","bottom"],u=>vr(l,u).isSome()))(n.element)||Ln(n.element,"position"),((l,u,m)=>{Wr(l.element,m).fold(()=>Ln(l.element,u),p=>Ro(l.element,u,p))})(n,"visibility",r.cloakVisibilityAttr)};var fv=Object.freeze({__proto__:null,cloak:Cf,decloak:Fh,open:mv,openWhileCloaked:(n,r,i,l,u)=>{Cf(n,r),mv(n,r,i,l),u(),Fh(n,r)},close:Ph,isOpen:vm,isPartOf:(n,r,i,l)=>vm(0,0,i)&&i.get().exists(u=>r.isPartOf(n,u,l)),getState:(n,r,i)=>i.get(),setContent:(n,r,i,l)=>i.get().map(()=>Lh(n,r,i,l))}),gd=Object.freeze({__proto__:null,events:(n,r)=>hn([at(ag(),(i,l)=>{Ph(i,n,r)})])}),bg=[zn("onOpen"),zn("onClose"),Xe("isPartOf"),Xe("getAttachPoint"),Te("cloakVisibilityAttr","data-precloak-visibility")],kp=Object.freeze({__proto__:null,init:()=>{const n=er(),r=ae("not-implemented");return zs({readState:r,isOpen:n.isSet,clear:n.clear,set:n.set,get:n.get})}});const bn=Ra({fields:bg,name:"sandboxing",active:gd,apis:fv,state:kp}),Fl=ae("dismiss.popups"),xp=ae("reposition.popups"),qe=ae("mouse.released"),xy=ii([Te("isExtraPart",_e),Vi("fireEventInstead",[Te("event",yu())])]),gv=n=>{const r=ga("Dismissal",xy,n);return{[Fl()]:{schema:ii([Xe("target")]),onReceive:(i,l)=>{bn.isOpen(i)&&(bn.isPartOf(i,l.target)||r.isExtraPart(i,l.target)||r.fireEventInstead.fold(()=>bn.close(i),u=>Sn(i,u.event)))}}}},wk=ii([Vi("fireEventInstead",[Te("event",Bd())]),Ea("doReposition")]),wp=n=>{const r=ga("Reposition",wk,n);return{[xp()]:{onReceive:i=>{bn.isOpen(i)&&r.fireEventInstead.fold(()=>r.doReposition(i),l=>Sn(i,l.event))}}}},Zc=(n,r,i)=>{r.store.manager.onLoad(n,r,i)},_p=(n,r,i)=>{r.store.manager.onUnload(n,r,i)};var wy=Object.freeze({__proto__:null,onLoad:Zc,onUnload:_p,setValue:(n,r,i,l)=>{r.store.manager.setValue(n,r,i,l)},getValue:(n,r,i)=>r.store.manager.getValue(n,r,i),getState:(n,r,i)=>i}),pv=Object.freeze({__proto__:null,events:(n,r)=>{const i=n.resetOnDom?[Os((l,u)=>{Zc(l,n,r)}),dd((l,u)=>{_p(l,n,r)})]:[mp(n,r,Zc)];return hn(i)}});const Uh=()=>{const n=_o(null);return zs({set:n.set,get:n.get,isNotSet:()=>n.get()===null,clear:()=>{n.set(null)},readState:()=>({mode:"memory",value:n.get()})})},_y=()=>{const n=_o({}),r=_o({});return zs({readState:()=>({mode:"dataset",dataByValue:n.get(),dataByText:r.get()}),lookup:i=>Qt(n.get(),i).orThunk(()=>Qt(r.get(),i)),update:i=>{const l=n.get(),u=r.get(),m={},p={};Yt(i,b=>{m[b.value]=b,Qt(b,"meta").each(y=>{Qt(y,"text").each(w=>{p[w]=b})})}),n.set({...l,...m}),r.set({...u,...p})},clear:()=>{n.set({}),r.set({})}})};var hv=Object.freeze({__proto__:null,memory:Uh,dataset:_y,manual:()=>zs({readState:We}),init:n=>n.store.manager.state(n)});const _k=(n,r,i,l)=>{const u=r.store;i.update([l]),u.setValue(n,l),r.onSetValue(n,l)};var Ay=[$n("initialValue"),Xe("getFallbackEntry"),Xe("getDataKey"),Xe("setValue"),$s("manager",{setValue:_k,getValue:(n,r,i)=>{const l=r.store,u=l.getDataKey(n);return i.lookup(u).getOrThunk(()=>l.getFallbackEntry(u))},onLoad:(n,r,i)=>{r.store.initialValue.each(l=>{_k(n,r,i,l)})},onUnload:(n,r,i)=>{i.clear()},state:_y})],Ak=[Xe("getValue"),Te("setValue",We),$n("initialValue"),$s("manager",{setValue:(n,r,i,l)=>{r.store.setValue(n,l),r.onSetValue(n,l)},getValue:(n,r,i)=>r.store.getValue(n),onLoad:(n,r,i)=>{r.store.initialValue.each(l=>{r.store.setValue(n,l)})},onUnload:We,state:Gn.init})],Ck=[$n("initialValue"),$s("manager",{setValue:(n,r,i,l)=>{i.set(l),r.onSetValue(n,l)},getValue:(n,r,i)=>i.get(),onLoad:(n,r,i)=>{r.store.initialValue.each(l=>{i.isNotSet()&&i.set(l)})},onUnload:(n,r,i)=>{i.clear()},state:Uh})],I_=[Ta("store",{mode:"memory"},qa("mode",{memory:Ck,manual:Ak,dataset:Ay})),zn("onSetValue"),Te("resetOnDom",!1)];const Gt=Ra({fields:I_,name:"representing",active:pv,apis:wy,extra:{setValueFrom:(n,r)=>{const i=Gt.getValue(r);Gt.setValue(n,i)}},state:hv}),Na=(n,r)=>em(n,{},Ct(r,i=>{return l=i.name(),u="Cannot configure "+i.name()+" for "+n,wr(l,l,{tag:"option",process:{}},nd(m=>Sc("The field: "+l+" is forbidden. "+u)));var l,u}).concat([sa("dump",Lt)])),Ap=n=>n.dump,Ya=(n,r)=>({...Rt(r),...n.dump}),km=Na,Cp=Ya,Cy="placeholder",Hh=Kr([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),f=n=>uo(n,"uiType"),h=(n,r,i,l)=>((u,m,p,b)=>f(p)&&p.uiType===Cy?((y,w,C,S)=>y.exists(z=>z!==C.owner)?Hh.single(!0,ae(C)):Qt(S,C.name).fold(()=>{throw new Error("Unknown placeholder component: "+C.name+`
Known: [`+on(S)+`]
Namespace: `+y.getOr("none")+`
Spec: `+JSON.stringify(C,null,2))},z=>z.replace()))(u,0,p,b):Hh.single(!1,ae(p)))(n,0,i,l).fold((u,m)=>{const p=f(i)?m(r,i.config,i.validated):m(r),b=Qt(p,"components").getOr([]),y=Ws(b,w=>h(n,r,w,l));return[{...p,components:y}]},(u,m)=>{if(f(i)){const p=m(r,i.config,i.validated);return i.validated.preprocess.getOr(Lt)(p)}return m(r)}),k=Hh.single,_=Hh.multiple,D=ae(Cy),R=Kr([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),L=Te("factory",{sketch:Lt}),Z=Te("schema",[]),G=Xe("name"),re=wr("pname","pname",ja(n=>"<alloy."+no(n.name)+">"),Es()),pe=sa("schema",()=>[$n("preprocess")]),ce=Te("defaults",ae({})),me=Te("overrides",ae({})),be=ko([L,Z,G,re,ce,me]),Me=ko([L,Z,G,ce,me]),Ee=ko([L,Z,G,re,ce,me]),et=ko([L,pe,G,Xe("unit"),re,ce,me]),mt=n=>n.fold(O.some,O.none,O.some,O.some),_t=n=>{const r=i=>i.name;return n.fold(r,r,r,r)},gt=(n,r)=>i=>{const l=ga("Converting part type",r,i);return n(l)},Ot=gt(R.required,be),It=gt(R.external,Me),Zt=gt(R.optional,Ee),To=gt(R.group,et),Oo=ae("entirety");var Kn=Object.freeze({__proto__:null,required:Ot,external:It,optional:Zt,group:To,asNamedPart:mt,name:_t,asCommon:n=>n.fold(Lt,Lt,Lt,Lt),original:Oo});const $o=(n,r,i,l)=>oe(r.defaults(n,i,l),i,{uid:n.partUids[r.name]},r.overrides(n,i,l)),gn=(n,r)=>{const i={};return Yt(r,l=>{mt(l).each(u=>{const m=cn(n,u.pname);i[u.name]=p=>{const b=ga("Part: "+u.name+" in "+n,ko(u.schema),p);return{...m,config:p,validated:b}}})}),i},cn=(n,r)=>({uiType:D(),owner:n,name:r}),ls=(n,r,i)=>({uiType:D(),owner:n,name:r,config:i,validated:{}}),Pt=n=>Ws(n,r=>r.fold(O.none,O.some,O.none,O.none).map(i=>Hi(i.name,i.schema.concat([T_(Oo())]))).toArray()),Qa=n=>Ct(n,_t),la=(n,r,i)=>((l,u,m)=>{const p={},b={};return Yt(m,y=>{y.fold(w=>{p[w.pname]=k(!0,(C,S,z)=>w.factory.sketch($o(C,w,S,z)))},w=>{const C=u.parts[w.name];b[w.name]=ae(w.factory.sketch($o(u,w,C[Oo()]),C))},w=>{p[w.pname]=k(!1,(C,S,z)=>w.factory.sketch($o(C,w,S,z)))},w=>{p[w.pname]=_(!0,(C,S,z)=>{const M=C[w.name];return Ct(M,P=>w.factory.sketch(oe(w.defaults(C,P,z),P,w.overrides(C,P))))})})}),{internals:ae(p),externals:ae(b)}})(0,r,i),Ul=(n,r,i)=>((l,u,m,p)=>{const b=ln(p,(w,C)=>((S,z)=>{let M=!1;return{name:ae(S),required:()=>z.fold((P,$)=>P,(P,$)=>P),used:()=>M,replace:()=>{if(M)throw new Error("Trying to use the same placeholder more than once: "+S);return M=!0,z}}})(C,w)),y=((w,C,S,z)=>Ws(S,M=>h(w,C,M,z)))(l,u,m,b);return fs(b,w=>{if(w.used()===!1&&w.required())throw new Error("Placeholder: "+w.name()+` was not found in components list
Namespace: `+l.getOr("none")+`
Components: `+JSON.stringify(u.components,null,2))}),y})(O.some(n),r,r.components,i),as=(n,r,i)=>{const l=r.partUids[i];return n.getSystem().getByUid(l).toOptional()},Ma=(n,r,i)=>as(n,r,i).getOrDie("Could not find part: "+i),xm=(n,r,i)=>{const l={},u=r.partUids,m=n.getSystem();return Yt(i,p=>{l[p]=ae(m.getByUid(u[p]))}),l},Vh=(n,r)=>{const i=n.getSystem();return ln(r.partUids,(l,u)=>ae(i.getByUid(l)))},jh=n=>on(n.partUids),Sp=(n,r,i)=>{const l={},u=r.partUids,m=n.getSystem();return Yt(i,p=>{l[p]=ae(m.getByUid(u[p]).getOrDie())}),l},Zh=(n,r)=>{const i=Qa(r);return Hn(Ct(i,l=>({key:l,value:n+"-"+l})))},Ia=n=>wr("partUids","partUids",gu(r=>Zh(r.uid,n)),Es());var bv=Object.freeze({__proto__:null,generate:gn,generateOne:ls,schemas:Pt,names:Qa,substitutes:la,components:Ul,defaultUids:Zh,defaultUidsSchema:Ia,getAllParts:Vh,getAllPartNames:jh,getPart:as,getPartOrDie:Ma,getParts:xm,getPartsOrDie:Sp});const ME=(n,r,i,l,u)=>{const m=((p,b)=>(p.length>0?[Hi("parts",p)]:[]).concat([Xe("uid"),Te("dom",{}),Te("components",[]),T_("originalSpec"),Te("debug.sketcher",{})]).concat(b))(l,u);return ga(n+" [SpecSchema]",ii(m.concat(r)),i)},B_=(n,r,i,l,u)=>{const m=IE(u),p=Pt(i),b=Ia(i),y=ME(n,r,m,p,[b]),w=la(0,y,i);return l(y,Ul(n,y,w.internals()),m,w.externals())},IE=n=>(r=>uo(r,"uid"))(n)?n:{...n,uid:F("uid")},DN=ii([Xe("name"),Xe("factory"),Xe("configFields"),Te("apis",{}),Te("extraApis",{})]),RN=ii([Xe("name"),Xe("factory"),Xe("configFields"),Xe("partFields"),Te("apis",{}),Te("extraApis",{})]),qc=n=>{const r=ga("Sketcher for "+n.name,DN,n),i=ln(r.apis,dn),l=ln(r.extraApis,(u,m)=>Wt(u,m));return{name:r.name,configFields:r.configFields,sketch:u=>((m,p,b,y)=>{const w=IE(y);return b(ME(m,p,w,[],[]),w)})(r.name,r.configFields,r.factory,u),...i,...l}},bl=n=>{const r=ga("Sketcher for "+n.name,RN,n),i=gn(r.name,r.partFields),l=ln(r.apis,dn),u=ln(r.extraApis,(m,p)=>Wt(m,p));return{name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:m=>B_(r.name,r.configFields,r.partFields,r.factory,m),parts:i,...l,...u}},Sy=n=>Wu("input")(n)&&qr(n,"type")!=="radio"||Wu("textarea")(n);var BE=Object.freeze({__proto__:null,getCurrent:(n,r,i)=>r.find(n)});const NN=[Xe("find")],In=Ra({fields:NN,name:"composing",apis:BE}),MN=["input","button","textarea","select"],LE=(n,r,i)=>{(r.disabled()?Sk:F_)(n,r)},L_=(n,r)=>r.useNative===!0&&So(MN,Ua(n.element)),IN=n=>{Ho(n.element,"disabled","disabled")},P_=n=>{As(n.element,"disabled")},PE=n=>{Ho(n.element,"aria-disabled","true")},BN=n=>{Ho(n.element,"aria-disabled","false")},Sk=(n,r,i)=>{r.disableClass.each(l=>{rs(n.element,l)}),(L_(n,r)?IN:PE)(n),r.onDisabled(n)},F_=(n,r,i)=>{r.disableClass.each(l=>{cr(n.element,l)}),(L_(n,r)?P_:BN)(n),r.onEnabled(n)},FE=(n,r)=>L_(n,r)?(i=>yi(i.element,"disabled"))(n):(i=>qr(i.element,"aria-disabled")==="true")(n);var LN=Object.freeze({__proto__:null,enable:F_,disable:Sk,isDisabled:FE,onLoad:LE,set:(n,r,i,l)=>{(l?Sk:F_)(n,r)}}),UE=Object.freeze({__proto__:null,exhibit:(n,r)=>ya({classes:r.disabled()?r.disableClass.toArray():[]}),events:(n,r)=>hn([ku(Ai(),(i,l)=>FE(i,n)),mp(n,r,LE)])}),PN=[rr("disabled",_e),Te("useNative",!0),$n("disableClass"),zn("onDisabled"),zn("onEnabled")];const Io=Ra({fields:PN,name:"disabling",active:UE,apis:LN}),U_=(n,r,i,l)=>{const u=rl(n.element,"."+r.highlightClass);Yt(u,m=>{tr(l,p=>Wn(p.element,m))||(cr(m,r.highlightClass),n.getSystem().getByDom(m).each(p=>{r.onDehighlight(n,p),Sn(p,om())}))})},yv=(n,r,i,l)=>{U_(n,r,0,[l]),H_(n,r,i,l)||(rs(l.element,r.highlightClass),r.onHighlight(n,l),Sn(l,Ts()))},H_=(n,r,i,l)=>Ga(l.element,r.highlightClass),V_=(n,r,i)=>_r(n.element,"."+r.itemClass).bind(l=>n.getSystem().getByDom(l).toOptional()),HE=(n,r,i)=>{const l=rl(n.element,"."+r.itemClass);return(l.length>0?O.some(l[l.length-1]):O.none()).bind(u=>n.getSystem().getByDom(u).toOptional())},qh=(n,r,i,l)=>{const u=rl(n.element,"."+r.itemClass);return ti(u,m=>Ga(m,r.highlightClass)).bind(m=>{const p=cm(m,l,0,u.length-1);return n.getSystem().getByDom(u[p]).toOptional()})},VE=(n,r,i)=>{const l=rl(n.element,"."+r.itemClass);return vt(Ct(l,u=>n.getSystem().getByDom(u).toOptional()))};var j_=Object.freeze({__proto__:null,dehighlightAll:(n,r,i)=>U_(n,r,0,[]),dehighlight:(n,r,i,l)=>{H_(n,r,i,l)&&(cr(l.element,r.highlightClass),r.onDehighlight(n,l),Sn(l,om()))},highlight:yv,highlightFirst:(n,r,i)=>{V_(n,r).each(l=>{yv(n,r,i,l)})},highlightLast:(n,r,i)=>{HE(n,r).each(l=>{yv(n,r,i,l)})},highlightAt:(n,r,i,l)=>{((u,m,p,b)=>{const y=rl(u.element,"."+m.itemClass);return O.from(y[b]).fold(()=>un.error(new Error("No element found with index "+b)),u.getSystem().getByDom)})(n,r,0,l).fold(u=>{throw u},u=>{yv(n,r,i,u)})},highlightBy:(n,r,i,l)=>{const u=VE(n,r);Un(u,l).each(m=>{yv(n,r,i,m)})},isHighlighted:H_,getHighlighted:(n,r,i)=>_r(n.element,"."+r.highlightClass).bind(l=>n.getSystem().getByDom(l).toOptional()),getFirst:V_,getLast:HE,getPrevious:(n,r,i)=>qh(n,r,0,-1),getNext:(n,r,i)=>qh(n,r,0,1),getCandidates:VE}),FN=[Xe("highlightClass"),Xe("itemClass"),zn("onHighlight"),zn("onDehighlight")];const jn=Ra({fields:FN,name:"highlighting",apis:j_}),UN=[8],yg=[9],Sf=[13],Ek=[27],Wc=[32],Ey=[37],vv=[38],Tk=[39],Ty=[40],HN=(n,r,i)=>{const l=Nn(n.slice(0,r)),u=Nn(n.slice(r+1));return Un(l.concat(u),i)},VN=(n,r,i)=>{const l=Nn(n.slice(0,r));return Un(l,i)},jN=(n,r,i)=>{const l=n.slice(0,r),u=n.slice(r+1);return Un(u.concat(l),i)},jE=(n,r,i)=>{const l=n.slice(r+1);return Un(l,i)},Pn=n=>r=>{const i=r.raw;return So(n,i.which)},zu=n=>r=>Al(n,i=>i(r)),Ef=n=>n.raw.shiftKey===!0,ZN=n=>n.raw.ctrlKey===!0,kv=sn(Ef),Yn=(n,r)=>({matches:n,classification:r}),ZE=(n,r,i)=>{r.exists(l=>i.exists(u=>Wn(u,l)))||ao(n,Ld(),{prevFocus:r,newFocus:i})},Ok=()=>{const n=r=>Hc(r.element);return{get:n,set:(r,i)=>{const l=n(r);r.getSystem().triggerFocus(i,r.element);const u=n(r);ZE(r,l,u)}}},qN=()=>{const n=r=>jn.getHighlighted(r).map(i=>i.element);return{get:n,set:(r,i)=>{const l=n(r);r.getSystem().getByDom(i).fold(We,m=>{jn.highlight(r,m)});const u=n(r);ZE(r,l,u)}}};var Oy;(function(n){n.OnFocusMode="onFocus",n.OnEnterOrSpaceMode="onEnterOrSpace",n.OnApiMode="onApi"})(Oy||(Oy={}));const Wh=(n,r,i,l,u)=>{const m=(b,y,w,C,S)=>{return(z=w(b,y,C,S),M=y.event,Un(z,P=>P.matches(M)).map(P=>P.classification)).bind(P=>P(b,y,C,S));var z,M},p={schema:()=>n.concat([Te("focusManager",Ok()),Ta("focusInside","onFocus",Rl(b=>So(["onFocus","onEnterOrSpace","onApi"],b)?un.value(b):un.error("Invalid value for focusInside"))),$s("handler",p),$s("state",r),$s("sendFocusIn",u)]),processKey:m,toEvents:(b,y)=>{const w=b.focusInside!==Oy.OnFocusMode?O.none():u(b).map(S=>at(Bl(),(z,M)=>{S(z,b,y),M.stop()})),C=[at(oo(),(S,z)=>{m(S,z,i,b,y).fold(()=>{((M,P)=>{const $=Pn(Wc.concat(Sf))(P.event);b.focusInside===Oy.OnEnterOrSpaceMode&&$&&Nd(M,P)&&u(b).each(K=>{K(M,b,y),P.stop()})})(S,z)},M=>{z.stop()})}),at(Wo(),(S,z)=>{m(S,z,l,b,y).each(M=>{z.stop()})})];return hn(w.toArray().concat(C))}};return p},qE=n=>{const r=[$n("onEscape"),$n("onEnter"),Te("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Te("firstTabstop",0),Te("useTabstopAt",Je),$n("visibilitySelector")].concat([n]),i=(C,S)=>{const z=C.visibilitySelector.bind(M=>Pc(S,M)).getOr(S);return Ve(z)>0},l=(C,S)=>S.focusManager.get(C).bind(z=>Pc(z,S.selector)),u=(C,S,z)=>{((M,P)=>{const $=rl(M.element,P.selector),K=Mo($,ee=>i(P,ee));return O.from(K[P.firstTabstop])})(C,S).each(M=>{S.focusManager.set(C,M)})},m=(C,S,z,M)=>{const P=rl(C.element,z.selector);return l(C,z).bind($=>ti(P,tt(Wn,$)).bind(K=>((ee,q,V,J,te)=>te(q,V,ie=>((ve,Re)=>i(ve,Re)&&ve.useTabstopAt(Re))(J,ie)).fold(()=>J.cyclic?O.some(!0):O.none(),ie=>(J.focusManager.set(ee,ie),O.some(!0))))(C,P,K,z,M)))},p=(C,S,z)=>{const M=z.cyclic?HN:VN;return m(C,0,z,M)},b=(C,S,z)=>{const M=z.cyclic?jN:jE;return m(C,0,z,M)},y=ae([Yn(zu([Ef,Pn(yg)]),p),Yn(Pn(yg),b),Yn(zu([kv,Pn(Sf)]),(C,S,z)=>z.onEnter.bind(M=>M(C,S)))]),w=ae([Yn(Pn(Ek),(C,S,z)=>z.onEscape.bind(M=>M(C,S))),Yn(Pn(yg),(C,S,z)=>l(C,z).filter(M=>!z.useTabstopAt(M)).bind(M=>((P=>($=>Mi($))(P).bind(Yi).exists($=>Wn($,P)))(M)?p:b)(C,S,z)))]);return Wh(r,Gn.init,y,w,()=>O.some(u))};var WN=qE(sa("cyclic",_e)),$N=qE(sa("cyclic",Je));const xv=(n,r,i)=>Sy(i)&&Pn(Wc)(r.event)?O.none():((l,u,m)=>(lg(l,m,Ai()),O.some(!0)))(n,0,i),zy=(n,r)=>O.some(!0),zk=[Te("execute",xv),Te("useSpace",!1),Te("useEnter",!0),Te("useControlEnter",!1),Te("useDown",!1)],WE=(n,r,i)=>i.execute(n,r,n.element);var GN=Wh(zk,Gn.init,(n,r,i,l)=>{const u=i.useSpace&&!Sy(n.element)?Wc:[],m=i.useEnter?Sf:[],p=i.useDown?Ty:[],b=u.concat(m).concat(p);return[Yn(Pn(b),WE)].concat(i.useControlEnter?[Yn(zu([ZN,Pn(Sf)]),WE)]:[])},(n,r,i,l)=>i.useSpace&&!Sy(n.element)?[Yn(Pn(Wc),zy)]:[],()=>O.none());const $E=()=>{const n=er();return zs({readState:()=>n.get().map(r=>({numRows:String(r.numRows),numColumns:String(r.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(r,i)=>{n.set({numRows:r,numColumns:i})},getNumRows:()=>n.get().map(r=>r.numRows),getNumColumns:()=>n.get().map(r=>r.numColumns)})};var KN=Object.freeze({__proto__:null,flatgrid:$E,init:n=>n.state(n)});const GE=n=>(r,i,l,u)=>{const m=n(r.element);return KE(m,r,i,l,u)},Z_=(n,r)=>{const i=Tu(n,r);return GE(i)},q_=(n,r)=>{const i=Tu(r,n);return GE(i)},W_=n=>(r,i,l,u)=>KE(n,r,i,l,u),KE=(n,r,i,l,u)=>l.focusManager.get(r).bind(m=>n(r.element,m,l,u)).map(m=>(l.focusManager.set(r,m),!0)),YE=W_,QE=W_,Dk=W_,$_=n=>!(r=>r.offsetWidth<=0&&r.offsetHeight<=0)(n.dom),JE=(n,r,i)=>{const l=rl(n,i);return((u,m)=>ti(u,p=>Wn(p,r)).map(p=>({index:p,candidates:u})))(Mo(l,$_))},XE=(n,r)=>ti(n,i=>Wn(r,i)),eT=(n,r,i,l)=>l(Math.floor(r/i),r%i).bind(u=>{const m=u.row*i+u.column;return m>=0&&m<n.length?O.some(n[m]):O.none()}),tT=(n,r,i,l,u)=>eT(n,r,l,(m,p)=>{const b=m===i-1?n.length-m*l:l,y=cm(p,u,0,b-1);return O.some({row:m,column:y})}),Rk=(n,r,i,l,u)=>eT(n,r,l,(m,p)=>{const b=cm(m,u,0,i-1),y=b===i-1?n.length-b*l:l,w=hc(p,0,y-1);return O.some({row:b,column:w})}),YN=[Xe("selector"),Te("execute",xv),pl("onEscape"),Te("captureTab",!1),Z1()],QN=(n,r,i)=>{_r(n.element,r.selector).each(l=>{r.focusManager.set(n,l)})},Nk=n=>(r,i,l,u)=>JE(r,i,l.selector).bind(m=>n(m.candidates,m.index,u.getNumRows().getOr(l.initSize.numRows),u.getNumColumns().getOr(l.initSize.numColumns))),oT=(n,r,i)=>i.captureTab?O.some(!0):O.none(),nT=Nk((n,r,i,l)=>tT(n,r,i,l,-1)),G_=Nk((n,r,i,l)=>tT(n,r,i,l,1)),JN=Nk((n,r,i,l)=>Rk(n,r,i,l,-1)),XN=Nk((n,r,i,l)=>Rk(n,r,i,l,1)),eM=ae([Yn(Pn(Ey),Z_(nT,G_)),Yn(Pn(Tk),q_(nT,G_)),Yn(Pn(vv),YE(JN)),Yn(Pn(Ty),QE(XN)),Yn(zu([Ef,Pn(yg)]),oT),Yn(zu([kv,Pn(yg)]),oT),Yn(Pn(Wc.concat(Sf)),(n,r,i,l)=>((u,m)=>m.focusManager.get(u).bind(p=>Pc(p,m.selector)))(n,i).bind(u=>i.execute(n,r,u)))]),tM=ae([Yn(Pn(Ek),(n,r,i)=>i.onEscape(n,r)),Yn(Pn(Wc),zy)]);var K_=Wh(YN,$E,eM,tM,()=>O.some(QN));const sT=(n,r,i,l,u)=>{const m=(p,b,y)=>u(p,b,l,0,y.length-1,y[b],w=>{return C=y[w],Ua(C)==="button"&&qr(C,"disabled")==="disabled"?m(p,w,y):O.from(y[w]);var C});return JE(n,i,r).bind(p=>{const b=p.index,y=p.candidates;return m(b,b,y)})},Y_=(n,r,i,l)=>sT(n,r,i,l,(u,m,p,b,y,w,C)=>{const S=hc(m+p,b,y);return S===u?O.from(w):C(S)}),wv=(n,r,i,l)=>sT(n,r,i,l,(u,m,p,b,y,w,C)=>{const S=cm(m,p,b,y);return S===u?O.none():C(S)}),rT=[Xe("selector"),Te("getInitial",O.none),Te("execute",xv),pl("onEscape"),Te("executeOnMove",!1),Te("allowVertical",!0),Te("allowHorizontal",!0),Te("cycles",!0)],Mk=(n,r,i)=>((l,u)=>u.focusManager.get(l).bind(m=>Pc(m,u.selector)))(n,i).bind(l=>i.execute(n,r,l)),aT=(n,r,i)=>{r.getInitial(n).orThunk(()=>_r(n.element,r.selector)).each(l=>{r.focusManager.set(n,l)})},iT=(n,r,i)=>(i.cycles?wv:Y_)(n,i.selector,r,-1),lT=(n,r,i)=>(i.cycles?wv:Y_)(n,i.selector,r,1),cT=n=>(r,i,l,u)=>n(r,i,l,u).bind(()=>l.executeOnMove?Mk(r,i,l):O.some(!0)),oM=ae([Yn(Pn(Wc),zy),Yn(Pn(Ek),(n,r,i)=>i.onEscape(n,r))]);var nM=Wh(rT,Gn.init,(n,r,i,l)=>{const u=[...i.allowHorizontal?Ey:[]].concat(i.allowVertical?vv:[]),m=[...i.allowHorizontal?Tk:[]].concat(i.allowVertical?Ty:[]);return[Yn(Pn(u),cT(Z_(iT,lT))),Yn(Pn(m),cT(q_(iT,lT))),Yn(Pn(Sf),Mk),Yn(Pn(Wc),Mk)]},oM,()=>O.some(aT));const Tf=(n,r,i)=>O.from(n[r]).bind(l=>O.from(l[i]).map(u=>({rowIndex:r,columnIndex:i,cell:u}))),dT=(n,r,i,l)=>{const u=n[r].length,m=cm(i,l,0,u-1);return Tf(n,r,m)},uT=(n,r,i,l)=>{const u=cm(i,l,0,n.length-1),m=n[u].length,p=hc(r,0,m-1);return Tf(n,u,p)},mT=(n,r,i,l)=>{const u=n[r].length,m=hc(i+l,0,u-1);return Tf(n,r,m)},fT=(n,r,i,l)=>{const u=hc(i+l,0,n.length-1),m=n[u].length,p=hc(r,0,m-1);return Tf(n,u,p)},gT=[Hi("selectors",[Xe("row"),Xe("cell")]),Te("cycles",!0),Te("previousSelector",O.none),Te("execute",xv)],sM=(n,r,i)=>{r.previousSelector(n).orThunk(()=>{const l=r.selectors;return _r(n.element,l.cell)}).each(l=>{r.focusManager.set(n,l)})},Ik=(n,r)=>(i,l,u)=>{const m=u.cycles?n:r;return Pc(l,u.selectors.row).bind(p=>{const b=rl(p,u.selectors.cell);return XE(b,l).bind(y=>{const w=rl(i,u.selectors.row);return XE(w,p).bind(C=>{const S=((z,M)=>Ct(z,P=>rl(P,M.selectors.cell)))(w,u);return m(S,C,y).map(z=>z.cell)})})})},Q_=Ik((n,r,i)=>dT(n,r,i,-1),(n,r,i)=>mT(n,r,i,-1)),Dy=Ik((n,r,i)=>dT(n,r,i,1),(n,r,i)=>mT(n,r,i,1)),_v=Ik((n,r,i)=>uT(n,i,r,-1),(n,r,i)=>fT(n,i,r,-1)),rM=Ik((n,r,i)=>uT(n,i,r,1),(n,r,i)=>fT(n,i,r,1)),J_=ae([Yn(Pn(Ey),Z_(Q_,Dy)),Yn(Pn(Tk),q_(Q_,Dy)),Yn(Pn(vv),YE(_v)),Yn(Pn(Ty),QE(rM)),Yn(Pn(Wc.concat(Sf)),(n,r,i)=>Hc(n.element).bind(l=>i.execute(n,r,l)))]),aM=ae([Yn(Pn(Wc),zy)]);var pT=Wh(gT,Gn.init,J_,aM,()=>O.some(sM));const hT=[Xe("selector"),Te("execute",xv),Te("moveOnTab",!1)],X_=(n,r,i)=>i.focusManager.get(n).bind(l=>i.execute(n,r,l)),iM=(n,r,i)=>{_r(n.element,r.selector).each(l=>{r.focusManager.set(n,l)})},bT=(n,r,i)=>wv(n,i.selector,r,-1),yT=(n,r,i)=>wv(n,i.selector,r,1),Ry=ae([Yn(Pn(vv),Dk(bT)),Yn(Pn(Ty),Dk(yT)),Yn(zu([Ef,Pn(yg)]),(n,r,i,l)=>i.moveOnTab?Dk(bT)(n,r,i,l):O.none()),Yn(zu([kv,Pn(yg)]),(n,r,i,l)=>i.moveOnTab?Dk(yT)(n,r,i,l):O.none()),Yn(Pn(Sf),X_),Yn(Pn(Wc),X_)]),$h=ae([Yn(Pn(Wc),zy)]);var Bk=Wh(hT,Gn.init,Ry,$h,()=>O.some(iM));const Av=[pl("onSpace"),pl("onEnter"),pl("onShiftEnter"),pl("onLeft"),pl("onRight"),pl("onTab"),pl("onShiftTab"),pl("onUp"),pl("onDown"),pl("onEscape"),Te("stopSpaceKeyup",!1),$n("focusIn")];var lM=Wh(Av,Gn.init,(n,r,i)=>[Yn(Pn(Wc),i.onSpace),Yn(zu([kv,Pn(Sf)]),i.onEnter),Yn(zu([Ef,Pn(Sf)]),i.onShiftEnter),Yn(zu([Ef,Pn(yg)]),i.onShiftTab),Yn(zu([kv,Pn(yg)]),i.onTab),Yn(Pn(vv),i.onUp),Yn(Pn(Ty),i.onDown),Yn(Pn(Ey),i.onLeft),Yn(Pn(Tk),i.onRight),Yn(Pn(Wc),i.onSpace)],(n,r,i)=>[...i.stopSpaceKeyup?[Yn(Pn(Wc),zy)]:[],Yn(Pn(Ek),i.onEscape)],n=>n.focusIn);const Ep=WN.schema(),Of=$N.schema(),eA=nM.schema(),vT=K_.schema(),cM=pT.schema(),kT=GN.schema(),Cv=Bk.schema(),Sv=lM.schema(),xo=cf({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:Ep,cyclic:Of,flow:eA,flatgrid:vT,matrix:cM,execution:kT,menu:Cv,special:Sv}),name:"keying",active:{events:(n,r)=>n.handler.toEvents(n,r)},apis:{focusIn:(n,r,i)=>{r.sendFocusIn(r).fold(()=>{n.getSystem().triggerFocus(n.element,n.element)},l=>{l(n,r,i)})},setGridSize:(n,r,i,l,u)=>{(m=>Cr(m,"setGridSize"))(i)?i.setGridSize(l,u):console.error("Layout does not support setGridSize")}},state:KN}),tA=(n,r)=>{gp(()=>{((i,l,u)=>{const m=i.components();(y=>{Yt(y.components(),w=>Er(w.element)),Lm(y.element),y.syncComponents()})(i);const p=u(l),b=ts(m,p);Yt(b,y=>{kf(y),i.getSystem().removeFromWorld(y)}),Yt(p,y=>{yy(y)?xf(i,y):(i.getSystem().addToWorld(y),xf(i,y),gs(i.element)&&jc(y))}),i.syncComponents()})(n,r,()=>Ct(r,n.getSystem().build))},n.element)},Ny=(n,r)=>{gp(()=>{((i,l,u)=>{const m=i.components(),p=Ws(l,w=>Xs(w).toArray());Yt(m,w=>{So(p,w)||Mh(w)});const b=((w,C,S)=>of(w,C,(z,M)=>nf(w,M,z,S)))(n.element,r,n.getSystem().buildOrPatch),y=ts(m,b);Yt(y,w=>{yy(w)&&Mh(w)}),Yt(b,w=>{yy(w)||uv(i,w)}),i.syncComponents()})(n,r)},n.element)},Lk=(n,r,i,l)=>{Mh(r);const u=nf(n.element,i,l,n.getSystem().buildOrPatch);uv(n,u),n.syncComponents()},oA=(n,r,i)=>{const l=n.getSystem().build(i);vy(n,l,r)},nA=(n,r,i,l)=>{ym(r),oA(n,(u,m)=>((p,b,y)=>{ds(p,y).fold(()=>{kr(p,b)},w=>{td(w,b)})})(u,m,i),l)},Gh=(n,r)=>n.components(),zi=(n,r,i,l,u)=>{const m=Gh(n);return O.from(m[l]).map(p=>(u.fold(()=>ym(p),b=>{(r.reuseDom?Lk:nA)(n,p,l,b)}),p))};var dM=Object.freeze({__proto__:null,append:(n,r,i,l)=>{oA(n,kr,l)},prepend:(n,r,i,l)=>{oA(n,xi,l)},remove:(n,r,i,l)=>{const u=Gh(n);Un(u,p=>Wn(l.element,p.element)).each(ym)},replaceAt:zi,replaceBy:(n,r,i,l,u)=>{const m=Gh(n);return ti(m,l).bind(p=>zi(n,r,0,p,u))},set:(n,r,i,l)=>(r.reuseDom?Ny:tA)(n,l),contents:Gh});const zo=Ra({fields:[Js("reuseDom",!0)],name:"replacing",apis:dM}),an=(n,r)=>{const i=((l,u)=>{const m=hn(u);return Ra({fields:[Xe("enabled")],name:l,active:{events:ae(m)}})})(n,r);return{key:n,value:{config:{},me:i,configAsRaw:ae({}),initialConfig:{},state:Gn}}},Pk=(n,r)=>{r.ignore||(Xl(n.element),r.onFocus(n))};var My=Object.freeze({__proto__:null,focus:Pk,blur:(n,r)=>{r.ignore||Y1(n.element)},isFocused:n=>Ah(n.element)}),xT=Object.freeze({__proto__:null,exhibit:(n,r)=>{const i=r.ignore?{}:{attributes:{tabindex:"-1"}};return ya(i)},events:n=>hn([at(Bl(),(r,i)=>{Pk(r,n),i.stop()})].concat(n.stopMousedown?[at(za(),(r,i)=>{i.event.prevent()})]:[]))}),Fk=[zn("onFocus"),Te("stopMousedown",!1),Te("ignore",!1)];const Po=Ra({fields:Fk,name:"focusing",active:xT,apis:My}),Iy=(n,r,i,l)=>{const u=i.get();i.set(l),((m,p,b)=>{p.toggleClass.each(y=>{b.get()?rs(m.element,y):cr(m.element,y)})})(n,r,i),((m,p,b)=>{const y=p.aria;y.update(m,y,b.get())})(n,r,i),u!==l&&r.onToggled(n,l)},sA=(n,r,i)=>{Iy(n,r,i,!i.get())},wT=(n,r,i)=>{Iy(n,r,i,r.selected)};var rA=Object.freeze({__proto__:null,onLoad:wT,toggle:sA,isOn:(n,r,i)=>i.get(),on:(n,r,i)=>{Iy(n,r,i,!0)},off:(n,r,i)=>{Iy(n,r,i,!1)},set:Iy}),zf=Object.freeze({__proto__:null,exhibit:()=>ya({}),events:(n,r)=>{const i=(l=n,u=r,m=sA,ol(b=>{m(b,l,u)}));var l,u,m;const p=mp(n,r,wT);return hn(qn([n.toggleOnExecute?[i]:[],[p]]))}});const _T=(n,r,i)=>{Ho(n.element,"aria-expanded",i)};var uM=[Te("selected",!1),$n("toggleClass"),Te("toggleOnExecute",!0),zn("onToggled"),Ta("aria",{mode:"none"},qa("mode",{pressed:[Te("syncWithExpanded",!1),$s("update",(n,r,i)=>{Ho(n.element,"aria-pressed",i),r.syncWithExpanded&&_T(n,0,i)})],checked:[$s("update",(n,r,i)=>{Ho(n.element,"aria-checked",i)})],expanded:[$s("update",_T)],selected:[$s("update",(n,r,i)=>{Ho(n.element,"aria-selected",i)})],none:[$s("update",We)]}))];const mn=Ra({fields:uM,name:"toggling",active:zf,apis:rA,state:{init:()=>{const n=_o(!1);return{get:()=>n.get(),set:r=>n.set(r),clear:()=>n.set(!1),readState:()=>n.get()}}}}),aA=()=>{const n=(r,i)=>{i.stop(),vu(r)};return[at(Qn(),n),at(tl(),n),cd(Ql()),cd(za())]},Ev=n=>hn(qn([n.map(r=>ol((i,l)=>{r(i),l.stop()})).toArray(),aA()])),AT="alloy.item-hover",CT="alloy.item-focus",pd="alloy.item-toggled",Kh=n=>{(Hc(n.element).isNone()||Po.isFocused(n))&&(Po.isFocused(n)||Po.focus(n),ao(n,AT,{item:n}))},iA=n=>{ao(n,CT,{item:n})},Yh=ae(AT),bc=ae(CT),$c=ae(pd),Hl=n=>n.toggling.map(r=>r.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Du=[Xe("data"),Xe("components"),Xe("dom"),Te("hasSubmenu",!1),$n("toggling"),km("itemBehaviours",[mn,Po,xo,Gt]),Te("ignoreFocus",!1),Te("domModification",{}),$s("builder",n=>({dom:n.dom,domModification:{...n.domModification,attributes:{role:Hl(n),...n.domModification.attributes,"aria-haspopup":n.hasSubmenu,...n.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Cp(n.itemBehaviours,[n.toggling.fold(mn.revoke,r=>mn.config((i=>({aria:{mode:"checked"},...ws(i,(l,u)=>u!=="exclusive"),onToggled:(l,u)=>{Ue(i.onToggled)&&i.onToggled(l,u),((m,p)=>{ao(m,pd,{item:m,state:p})})(l,u)}}))(r))),Po.config({ignore:n.ignoreFocus,stopMousedown:n.ignoreFocus,onFocus:r=>{iA(r)}}),xo.config({mode:"execution"}),Gt.config({store:{mode:"memory",initialValue:n.data}}),an("item-type-events",[...aA(),at(ue(),Kh),at(Jl(),Po.focus)])]),components:n.components,eventOrder:n.eventOrder})),Te("eventOrder",{})],lA=[Xe("dom"),Xe("components"),$s("builder",n=>({dom:n.dom,components:n.components,events:hn([Zb(Jl())])}))],Gc=ae("item-widget"),vg=ae([Ot({name:"widget",overrides:n=>({behaviours:Rt([Gt.config({store:{mode:"manual",getValue:r=>n.data,setValue:We}})])})})]),mM=[Xe("uid"),Xe("data"),Xe("components"),Xe("dom"),Te("autofocus",!1),Te("ignoreFocus",!1),km("widgetBehaviours",[Gt,Po,xo]),Te("domModification",{}),Ia(vg()),$s("builder",n=>{const r=la(Gc(),n,vg()),i=Ul(Gc(),n,r.internals()),l=m=>as(m,n,"widget").map(p=>(xo.focusIn(p),p)),u=(m,p)=>(Sy(p.event.target)||n.autofocus&&p.setSource(m.element),O.none());return{dom:n.dom,components:i,domModification:n.domModification,events:hn([ol((m,p)=>{l(m).each(b=>{p.stop()})}),at(ue(),Kh),at(Jl(),(m,p)=>{n.autofocus?l(m):Po.focus(m)})]),behaviours:Cp(n.widgetBehaviours,[Gt.config({store:{mode:"memory",initialValue:n.data}}),Po.config({ignore:n.ignoreFocus,onFocus:m=>{iA(m)}}),xo.config({mode:"special",focusIn:n.autofocus?m=>{l(m)}:Su(),onLeft:u,onRight:u,onEscape:(m,p)=>Po.isFocused(m)||n.autofocus?(n.autofocus&&p.setSource(m.element),O.none()):(Po.focus(m),O.some(!0))})])}})],fM=qa("type",{widget:mM,item:Du,separator:lA}),gM=ae([To({factory:{sketch:n=>{const r=ga("menu.spec item",fM,n);return r.builder(r)}},name:"items",unit:"item",defaults:(n,r)=>uo(r,"uid")?r:{...r,uid:F("item")},overrides:(n,r)=>({type:r.type,ignoreFocus:n.fakeFocus,domModification:{classes:[n.markers.item]}})})]),ST=ae([Xe("value"),Xe("items"),Xe("dom"),Xe("components"),Te("eventOrder",{}),Na("menuBehaviours",[jn,Gt,In,xo]),Ta("movement",{mode:"menu",moveOnTab:!0},qa("mode",{grid:[Z1(),$s("config",(n,r)=>({mode:"flatgrid",selector:"."+n.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:n.focusManager}))],matrix:[$s("config",(n,r)=>({mode:"matrix",selectors:{row:r.rowSelector,cell:"."+n.markers.item},previousSelector:r.previousSelector,focusManager:n.focusManager})),Xe("rowSelector"),Te("previousSelector",O.none)],menu:[Te("moveOnTab",!0),$s("config",(n,r)=>({mode:"menu",selector:"."+n.markers.item,moveOnTab:r.moveOnTab,focusManager:n.focusManager}))]})),Ui("markers",hh()),Te("fakeFocus",!1),Te("focusManager",Ok()),zn("onHighlight"),zn("onDehighlight")]),cA=ae("alloy.menu-focus"),Df=bl({name:"Menu",configFields:ST(),partFields:gM(),factory:(n,r,i,l)=>({uid:n.uid,dom:n.dom,markers:n.markers,behaviours:Ya(n.menuBehaviours,[jn.config({highlightClass:n.markers.selectedItem,itemClass:n.markers.item,onHighlight:n.onHighlight,onDehighlight:n.onDehighlight}),Gt.config({store:{mode:"memory",initialValue:n.value}}),In.config({find:O.some}),xo.config(n.movement.config(n,n.movement))]),events:hn([at(bc(),(u,m)=>{const p=m.event;u.getSystem().getByDom(p.target).each(b=>{jn.highlight(u,b),m.stop(),ao(u,cA(),{menu:u,item:b})})}),at(Yh(),(u,m)=>{const p=m.event.item;jn.highlight(u,p)}),at($c(),(u,m)=>{const{item:p,state:b}=m.event;b&&qr(p.element,"role")==="menuitemradio"&&((y,w)=>{const C=rl(y.element,'[role="menuitemradio"][aria-checked="true"]');Yt(C,S=>{Wn(S,w.element)||y.getSystem().getByDom(S).each(z=>{mn.off(z)})})})(u,p)})]),components:r,eventOrder:n.eventOrder,domModification:{attributes:{role:"menu"}}})}),dA=(n,r,i,l)=>Qt(i,l).bind(u=>Qt(n,u).bind(m=>{const p=dA(n,r,i,m);return O.some([m].concat(p))})).getOr([]),ET=n=>n.type==="prepared"?O.some(n.menu):O.none(),pM=()=>{const n=_o({}),r=_o({}),i=_o({}),l=er(),u=_o({}),m=y=>p(y).bind(ET),p=y=>Qt(r.get(),y),b=y=>Qt(n.get(),y);return{setMenuBuilt:(y,w)=>{r.set({...r.get(),[y]:{type:"prepared",menu:w}})},setContents:(y,w,C,S)=>{l.set(y),n.set(C),r.set(w),u.set(S);const z=((M,P)=>{const $={};fs(M,(V,J)=>{Yt(V,te=>{$[te]=J})});const K=P,ee=jr(P,(V,J)=>({k:V,v:J})),q=ln(ee,(V,J)=>[J].concat(dA($,K,ee,J)));return ln($,V=>Qt(q,V).getOr([V]))})(S,C);i.set(z)},expand:y=>Qt(n.get(),y).map(w=>{const C=Qt(i.get(),y).getOr([]);return[w].concat(C)}),refresh:y=>Qt(i.get(),y),collapse:y=>Qt(i.get(),y).bind(w=>w.length>1?O.some(w.slice(1)):O.none()),lookupMenu:p,lookupItem:b,otherMenus:y=>{const w=u.get();return ts(on(w),y)},getPrimary:()=>l.get().bind(m),getMenus:()=>r.get(),clear:()=>{n.set({}),r.set({}),i.set({}),l.clear()},isClear:()=>l.get().isNone(),getTriggeringPath:(y,w)=>{const C=Mo(b(y).toArray(),S=>m(S).isSome());return Qt(i.get(),y).bind(S=>{const z=Nn(C.concat(S));return(M=>{const P=[];for(let $=0;$<M.length;$++){const K=M[$];if(!K.isSome())return O.none();P.push(K.getOrDie())}return O.some(P)})(Ws(z,(M,P)=>(($,K,ee)=>m($).bind(q=>(V=>Zr(n.get(),(J,te)=>J===V))($).bind(V=>K(V).map(J=>({triggeredMenu:q,triggeringItem:J,triggeringPath:ee})))))(M,w,z.slice(0,P+1)).fold(()=>Pa(l.get(),M)?[]:[O.none()],$=>[O.some($)])))})}}},hM=ET,TT=no("tiered-menu-item-highlight"),uA=no("tiered-menu-item-dehighlight");var Vl;(function(n){n[n.HighlightMenuAndItem=0]="HighlightMenuAndItem",n[n.HighlightJustMenu=1]="HighlightJustMenu",n[n.HighlightNone=2]="HighlightNone"})(Vl||(Vl={}));const mA=ae("collapse-item"),Tp=qc({name:"TieredMenu",configFields:[j1("onExecute"),j1("onEscape"),Hd("onOpenMenu"),Hd("onOpenSubmenu"),zn("onRepositionMenu"),zn("onCollapseMenu"),Te("highlightOnOpen",Vl.HighlightMenuAndItem),Hi("data",[Xe("primary"),Xe("menus"),Xe("expansions")]),Te("fakeFocus",!1),zn("onHighlightItem"),zn("onDehighlightItem"),zn("onHover"),bh(),Xe("dom"),Te("navigateOnHover",!0),Te("stayInDom",!1),Na("tmenuBehaviours",[xo,jn,In,zo]),Te("eventOrder",{})],apis:{collapseMenu:(n,r)=>{n.collapseMenu(r)},highlightPrimary:(n,r)=>{n.highlightPrimary(r)},repositionMenus:(n,r)=>{n.repositionMenus(r)}},factory:(n,r)=>{const i=er(),l=pM(),u=V=>Gt.getValue(V).value,m=V=>ln(n.data.menus,(J,te)=>Ws(J.items,ie=>ie.type==="separator"?[]:[ie.data.value])),p=jn.highlight,b=(V,J)=>{p(V,J),jn.getHighlighted(J).orThunk(()=>jn.getFirst(J)).each(te=>{n.fakeFocus?jn.highlight(J,te):lg(V,te.element,Jl())})},y=(V,J)=>vt(Ct(J,te=>V.lookupMenu(te).bind(ie=>ie.type==="prepared"?O.some(ie.menu):O.none()))),w=(V,J,te)=>{const ie=y(J,J.otherMenus(te));Yt(ie,ve=>{Bc(ve.element,[n.markers.backgroundMenu]),n.stayInDom||zo.remove(V,ve)})},C=(V,J)=>{const te=(ie=>i.get().getOrThunk(()=>{const ve={},Re=rl(ie.element,`.${n.markers.item}`),st=Mo(Re,it=>qr(it,"aria-haspopup")==="true");return Yt(st,it=>{ie.getSystem().getByDom(it).each(lt=>{const qt=u(lt);ve[qt]=lt})}),i.set(ve),ve}))(V);fs(te,(ie,ve)=>{const Re=So(J,ve);Ho(ie.element,"aria-expanded",Re)})},S=(V,J,te)=>O.from(te[0]).bind(ie=>J.lookupMenu(ie).bind(ve=>{if(ve.type==="notbuilt")return O.none();{const Re=ve.menu,st=y(J,te.slice(1));return Yt(st,it=>{rs(it.element,n.markers.backgroundMenu)}),gs(Re.element)||zo.append(V,ks(Re)),Bc(Re.element,[n.markers.backgroundMenu]),b(V,Re),w(V,J,te),O.some(Re)}}));let z;(function(V){V[V.HighlightSubmenu=0]="HighlightSubmenu",V[V.HighlightParent=1]="HighlightParent"})(z||(z={}));const M=(V,J,te=z.HighlightSubmenu)=>{if(J.hasConfigured(Io)&&Io.isDisabled(J))return O.some(J);{const ie=u(J);return l.expand(ie).bind(ve=>(C(V,ve),O.from(ve[0]).bind(Re=>l.lookupMenu(Re).bind(st=>{const it=((lt,qt,eo)=>{if(eo.type==="notbuilt"){const po=lt.getSystem().build(eo.nbMenu());return l.setMenuBuilt(qt,po),po}return eo.menu})(V,Re,st);return gs(it.element)||zo.append(V,ks(it)),n.onOpenSubmenu(V,J,it,Nn(ve)),te===z.HighlightSubmenu?(jn.highlightFirst(it),S(V,l,ve)):(jn.dehighlightAll(it),O.some(J))}))))}},P=(V,J)=>{const te=u(J);return l.collapse(te).bind(ie=>(C(V,ie),S(V,l,ie).map(ve=>(n.onCollapseMenu(V,J,ve),ve))))},$=V=>(J,te)=>Pc(te.getSource(),`.${n.markers.item}`).bind(ie=>J.getSystem().getByDom(ie).toOptional().bind(ve=>V(J,ve).map(Je))),K=hn([at(cA(),(V,J)=>{const te=J.event.item;l.lookupItem(u(te)).each(()=>{const ie=J.event.menu;jn.highlight(V,ie);const ve=u(J.event.item);l.refresh(ve).each(Re=>w(V,l,Re))})}),ol((V,J)=>{const te=J.event.target;V.getSystem().getByDom(te).each(ie=>{u(ie).indexOf("collapse-item")===0&&P(V,ie),M(V,ie,z.HighlightSubmenu).fold(()=>{n.onExecute(V,ie)},We)})}),Os((V,J)=>{(te=>{const ie=((Re,st,it)=>ln(it,(lt,qt)=>{const eo=()=>Df.sketch({...lt,value:qt,markers:n.markers,fakeFocus:n.fakeFocus,onHighlight:(po,Bo)=>{ao(po,TT,{menuComp:po,itemComp:Bo})},onDehighlight:(po,Bo)=>{ao(po,uA,{menuComp:po,itemComp:Bo})},focusManager:n.fakeFocus?qN():Ok()});return qt===st?{type:"prepared",menu:Re.getSystem().build(eo())}:{type:"notbuilt",nbMenu:eo}}))(te,n.data.primary,n.data.menus),ve=m();return l.setContents(n.data.primary,ie,n.data.expansions,ve),l.getPrimary()})(V).each(te=>{zo.append(V,ks(te)),n.onOpenMenu(V,te),n.highlightOnOpen===Vl.HighlightMenuAndItem?b(V,te):n.highlightOnOpen===Vl.HighlightJustMenu&&p(V,te)})}),at(TT,(V,J)=>{n.onHighlightItem(V,J.event.menuComp,J.event.itemComp)}),at(uA,(V,J)=>{n.onDehighlightItem(V,J.event.menuComp,J.event.itemComp)}),...n.navigateOnHover?[at(Yh(),(V,J)=>{const te=J.event.item;((ie,ve)=>{const Re=u(ve);l.refresh(Re).bind(st=>(C(ie,st),S(ie,l,st)))})(V,te),M(V,te,z.HighlightParent),n.onHover(V,te)})]:[]]),ee=V=>jn.getHighlighted(V).bind(jn.getHighlighted),q={collapseMenu:V=>{ee(V).each(J=>{P(V,J)})},highlightPrimary:V=>{l.getPrimary().each(J=>{b(V,J)})},repositionMenus:V=>{l.getPrimary().bind(te=>ee(V).bind(ie=>{const ve=u(ie),Re=Jo(l.getMenus()),st=vt(Ct(Re,hM));return l.getTriggeringPath(ve,it=>((lt,qt,eo)=>Bn(qt,po=>{if(!po.getSystem().isConnected())return O.none();const Bo=jn.getCandidates(po);return Un(Bo,Fo=>u(Fo)===eo)}))(0,st,it))}).map(ie=>({primary:te,triggeringPath:ie}))).fold(()=>{(te=>O.from(te.components()[0]).filter(ie=>qr(ie.element,"role")==="menu"))(V).each(te=>{n.onRepositionMenu(V,te,[])})},({primary:te,triggeringPath:ie})=>{n.onRepositionMenu(V,te,ie)})}};return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:Ya(n.tmenuBehaviours,[xo.config({mode:"special",onRight:$((V,J)=>Sy(J.element)?O.none():M(V,J,z.HighlightSubmenu)),onLeft:$((V,J)=>Sy(J.element)?O.none():P(V,J)),onEscape:$((V,J)=>P(V,J).orThunk(()=>n.onEscape(V,J).map(()=>V))),focusIn:(V,J)=>{l.getPrimary().each(te=>{lg(V,te.element,Jl())})}}),jn.config({highlightClass:n.markers.selectedMenu,itemClass:n.markers.menu}),In.config({find:V=>jn.getHighlighted(V)}),zo.config({})]),eventOrder:n.eventOrder,apis:q,events:K}},extraApis:{tieredData:(n,r,i)=>({primary:n,menus:r,expansions:i}),singleData:(n,r)=>({primary:n,menus:Oa(n,r),expansions:{}}),collapseItem:n=>({value:no(mA()),meta:{text:n}})}}),Ar=qc({name:"InlineView",configFields:[Xe("lazySink"),zn("onShow"),zn("onHide"),el("onEscape"),Na("inlineBehaviours",[bn,Gt,Ll]),Vi("fireDismissalEventInstead",[Te("event",yu())]),Vi("fireRepositionEventInstead",[Te("event",Bd())]),Te("getRelated",O.none),Te("isExtraPart",_e),Te("eventOrder",O.none)],factory:(n,r)=>{const i=(p,b,y,w)=>{const C=n.lazySink(p).getOrDie();bn.openWhileCloaked(p,b,()=>qi.positionWithinBounds(C,p,y,w())),Gt.setValue(p,O.some({mode:"position",config:y,getBounds:w}))},l=(p,b,y,w)=>{const C=((S,z,M,P,$)=>{const K=()=>S.lazySink(z),ee=P.type==="horizontal"?{layouts:{onLtr:()=>oy(),onRtl:()=>wh()}}:{},q=V=>(J=>J.length===2)(V)?ee:{};return Tp.sketch({dom:{tag:"div"},data:P.data,markers:P.menu.markers,highlightOnOpen:P.menu.highlightOnOpen,fakeFocus:P.menu.fakeFocus,onEscape:()=>(bn.close(z),S.onEscape.map(V=>V(z)),O.some(!0)),onExecute:()=>O.some(!0),onOpenMenu:(V,J)=>{qi.positionWithinBounds(K().getOrDie(),J,M,$())},onOpenSubmenu:(V,J,te,ie)=>{const ve=K().getOrDie();qi.position(ve,te,{anchor:{type:"submenu",item:J,...q(ie)}})},onRepositionMenu:(V,J,te)=>{const ie=K().getOrDie();qi.positionWithinBounds(ie,J,M,$()),Yt(te,ve=>{const Re=q(ve.triggeringPath);qi.position(ie,ve.triggeredMenu,{anchor:{type:"submenu",item:ve.triggeringItem,...Re}})})}})})(n,p,b,y,w);bn.open(p,C),Gt.setValue(p,O.some({mode:"menu",menu:C}))},u=p=>{bn.isOpen(p)&&Gt.getValue(p).each(b=>{switch(b.mode){case"menu":bn.getState(p).each(Tp.repositionMenus);break;case"position":const y=n.lazySink(p).getOrDie();qi.positionWithinBounds(y,p,b.config,b.getBounds())}})},m={setContent:(p,b)=>{bn.setContent(p,b)},showAt:(p,b,y)=>{const w=O.none;i(p,b,y,w)},showWithinBounds:i,showMenuAt:(p,b,y)=>{l(p,b,y,O.none)},showMenuWithinBounds:l,hide:p=>{bn.isOpen(p)&&(Gt.setValue(p,O.none()),bn.close(p))},getContent:p=>bn.getState(p),reposition:u,isOpen:bn.isOpen};return{uid:n.uid,dom:n.dom,behaviours:Ya(n.inlineBehaviours,[bn.config({isPartOf:(p,b,y)=>Ka(b,y)||((w,C)=>n.getRelated(w).exists(S=>Ka(S,C)))(p,y),getAttachPoint:p=>n.lazySink(p).getOrDie(),onOpen:p=>{n.onShow(p)},onClose:p=>{n.onHide(p)}}),Gt.config({store:{mode:"memory",initialValue:O.none()}}),Ll.config({channels:{...gv({isExtraPart:r.isExtraPart,...n.fireDismissalEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({})}),...wp({...n.fireRepositionEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({}),doReposition:u})}})]),eventOrder:n.eventOrder,apis:m}},apis:{showAt:(n,r,i,l)=>{n.showAt(r,i,l)},showWithinBounds:(n,r,i,l,u)=>{n.showWithinBounds(r,i,l,u)},showMenuAt:(n,r,i,l)=>{n.showMenuAt(r,i,l)},showMenuWithinBounds:(n,r,i,l,u)=>{n.showMenuWithinBounds(r,i,l,u)},hide:(n,r)=>{n.hide(r)},isOpen:(n,r)=>n.isOpen(r),getContent:(n,r)=>n.getContent(r),setContent:(n,r,i)=>{n.setContent(r,i)},reposition:(n,r)=>{n.reposition(r)}}});var Uk=tinymce.util.Tools.resolve("tinymce.util.Delay");const Wi=qc({name:"Button",factory:n=>{const r=Ev(n.action),i=n.dom.tag,l=u=>Qt(n.dom,"attributes").bind(m=>Qt(m,u));return{uid:n.uid,dom:n.dom,components:n.components,events:r,behaviours:Cp(n.buttonBehaviours,[Po.config({}),xo.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:i==="button"?{type:l("type").getOr("button"),...l("role").map(u=>({role:u})).getOr({})}:{role:n.role.getOr(l("role").getOr("button"))}},eventOrder:n.eventOrder}},configFields:[Te("uid",void 0),Xe("dom"),Te("components",[]),km("buttonBehaviours",[Po,xo]),$n("action"),$n("role"),Te("eventOrder",{})]}),kg=n=>{const r=bi(n),i=os(r),l=(p=>{const b=p.dom.attributes!==void 0?p.dom.attributes:[];return H(b,(y,w)=>w.name==="class"?y:{...y,[w.name]:w.value},{})})(r),u=(p=>Array.prototype.slice.call(p.dom.classList,0))(r),m=i.length===0?{}:{innerHtml:Gm(r)};return{tag:Ua(r),classes:u,attributes:l,...m}},us=n=>{const r=(i=>i.uid!==void 0)(n)&&Cr(n,"uid")?n.uid:F("memento");return{get:i=>i.getSystem().getByUid(r).getOrDie(),getOpt:i=>i.getSystem().getByUid(r).toOptional(),asSpec:()=>({...n,uid:r})}},{entries:OT,setPrototypeOf:hd,isFrozen:a6,getPrototypeOf:Hk,getOwnPropertyDescriptor:By}=Object;let{freeze:tc,seal:Wd,create:bM}=Object,{apply:fA,construct:gA}=typeof Reflect<"u"&&Reflect;fA||(fA=function(n,r,i){return n.apply(r,i)}),tc||(tc=function(n){return n}),Wd||(Wd=function(n){return n}),gA||(gA=function(n,r){return new n(...r)});const yM=$d(Array.prototype.forEach),zT=$d(Array.prototype.pop),Rf=$d(Array.prototype.push),Op=$d(String.prototype.toLowerCase),pA=$d(String.prototype.toString),vM=$d(String.prototype.match),Ru=$d(String.prototype.replace),hA=$d(String.prototype.indexOf),bA=$d(String.prototype.trim),Kc=$d(RegExp.prototype.test),zp=(Vk=TypeError,function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return gA(Vk,r)});var Vk;function $d(n){return function(r){for(var i=arguments.length,l=new Array(i>1?i-1:0),u=1;u<i;u++)l[u-1]=arguments[u];return fA(n,r,l)}}function cs(n,r,i){var l;i=(l=i)!==null&&l!==void 0?l:Op,hd&&hd(n,null);let u=r.length;for(;u--;){let m=r[u];if(typeof m=="string"){const p=i(m);p!==m&&(a6(r)||(r[u]=p),m=p)}n[m]=!0}return n}function Dp(n){const r=bM(null);for(const[i,l]of OT(n))r[i]=l;return r}function jk(n,r){for(;n!==null;){const i=By(n,r);if(i){if(i.get)return $d(i.get);if(typeof i.value=="function")return $d(i.value)}n=Hk(n)}return function(i){return console.warn("fallback value for",i),null}}const yA=tc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),vA=tc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Zk=tc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),kA=tc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Rp=tc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),xA=tc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),DT=tc(["#text"]),RT=tc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),qk=tc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),xg=tc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ly=tc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),wA=Wd(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Wk=Wd(/<%[\w\W]*|[\w\W]*%>/gm),NT=Wd(/\${[\w\W]*}/gm),$k=Wd(/^data-[\-\w.\u00B7-\uFFFF]/),_A=Wd(/^aria-[\-\w]+$/),MT=Wd(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),kM=Wd(/^(?:\w+script|data):/i),Nf=Wd(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),IT=Wd(/^html$/i);var BT=Object.freeze({__proto__:null,MUSTACHE_EXPR:wA,ERB_EXPR:Wk,TMPLIT_EXPR:NT,DATA_ATTR:$k,ARIA_ATTR:_A,IS_ALLOWED_URI:MT,IS_SCRIPT_OR_DATA:kM,ATTR_WHITESPACE:Nf,DOCTYPE_NAME:IT});const Gd=()=>typeof window>"u"?null:window;var Di=function n(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Gd();const i=Ie=>n(Ie);if(i.version="3.0.5",i.removed=[],!r||!r.document||r.document.nodeType!==9)return i.isSupported=!1,i;const l=r.document,u=l.currentScript;let{document:m}=r;const{DocumentFragment:p,HTMLTemplateElement:b,Node:y,Element:w,NodeFilter:C,NamedNodeMap:S=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:z,DOMParser:M,trustedTypes:P}=r,$=w.prototype,K=jk($,"cloneNode"),ee=jk($,"nextSibling"),q=jk($,"childNodes"),V=jk($,"parentNode");if(typeof b=="function"){const Ie=m.createElement("template");Ie.content&&Ie.content.ownerDocument&&(m=Ie.content.ownerDocument)}let J,te="";const{implementation:ie,createNodeIterator:ve,createDocumentFragment:Re,getElementsByTagName:st}=m,{importNode:it}=l;let lt={};i.isSupported=typeof OT=="function"&&typeof V=="function"&&ie&&ie.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:qt,ERB_EXPR:eo,TMPLIT_EXPR:po,DATA_ATTR:Bo,ARIA_ATTR:Fo,IS_SCRIPT_OR_DATA:yn,ATTR_WHITESPACE:Ms}=BT;let{IS_ALLOWED_URI:hr}=BT,Go=null;const fi=cs({},[...yA,...vA,...Zk,...Rp,...DT]);let Yo=null;const Fr=cs({},[...RT,...qk,...xg,...Ly]);let Is=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),kl=null,Nr=null,gi=!0,wc=!0,T1=!1,Nb=!0,Jp=!1,Hg=!1,$0=!1,Vg=!1,$f=!1,Xp=!1,Gf=!1,G0=!0,s_=!1,K0=!0,eh=!1,Kf={},jg=null;const js=cs({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let th=null;const ju=cs({},["audio","video","img","source","image","track"]);let r_=null;const TR=cs({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),a_="http://www.w3.org/1998/Math/MathML",Y0="http://www.w3.org/2000/svg",Zg="http://www.w3.org/1999/xhtml";let O1=Zg,Vo=!1,Mb=null;const OR=cs({},[a_,Y0,Zg],pA);let Ib;const zR=["application/xhtml+xml","text/html"];let xl,Bb=null;const c6=m.createElement("form"),z1=function(Ie){return Ie instanceof RegExp||Ie instanceof Function},fE=function(Ie){if(!Bb||Bb!==Ie){if(Ie&&typeof Ie=="object"||(Ie={}),Ie=Dp(Ie),Ib=Ib=zR.indexOf(Ie.PARSER_MEDIA_TYPE)===-1?"text/html":Ie.PARSER_MEDIA_TYPE,xl=Ib==="application/xhtml+xml"?pA:Op,Go="ALLOWED_TAGS"in Ie?cs({},Ie.ALLOWED_TAGS,xl):fi,Yo="ALLOWED_ATTR"in Ie?cs({},Ie.ALLOWED_ATTR,xl):Fr,Mb="ALLOWED_NAMESPACES"in Ie?cs({},Ie.ALLOWED_NAMESPACES,pA):OR,r_="ADD_URI_SAFE_ATTR"in Ie?cs(Dp(TR),Ie.ADD_URI_SAFE_ATTR,xl):TR,th="ADD_DATA_URI_TAGS"in Ie?cs(Dp(ju),Ie.ADD_DATA_URI_TAGS,xl):ju,jg="FORBID_CONTENTS"in Ie?cs({},Ie.FORBID_CONTENTS,xl):js,kl="FORBID_TAGS"in Ie?cs({},Ie.FORBID_TAGS,xl):{},Nr="FORBID_ATTR"in Ie?cs({},Ie.FORBID_ATTR,xl):{},Kf="USE_PROFILES"in Ie&&Ie.USE_PROFILES,gi=Ie.ALLOW_ARIA_ATTR!==!1,wc=Ie.ALLOW_DATA_ATTR!==!1,T1=Ie.ALLOW_UNKNOWN_PROTOCOLS||!1,Nb=Ie.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Jp=Ie.SAFE_FOR_TEMPLATES||!1,Hg=Ie.WHOLE_DOCUMENT||!1,$f=Ie.RETURN_DOM||!1,Xp=Ie.RETURN_DOM_FRAGMENT||!1,Gf=Ie.RETURN_TRUSTED_TYPE||!1,Vg=Ie.FORCE_BODY||!1,G0=Ie.SANITIZE_DOM!==!1,s_=Ie.SANITIZE_NAMED_PROPS||!1,K0=Ie.KEEP_CONTENT!==!1,eh=Ie.IN_PLACE||!1,hr=Ie.ALLOWED_URI_REGEXP||MT,O1=Ie.NAMESPACE||Zg,Is=Ie.CUSTOM_ELEMENT_HANDLING||{},Ie.CUSTOM_ELEMENT_HANDLING&&z1(Ie.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Is.tagNameCheck=Ie.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ie.CUSTOM_ELEMENT_HANDLING&&z1(Ie.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Is.attributeNameCheck=Ie.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ie.CUSTOM_ELEMENT_HANDLING&&typeof Ie.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Is.allowCustomizedBuiltInElements=Ie.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Jp&&(wc=!1),Xp&&($f=!0),Kf&&(Go=cs({},[...DT]),Yo=[],Kf.html===!0&&(cs(Go,yA),cs(Yo,RT)),Kf.svg===!0&&(cs(Go,vA),cs(Yo,qk),cs(Yo,Ly)),Kf.svgFilters===!0&&(cs(Go,Zk),cs(Yo,qk),cs(Yo,Ly)),Kf.mathMl===!0&&(cs(Go,Rp),cs(Yo,xg),cs(Yo,Ly))),Ie.ADD_TAGS&&(Go===fi&&(Go=Dp(Go)),cs(Go,Ie.ADD_TAGS,xl)),Ie.ADD_ATTR&&(Yo===Fr&&(Yo=Dp(Yo)),cs(Yo,Ie.ADD_ATTR,xl)),Ie.ADD_URI_SAFE_ATTR&&cs(r_,Ie.ADD_URI_SAFE_ATTR,xl),Ie.FORBID_CONTENTS&&(jg===js&&(jg=Dp(jg)),cs(jg,Ie.FORBID_CONTENTS,xl)),K0&&(Go["#text"]=!0),Hg&&cs(Go,["html","head","body"]),Go.table&&(cs(Go,["tbody"]),delete kl.tbody),Ie.TRUSTED_TYPES_POLICY){if(typeof Ie.TRUSTED_TYPES_POLICY.createHTML!="function")throw zp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ie.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw zp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');J=Ie.TRUSTED_TYPES_POLICY,te=J.createHTML("")}else J===void 0&&(J=function(Ao,Qo){if(typeof Ao!="object"||typeof Ao.createPolicy!="function")return null;let Zs=null;const Mr="data-tt-policy-suffix";Qo&&Qo.hasAttribute(Mr)&&(Zs=Qo.getAttribute(Mr));const Qr="dompurify"+(Zs?"#"+Zs:"");try{return Ao.createPolicy(Qr,{createHTML:Ur=>Ur,createScriptURL:Ur=>Ur})}catch{return console.warn("TrustedTypes policy "+Qr+" could not be created."),null}}(P,u)),J!==null&&typeof te=="string"&&(te=J.createHTML(""));tc&&tc(Ie),Bb=Ie}},gE=cs({},["mi","mo","mn","ms","mtext"]),DR=cs({},["foreignobject","desc","title","annotation-xml"]),j8=cs({},["title","style","font","a","script"]),i_=cs({},vA);cs(i_,Zk),cs(i_,kA);const l_=cs({},Rp);cs(l_,xA);const qg=function(Ie){Rf(i.removed,{element:Ie});try{Ie.parentNode.removeChild(Ie)}catch{Ie.remove()}},D1=function(Ie,Ao){try{Rf(i.removed,{attribute:Ao.getAttributeNode(Ie),from:Ao})}catch{Rf(i.removed,{attribute:null,from:Ao})}if(Ao.removeAttribute(Ie),Ie==="is"&&!Yo[Ie])if($f||Xp)try{qg(Ao)}catch{}else try{Ao.setAttribute(Ie,"")}catch{}},RR=function(Ie){let Ao,Qo;if(Vg)Ie="<remove></remove>"+Ie;else{const Qr=vM(Ie,/^[\r\n\t ]+/);Qo=Qr&&Qr[0]}Ib==="application/xhtml+xml"&&O1===Zg&&(Ie='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ie+"</body></html>");const Zs=J?J.createHTML(Ie):Ie;if(O1===Zg)try{Ao=new M().parseFromString(Zs,Ib)}catch{}if(!Ao||!Ao.documentElement){Ao=ie.createDocument(O1,"template",null);try{Ao.documentElement.innerHTML=Vo?te:Zs}catch{}}const Mr=Ao.body||Ao.documentElement;return Ie&&Qo&&Mr.insertBefore(m.createTextNode(Qo),Mr.childNodes[0]||null),O1===Zg?st.call(Ao,Hg?"html":"body")[0]:Hg?Ao.documentElement:Mr},NR=function(Ie){return ve.call(Ie.ownerDocument||Ie,Ie,C.SHOW_ELEMENT|C.SHOW_COMMENT|C.SHOW_TEXT,null,!1)},c_=function(Ie){return typeof y=="object"?Ie instanceof y:Ie&&typeof Ie=="object"&&typeof Ie.nodeType=="number"&&typeof Ie.nodeName=="string"},Wg=function(Ie,Ao,Qo){lt[Ie]&&yM(lt[Ie],Zs=>{Zs.call(i,Ao,Qo,Bb)})},MR=function(Ie){let Ao;if(Wg("beforeSanitizeElements",Ie,null),(Qo=Ie)instanceof z&&(typeof Qo.nodeName!="string"||typeof Qo.textContent!="string"||typeof Qo.removeChild!="function"||!(Qo.attributes instanceof S)||typeof Qo.removeAttribute!="function"||typeof Qo.setAttribute!="function"||typeof Qo.namespaceURI!="string"||typeof Qo.insertBefore!="function"||typeof Qo.hasChildNodes!="function"))return qg(Ie),!0;var Qo;const Zs=xl(Ie.nodeName);if(Wg("uponSanitizeElement",Ie,{tagName:Zs,allowedTags:Go}),Ie.hasChildNodes()&&!c_(Ie.firstElementChild)&&(!c_(Ie.content)||!c_(Ie.content.firstElementChild))&&Kc(/<[/\w]/g,Ie.innerHTML)&&Kc(/<[/\w]/g,Ie.textContent))return qg(Ie),!0;if(!Go[Zs]||kl[Zs]){if(!kl[Zs]&&IR(Zs)&&(Is.tagNameCheck instanceof RegExp&&Kc(Is.tagNameCheck,Zs)||Is.tagNameCheck instanceof Function&&Is.tagNameCheck(Zs)))return!1;if(K0&&!jg[Zs]){const Mr=V(Ie)||Ie.parentNode,Qr=q(Ie)||Ie.childNodes;if(Qr&&Mr)for(let Ur=Qr.length-1;Ur>=0;--Ur)Mr.insertBefore(K(Qr[Ur],!0),ee(Ie))}return qg(Ie),!0}return Ie instanceof w&&!function(Mr){let Qr=V(Mr);Qr&&Qr.tagName||(Qr={namespaceURI:O1,tagName:"template"});const Ur=Op(Mr.tagName),ka=Op(Qr.tagName);return!!Mb[Mr.namespaceURI]&&(Mr.namespaceURI===Y0?Qr.namespaceURI===Zg?Ur==="svg":Qr.namespaceURI===a_?Ur==="svg"&&(ka==="annotation-xml"||gE[ka]):!!i_[Ur]:Mr.namespaceURI===a_?Qr.namespaceURI===Zg?Ur==="math":Qr.namespaceURI===Y0?Ur==="math"&&DR[ka]:!!l_[Ur]:Mr.namespaceURI===Zg?!(Qr.namespaceURI===Y0&&!DR[ka])&&!(Qr.namespaceURI===a_&&!gE[ka])&&!l_[Ur]&&(j8[Ur]||!i_[Ur]):!(Ib!=="application/xhtml+xml"||!Mb[Mr.namespaceURI]))}(Ie)?(qg(Ie),!0):Zs!=="noscript"&&Zs!=="noembed"&&Zs!=="noframes"||!Kc(/<\/no(script|embed|frames)/i,Ie.innerHTML)?(Jp&&Ie.nodeType===3&&(Ao=Ie.textContent,Ao=Ru(Ao,qt," "),Ao=Ru(Ao,eo," "),Ao=Ru(Ao,po," "),Ie.textContent!==Ao&&(Rf(i.removed,{element:Ie.cloneNode()}),Ie.textContent=Ao)),Wg("afterSanitizeElements",Ie,null),!1):(qg(Ie),!0)},pE=function(Ie,Ao,Qo){if(G0&&(Ao==="id"||Ao==="name")&&(Qo in m||Qo in c6))return!1;if(!(wc&&!Nr[Ao]&&Kc(Bo,Ao))){if(!(gi&&Kc(Fo,Ao))){if(!Yo[Ao]||Nr[Ao]){if(!(IR(Ie)&&(Is.tagNameCheck instanceof RegExp&&Kc(Is.tagNameCheck,Ie)||Is.tagNameCheck instanceof Function&&Is.tagNameCheck(Ie))&&(Is.attributeNameCheck instanceof RegExp&&Kc(Is.attributeNameCheck,Ao)||Is.attributeNameCheck instanceof Function&&Is.attributeNameCheck(Ao))||Ao==="is"&&Is.allowCustomizedBuiltInElements&&(Is.tagNameCheck instanceof RegExp&&Kc(Is.tagNameCheck,Qo)||Is.tagNameCheck instanceof Function&&Is.tagNameCheck(Qo))))return!1}else if(!r_[Ao]){if(!Kc(hr,Ru(Qo,Ms,""))){if((Ao!=="src"&&Ao!=="xlink:href"&&Ao!=="href"||Ie==="script"||hA(Qo,"data:")!==0||!th[Ie])&&!(T1&&!Kc(yn,Ru(Qo,Ms,"")))){if(Qo)return!1}}}}}return!0},IR=function(Ie){return Ie.indexOf("-")>0},BR=function(Ie){let Ao,Qo,Zs,Mr;Wg("beforeSanitizeAttributes",Ie,null);const{attributes:Qr}=Ie;if(!Qr)return;const Ur={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Yo};for(Mr=Qr.length;Mr--;){Ao=Qr[Mr];const{name:ka,namespaceURI:Lb}=Ao;Qo=ka==="value"?Ao.value:bA(Ao.value);const q8=Qo;if(Zs=xl(ka),Ur.attrName=Zs,Ur.attrValue=Qo,Ur.keepAttr=!0,Ur.forceKeepAttr=void 0,Wg("uponSanitizeAttribute",Ie,Ur),Qo=Ur.attrValue,Ur.forceKeepAttr)continue;if(!Ur.keepAttr){D1(ka,Ie);continue}if(!Nb&&Kc(/\/>/i,Qo)){D1(ka,Ie);continue}Jp&&(Qo=Ru(Qo,qt," "),Qo=Ru(Qo,eo," "),Qo=Ru(Qo,po," "));const LR=xl(Ie.nodeName);if(pE(LR,Zs,Qo)){if(!s_||Zs!=="id"&&Zs!=="name"||(D1(ka,Ie),Qo="user-content-"+Qo),J&&typeof P=="object"&&typeof P.getAttributeType=="function"&&!Lb)switch(P.getAttributeType(LR,Zs)){case"TrustedHTML":Qo=J.createHTML(Qo);break;case"TrustedScriptURL":Qo=J.createScriptURL(Qo)}if(Qo!==q8)try{Lb?Ie.setAttributeNS(Lb,ka,Qo):Ie.setAttribute(ka,Qo)}catch{D1(ka,Ie)}}else D1(ka,Ie)}Wg("afterSanitizeAttributes",Ie,null)},Z8=function Ie(Ao){let Qo;const Zs=NR(Ao);for(Wg("beforeSanitizeShadowDOM",Ao,null);Qo=Zs.nextNode();)Wg("uponSanitizeShadowNode",Qo,null),MR(Qo)||(Qo.content instanceof p&&Ie(Qo.content),BR(Qo));Wg("afterSanitizeShadowDOM",Ao,null)};return i.sanitize=function(Ie){let Ao,Qo,Zs,Mr,Qr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Vo=!Ie,Vo&&(Ie="<!-->"),typeof Ie!="string"&&!c_(Ie)){if(typeof Ie.toString!="function")throw zp("toString is not a function");if(typeof(Ie=Ie.toString())!="string")throw zp("dirty is not a string, aborting")}if(!i.isSupported)return Ie;if($0||fE(Qr),i.removed=[],typeof Ie=="string"&&(eh=!1),eh){if(Ie.nodeName){const Lb=xl(Ie.nodeName);if(!Go[Lb]||kl[Lb])throw zp("root node is forbidden and cannot be sanitized in-place")}}else if(Ie instanceof y)Ao=RR("<!---->"),Qo=Ao.ownerDocument.importNode(Ie,!0),Qo.nodeType===1&&Qo.nodeName==="BODY"||Qo.nodeName==="HTML"?Ao=Qo:Ao.appendChild(Qo);else{if(!$f&&!Jp&&!Hg&&Ie.indexOf("<")===-1)return J&&Gf?J.createHTML(Ie):Ie;if(Ao=RR(Ie),!Ao)return $f?null:Gf?te:""}Ao&&Vg&&qg(Ao.firstChild);const Ur=NR(eh?Ie:Ao);for(;Zs=Ur.nextNode();)MR(Zs)||(Zs.content instanceof p&&Z8(Zs.content),BR(Zs));if(eh)return Ie;if($f){if(Xp)for(Mr=Re.call(Ao.ownerDocument);Ao.firstChild;)Mr.appendChild(Ao.firstChild);else Mr=Ao;return(Yo.shadowroot||Yo.shadowrootmode)&&(Mr=it.call(l,Mr,!0)),Mr}let ka=Hg?Ao.outerHTML:Ao.innerHTML;return Hg&&Go["!doctype"]&&Ao.ownerDocument&&Ao.ownerDocument.doctype&&Ao.ownerDocument.doctype.name&&Kc(IT,Ao.ownerDocument.doctype.name)&&(ka="<!DOCTYPE "+Ao.ownerDocument.doctype.name+`>
`+ka),Jp&&(ka=Ru(ka,qt," "),ka=Ru(ka,eo," "),ka=Ru(ka,po," ")),J&&Gf?J.createHTML(ka):ka},i.setConfig=function(Ie){fE(Ie),$0=!0},i.clearConfig=function(){Bb=null,$0=!1},i.isValidAttribute=function(Ie,Ao,Qo){Bb||fE({});const Zs=xl(Ie),Mr=xl(Ao);return pE(Zs,Mr,Qo)},i.addHook=function(Ie,Ao){typeof Ao=="function"&&(lt[Ie]=lt[Ie]||[],Rf(lt[Ie],Ao))},i.removeHook=function(Ie){if(lt[Ie])return zT(lt[Ie])},i.removeHooks=function(Ie){lt[Ie]&&(lt[Ie]=[])},i.removeAllHooks=function(){lt={}},i}();const LT=n=>Di().sanitize(n);var yc=tinymce.util.Tools.resolve("tinymce.util.I18n");const xM={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},AA="temporary-placeholder",Tv=n=>()=>Qt(n,AA).getOr("!not found!"),Np=(n,r)=>{const i=n.toLowerCase();if(yc.isRtl()){const l=((u,m)=>Ki(u,m)?u:((p,b)=>p+b)(u,m))(i,"-rtl");return uo(r,l)?l:i}return i},CA=(n,r)=>Qt(r,Np(n,r)),SA=(n,r)=>{const i=r();return CA(n,i).getOrThunk(Tv(i))},EA=()=>an("add-focusable",[Os(n=>{U1(n.element,"svg").each(r=>Ho(r,"focusable","false"))})]),PT=(n,r,i,l)=>{var u,m;const p=(y=>!!yc.isRtl()&&uo(xM,y))(r)?["tox-icon--flip"]:[],b=Qt(i,Np(r,i)).or(l).getOrThunk(Tv(i));return{dom:{tag:n.tag,attributes:(u=n.attributes)!==null&&u!==void 0?u:{},classes:n.classes.concat(p),innerHtml:b},behaviours:Rt([...(m=n.behaviours)!==null&&m!==void 0?m:[],EA()])}},Kd=(n,r,i,l=O.none())=>PT(r,n,i(),l),FT={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},TA=qc({name:"Notification",factory:n=>{const r=us({dom:kg(`<p>${LT(n.translationProvider(n.text))}</p>`),behaviours:Rt([zo.config({})])}),i=C=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${C}%`}}}),l=C=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${C}%`}}),u=us({dom:{tag:"div",classes:n.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(0)]},l(0)],behaviours:Rt([zo.config({})])}),m={updateProgress:(C,S)=>{C.getSystem().isConnected()&&u.getOpt(C).each(z=>{zo.set(z,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(S)]},l(S)])})},updateText:(C,S)=>{if(C.getSystem().isConnected()){const z=r.get(C);zo.set(z,[ar(S)])}}},p=qn([n.icon.toArray(),n.level.toArray(),n.level.bind(C=>O.from(FT[C])).toArray()]),b=us(Wi.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Kd("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":n.translationProvider("Close")}},n.iconProvider)],action:C=>{n.onAction(C)}})),y=((C,S,z)=>{const M=z(),P=Un(C,$=>uo(M,Np($,M)));return PT({tag:"div",classes:["tox-notification__icon"]},P.getOr(AA),M,O.none())})(p,0,n.iconProvider),w=[y,{dom:{tag:"div",classes:["tox-notification__body"]},components:[r.asSpec()],behaviours:Rt([zo.config({})])}];return{uid:n.uid,dom:{tag:"div",attributes:{role:"alert"},classes:n.level.map(C=>["tox-notification","tox-notification--in",`tox-notification--${C}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Rt([Po.config({}),an("notification-events",[at(ge(),C=>{b.getOpt(C).each(Po.focus)})])]),components:w.concat(n.progress?[u.asSpec()]:[]).concat(n.closeButton?[b.asSpec()]:[]),apis:m}},configFields:[$n("level"),Xe("progress"),$n("icon"),Xe("onAction"),Xe("text"),Xe("iconProvider"),Xe("translationProvider"),Js("closeButton",!0)],apis:{updateProgress:(n,r,i)=>{n.updateProgress(r,i)},updateText:(n,r,i)=>{n.updateText(r,i)}}});var Yd,Py,Qh=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),UT=tinymce.util.Tools.resolve("tinymce.EditorManager"),Jh=tinymce.util.Tools.resolve("tinymce.Env");(function(n){n.default="wrap",n.floating="floating",n.sliding="sliding",n.scrolling="scrolling"})(Yd||(Yd={})),function(n){n.auto="auto",n.top="top",n.bottom="bottom"}(Py||(Py={}));const bs=n=>r=>r.options.get(n),Fy=n=>r=>O.from(n(r)),Mp=n=>{const r=Jh.deviceType.isPhone(),i=Jh.deviceType.isTablet()||r,l=n.options.register,u=p=>ze(p)||p===!1,m=p=>ze(p)||xt(p);l("skin",{processor:p=>ze(p)||p===!1,default:"oxide"}),l("skin_url",{processor:"string"}),l("height",{processor:m,default:Math.max(n.getElement().offsetHeight,400)}),l("width",{processor:m,default:Qh.DOM.getStyle(n.getElement(),"width")}),l("min_height",{processor:"number",default:100}),l("min_width",{processor:"number"}),l("max_height",{processor:"number"}),l("max_width",{processor:"number"}),l("style_formats",{processor:"object[]"}),l("style_formats_merge",{processor:"boolean",default:!1}),l("style_formats_autohide",{processor:"boolean",default:!1}),l("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),l("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),l("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),l("font_size_input_default_unit",{processor:"string",default:"pt"}),l("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),l("content_langs",{processor:"object[]"}),l("removed_menuitems",{processor:"string",default:""}),l("menubar",{processor:p=>ze(p)||rt(p),default:!r}),l("menu",{processor:"object",default:{}}),l("toolbar",{processor:p=>rt(p)||ze(p)||Pe(p)?{value:p,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),$t(9,p=>{l("toolbar"+(p+1),{processor:"string"})}),l("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),l("toolbar_groups",{processor:"object",default:{}}),l("toolbar_location",{processor:"string",default:Py.auto}),l("toolbar_persist",{processor:"boolean",default:!1}),l("toolbar_sticky",{processor:"boolean",default:n.inline}),l("toolbar_sticky_offset",{processor:"number",default:0}),l("fixed_toolbar_container",{processor:"string",default:""}),l("fixed_toolbar_container_target",{processor:"object"}),l("ui_mode",{processor:"string",default:"combined"}),l("file_picker_callback",{processor:"function"}),l("file_picker_validator_handler",{processor:"function"}),l("file_picker_types",{processor:"string"}),l("typeahead_urls",{processor:"boolean",default:!0}),l("anchor_top",{processor:u,default:"#top"}),l("anchor_bottom",{processor:u,default:"#bottom"}),l("draggable_modal",{processor:"boolean",default:!1}),l("statusbar",{processor:"boolean",default:!0}),l("elementpath",{processor:"boolean",default:!0}),l("branding",{processor:"boolean",default:!0}),l("promotion",{processor:"boolean",default:!0}),l("resize",{processor:p=>p==="both"||rt(p),default:!Jh.deviceType.isTouch()}),l("sidebar_show",{processor:"string"}),l("help_accessibility",{processor:"boolean",default:n.hasPlugin("help")}),l("default_font_stack",{processor:"string[]",default:[]})},Uy=bs("readonly"),OA=bs("height"),zA=bs("width"),DA=Fy(bs("min_width")),RA=Fy(bs("min_height")),Ov=Fy(bs("max_width")),NA=Fy(bs("max_height")),MA=Fy(bs("style_formats")),HT=bs("style_formats_merge"),VT=bs("style_formats_autohide"),IA=bs("content_langs"),Hy=bs("removed_menuitems"),Xh=bs("toolbar_mode"),jT=bs("toolbar_groups"),BA=bs("toolbar_location"),wM=bs("fixed_toolbar_container"),_M=bs("fixed_toolbar_container_target"),ZT=bs("toolbar_persist"),qT=bs("toolbar_sticky_offset"),WT=bs("menubar"),Gk=bs("toolbar"),$T=bs("file_picker_callback"),GT=bs("file_picker_validator_handler"),KT=bs("font_size_input_default_unit"),LA=bs("file_picker_types"),PA=bs("typeahead_urls"),FA=bs("anchor_top"),YT=bs("anchor_bottom"),UA=bs("draggable_modal"),QT=bs("statusbar"),HA=bs("elementpath"),VA=bs("branding"),JT=bs("resize"),XT=bs("paste_as_text"),e4=bs("sidebar_show"),t4=bs("promotion"),jA=bs("help_accessibility"),o4=bs("default_font_stack"),Xt=n=>n.options.get("skin")===!1,Mf=n=>n.options.get("menubar")!==!1,Kk=n=>{const r=n.options.get("skin_url");if(Xt(n))return r;if(r)return n.documentBaseURI.toAbsolute(r);{const i=n.options.get("skin");return UT.baseURL+"/skins/ui/"+i}},Yk=n=>O.from(n.options.get("skin_url")),zv=n=>n.options.get("line_height_formats").split(" "),Vy=n=>{const r=Gk(n),i=ze(r),l=Pe(r)&&r.length>0;return!jy(n)&&(l||i||r===!0)},ZA=n=>{const r=$t(9,l=>n.options.get("toolbar"+(l+1))),i=Mo(r,ze);return Fa(i.length>0,i)},jy=n=>ZA(n).fold(()=>{const r=Gk(n);return so(r,ze)&&r.length>0},Je),qA=n=>BA(n)===Py.bottom,n4=n=>{var r;if(!n.inline)return O.none();const i=(r=wM(n))!==null&&r!==void 0?r:"";if(i.length>0)return _r(Aa(),i);const l=_M(n);return Se(l)?O.some(Ht(l)):O.none()},eb=n=>n.inline&&n4(n).isSome(),Dv=n=>n4(n).getOrThunk(()=>oa(nr(Ht(n.getElement())))),tb=n=>n.inline&&!Mf(n)&&!Vy(n)&&!jy(n),Zy=n=>(n.options.get("toolbar_sticky")||n.inline)&&!eb(n)&&!tb(n),Ip=n=>!eb(n)&&n.options.get("ui_mode")==="split",s4=n=>{const r=n.options.get("menu");return ln(r,i=>({...i,items:i.items}))};var AM=Object.freeze({__proto__:null,get ToolbarMode(){return Yd},get ToolbarLocation(){return Py},register:Mp,getSkinUrl:Kk,getSkinUrlOption:Yk,isReadOnly:Uy,isSkinDisabled:Xt,getHeightOption:OA,getWidthOption:zA,getMinWidthOption:DA,getMinHeightOption:RA,getMaxWidthOption:Ov,getMaxHeightOption:NA,getUserStyleFormats:MA,shouldMergeStyleFormats:HT,shouldAutoHideStyleFormats:VT,getLineHeightFormats:zv,getContentLanguages:IA,getRemovedMenuItems:Hy,isMenubarEnabled:Mf,isMultipleToolbars:jy,isToolbarEnabled:Vy,isToolbarPersist:ZT,getMultipleToolbarsOption:ZA,getUiContainer:Dv,useFixedContainer:eb,isSplitUiMode:Ip,getToolbarMode:Xh,isDraggableModal:UA,isDistractionFree:tb,isStickyToolbar:Zy,getStickyToolbarOffset:qT,getToolbarLocation:BA,isToolbarLocationBottom:qA,getToolbarGroups:jT,getMenus:s4,getMenubar:WT,getToolbar:Gk,getFilePickerCallback:$T,getFilePickerTypes:LA,useTypeaheadUrls:PA,getAnchorTop:FA,getAnchorBottom:YT,getFilePickerValidatorHandler:GT,getFontSizeInputDefaultUnit:KT,useStatusBar:QT,useElementPath:HA,promotionEnabled:t4,useBranding:VA,getResize:JT,getPasteAsText:XT,getSidebarShow:e4,useHelpAccessibility:jA,getDefaultFontStack:o4});const CM="[data-mce-autocompleter]",WA=n=>Pc(n,CM);var $A;(function(n){n[n.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",n[n.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})($A||($A={}));var wm=$A;const GA="tox-menu-nav__js",Qk="tox-collection__item",Jk="tox-swatch",SM={normal:GA,color:Jk},r4="tox-collection__item--enabled",a4="tox-collection__item-icon",KA="tox-collection__item-label",i4="tox-collection__item-caret",Qd="tox-collection__item--active",Rv="tox-collection__item-container",l4="tox-collection__item-container--row",c4=n=>Qt(SM,n).getOr(GA),EM=n=>n==="color"?"tox-swatches":"tox-menu",YA=n=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:EM(n),tieredMenu:"tox-tiered-menu"}),ob=n=>{const r=YA(n);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:c4(n)}},TM=(n,r,i)=>{const l=YA(i);return{tag:"div",classes:qn([[l.menu,`tox-menu-${r}-column`],n?[l.hasIcons]:[]])}},OM=[Df.parts.items({})],wg=(n,r,i)=>{const l=YA(i);return{dom:{tag:"div",classes:qn([[l.tieredMenu]])},markers:ob(i)}},Nv=ae([$n("data"),Te("inputAttributes",{}),Te("inputStyles",{}),Te("tag","input"),Te("inputClasses",[]),zn("onSetValue"),Te("styles",{}),Te("eventOrder",{}),Na("inputBehaviours",[Gt,Po]),Te("selectOnFocus",!0)]),d4=n=>Rt([Po.config({onFocus:n.selectOnFocus?r=>{const i=r.element,l=Au(i);i.dom.setSelectionRange(0,l.length)}:We})]),u4=n=>({...d4(n),...Ya(n.inputBehaviours,[Gt.config({store:{mode:"manual",...n.data.map(r=>({initialValue:r})).getOr({}),getValue:r=>Au(r.element),setValue:(r,i)=>{Au(r.element)!==i&&tf(r.element,i)}},onSetValue:n.onSetValue})])}),m4=n=>({tag:n.tag,attributes:{type:"text",...n.inputAttributes},styles:n.inputStyles,classes:n.inputClasses}),_g=qc({name:"Input",configFields:Nv(),factory:(n,r)=>({uid:n.uid,dom:m4(n),components:[],behaviours:u4(n),eventOrder:n.eventOrder})}),f4=no("refetch-trigger-event"),g4=no("redirect-menu-item-interaction"),QA="tox-menu__searcher",qy=n=>_r(n.element,`.${QA}`).bind(r=>n.getSystem().getByDom(r).toOptional()),p4=qy,JA=n=>({fetchPattern:Gt.getValue(n),selectionStart:n.element.dom.selectionStart,selectionEnd:n.element.dom.selectionEnd}),zM=n=>{const r=(u,m)=>(m.cut(),O.none()),i=(u,m)=>{const p={interactionEvent:m.event,eventType:m.event.raw.type};return ao(u,g4,p),O.some(!0)},l="searcher-events";return{dom:{tag:"div",classes:[Qk]},components:[_g.sketch({inputClasses:[QA,"tox-textfield"],inputAttributes:{...n.placeholder.map(u=>({placeholder:n.i18n(u)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Rt([an(l,[at(Eo(),u=>{Sn(u,f4)}),at(oo(),(u,m)=>{m.event.raw.key==="Escape"&&m.stop()})]),xo.config({mode:"special",onLeft:r,onRight:r,onSpace:r,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[l,xo.name()]}})]}},Xk="tox-collection--results__js",XA=n=>{var r;return n.dom?{...n,dom:{...n.dom,attributes:{...(r=n.dom.attributes)!==null&&r!==void 0?r:{},id:no("aria-item-search-result-id"),"aria-selected":"false"}}}:n},e2=(n,r)=>i=>{const l=is(i,r);return Ct(l,u=>({dom:n,components:u}))},h4=(n,r)=>{const i=[];let l=[];return Yt(n,(u,m)=>{r(u,m)?(l.length>0&&i.push(l),l=[],(uo(u.dom,"innerHtml")||u.components&&u.components.length>0)&&l.push(u)):l.push(u)}),l.length>0&&i.push(l),Ct(i,u=>({dom:{tag:"div",classes:["tox-collection__group"]},components:u}))},Mv=(n,r,i)=>Df.parts.items({preprocess:l=>{const u=Ct(l,i);return n!=="auto"&&n>1?e2({tag:"div",classes:["tox-collection__group"]},n)(u):h4(u,(m,p)=>r[p].type==="separator")}}),t2=(n,r,i=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Mv(n,r,Lt)]}),nb=n=>tr(n,r=>"icon"in r&&r.icon!==void 0),Nu=n=>(console.error(zc(n)),console.log(n),O.none()),ex=(n,r,i,l,u)=>{const m=(p=i,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Df.parts.items({preprocess:b=>h4(b,(y,w)=>p[w].type==="separator")})]});var p;return{value:n,dom:m.dom,components:m.components,items:i}},Ag=(n,r,i,l,u)=>{if(u.menuType==="color"){const m=(p=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Df.parts.items({preprocess:p!=="auto"?e2({tag:"div",classes:["tox-swatches__row"]},p):Lt})]}]}))(l);return{value:n,dom:m.dom,components:m.components,items:i}}if(u.menuType==="normal"&&l==="auto"){const m=t2(l,i);return{value:n,dom:m.dom,components:m.components,items:i}}if(u.menuType==="normal"||u.menuType==="searchable"){const m=u.menuType!=="searchable"?t2(l,i):u.searchMode.searchMode==="search-with-field"?((p,b,y)=>{const w=no("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(p===1?["tox-collection--list"]:["tox-collection--grid"])},components:[zM({i18n:yc.translate,placeholder:y.placeholder}),{dom:{tag:"div",classes:[...p===1?["tox-collection--list"]:["tox-collection--grid"],Xk],attributes:{id:w}},components:[Mv(p,b,XA)]}]}})(l,i,u.searchMode):((p,b,y=!0)=>{const w=no("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Xk].concat(p===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:w}},components:[Mv(p,b,XA)]}})(l,i);return{value:n,dom:m.dom,components:m.components,items:i}}if(u.menuType==="listpreview"&&l!=="auto"){const m=(p=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Df.parts.items({preprocess:e2({tag:"div",classes:["tox-collection__group"]},p)})]}))(l);return{value:n,dom:m.dom,components:m.components,items:i}}return{value:n,dom:TM(r,l,u.menuType),components:OM,items:i}},va=sr("type"),o2=sr("name"),n2=sr("label"),If=sr("text"),s2=sr("title"),b4=sr("icon"),tx=sr("value"),i6=Ea("fetch"),DM=Ea("getSubmenuItems"),Wy=Ea("onAction"),r2=Ea("onItemAction"),sb=rr("onSetup",()=>We),RM=Gr("name"),Bp=Gr("text"),bd=Gr("icon"),ox=Gr("tooltip"),a2=Gr("label"),y4=Gr("shortcut"),v4=el("select"),nx=Js("active",!1),k4=Js("borderless",!1),Mu=Js("enabled",!0),$y=Js("primary",!1),i2=n=>Te("columns",n),sx=Te("meta",{}),rx=rr("onAction",We),rb=n=>gc("type",n),l2=n=>wr("name","name",ja(()=>no(`${n}-name`)),Or),x4=ko([va,Bp]),NM=ko([rb("autocompleteitem"),nx,Mu,sx,tx,Bp,bd]),Iv=[Mu,ox,bd,Bp,sb],Bv=ko([va,Wy].concat(Iv)),c2=n=>Ps("toolbarbutton",Bv,n),ax=[nx].concat(Iv),d2=ko(ax.concat([va,Wy])),w4=n=>Ps("ToggleButton",d2,n),u2=[rr("predicate",_e),zr("scope","node",["node","editor"]),zr("position","selection",["node","selection","line"])],MM=Iv.concat([rb("contextformbutton"),$y,Wy,sa("original",Lt)]),_4=ax.concat([rb("contextformbutton"),$y,Wy,sa("original",Lt)]),A4=Iv.concat([rb("contextformbutton")]),IM=ax.concat([rb("contextformtogglebutton")]),BM=qa("type",{contextformbutton:MM,contextformtogglebutton:_4}),LM=ko([rb("contextform"),rr("initValue",ae("")),a2,pa("commands",BM),Xi("launch",qa("type",{contextformbutton:A4,contextformtogglebutton:IM}))].concat(u2)),PM=ko([rb("contexttoolbar"),sr("items")].concat(u2)),FM=[va,sr("src"),Gr("alt"),Fs("classes",[],Or)],UM=ko(FM),m2=[va,If,RM,Fs("classes",["tox-collection__item-label"],Or)],f2=ko(m2),C4=Za(()=>Tc("type",{cardimage:UM,cardtext:f2,cardcontainer:l6})),l6=ko([va,gc("direction","horizontal"),gc("align","left"),gc("valign","middle"),pa("items",C4)]),ab=[Mu,Bp,y4,wr("value","value",ja(()=>no("menuitem-value")),Es()),sx],HM=ko([va,a2,pa("items",C4),sb,rx].concat(ab)),VM=ko([va,nx,bd].concat(ab)),yd=[va,sr("fancytype"),rx],jM=[Te("initData",{})].concat(yd),ZM=[el("select"),em("initData",{},[Js("allowCustomColors",!0),gc("storageKey","default"),ha("colors",Es())])].concat(yd),qM=qa("fancytype",{inserttable:jM,colorswatch:ZM}),WM=ko([va,sb,rx,bd].concat(ab)),$M=ko([va,DM,sb,bd].concat(ab)),Gy=ko([va,bd,nx,sb,Wy].concat(ab)),Lv=(n,r,i)=>{const l=rl(n.element,"."+i);if(l.length>0){const u=ti(l,m=>{const p=m.dom.getBoundingClientRect().top,b=l[0].dom.getBoundingClientRect().top;return Math.abs(p-b)>r}).getOr(l.length);return O.some({numColumns:u,numRows:Math.ceil(l.length/u)})}return O.none()},Pv=n=>((r,i)=>Rt([an(r,i)]))(no("unnamed-events"),n),ix=no("tooltip.exclusive"),Lp=no("tooltip.show"),ib=no("tooltip.hide"),S4=(n,r,i)=>{n.getSystem().broadcastOn([ix],{})};var GM=Object.freeze({__proto__:null,hideAllExclusive:S4,setComponents:(n,r,i,l)=>{i.getTooltip().each(u=>{u.getSystem().isConnected()&&zo.set(u,l)})}}),KM=Object.freeze({__proto__:null,events:(n,r)=>{const i=l=>{r.getTooltip().each(u=>{ym(u),n.onHide(l,u),r.clearTooltip()}),r.clearTimer()};return hn(qn([[at(Lp,l=>{r.resetTimer(()=>{(u=>{if(!r.isShowing()){S4(u);const m=n.lazySink(u).getOrDie(),p=u.getSystem().build({dom:n.tooltipDom,components:n.tooltipComponents,events:hn(n.mode==="normal"?[at(ue(),b=>{Sn(u,Lp)}),at(N(),b=>{Sn(u,ib)})]:[]),behaviours:Rt([zo.config({})])});r.setTooltip(p),wf(m,p),n.onShow(u,p),qi.position(m,p,{anchor:n.anchor(u)})}})(l)},n.delay)}),at(ib,l=>{r.resetTimer(()=>{i(l)},n.delay)}),at(_i(),(l,u)=>{const m=u;m.universal||So(m.channels,ix)&&i(l)}),dd(l=>{i(l)})],n.mode==="normal"?[at(ge(),l=>{Sn(l,Lp)}),at(Zm(),l=>{Sn(l,ib)}),at(ue(),l=>{Sn(l,Lp)}),at(N(),l=>{Sn(l,ib)})]:[at(Ts(),(l,u)=>{Sn(l,Lp)}),at(om(),l=>{Sn(l,ib)})]]))}}),YM=[Xe("lazySink"),Xe("tooltipDom"),Te("exclusive",!0),Te("tooltipComponents",[]),Te("delay",300),zr("mode","normal",["normal","follow-highlight"]),Te("anchor",n=>({type:"hotspot",hotspot:n,layouts:{onLtr:ae([gr,hl,ci,di,Lr,Us]),onRtl:ae([gr,hl,ci,di,Lr,Us])}})),zn("onHide"),zn("onShow")],QM=Object.freeze({__proto__:null,init:()=>{const n=er(),r=er(),i=()=>{n.on(clearTimeout)},l=ae("not-implemented");return zs({getTooltip:r.get,isShowing:r.isSet,setTooltip:r.set,clearTooltip:r.clear,clearTimer:i,resetTimer:(u,m)=>{i(),n.set(setTimeout(u,m))},readState:l})}});const E4=Ra({fields:YM,name:"tooltipping",active:KM,state:QM,apis:GM}),g2="silver.readonly",p2=ko([Ui("readonly",fc)]),lx=(n,r)=>{const i=n.mainUi.outerContainer.element,l=[n.mainUi.mothership,...n.uiMotherships];r&&Yt(l,u=>{u.broadcastOn([Fl()],{target:i})}),Yt(l,u=>{u.broadcastOn([g2],{readonly:r})})},T4=(n,r)=>{n.on("init",()=>{n.mode.isReadOnly()&&lx(r,!0)}),n.on("SwitchMode",()=>lx(r,n.mode.isReadOnly())),Uy(n)&&n.mode.set("readonly")},Ja=()=>Ll.config({channels:{[g2]:{schema:p2,onReceive:(n,r)=>{Io.set(n,r.readonly)}}}}),Ky=n=>Io.config({disabled:n}),Pp=n=>Io.config({disabled:n,disableClass:"tox-tbtn--disabled"}),cx=n=>Io.config({disabled:n,disableClass:"tox-tbtn--disabled",useNative:!1}),dx=(n,r)=>{const i=n.getApi(r);return l=>{l(i)}},Bf=(n,r)=>Os(i=>{dx(n,i)(l=>{const u=n.onSetup(l);Ue(u)&&r.set(u)})}),Fp=(n,r)=>dd(i=>dx(n,i)(r.get())),O4=(n,r)=>ol((i,l)=>{dx(n,i)(n.onAction),n.triggersSubmenu||r!==wm.CLOSE_ON_EXECUTE||(i.getSystem().isConnected()&&Sn(i,ag()),l.stop())}),z4={[Ai()]:["disabling","alloy.base.behaviour","toggling","item-events"]},lb=vt,cb=(n,r,i,l)=>{const u=_o(We);return{type:"item",dom:r.dom,components:lb(r.optComponents),data:n.data,eventOrder:z4,hasSubmenu:n.triggersSubmenu,itemBehaviours:Rt([an("item-events",[O4(n,i),Bf(n,u),Fp(n,u)]),(m=()=>!n.enabled||l.isDisabled(),Io.config({disabled:m,disableClass:"tox-collection__item--state-disabled"})),Ja(),zo.config({})].concat(n.itemBehaviours))};var m},db=n=>({value:n.value,meta:{text:n.text.getOr(""),...n.meta}}),D4=n=>{const r=Jh.os.isMacOS()||Jh.os.isiOS(),i=r?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},l=n.split("+"),u=Ct(l,m=>{const p=m.toLowerCase().trim();return uo(i,p)?i[p]:m});return r?u.join(""):u.join("+")},h2=(n,r,i=[a4])=>Kd(n,{tag:"div",classes:i},r),R4=n=>({dom:{tag:"div",classes:[KA]},components:[ar(yc.translate(n))]}),ux=(n,r)=>({dom:{tag:"div",classes:r,innerHtml:n}}),JM=(n,r)=>({dom:{tag:"div",classes:[KA]},components:[{dom:{tag:n.tag,styles:n.styles},components:[ar(yc.translate(r))]}]}),XM=n=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[ar(D4(n))]}),N4=n=>h2("checkmark",n,["tox-collection__item-checkmark"]),M4=n=>{const r=n.map(i=>({attributes:{title:yc.translate(i),id:no("menu-item")}})).getOr({});return{tag:"div",classes:[GA,Qk],...r}},Yy=(n,r,i,l=O.none())=>n.presets==="color"?((u,m,p)=>{const b=u.ariaLabel,y=u.value,w=u.iconContent.map(C=>((S,z,M)=>{const P=z();return CA(S,P).or(M).getOrThunk(Tv(P))})(C,m.icons,p));return{dom:(()=>{const C=Jk,S=w.getOr(""),z=b.map(P=>({title:m.translate(P)})).getOr({}),M={tag:"div",attributes:z,classes:[C]};return y==="custom"?{...M,tag:"button",classes:[...M.classes,"tox-swatches__picker-btn"],innerHtml:S}:y==="remove"?{...M,classes:[...M.classes,"tox-swatch--remove"],innerHtml:S}:Se(y)?{...M,attributes:{...M.attributes,"data-mce-color":y},styles:{"background-color":y},innerHtml:S}:M})(),optComponents:[]}})(n,r,l):((u,m,p,b)=>{const y={tag:"div",classes:[a4]},w=p?u.iconContent.map(M=>Kd(M,y,m.icons,b)).orThunk(()=>O.some({dom:y})):O.none(),C=u.checkMark,S=O.from(u.meta).fold(()=>R4,M=>uo(M,"style")?tt(JM,M.style):R4),z=u.htmlContent.fold(()=>u.textContent.map(S),M=>O.some(ux(M,[KA])));return{dom:M4(u.ariaLabel),optComponents:[w,z,u.shortcutContent.map(XM),C,u.caret]}})(n,r,i,l),I4=(n,r)=>Qt(n,"tooltipWorker").map(i=>[E4.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:l=>({type:"submenu",item:l,overrides:{maxHeightFunction:gg}}),mode:"follow-highlight",onShow:(l,u)=>{i(m=>{E4.setComponents(l,[F1({element:Ht(m)})])})}})]).getOr([]),B4=(n,r)=>{const i=(l=>Qh.DOM.encode(l))(yc.translate(n));if(r.length>0){const l=new RegExp((u=>u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(r),"gi");return i.replace(l,u=>`<span class="tox-autocompleter-highlight">${u}</span>`)}return i},L4=(n,r)=>Ct(n,i=>{switch(i.type){case"cardcontainer":return((m,p)=>{const b=m.direction==="vertical"?"tox-collection__item-container--column":l4,y=m.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[Rv,b,y,(()=>{switch(m.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:p}})(i,L4(i.items,r));case"cardimage":return((m,p,b)=>({dom:{tag:"img",classes:p,attributes:{src:m,alt:b.getOr("")}}}))(i.src,i.classes,i.alt);case"cardtext":const l=i.name.exists(m=>So(r.cardText.highlightOn,m)),u=l?O.from(r.cardText.matchText).getOr(""):"";return ux(B4(i.text,u),i.classes)}}),b2=gn(Gc(),vg()),P4=n=>({value:H4(n)}),F4=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,y2=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,U4=n=>F4.test(n)||y2.test(n),H4=n=>ed(n,"#").toUpperCase(),Qy=n=>{const r=n.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},Fv=n=>{const r=Qy(n.red)+Qy(n.green)+Qy(n.blue);return P4(r)},v2=Math.min,jl=Math.max,mx=Math.round,V4=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,j4=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Up=(n,r,i,l)=>({red:n,green:r,blue:i,alpha:l}),fx=n=>{const r=parseInt(n,10);return r.toString()===n&&r>=0&&r<=255},k2=n=>{let r,i,l;const u=(n.hue||0)%360;let m=n.saturation/100,p=n.value/100;if(m=jl(0,v2(m,1)),p=jl(0,v2(p,1)),m===0)return r=i=l=mx(255*p),Up(r,i,l,1);const b=u/60,y=p*m,w=y*(1-Math.abs(b%2-1)),C=p-y;switch(Math.floor(b)){case 0:r=y,i=w,l=0;break;case 1:r=w,i=y,l=0;break;case 2:r=0,i=y,l=w;break;case 3:r=0,i=w,l=y;break;case 4:r=w,i=0,l=y;break;case 5:r=y,i=0,l=w;break;default:r=i=l=0}return r=mx(255*(r+C)),i=mx(255*(i+C)),l=mx(255*(l+C)),Up(r,i,l,1)},Uv=n=>{const r=(m=>{const p=(y=>({value:y.value.replace(F4,(C,S,z,M)=>S+S+z+z+M+M)}))(m),b=y2.exec(p.value);return b===null?["FFFFFF","FF","FF","FF"]:b})(n),i=parseInt(r[1],16),l=parseInt(r[2],16),u=parseInt(r[3],16);return Up(i,l,u,1)},Z4=(n,r,i,l)=>{const u=parseInt(n,10),m=parseInt(r,10),p=parseInt(i,10),b=parseFloat(l);return Up(u,m,p,b)},x2=n=>{if(n==="transparent")return O.some(Up(0,0,0,0));const r=V4.exec(n);if(r!==null)return O.some(Z4(r[1],r[2],r[3],"1"));const i=j4.exec(n);return i!==null?O.some(Z4(i[1],i[2],i[3],i[4])):O.none()},q4=n=>`rgba(${n.red},${n.green},${n.blue},${n.alpha})`,w2=Up(255,0,0,1),_2=(n,r)=>{n.dispatch("ResizeContent",r)},W4=(n,r)=>{n.dispatch("TextColorChange",r)},$4=(n,r)=>n.dispatch("ResolveName",{name:r.nodeName.toLowerCase(),target:r}),Hv=(n,r)=>()=>{n(),r()},yl=n=>ub(n,"NodeChange",r=>{r.setEnabled(n.selection.isEditable())}),gx=(n,r)=>i=>{const l=yl(n)(i),u=((m,p)=>b=>{const y=Eu(),w=()=>{b.setActive(m.formatter.match(p));const C=m.formatter.formatChanged(p,b.setActive);y.set(C)};return m.initialized?w():m.once("init",w),()=>{m.off("init",w),y.clear()}})(n,r)(i);return()=>{l(),u()}},ub=(n,r,i)=>l=>{const u=()=>i(l),m=()=>{i(l),n.on(r,u)};return n.initialized?m():n.once("init",m),()=>{n.off("init",m),n.off(r,u)}},G4=n=>r=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("mceToggleFormat",!1,r.format)})},Yc=(n,r)=>()=>n.execCommand(r);var Hp=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const A2={},Cg=n=>Qt(A2,n).getOrThunk(()=>{const r=`tinymce-custom-colors-${n}`,i=Hp.getItem(r);if(ct(i)){const u=Hp.getItem("tinymce-custom-colors");Hp.setItem(r,Se(u)?u:"[]")}const l=((u,m=10)=>{const p=Hp.getItem(u),b=ze(p)?JSON.parse(p):[],y=m-(w=b).length<0?w.slice(0,m):w;var w;const C=S=>{y.splice(S,1)};return{add:S=>{ht(y,S).each(C),y.unshift(S),y.length>m&&y.pop(),Hp.setItem(u,JSON.stringify(y))},state:()=>y.slice(0)}})(r,10);return A2[n]=l,l}),C2=(n,r)=>{Cg(n).add(r)},Jy=(n,r,i)=>({hue:n,saturation:r,value:i}),Vv=n=>{let r=0,i=0,l=0;const u=n.red/255,m=n.green/255,p=n.blue/255,b=Math.min(u,Math.min(m,p)),y=Math.max(u,Math.max(m,p));return b===y?(l=b,Jy(0,0,100*l)):(r=u===b?3:p===b?1:5,r=60*(r-(u===b?m-p:p===b?u-m:p-u)/(y-b)),i=(y-b)/y,l=y,Jy(Math.round(r),Math.round(100*i),Math.round(100*l)))},K4=n=>Fv(k2(n)),eI=n=>{return(r=n,U4(r)?O.some({value:H4(r)}):O.none()).orThunk(()=>x2(n).map(Fv)).getOrThunk(()=>{const i=document.createElement("canvas");i.height=1,i.width=1;const l=i.getContext("2d");l.clearRect(0,0,i.width,i.height),l.fillStyle="#FFFFFF",l.fillStyle=n,l.fillRect(0,0,1,1);const u=l.getImageData(0,0,1,1).data,m=u[0],p=u[1],b=u[2],y=u[3];return Fv(Up(m,p,b,y))});var r},S2="forecolor",E2="hilitecolor",Y4=n=>{const r=[];for(let i=0;i<n.length;i+=2)r.push({text:n[i+1],value:"#"+eI(n[i]).value,icon:"checkmark",type:"choiceitem"});return r},Iu=n=>r=>r.options.get(n),jv="#000000",px=(n,r)=>r===S2&&n.options.isSet("color_map_foreground")?Iu("color_map_foreground")(n):r===E2&&n.options.isSet("color_map_background")?Iu("color_map_background")(n):Iu("color_map")(n),Lf=(n,r="default")=>Math.max(5,Math.ceil(Math.sqrt(px(n,r).length))),T2=(n,r)=>{const i=Iu("color_cols")(n),l=Lf(n,r);return i===Lf(n)?l:i},O2=(n,r="default")=>Math.round(r===S2?Iu("color_cols_foreground")(n):r===E2?Iu("color_cols_background")(n):Iu("color_cols")(n)),Q4=Iu("custom_colors"),tI=Iu("color_default_foreground"),Zv=Iu("color_default_background"),Xy=(n,r)=>{const i=Ht(n.selection.getStart()),l=r==="hilitecolor"?Ml(i,u=>{if(br(u)){const m=Ys(u,"background-color");return Fa(x2(m).exists(p=>p.alpha!==0),m)}return O.none()}).getOr("rgba(0, 0, 0, 0)"):Ys(i,"color");return x2(l).map(u=>"#"+Fv(u).value)},z2=n=>{const r="choiceitem",i={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return n?[i,{type:r,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},hx=(n,r,i,l)=>{i==="custom"?N2(n)(u=>{u.each(m=>{C2(r,m),n.execCommand("mceApplyTextcolor",r,m),l(m)})},Xy(n,r).getOr(jv)):i==="remove"?(l(""),n.execCommand("mceRemoveTextcolor",r)):(l(i),n.execCommand("mceApplyTextcolor",r,i))},Pf=(n,r,i)=>n.concat((l=>Ct(Cg(l).state(),u=>({type:"choiceitem",text:u,icon:"checkmark",value:u})))(r).concat(z2(i))),Sg=(n,r,i)=>l=>{l(Pf(n,r,i))},D2=(n,r,i)=>{const l=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";n.setIconFill(l,i)},J4=(n,r)=>{n.setTooltip(r)},R2=(n,r)=>i=>{const l=Xy(n,r);return Pa(l,i.toUpperCase())},_m=(n,r,i)=>{if(hs(i))return r==="forecolor"?"Text color":"Background color";const l=r==="forecolor"?"Text color {0}":"Background color {0}",u=Pf(px(n,r),r,!1),m=Un(u,p=>p.value===i).getOr({text:""}).text;return n.translate([l,n.translate(m)])},bx=(n,r,i,l)=>{n.ui.registry.addSplitButton(r,{tooltip:_m(n,i,l.get()),presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:R2(n,i),columns:O2(n,i),fetch:Sg(px(n,i),i,Q4(n)),onAction:u=>{hx(n,i,l.get(),We)},onItemAction:(u,m)=>{hx(n,i,m,p=>{l.set(p),W4(n,{name:r,color:p})})},onSetup:u=>{D2(u,r,l.get());const m=p=>{p.name===r&&(D2(u,p.name,p.color),J4(u,_m(n,i,p.color)))};return n.on("TextColorChange",m),Hv(yl(n)(u),()=>{n.off("TextColorChange",m)})}})},X4=(n,r,i,l,u)=>{n.ui.registry.addNestedMenuItem(r,{text:l,icon:r==="forecolor"?"text-color":"highlight-bg-color",onSetup:m=>(J4(m,_m(n,i,u.get())),D2(m,r,u.get()),yl(n)(m)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:R2(n,i),initData:{storageKey:i},onAction:m=>{hx(n,i,m.value,p=>{u.set(p),W4(n,{name:r,color:p})})}}]})},N2=n=>(r,i)=>{let l=!1;const u={colorpicker:i};n.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:u,onAction:(m,p)=>{p.name==="hex-valid"&&(l=p.value)},onSubmit:m=>{const p=m.getData().colorpicker;l?(r(O.from(p)),m.close()):n.windowManager.alert(n.translate(["Invalid hex color code: {0}",p]))},onClose:We,onCancel:()=>{r(O.none())}})},yx=(n,r,i,l,u,m,p,b)=>{const y=nb(r),w=eO(r,i,l,u!=="color"?"normal":"color",m,p,b);return Ag(n,y,w,l,{menuType:u})},eO=(n,r,i,l,u,m,p)=>vt(Ct(n,b=>{return b.type==="choiceitem"?(y=b,Ps("choicemenuitem",VM,y)).fold(Nu,w=>O.some(((C,S,z,M,P,$,K,ee=!0)=>{const q=Yy({presets:z,textContent:S?C.text:O.none(),htmlContent:O.none(),ariaLabel:C.text,iconContent:C.icon,shortcutContent:S?C.shortcut:O.none(),checkMark:S?O.some(N4(K.icons)):O.none(),caret:O.none(),value:C.value},K,ee);return oe(cb({data:db(C),enabled:C.enabled,getApi:V=>({setActive:J=>{mn.set(V,J)},isActive:()=>mn.isOn(V),isEnabled:()=>!Io.isDisabled(V),setEnabled:J=>Io.set(V,!J)}),onAction:V=>M(C.value),onSetup:V=>(V.setActive(P),We),triggersSubmenu:!1,itemBehaviours:[]},q,$,K),{toggling:{toggleClass:r4,toggleOnExecute:!1,selected:C.active,exclusive:!0}})})(w,i===1,l,r,m(w.value),u,p,nb(n)))):O.none();var y})),e1=(n,r)=>{const i=ob(r);return n===1?{mode:"menu",moveOnTab:!0}:n==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(r==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:l=>r==="color"?_r(l.element,"[aria-checked=true]"):O.none()}},M2=no("cell-over"),tO=no("cell-execute"),oI=(n,r,i)=>{const l=m=>ao(m,tO,{row:n,col:r}),u=(m,p)=>{p.stop(),l(m)};return ji({dom:{tag:"div",attributes:{role:"button","aria-label":i}},behaviours:Rt([an("insert-table-picker-cell",[at(ue(),Po.focus),at(Ai(),l),at(Qn(),u),at(tl(),u)]),mn.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Po.config({onFocus:m=>ao(m,M2,{row:n,col:r})})])})},nI=n=>Ws(n,r=>Ct(r,ks)),qv=(n,r)=>ar(`${r}x${n}`),I2={inserttable:(n,r)=>{const i=(p=>(b,y)=>p.shared.providers.translate(["{0} columns, {1} rows",y,b]))(r),l=((p,b,y)=>{const w=[];for(let C=0;C<10;C++){const S=[];for(let z=0;z<10;z++){const M=p(C+1,z+1);S.push(oI(C,z,M))}w.push(S)}return w})(i),u=qv(0,0),m=us({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[u],behaviours:Rt([zo.config({})])});return{type:"widget",data:{value:no("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[b2.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:nI(l).concat(m.asSpec()),behaviours:Rt([an("insert-table-picker",[Os(p=>{zo.set(m.get(p),[u])}),uh(M2,(p,b,y)=>{const{row:w,col:C}=y.event;((S,z,M,P,$)=>{for(let K=0;K<10;K++)for(let ee=0;ee<10;ee++)mn.set(S[K][ee],K<=z&&ee<=M)})(l,w,C),zo.set(m.get(p),[qv(w+1,C+1)])}),uh(tO,(p,b,y)=>{const{row:w,col:C}=y.event;n.onAction({numRows:w+1,numColumns:C+1}),Sn(p,ag())})]),xo.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(n,r)=>{const i=((p,b)=>{const y=p.initData.allowCustomColors&&b.colorinput.hasCustomColors();return p.initData.colors.fold(()=>Pf(b.colorinput.getColors(p.initData.storageKey),p.initData.storageKey,y),w=>w.concat(z2(y)))})(n,r),l=r.colorinput.getColorCols(n.initData.storageKey),u="color",m={...yx(no("menu-value"),i,p=>{n.onAction({value:p})},l,u,wm.CLOSE_ON_EXECUTE,n.select.getOr(_e),r.shared.providers),markers:ob(u),movement:e1(l,u)};return{type:"widget",data:{value:no("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[b2.widget(Df.sketch(m))]}}},vx=n=>({type:"separator",dom:{tag:"div",classes:[Qk,"tox-collection__group-heading"]},components:n.text.map(ar).toArray()});var sI=Object.freeze({__proto__:null,getCoupled:(n,r,i,l)=>i.getOrCreate(n,r,l),getExistingCoupled:(n,r,i,l)=>i.getExisting(n,r,l)}),rI=[Ui("others",Oc(un.value,Es()))],oO=Object.freeze({__proto__:null,init:()=>{const n={},r=(l,u)=>{if(on(l.others).length===0)throw new Error("Cannot find any known coupled components");return Qt(n,u)},i=ae({});return zs({readState:i,getExisting:(l,u,m)=>r(u,m).orThunk(()=>(Qt(u.others,m).getOrDie("No information found for coupled component: "+m),O.none())),getOrCreate:(l,u,m)=>r(u,m).getOrThunk(()=>{const p=Qt(u.others,m).getOrDie("No information found for coupled component: "+m)(l),b=l.getSystem().build(p);return n[m]=b,b})})}});const Rr=Ra({fields:rI,name:"coupling",apis:sI,state:oO}),kx=n=>{let r=O.none(),i=[];const l=p=>{u()?m(p):i.push(p)},u=()=>r.isSome(),m=p=>{r.each(b=>{setTimeout(()=>{p(b)},0)})};return n(p=>{u()||(r=O.some(p),Yt(i,m),i=[])}),{get:l,map:p=>kx(b=>{l(y=>{b(p(y))})}),isReady:u}},nO={nu:kx,pure:n=>kx(r=>{r(n)})},aI=n=>{setTimeout(()=>{throw n},0)},Vp=n=>{const r=i=>{n().then(i,aI)};return{map:i=>Vp(()=>n().then(i)),bind:i=>Vp(()=>n().then(l=>i(l).toPromise())),anonBind:i=>Vp(()=>n().then(()=>i.toPromise())),toLazy:()=>nO.nu(r),toCached:()=>{let i=null;return Vp(()=>(i===null&&(i=n()),i))},toPromise:n,get:r}},jp=n=>Vp(()=>new Promise(n)),Eg=n=>Vp(()=>Promise.resolve(n)),sO=ae("sink"),rO=ae(Zt({name:sO(),overrides:ae({dom:{tag:"div"},behaviours:Rt([qi.config({useFixed:Je})]),events:hn([cd(oo()),cd(za()),cd(Qn())])})})),B2=(n,r)=>{const i=n.getHotspot(r).getOr(r),l="hotspot",u=n.getAnchorOverrides();return n.layouts.fold(()=>({type:l,hotspot:i,overrides:u}),m=>({type:l,hotspot:i,overrides:u,layouts:m}))},xx=(n,r,i,l,u,m,p)=>((y,w,C,S,z,M,P)=>{const $=((ee,q,V)=>(0,ee.fetch)(V).map(q))(y,w,S),K=t1(S,y);return $.map(ee=>ee.bind(q=>O.from(Tp.sketch({...M.menu(),uid:F(""),data:q,highlightOnOpen:P,onOpenMenu:(V,J)=>{const te=K().getOrDie();qi.position(te,J,{anchor:C}),bn.decloak(z)},onOpenSubmenu:(V,J,te)=>{const ie=K().getOrDie();qi.position(ie,te,{anchor:{type:"submenu",item:J}}),bn.decloak(z)},onRepositionMenu:(V,J,te)=>{const ie=K().getOrDie();qi.position(ie,J,{anchor:C}),Yt(te,ve=>{qi.position(ie,ve.triggeredMenu,{anchor:{type:"submenu",item:ve.triggeringItem}})})},onEscape:()=>(Po.focus(S),bn.close(z),O.some(!0))}))))})(n,r,B2(n,i),i,l,u,p).map(y=>(y.fold(()=>{bn.isOpen(l)&&bn.close(l)},w=>{bn.cloak(l),bn.open(l,w),m(l)}),l)),iI=(n,r,i,l,u,m,p)=>(bn.close(l),Eg(l)),wx=(n,r,i,l,u,m)=>{const p=Rr.getCoupled(i,"sandbox");return(bn.isOpen(p)?iI:xx)(n,r,i,p,l,u,m)},t1=(n,r)=>n.getSystem().getByUid(r.uid+"-"+sO()).map(i=>()=>un.value(i)).getOrThunk(()=>r.lazySink.fold(()=>()=>un.error(new Error("No internal sink is specified, nor could an external sink be found")),i=>()=>i(n))),aO=n=>{bn.getState(n).each(r=>{Tp.repositionMenus(r)})},mb=(n,r,i)=>{const l=dp(),u=t1(r,n);return{dom:{tag:"div",classes:n.sandboxClasses,attributes:{id:l.id,role:"listbox"}},behaviours:Cp(n.sandboxBehaviours,[Gt.config({store:{mode:"memory",initialValue:r}}),bn.config({onOpen:(m,p)=>{const b=B2(n,r);l.link(r.element),n.matchWidth&&((y,w,C)=>{const S=In.getCurrent(w).getOr(w),z=vs(y.element);C?Ro(S.element,"min-width",z+"px"):((M,P)=>{ns.set(M,P)})(S.element,z)})(b.hotspot,p,n.useMinWidth),n.onOpen(b,m,p),i!==void 0&&i.onOpen!==void 0&&i.onOpen(m,p)},onClose:(m,p)=>{l.unlink(r.element),i!==void 0&&i.onClose!==void 0&&i.onClose(m,p)},isPartOf:(m,p,b)=>Ka(p,b)||Ka(r,b),getAttachPoint:()=>u().getOrDie()}),In.config({find:m=>bn.getState(m).bind(p=>In.getCurrent(p))}),Ll.config({channels:{...gv({isExtraPart:_e}),...wp({doReposition:aO})}})])}},_x=n=>{const r=Rr.getCoupled(n,"sandbox");aO(r)},Ax=()=>[Te("sandboxClasses",[]),km("sandboxBehaviours",[In,Ll,bn,Gt])],iO=ae([Xe("dom"),Xe("fetch"),zn("onOpen"),pl("onExecute"),Te("getHotspot",O.some),Te("getAnchorOverrides",ae({})),gm(),Na("dropdownBehaviours",[mn,Rr,xo,Po]),Xe("toggleClass"),Te("eventOrder",{}),$n("lazySink"),Te("matchWidth",!1),Te("useMinWidth",!1),$n("role")].concat(Ax())),lI=ae([It({schema:[bh(),Te("fakeFocus",!1)],name:"menu",defaults:n=>({onExecute:n.onExecute})}),rO()]),Jd=bl({name:"Dropdown",configFields:iO(),partFields:lI(),factory:(n,r,i,l)=>{const u=y=>{bn.getState(y).each(w=>{Tp.highlightPrimary(w)})},m=(y,w,C)=>wx(n,Lt,y,l,w,C),p={expand:y=>{mn.isOn(y)||m(y,We,Vl.HighlightNone).get(We)},open:y=>{mn.isOn(y)||m(y,We,Vl.HighlightMenuAndItem).get(We)},refetch:y=>Rr.getExistingCoupled(y,"sandbox").fold(()=>m(y,We,Vl.HighlightMenuAndItem).map(We),w=>xx(n,Lt,y,w,l,We,Vl.HighlightMenuAndItem).map(We)),isOpen:mn.isOn,close:y=>{mn.isOn(y)&&m(y,We,Vl.HighlightMenuAndItem).get(We)},repositionMenus:y=>{mn.isOn(y)&&_x(y)}},b=(y,w)=>(vu(y),O.some(!0));return{uid:n.uid,dom:n.dom,components:r,behaviours:Ya(n.dropdownBehaviours,[mn.config({toggleClass:n.toggleClass,aria:{mode:"expanded"}}),Rr.config({others:{sandbox:y=>mb(n,y,{onOpen:()=>mn.on(y),onClose:()=>mn.off(y)})}}),xo.config({mode:"special",onSpace:b,onEnter:b,onDown:(y,w)=>{if(Jd.isOpen(y)){const C=Rr.getCoupled(y,"sandbox");u(C)}else Jd.open(y);return O.some(!0)},onEscape:(y,w)=>Jd.isOpen(y)?(Jd.close(y),O.some(!0)):O.none()}),Po.config({})]),events:Ev(O.some(y=>{m(y,u,Vl.HighlightMenuAndItem).get(We)})),eventOrder:{...n.eventOrder,[Ai()]:["disabling","toggling","alloy.base.behaviour"]},apis:p,domModification:{attributes:{"aria-haspopup":"true",...n.role.fold(()=>({}),y=>({role:y})),...n.dom.tag==="button"?{type:Qt(n.dom,"attributes").bind(y=>Qt(y,"type")).getOr("button")}:{}}}}},apis:{open:(n,r)=>n.open(r),refetch:(n,r)=>n.refetch(r),expand:(n,r)=>n.expand(r),close:(n,r)=>n.close(r),isOpen:(n,r)=>n.isOpen(r),repositionMenus:(n,r)=>n.repositionMenus(r)}}),L2=(n,r,i)=>{p4(n).each(l=>{var u;((m,p)=>{Wr(p.element,"id").each(b=>Ho(m.element,"aria-activedescendant",b))})(l,i),(Ga((u=r).element,Xk)?O.some(u.element):_r(u.element,"."+Xk)).each(m=>{Wr(m,"id").each(p=>Ho(l.element,"aria-controls",p))})}),Ho(i.element,"aria-selected","true")},cI=(n,r,i)=>{Ho(i.element,"aria-selected","false")},lO=n=>Rr.getExistingCoupled(n,"sandbox").bind(qy).map(JA).map(r=>r.fetchPattern).getOr("");var Cx;(function(n){n[n.ContentFocus=0]="ContentFocus",n[n.UiFocus=1]="UiFocus"})(Cx||(Cx={}));const dI=(n,r,i,l,u)=>{const m=i.shared.providers,p=y=>u?{...y,shortcut:O.none(),icon:y.text.isSome()?O.none():y.icon}:y;switch(n.type){case"menuitem":return(b=n,Ps("menuitem",WM,b)).fold(Nu,y=>O.some(((w,C,S,z=!0)=>{const M=Yy({presets:"normal",iconContent:w.icon,textContent:w.text,htmlContent:O.none(),ariaLabel:w.text,caret:O.none(),checkMark:O.none(),shortcutContent:w.shortcut},S,z);return cb({data:db(w),getApi:P=>({isEnabled:()=>!Io.isDisabled(P),setEnabled:$=>Io.set(P,!$)}),enabled:w.enabled,onAction:w.onAction,onSetup:w.onSetup,triggersSubmenu:!1,itemBehaviours:[]},M,C,S)})(p(y),r,m,l)));case"nestedmenuitem":return(y=>Ps("nestedmenuitem",$M,y))(n).fold(Nu,y=>O.some(((w,C,S,z=!0,M=!1)=>{const P=M?($=S.icons,h2("chevron-down",$,[i4])):(ee=>h2("chevron-right",ee,[i4]))(S.icons);var $;const K=Yy({presets:"normal",iconContent:w.icon,textContent:w.text,htmlContent:O.none(),ariaLabel:w.text,caret:O.some(P),checkMark:O.none(),shortcutContent:w.shortcut},S,z);return cb({data:db(w),getApi:ee=>({isEnabled:()=>!Io.isDisabled(ee),setEnabled:q=>Io.set(ee,!q),setIconFill:(q,V)=>{_r(ee.element,`svg path[class="${q}"], rect[class="${q}"]`).each(J=>{Ho(J,"fill",V)})},setTooltip:q=>{const V=S.translate(q);ri(ee.element,{"aria-label":V,title:V})}}),enabled:w.enabled,onAction:We,onSetup:w.onSetup,triggersSubmenu:!0,itemBehaviours:[]},K,C,S)})(p(y),r,m,l,u)));case"togglemenuitem":return(y=>Ps("togglemenuitem",Gy,y))(n).fold(Nu,y=>O.some(((w,C,S,z=!0)=>{const M=Yy({iconContent:w.icon,textContent:w.text,htmlContent:O.none(),ariaLabel:w.text,checkMark:O.some(N4(S.icons)),caret:O.none(),shortcutContent:w.shortcut,presets:"normal",meta:w.meta},S,z);return oe(cb({data:db(w),enabled:w.enabled,getApi:P=>({setActive:$=>{mn.set(P,$)},isActive:()=>mn.isOn(P),isEnabled:()=>!Io.isDisabled(P),setEnabled:$=>Io.set(P,!$)}),onAction:w.onAction,onSetup:w.onSetup,triggersSubmenu:!1,itemBehaviours:[]},M,C,S),{toggling:{toggleClass:r4,toggleOnExecute:!1,selected:w.active}})})(p(y),r,m,l)));case"separator":return(y=>Ps("separatormenuitem",x4,y))(n).fold(Nu,y=>O.some(vx(y)));case"fancymenuitem":return(y=>Ps("fancymenuitem",qM,y))(n).fold(Nu,y=>((w,C)=>Qt(I2,w.fancytype).map(S=>S(w,C)))(y,i));default:return console.error("Unknown item in general menu",n),O.none()}var b},cO=(n,r,i,l,u,m,p)=>{const b=l===1,y=!b||nb(n);return vt(Ct(n,w=>{switch(w.type){case"separator":return(C=w,Ps("Autocompleter.Separator",x4,C)).fold(Nu,S=>O.some(vx(S)));case"cardmenuitem":return(S=>Ps("cardmenuitem",HM,S))(w).fold(Nu,S=>O.some(((z,M,P,$)=>{const K={dom:M4(z.label),optComponents:[O.some({dom:{tag:"div",classes:[Rv,l4]},components:L4(z.items,$)})]};return cb({data:db({text:O.none(),...z}),enabled:z.enabled,getApi:ee=>({isEnabled:()=>!Io.isDisabled(ee),setEnabled:q=>{Io.set(ee,!q),Yt(rl(ee.element,"*"),V=>{ee.getSystem().getByDom(V).each(J=>{J.hasConfigured(Io)&&Io.set(J,!q)})})}}),onAction:z.onAction,onSetup:z.onSetup,triggersSubmenu:!1,itemBehaviours:O.from($.itemBehaviours).getOr([])},K,M,P.providers)})({...S,onAction:z=>{S.onAction(z),i(S.value,S.meta)}},u,m,{itemBehaviours:I4(S.meta,m),cardText:{matchText:r,highlightOn:p}})));default:return(S=>Ps("Autocompleter.Item",NM,S))(w).fold(Nu,S=>O.some(((z,M,P,$,K,ee,q,V=!0)=>{const J=Yy({presets:$,textContent:O.none(),htmlContent:P?z.text.map(te=>B4(te,M)):O.none(),ariaLabel:z.text,iconContent:z.icon,shortcutContent:O.none(),checkMark:O.none(),caret:O.none(),value:z.value},q.providers,V,z.icon);return cb({data:db(z),enabled:z.enabled,getApi:ae({}),onAction:te=>K(z.value,z.meta),onSetup:ae(We),triggersSubmenu:!1,itemBehaviours:I4(z.meta,q)},J,ee,q.providers)})(S,r,b,"normal",i,u,m,y)))}var C}))},Wv=(n,r,i,l,u,m)=>{const p=nb(r),b=vt(Ct(r,w=>{const C=S=>dI(S,i,l,(z=>u?!uo(z,"text"):p)(S),u);return w.type==="nestedmenuitem"&&w.getSubmenuItems().length<=0?C({...w,enabled:!1}):C(w)})),y=(w=>w.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:w})(m);return(u?ex:Ag)(n,p,b,1,y)},$v=n=>Tp.singleData(n.value,n),P2=(n,r)=>{const i=no("autocompleter"),l=_o(!1),u=_o(!1),m=ji(Ar.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:i}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Rt([an("dismissAutocompleter",[at(yu(),()=>C()),at(Ts(),(M,P)=>{Wr(P.event.target,"id").each($=>Ho(Ht(n.getBody()),"aria-activedescendant",$))})])]),lazySink:r.getSink})),p=()=>Ar.isOpen(m),b=u.get,y=()=>{if(p()){Ar.hide(m),n.dom.remove(i,!1);const M=Ht(n.getBody());Wr(M,"aria-owns").filter(P=>P===i).each(()=>{As(M,"aria-owns"),As(M,"aria-activedescendant")})}},w=()=>Ar.getContent(m).bind(M=>St(M.components(),0)),C=()=>n.execCommand("mceAutocompleterClose"),S=M=>{const P=($=>{const K=Bn($,ee=>O.from(ee.columns)).getOr(1);return Ws($,ee=>{const q=ee.items;return cO(q,ee.matchText,(V,J)=>{const te=n.selection.getRng();((ie,ve)=>WA(Ht(ve.startContainer)).map(Re=>{const st=ie.createRng();return st.selectNode(Re.dom),st}))(n.dom,te).each(ie=>{const ve={hide:()=>C(),reload:Re=>{y(),n.execCommand("mceAutocompleterReload",!1,{fetchOptions:Re})}};l.set(!0),ee.onAction(ve,ie,V,J),l.set(!1)})},K,wm.BUBBLE_TO_SANDBOX,r,ee.highlightOn)})})(M);P.length>0?((($,K)=>{var ee;(ee=Ht(n.getBody()),_r(ee,CM)).each(q=>{const V=Bn($,J=>O.from(J.columns)).getOr(1);Ar.showMenuAt(m,{anchor:{type:"node",root:Ht(n.getBody()),node:O.from(q)}},((J,te,ie,ve)=>{const Re=e1(te,ve),st=ob(ve);return{data:$v({...J,movement:Re,menuBehaviours:Pv(te!=="auto"?[]:[Os((it,lt)=>{Lv(it,4,st.item).each(({numColumns:qt,numRows:eo})=>{xo.setGridSize(it,eo,qt)})})])}),menu:{markers:ob(ve),fakeFocus:ie===Cx.ContentFocus}}})(Ag("autocompleter-value",!0,K,V,{menuType:"normal"}),V,Cx.ContentFocus,"normal"))}),w().each(jn.highlightFirst)})(M,P),Ho(Ht(n.getBody()),"aria-owns",i),n.inline||z()):y()},z=()=>{n.dom.get(i)&&n.dom.remove(i,!1);const M=n.getDoc().documentElement,P=n.selection.getNode(),$=(K=>Km(K,!0))(m.element);Tl($,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${P.offsetTop}px`,left:`${P.offsetLeft}px`}),n.dom.add(M,$.dom),_r($,'[role="menu"]').each(K=>{Ln(K,"position"),Ln(K,"max-height")})};n.on("AutocompleterStart",({lookupData:M})=>{u.set(!0),l.set(!1),S(M)}),n.on("AutocompleterUpdate",({lookupData:M})=>S(M)),n.on("AutocompleterEnd",()=>{y(),u.set(!1),l.set(!1)}),((M,P)=>{const $=(ee,q)=>{ao(ee,oo(),{raw:q})},K=()=>M.getMenu().bind(jn.getHighlighted);P.on("keydown",ee=>{const q=ee.which;M.isActive()&&(M.isMenuOpen()?q===13?(K().each(vu),ee.preventDefault()):q===40?(K().fold(()=>{M.getMenu().each(jn.highlightFirst)},V=>{$(V,ee)}),ee.preventDefault(),ee.stopImmediatePropagation()):q!==37&&q!==38&&q!==39||K().each(V=>{$(V,ee),ee.preventDefault(),ee.stopImmediatePropagation()}):q!==13&&q!==38&&q!==40||M.cancelIfNecessary())}),P.on("NodeChange",ee=>{M.isActive()&&!M.isProcessingAction()&&WA(Ht(ee.element)).isNone()&&M.cancelIfNecessary()})})({cancelIfNecessary:C,isMenuOpen:p,isActive:b,isProcessingAction:l.get,getMenu:w},n)},uI=["visible","hidden","clip"],dO=n=>oi(n).length>0&&!So(uI,n),uO=n=>{if(_a(n)){const r=Ys(n,"overflow-x"),i=Ys(n,"overflow-y");return dO(r)||dO(i)}return!1},fb=(n,r)=>Ip(n)?(i=>{const l=my(i,uO),u=l.length===0?ir(i).map(Bi).map(m=>my(m,uO)).getOr([]):l;return nt(u).map(m=>({element:m,others:u.slice(1)}))})(r):O.none(),gb=n=>{const r=[...Ct(n.others,Tr),Ss()];return((i,l)=>H(l,(u,m)=>od(u,m),i))(Tr(n.element),r)},o1=(n,r,i)=>Pc(n,r,i).isSome(),mO=(n,r)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...l)=>{i=setTimeout(()=>{n.apply(null,l),i=null},r)}}},fO=n=>{const r=n.raw;return r.touches===void 0||r.touches.length!==1?O.none():O.some(r.touches[0])},mI=(n,r)=>{const i={stopBackspace:!0,...r},l=(S=>{const z=er(),M=_o(!1),P=mO(K=>{S.triggerEvent(Md(),K),M.set(!0)},400),$=Hn([{key:Ql(),value:K=>(fO(K).each(ee=>{P.cancel();const q={x:ee.clientX,y:ee.clientY,target:K.target};P.schedule(K),M.set(!1),z.set(q)}),O.none())},{key:ld(),value:K=>(P.cancel(),fO(K).each(ee=>{z.on(q=>{((V,J)=>{const te=Math.abs(V.clientX-J.x),ie=Math.abs(V.clientY-J.y);return te>5||ie>5})(ee,q)&&z.clear()})}),O.none())},{key:Il(),value:K=>(P.cancel(),z.get().filter(ee=>Wn(ee.target,K.target)).map(ee=>M.get()?(K.prevent(),!1):S.triggerEvent(tl(),K)))}]);return{fireIfReady:(K,ee)=>Qt($,ee).bind(q=>q(K))}})(i),u=Ct(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),S=>Oi(n,S,z=>{l.fireIfReady(z,S).each(M=>{M&&z.kill()}),i.triggerEvent(S,z)&&z.kill()})),m=er(),p=Oi(n,"paste",S=>{l.fireIfReady(S,"paste").each(z=>{z&&S.kill()}),i.triggerEvent("paste",S)&&S.kill(),m.set(setTimeout(()=>{i.triggerEvent(ro(),S)},0))}),b=Oi(n,"keydown",S=>{i.triggerEvent("keydown",S)?S.kill():i.stopBackspace&&(z=>z.raw.which===UN[0]&&!So(["input","textarea"],Ua(z.target))&&!o1(z.target,'[contenteditable="true"]'))(S)&&S.prevent()}),y=Oi(n,"focusin",S=>{i.triggerEvent("focusin",S)&&S.kill()}),w=er(),C=Oi(n,"focusout",S=>{i.triggerEvent("focusout",S)&&S.kill(),w.set(setTimeout(()=>{i.triggerEvent(Zm(),S)},0))});return{unbind:()=>{Yt(u,S=>{S.unbind()}),b.unbind(),y.unbind(),C.unbind(),p.unbind(),m.on(clearTimeout),w.on(clearTimeout)}}},gO=(n,r)=>{const i=Qt(n,"target").getOr(r);return _o(i)},Gv=Kr([{stopped:[]},{resume:["element"]},{complete:[]}]),pO=(n,r,i,l,u,m)=>{const p=n(r,l),b=((y,w)=>{const C=_o(!1),S=_o(!1);return{stop:()=>{C.set(!0)},cut:()=>{S.set(!0)},isStopped:C.get,isCut:S.get,event:y,setSource:w.set,getSource:w.get}})(i,u);return p.fold(()=>(m.logEventNoHandlers(r,l),Gv.complete()),y=>{const w=y.descHandler;return ud(w)(b),b.isStopped()?(m.logEventStopped(r,y.element,w.purpose),Gv.stopped()):b.isCut()?(m.logEventCut(r,y.element,w.purpose),Gv.complete()):Mi(y.element).fold(()=>(m.logNoParent(r,y.element,w.purpose),Gv.complete()),C=>(m.logEventResponse(r,y.element,w.purpose),Gv.resume(C)))})},F2=(n,r,i,l,u,m)=>pO(n,r,i,l,u,m).fold(Je,p=>F2(n,r,i,p,u,m),_e),hO=(n,r,i,l,u)=>{const m=gO(i,l);return F2(n,r,i,l,m,u)},fI=()=>{const n=(()=>{const l={};return{registerId:(u,m,p)=>{fs(p,(b,y)=>{const w=l[y]!==void 0?l[y]:{};w[m]=((C,S)=>({cHandler:tt.apply(void 0,[C.handler].concat(S)),purpose:C.purpose}))(b,u),l[y]=w})},unregisterId:u=>{fs(l,(m,p)=>{uo(m,u)&&delete m[u]})},filterByType:u=>Qt(l,u).map(m=>wn(m,(p,b)=>((y,w)=>({id:y,descHandler:w}))(b,p))).getOr([]),find:(u,m,p)=>Qt(l,m).bind(b=>Ml(p,y=>((w,C)=>T(C).bind(S=>Qt(w,S)).map(S=>((z,M)=>({element:z,descHandler:M}))(C,S)))(b,y),u))}})(),r={},i=l=>{T(l.element).each(u=>{delete r[u],n.unregisterId(u)})};return{find:(l,u,m)=>n.find(l,u,m),filter:l=>n.filterByType(l),register:l=>{const u=(p=>{const b=p.element;return T(b).getOrThunk(()=>((y,w)=>{const C=no(_u+"uid-");return x(w,C),C})(0,p.element))})(l);Cr(r,u)&&((p,b)=>{const y=r[b];if(y!==p)throw new Error('The tagId "'+b+'" is already used by: '+Ic(y.element)+`
Cannot use it for: `+Ic(p.element)+`
The conflicting element is`+(gs(y.element)?" ":" not ")+"already in the DOM");i(p)})(l,u);const m=[l];n.registerId(m,u,l.events),r[u]=l},unregister:i,getById:l=>Qt(r,l)}},Am=qc({name:"Container",factory:n=>{const{attributes:r,...i}=n.dom;return{uid:n.uid,dom:{tag:"div",attributes:{role:"presentation",...r},...i},components:n.components,behaviours:Ap(n.containerBehaviours),events:n.events,domModification:n.domModification,eventOrder:n.eventOrder}},configFields:[Te("components",[]),Na("containerBehaviours",[]),Te("events",{}),Te("domModification",{}),Te("eventOrder",{})]}),U2=n=>{const r=K=>Mi(n.element).fold(Je,ee=>Wn(K,ee)),i=fI(),l=(K,ee)=>i.find(r,K,ee),u=mI(n.element,{triggerEvent:(K,ee)=>V1(K,ee.target,q=>((V,J,te,ie)=>hO(V,J,te,te.target,ie))(l,K,ee,q))}),m={debugInfo:ae("real"),triggerEvent:(K,ee,q)=>{V1(K,ee,V=>hO(l,K,q,ee,V))},triggerFocus:(K,ee)=>{T(K).fold(()=>{Xl(K)},q=>{V1(Bl(),K,V=>(((J,te,ie,ve,Re)=>{const st=gO(ie,ve);pO(J,te,ie,ve,st,Re)})(l,Bl(),{originator:ee,kill:We,prevent:We,target:K},K,V),!1))})},triggerEscape:(K,ee)=>{m.triggerEvent("keydown",K.element,ee.event)},getByUid:K=>P(K),getByDom:K=>$(K),build:ji,buildOrPatch:Gb,addToGui:K=>{y(K)},removeFromGui:K=>{w(K)},addToWorld:K=>{p(K)},removeFromWorld:K=>{b(K)},broadcast:K=>{S(K)},broadcastOn:(K,ee)=>{z(K,ee)},broadcastEvent:(K,ee)=>{M(K,ee)},isConnected:Je},p=K=>{K.connect(m),si(K.element)||(i.register(K),Yt(K.components(),p),m.triggerEvent(Nc(),K.element,{target:K.element}))},b=K=>{si(K.element)||(Yt(K.components(),b),i.unregister(K)),K.disconnect()},y=K=>{wf(n,K)},w=K=>{ym(K)},C=K=>{const ee=i.filter(_i());Yt(ee,q=>{const V=q.descHandler;ud(V)(K)})},S=K=>{C({universal:!0,data:K})},z=(K,ee)=>{C({universal:!1,channels:K,data:ee})},M=(K,ee)=>((q,V,J)=>{const te=(ie=>{const ve=_o(!1);return{stop:()=>{ve.set(!0)},cut:We,isStopped:ve.get,isCut:_e,event:ie,setSource:lo("Cannot set source of a broadcasted event"),getSource:lo("Cannot get source of a broadcasted event")}})(V);return Yt(q,ie=>{const ve=ie.descHandler;ud(ve)(te)}),te.isStopped()})(i.filter(K),ee),P=K=>i.getById(K).fold(()=>un.error(new Error('Could not find component with uid: "'+K+'" in system.')),un.value),$=K=>{const ee=T(K).getOr("not found");return P(ee)};return p(n),{root:n,element:n.element,destroy:()=>{u.unbind(),Er(n.element)},add:y,remove:w,getByUid:P,getByDom:$,addToWorld:p,removeFromWorld:b,broadcast:S,broadcastOn:z,broadcastEvent:M}},gI=ae([Te("prefix","form-field"),Na("fieldBehaviours",[In,Gt])]),pb=ae([Zt({schema:[Xe("dom")],name:"label"}),Zt({factory:{sketch:n=>({uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}})},schema:[Xe("text")],name:"aria-descriptor"}),Ot({factory:{sketch:n=>{const r=((i,l)=>{const u={};return fs(i,(m,p)=>{So(l,p)||(u[p]=m)}),u})(n,["factory"]);return n.factory.sketch(r)}},schema:[Xe("factory")],name:"field"})]),ms=bl({name:"FormField",configFields:gI(),partFields:pb(),factory:(n,r,i,l)=>{const u=Ya(n.fieldBehaviours,[In.config({find:b=>as(b,n,"field")}),Gt.config({store:{mode:"manual",getValue:b=>In.getCurrent(b).bind(Gt.getValue),setValue:(b,y)=>{In.getCurrent(b).each(w=>{Gt.setValue(w,y)})}}})]),m=hn([Os((b,y)=>{const w=xm(b,n,["label","field","aria-descriptor"]);w.field().each(C=>{const S=no(n.prefix);w.label().each(z=>{Ho(z.element,"for",S),Ho(C.element,"id",S)}),w["aria-descriptor"]().each(z=>{const M=no(n.prefix);Ho(z.element,"id",M),Ho(C.element,"aria-describedby",M)})})})]),p={getField:b=>as(b,n,"field"),getLabel:b=>as(b,n,"label")};return{uid:n.uid,dom:n.dom,components:r,behaviours:u,events:m,apis:p}},apis:{getField:(n,r)=>n.getField(r),getLabel:(n,r)=>n.getLabel(r)}});var pI=Object.freeze({__proto__:null,exhibit:(n,r)=>ya({attributes:Hn([{key:r.tabAttr,value:"true"}])})}),hb=[Te("tabAttr","data-alloy-tabstop")];const pr=Ra({fields:hb,name:"tabstopping",active:pI});var hI=tinymce.util.Tools.resolve("tinymce.html.Entities");const Bu=(n,r,i,l)=>{const u=bI(n,r,i,l);return ms.sketch(u)},bI=(n,r,i,l)=>({dom:bO(i),components:n.toArray().concat([r]),fieldBehaviours:Rt(l)}),bO=n=>({tag:"div",classes:["tox-form__group"].concat(n)}),al=(n,r)=>ms.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ar(r.translate(n))]}),vc=no("form-component-change"),n1=no("form-close"),Tg=no("form-cancel"),Ff=no("form-action"),bb=no("form-submit"),H2=no("form-block"),V2=no("form-unblock"),yO=no("form-tabchange"),Kv=no("form-resize"),j2=(n,r,i)=>{const l=n.label.map(S=>al(S,r)),u=r.icons(),m=S=>(z,M)=>{Pc(M.event.target,"[data-collection-item-value]").each(P=>{S(z,M,P,qr(P,"data-collection-item-value"))})},p=m((S,z,M,P)=>{z.stop(),r.isDisabled()||ao(S,Ff,{name:n.name,value:P})}),b=[at(ue(),m((S,z,M)=>{Xl(M)})),at(Qn(),p),at(tl(),p),at(ge(),m((S,z,M)=>{_r(S.element,"."+Qd).each(P=>{cr(P,Qd)}),rs(M,Qd)})),at(wt(),m(S=>{_r(S.element,"."+Qd).each(z=>{cr(z,Qd)})})),ol(m((S,z,M,P)=>{ao(S,Ff,{name:n.name,value:P})}))],y=(S,z)=>Ct(rl(S.element,".tox-collection__item"),z),w=ms.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(n.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Lt},behaviours:Rt([Io.config({disabled:r.isDisabled,onDisabled:S=>{y(S,z=>{rs(z,"tox-collection__item--state-disabled"),Ho(z,"aria-disabled",!0)})},onEnabled:S=>{y(S,z=>{cr(z,"tox-collection__item--state-disabled"),As(z,"aria-disabled")})}}),Ja(),zo.config({}),Gt.config({store:{mode:"memory",initialValue:i.getOr([])},onSetValue:(S,z)=>{((M,P)=>{const $=Ct(P,q=>{const V=yc.translate(q.text),J=n.columns===1?`<div class="tox-collection__item-label">${V}</div>`:"",te=`<div class="tox-collection__item-icon">${(Re=>{var st;return(st=u[Re])!==null&&st!==void 0?st:Re})(q.icon)}</div>`,ie={_:" "," - ":" ","-":" "},ve=V.replace(/\_| \- |\-/g,Re=>ie[Re]);return`<div class="tox-collection__item${r.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${hI.encodeAllRaw(q.value)}" title="${ve}" aria-label="${ve}">${te}${J}</div>`}),K=n.columns!=="auto"&&n.columns>1?is($,n.columns):[$],ee=Ct(K,q=>`<div class="tox-collection__group">${q.join("")}</div>`);gl(M.element,ee.join(""))})(S,z),n.columns==="auto"&&Lv(S,5,"tox-collection__item").each(({numRows:M,numColumns:P})=>{xo.setGridSize(S,M,P)}),Sn(S,Kv)}}),pr.config({}),xo.config((C=n.columns,C===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:C==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${Qk}`}})),an("collection-events",b)]),eventOrder:{[Ai()]:["disabling","alloy.base.behaviour","collection-events"]}});var C;return Bu(l,w,["tox-form__group--collection"],[])},vO=["input","textarea"],Z2=n=>{const r=Ua(n);return So(vO,r)},q2=(n,r)=>{const i=r.getRoot(n).getOr(n.element);cr(i,r.invalidClass),r.notify.each(l=>{Z2(n.element)&&Ho(n.element,"aria-invalid",!1),l.getContainer(n).each(u=>{gl(u,l.validHtml)}),l.onValid(n)})},kO=(n,r,i,l)=>{const u=r.getRoot(n).getOr(n.element);rs(u,r.invalidClass),r.notify.each(m=>{Z2(n.element)&&Ho(n.element,"aria-invalid",!0),m.getContainer(n).each(p=>{gl(p,l)}),m.onInvalid(n,l)})},xO=(n,r,i)=>r.validator.fold(()=>Eg(un.value(!0)),l=>l.validate(n)),Sx=(n,r,i)=>(r.notify.each(l=>{l.onValidate(n)}),xO(n,r).map(l=>n.getSystem().isConnected()?l.fold(u=>(kO(n,r,0,u),un.error(u)),u=>(q2(n,r),un.value(u))):un.error("No longer in system")));var yI=Object.freeze({__proto__:null,markValid:q2,markInvalid:kO,query:xO,run:Sx,isInvalid:(n,r)=>{const i=r.getRoot(n).getOr(n.element);return Ga(i,r.invalidClass)}}),W2=Object.freeze({__proto__:null,events:(n,r)=>n.validator.map(i=>hn([at(i.onEvent,l=>{Sx(l,n).get(Lt)})].concat(i.validateOnLoad?[Os(l=>{Sx(l,n).get(We)})]:[]))).getOr({})}),wO=[Xe("invalidClass"),Te("getRoot",O.none),Vi("notify",[Te("aria","alert"),Te("getContainer",O.none),Te("validHtml",""),zn("onValid"),zn("onInvalid"),zn("onValidate")]),Vi("validator",[Xe("validate"),Te("onEvent","input"),Te("validateOnLoad",!0)])];const Uf=Ra({fields:wO,name:"invalidating",active:W2,apis:yI,extra:{validation:n=>r=>{const i=Gt.getValue(r);return Eg(n(i))}}}),Yv=Ra({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>hn([ku($a(),Je)]),exhibit:()=>ya({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),_O=no("color-input-change"),Ex=no("color-swatch-change"),AO=no("color-picker-cancel"),Qv=Zt({schema:[Xe("dom")],name:"label"}),Cm=n=>Zt({name:n+"-edge",overrides:r=>r.model.manager.edgeActions[n].fold(()=>({}),i=>({events:hn([$m(Ql(),(l,u,m)=>i(l,m),[r]),$m(za(),(l,u,m)=>i(l,m),[r]),$m(A(),(l,u,m)=>{m.mouseIsDown.get()&&i(l,m)},[r])])}))}),CO=Cm("top-left"),SO=Cm("top"),vI=Cm("top-right"),kI=Cm("right"),xI=Cm("bottom-right"),wI=Cm("bottom"),$2=Cm("bottom-left"),EO=Cm("left"),TO=Ot({name:"thumb",defaults:ae({dom:{styles:{position:"absolute"}}}),overrides:n=>({events:hn([nm(Ql(),n,"spectrum"),nm(ld(),n,"spectrum"),nm(Il(),n,"spectrum"),nm(za(),n,"spectrum"),nm(A(),n,"spectrum"),nm(j(),n,"spectrum")])})}),s1=n=>Ef(n.event);var _I=[Qv,EO,kI,SO,wI,CO,vI,$2,xI,TO,Ot({schema:[sa("mouseIsDown",()=>_o(!1))],name:"spectrum",overrides:n=>{const r=n.model.manager,i=(l,u)=>r.getValueFromEvent(u).map(m=>r.setValueFrom(l,n,m));return{behaviours:Rt([xo.config({mode:"special",onLeft:(l,u)=>r.onLeft(l,n,s1(u)),onRight:(l,u)=>r.onRight(l,n,s1(u)),onUp:(l,u)=>r.onUp(l,n,s1(u)),onDown:(l,u)=>r.onDown(l,n,s1(u))}),pr.config({}),Po.config({})]),events:hn([at(Ql(),i),at(ld(),i),at(za(),i),at(A(),(l,u)=>{n.mouseIsDown.get()&&i(l,u)})])}}})];const r1=ae("slider.change.value"),G2=n=>{const r=n.event.raw;if((i=>i.type.indexOf("touch")!==-1)(r)){const i=r;return i.touches!==void 0&&i.touches.length===1?O.some(i.touches[0]).map(l=>qo(l.clientX,l.clientY)):O.none()}{const i=r;return i.clientX!==void 0?O.some(i).map(l=>qo(l.clientX,l.clientY)):O.none()}},yb=n=>n.model.minX,vb=n=>n.model.minY,Jv=n=>n.model.minX-1,Tx=n=>n.model.minY-1,kb=n=>n.model.maxX,Og=n=>n.model.maxY,Xv=n=>n.model.maxX+1,e0=n=>n.model.maxY+1,OO=(n,r,i)=>r(n)-i(n),t0=n=>OO(n,kb,yb),K2=n=>OO(n,Og,vb),zO=n=>t0(n)/2,DO=n=>K2(n)/2,a1=(n,r)=>r?n.stepSize*n.speedMultiplier:n.stepSize,RO=n=>n.snapToGrid,Y2=n=>n.snapStart,Ox=n=>n.rounded,zx=(n,r)=>n[r+"-edge"]!==void 0,o0=n=>zx(n,"left"),NO=n=>zx(n,"right"),MO=n=>zx(n,"top"),IO=n=>zx(n,"bottom"),zg=n=>n.model.value.get(),Zp=(n,r)=>({x:n,y:r}),Lu=(n,r)=>{ao(n,r1(),{value:r})},Dx=(n,r,i,l)=>n<r?n:n>i?i:n===r?r-1:Math.max(r,n-l),Q2=(n,r,i,l)=>n>i?n:n<r?r:n===i?i+1:Math.min(i,n+l),BO=(n,r,i)=>Math.max(r,Math.min(i,n)),Rx=n=>{const{min:r,max:i,range:l,value:u,step:m,snap:p,snapStart:b,rounded:y,hasMinEdge:w,hasMaxEdge:C,minBound:S,maxBound:z,screenRange:M}=n,P=w?r-1:r,$=C?i+1:i;if(u<S)return P;if(u>z)return $;{const K=((q,V,J)=>Math.min(J,Math.max(q,V))-V)(u,S,z),ee=BO(K/M*l+r,P,$);return p&&ee>=r&&ee<=i?((q,V,J,te,ie)=>ie.fold(()=>{const ve=q-V,Re=Math.round(ve/te)*te;return BO(V+Re,V-1,J+1)},ve=>{const Re=(q-ve)%te,st=Math.round(Re/te),it=Math.floor((q-ve)/te),lt=Math.floor((J-ve)/te),qt=ve+Math.min(lt,it+st)*te;return Math.max(ve,qt)}))(ee,r,i,m,b):y?Math.round(ee):ee}},qp=n=>{const{min:r,max:i,range:l,value:u,hasMinEdge:m,hasMaxEdge:p,maxBound:b,maxOffset:y,centerMinEdge:w,centerMaxEdge:C}=n;return u<r?m?0:w:u>i?p?b:C:(u-r)/l*y},J2="top",LO="right",Nx="bottom",Mx="left",Hf=n=>n.element.dom.getBoundingClientRect(),Pu=(n,r)=>n[r],n0=n=>{const r=Hf(n);return Pu(r,Mx)},PO=n=>{const r=Hf(n);return Pu(r,LO)},s0=n=>{const r=Hf(n);return Pu(r,J2)},X2=n=>{const r=Hf(n);return Pu(r,Nx)},Ix=n=>{const r=Hf(n);return Pu(r,"width")},FO=n=>{const r=Hf(n);return Pu(r,"height")},eC=(n,r,i)=>(n+r)/2-i,UO=(n,r)=>{const i=Hf(n),l=Hf(r),u=Pu(i,Mx),m=Pu(i,LO),p=Pu(l,Mx);return eC(u,m,p)},i1=(n,r)=>{const i=Hf(n),l=Hf(r),u=Pu(i,J2),m=Pu(i,Nx),p=Pu(l,J2);return eC(u,m,p)},Bx=(n,r)=>{ao(n,r1(),{value:r})},tC=(n,r,i)=>{const l={min:yb(r),max:kb(r),range:t0(r),value:i,step:a1(r),snap:RO(r),snapStart:Y2(r),rounded:Ox(r),hasMinEdge:o0(r),hasMaxEdge:NO(r),minBound:n0(n),maxBound:PO(n),screenRange:Ix(n)};return Rx(l)},Lx=n=>(r,i,l)=>((u,m,p,b)=>{const y=(u>0?Q2:Dx)(zg(p),yb(p),kb(p),a1(p,b));return Bx(m,y),O.some(y)})(n,r,i,l).map(Je),r0=(n,r,i,l,u,m)=>{const p=((b,y,w,C,S)=>{const z=Ix(b),M=C.bind(K=>O.some(UO(K,b))).getOr(0),P=S.bind(K=>O.some(UO(K,b))).getOr(z),$={min:yb(y),max:kb(y),range:t0(y),value:w,hasMinEdge:o0(y),hasMaxEdge:NO(y),minBound:n0(b),minOffset:0,maxBound:PO(b),maxOffset:z,centerMinEdge:M,centerMaxEdge:P};return qp($)})(r,m,i,l,u);return n0(r)-n0(n)+p},AI=Lx(-1),oC=Lx(1),CI=O.none,SI=O.none,nC={"top-left":O.none(),top:O.none(),"top-right":O.none(),right:O.some((n,r)=>{Lu(n,Xv(r))}),"bottom-right":O.none(),bottom:O.none(),"bottom-left":O.none(),left:O.some((n,r)=>{Lu(n,Jv(r))})};var EI=Object.freeze({__proto__:null,setValueFrom:(n,r,i)=>{const l=tC(n,r,i);return Bx(n,l),l},setToMin:(n,r)=>{const i=yb(r);Bx(n,i)},setToMax:(n,r)=>{const i=kb(r);Bx(n,i)},findValueOfOffset:tC,getValueFromEvent:n=>G2(n).map(r=>r.left),findPositionOfValue:r0,setPositionFromValue:(n,r,i,l)=>{const u=zg(i),m=r0(n,l.getSpectrum(n),u,l.getLeftEdge(n),l.getRightEdge(n),i),p=vs(r.element)/2;Ro(r.element,"left",m-p+"px")},onLeft:AI,onRight:oC,onUp:CI,onDown:SI,edgeActions:nC});const Px=(n,r)=>{ao(n,r1(),{value:r})},sC=(n,r,i)=>{const l={min:vb(r),max:Og(r),range:K2(r),value:i,step:a1(r),snap:RO(r),snapStart:Y2(r),rounded:Ox(r),hasMinEdge:MO(r),hasMaxEdge:IO(r),minBound:s0(n),maxBound:X2(n),screenRange:FO(n)};return Rx(l)},HO=n=>(r,i,l)=>((u,m,p,b)=>{const y=(u>0?Q2:Dx)(zg(p),vb(p),Og(p),a1(p,b));return Px(m,y),O.some(y)})(n,r,i,l).map(Je),rC=(n,r,i,l,u,m)=>{const p=((b,y,w,C,S)=>{const z=FO(b),M=C.bind(K=>O.some(i1(K,b))).getOr(0),P=S.bind(K=>O.some(i1(K,b))).getOr(z),$={min:vb(y),max:Og(y),range:K2(y),value:w,hasMinEdge:MO(y),hasMaxEdge:IO(y),minBound:s0(b),minOffset:0,maxBound:X2(b),maxOffset:z,centerMinEdge:M,centerMaxEdge:P};return qp($)})(r,m,i,l,u);return s0(r)-s0(n)+p},TI=O.none,OI=O.none,zI=HO(-1),DI=HO(1),RI={"top-left":O.none(),top:O.some((n,r)=>{Lu(n,Tx(r))}),"top-right":O.none(),right:O.none(),"bottom-right":O.none(),bottom:O.some((n,r)=>{Lu(n,e0(r))}),"bottom-left":O.none(),left:O.none()};var NI=Object.freeze({__proto__:null,setValueFrom:(n,r,i)=>{const l=sC(n,r,i);return Px(n,l),l},setToMin:(n,r)=>{const i=vb(r);Px(n,i)},setToMax:(n,r)=>{const i=Og(r);Px(n,i)},findValueOfOffset:sC,getValueFromEvent:n=>G2(n).map(r=>r.top),findPositionOfValue:rC,setPositionFromValue:(n,r,i,l)=>{const u=zg(i),m=rC(n,l.getSpectrum(n),u,l.getTopEdge(n),l.getBottomEdge(n),i),p=Ve(r.element)/2;Ro(r.element,"top",m-p+"px")},onLeft:TI,onRight:OI,onUp:zI,onDown:DI,edgeActions:RI});const Fx=(n,r)=>{ao(n,r1(),{value:r})},l1=(n,r)=>({x:n,y:r}),Ux=(n,r)=>(i,l,u)=>((m,p,b,y,w)=>{const C=m>0?Q2:Dx,S=p?zg(y).x:C(zg(y).x,yb(y),kb(y),a1(y,w)),z=p?C(zg(y).y,vb(y),Og(y),a1(y,w)):zg(y).y;return Fx(b,l1(S,z)),O.some(S)})(n,r,i,l,u).map(Je),MI=Ux(-1,!1),II=Ux(1,!1),VO=Ux(-1,!0),BI=Ux(1,!0),LI={"top-left":O.some((n,r)=>{Lu(n,Zp(Jv(r),Tx(r)))}),top:O.some((n,r)=>{Lu(n,Zp(zO(r),Tx(r)))}),"top-right":O.some((n,r)=>{Lu(n,Zp(Xv(r),Tx(r)))}),right:O.some((n,r)=>{Lu(n,Zp(Xv(r),DO(r)))}),"bottom-right":O.some((n,r)=>{Lu(n,Zp(Xv(r),e0(r)))}),bottom:O.some((n,r)=>{Lu(n,Zp(zO(r),e0(r)))}),"bottom-left":O.some((n,r)=>{Lu(n,Zp(Jv(r),e0(r)))}),left:O.some((n,r)=>{Lu(n,Zp(Jv(r),DO(r)))})};var PI=Object.freeze({__proto__:null,setValueFrom:(n,r,i)=>{const l=tC(n,r,i.left),u=sC(n,r,i.top),m=l1(l,u);return Fx(n,m),m},setToMin:(n,r)=>{const i=yb(r),l=vb(r);Fx(n,l1(i,l))},setToMax:(n,r)=>{const i=kb(r),l=Og(r);Fx(n,l1(i,l))},getValueFromEvent:n=>G2(n),setPositionFromValue:(n,r,i,l)=>{const u=zg(i),m=r0(n,l.getSpectrum(n),u.x,l.getLeftEdge(n),l.getRightEdge(n),i),p=rC(n,l.getSpectrum(n),u.y,l.getTopEdge(n),l.getBottomEdge(n),i),b=vs(r.element)/2,y=Ve(r.element)/2;Ro(r.element,"left",m-b+"px"),Ro(r.element,"top",p-y+"px")},onLeft:MI,onRight:II,onUp:VO,onDown:BI,edgeActions:LI});const Fu=bl({name:"Slider",configFields:[Te("stepSize",1),Te("speedMultiplier",10),Te("onChange",We),Te("onChoose",We),Te("onInit",We),Te("onDragStart",We),Te("onDragEnd",We),Te("snapToGrid",!1),Te("rounded",!0),$n("snapStart"),Ui("model",qa("mode",{x:[Te("minX",0),Te("maxX",100),sa("value",n=>_o(n.mode.minX)),Xe("getInitialValue"),$s("manager",EI)],y:[Te("minY",0),Te("maxY",100),sa("value",n=>_o(n.mode.minY)),Xe("getInitialValue"),$s("manager",NI)],xy:[Te("minX",0),Te("maxX",100),Te("minY",0),Te("maxY",100),sa("value",n=>_o({x:n.mode.minX,y:n.mode.minY})),Xe("getInitialValue"),$s("manager",PI)]})),Na("sliderBehaviours",[xo,Gt]),sa("mouseIsDown",()=>_o(!1))],partFields:_I,factory:(n,r,i,l)=>{const u=q=>Ma(q,n,"thumb"),m=q=>Ma(q,n,"spectrum"),p=q=>as(q,n,"left-edge"),b=q=>as(q,n,"right-edge"),y=q=>as(q,n,"top-edge"),w=q=>as(q,n,"bottom-edge"),C=n.model,S=C.manager,z=(q,V)=>{S.setPositionFromValue(q,V,n,{getLeftEdge:p,getRightEdge:b,getTopEdge:y,getBottomEdge:w,getSpectrum:m})},M=(q,V)=>{C.value.set(V);const J=u(q);z(q,J)},P=q=>{const V=n.mouseIsDown.get();n.mouseIsDown.set(!1),V&&as(q,n,"thumb").each(J=>{const te=C.value.get();n.onChoose(q,J,te)})},$=(q,V)=>{V.stop(),n.mouseIsDown.set(!0),n.onDragStart(q,u(q))},K=(q,V)=>{V.stop(),n.onDragEnd(q,u(q)),P(q)},ee=q=>{as(q,n,"spectrum").map(xo.focusIn)};return{uid:n.uid,dom:n.dom,components:r,behaviours:Ya(n.sliderBehaviours,[xo.config({mode:"special",focusIn:ee}),Gt.config({store:{mode:"manual",getValue:q=>C.value.get(),setValue:M}}),Ll.config({channels:{[qe()]:{onReceive:P}}})]),events:hn([at(r1(),(q,V)=>{((J,te)=>{M(J,te);const ie=u(J);n.onChange(J,ie,te)})(q,V.event.value)}),Os((q,V)=>{const J=C.getInitialValue();C.value.set(J);const te=u(q);z(q,te);const ie=m(q);n.onInit(q,te,ie,C.value.get())}),at(Ql(),$),at(Il(),K),at(za(),(q,V)=>{ee(q),$(q,V)}),at(j(),K)]),apis:{resetToMin:q=>{S.setToMin(q,n)},resetToMax:q=>{S.setToMax(q,n)},setValue:M,refresh:z},domModification:{styles:{position:"relative"}}}},apis:{setValue:(n,r,i)=>{n.setValue(r,i)},resetToMin:(n,r)=>{n.resetToMin(r)},resetToMax:(n,r)=>{n.resetToMax(r)},refresh:(n,r)=>{n.refresh(r)}}}),aC=no("rgb-hex-update"),jO=no("slider-update"),Hx=no("palette-update"),ZO="form",FI=[Na("formBehaviours",[Gt])],qO=n=>"<alloy.field."+n+">",UI=(n,r)=>({uid:n.uid,dom:n.dom,components:r,behaviours:Ya(n.formBehaviours,[Gt.config({store:{mode:"manual",getValue:i=>{const l=Vh(i,n);return ln(l,(u,m)=>u().bind(p=>{return b=In.getCurrent(p),y=new Error(`Cannot find a current component to extract the value from for form part '${m}': `+Ic(p.element)),b.fold(()=>un.error(y),un.value);var b,y}).map(Gt.getValue))},setValue:(i,l)=>{fs(l,(u,m)=>{as(i,n,m).each(p=>{In.getCurrent(p).each(b=>{Gt.setValue(b,u)})})})}}})]),apis:{getField:(i,l)=>as(i,n,l).bind(In.getCurrent)}}),c1={getField:dn((n,r,i)=>n.getField(r,i)),sketch:n=>{const r=(()=>{const m=[];return{field:(p,b)=>(m.push(p),ls(ZO,qO(p),b)),record:ae(m)}})(),i=n(r),l=r.record(),u=Ct(l,m=>Ot({name:m,pname:qO(m)}));return B_(ZO,FI,u,UI,i)}},WO=no("valid-input"),$O=no("invalid-input"),GO=no("validating-input"),iC="colorcustom.rgb.",HI=(n,r,i,l)=>{const u=(C,S)=>Uf.config({invalidClass:r("invalid"),notify:{onValidate:z=>{ao(z,GO,{type:C})},onValid:z=>{ao(z,WO,{type:C,value:Gt.getValue(z)})},onInvalid:z=>{ao(z,$O,{type:C,value:Gt.getValue(z)})}},validator:{validate:z=>{const M=Gt.getValue(z),P=S(M)?un.value(!0):un.error(n("aria.input.invalid"));return Eg(P)},validateOnLoad:!1}}),m=(C,S,z,M,P)=>{const $=n(iC+"range"),K=ms.parts.label({dom:{tag:"label",attributes:{"aria-label":M}},components:[ar(z)]}),ee=ms.parts.field({data:P,factory:_g,inputAttributes:{type:"text",...S==="hex"?{"aria-live":"polite"}:{}},inputClasses:[r("textfield")],inputBehaviours:Rt([u(S,C),pr.config({})]),onSetValue:J=>{Uf.isInvalid(J)&&Uf.run(J).get(We)}}),q=[K,ee],V=S!=="hex"?[ms.parts["aria-descriptor"]({text:$})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:q.concat(V)}},p=(C,S)=>{const z=S.red,M=S.green,P=S.blue;Gt.setValue(C,{red:z,green:M,blue:P})},b=us({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),y=(C,S)=>{b.getOpt(C).each(z=>{Ro(z.element,"background-color","#"+S.value)})};return qc({factory:()=>{const C={red:_o(O.some(255)),green:_o(O.some(255)),blue:_o(O.some(255)),hex:_o(O.some("ffffff"))},S=te=>C[te].get(),z=(te,ie)=>{C[te].set(ie)},M=te=>{const ie=te.red,ve=te.green,Re=te.blue;z("red",O.some(ie)),z("green",O.some(ve)),z("blue",O.some(Re))},P=(te,ie)=>{const ve=ie.event;ve.type!=="hex"?z(ve.type,O.none()):l(te)},$=(te,ie)=>{const ve=ie.event;(Re=>Re.type==="hex")(ve)?((Re,st)=>{i(Re);const it=P4(st);z("hex",O.some(it.value));const lt=Uv(it);p(Re,lt),M(lt),ao(Re,aC,{hex:it}),y(Re,it)})(te,ve.value):((Re,st,it)=>{const lt=parseInt(it,10);z(st,O.some(lt)),S("red").bind(qt=>S("green").bind(eo=>S("blue").map(po=>Up(qt,eo,po,1)))).each(qt=>{const eo=((po,Bo)=>{const Fo=Fv(Bo);return c1.getField(po,"hex").each(yn=>{Po.isFocused(yn)||Gt.setValue(po,{hex:Fo.value})}),Fo})(Re,qt);ao(Re,aC,{hex:eo}),y(Re,eo)})})(te,ve.type,ve.value)},K=te=>({label:n(iC+te+".label"),description:n(iC+te+".description")}),ee=K("red"),q=K("green"),V=K("blue"),J=K("hex");return oe(c1.sketch(te=>({dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":n("aria.color.picker")}},components:[te.field("red",ms.sketch(m(fx,"red",ee.label,ee.description,255))),te.field("green",ms.sketch(m(fx,"green",q.label,q.description,255))),te.field("blue",ms.sketch(m(fx,"blue",V.label,V.description,255))),te.field("hex",ms.sketch(m(U4,"hex",J.label,J.description,"ffffff"))),b.asSpec()],formBehaviours:Rt([Uf.config({invalidClass:r("form-invalid")}),an("rgb-form-events",[at(WO,$),at($O,P),at(GO,P)])])})),{apis:{updateHex:(te,ie)=>{Gt.setValue(te,{hex:ie.value}),((ve,Re)=>{const st=Uv(Re);p(ve,st),M(st)})(te,ie),y(te,ie)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(C,S,z)=>{C.updateHex(S,z)}},extraApis:{}})},VI=(n,r)=>qc({name:"ColourPicker",configFields:[Xe("dom"),Te("onValidHex",We),Te("onInvalidHex",We)],factory:l=>{const u=HI(n,r,l.onValidHex,l.onInvalidHex),m=(($,K)=>{const ee=Fu.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[K("sv-palette-spectrum")]}}),q=Fu.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[K("sv-palette-thumb")],innerHtml:`<div class=${K("sv-palette-inner-thumb")} role="presentation"></div>`}}),V=(J,te)=>{const{width:ie,height:ve}=J,Re=J.getContext("2d");if(Re===null)return;Re.fillStyle=te,Re.fillRect(0,0,ie,ve);const st=Re.createLinearGradient(0,0,ie,0);st.addColorStop(0,"rgba(255,255,255,1)"),st.addColorStop(1,"rgba(255,255,255,0)"),Re.fillStyle=st,Re.fillRect(0,0,ie,ve);const it=Re.createLinearGradient(0,0,0,ve);it.addColorStop(0,"rgba(0,0,0,0)"),it.addColorStop(1,"rgba(0,0,0,1)"),Re.fillStyle=it,Re.fillRect(0,0,ie,ve)};return qc({factory:J=>{const te=ae({x:0,y:0}),ie=Rt([In.config({find:O.some}),Po.config({})]);return Fu.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":$(["Saturation {0}%, Brightness {1}%",0,0])},classes:[K("sv-palette")]},model:{mode:"xy",getInitialValue:te},rounded:!1,components:[ee,q],onChange:(ve,Re,st)=>{xt(st)||Ho(ve.element,"aria-valuetext",$(["Saturation {0}%, Brightness {1}%",Math.floor(st.x),Math.floor(100-st.y)])),ao(ve,Hx,{value:st})},onInit:(ve,Re,st,it)=>{V(st.element.dom,q4(w2))},sliderBehaviours:ie})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(J,te,ie)=>{((ve,Re)=>{const st=ve.components()[0].element.dom,it=Jy(Re,100,100),lt=k2(it);V(st,q4(lt))})(te,ie)},setThumb:(J,te,ie)=>{((ve,Re)=>{const st=Vv(Uv(Re));Fu.setValue(ve,{x:st.saturation,y:100-st.value}),Ho(ve.element,"aria-valuetext",$(["Saturation {0}%, Brightness {1}%",st.saturation,st.value]))})(te,ie)}},extraApis:{}})})(n,r),p={paletteRgba:_o(w2),paletteHue:_o(0)},b=us((($,K)=>{const ee=Fu.parts.spectrum({dom:{tag:"div",classes:[K("hue-slider-spectrum")],attributes:{role:"presentation"}}}),q=Fu.parts.thumb({dom:{tag:"div",classes:[K("hue-slider-thumb")],attributes:{role:"presentation"}}});return Fu.sketch({dom:{tag:"div",classes:[K("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:ae(0)},components:[ee,q],sliderBehaviours:Rt([Po.config({})]),onChange:(V,J,te)=>{Ho(V.element,"aria-valuenow",Math.floor(360-3.6*te)),ao(V,jO,{value:te})}})})(0,r)),y=us(m.sketch({})),w=us(u.sketch({})),C=($,K,ee)=>{y.getOpt($).each(q=>{m.setHue(q,ee)})},S=($,K)=>{w.getOpt($).each(ee=>{u.updateHex(ee,K)})},z=($,K,ee)=>{b.getOpt($).each(q=>{Fu.setValue(q,(V=>100-V/360*100)(ee))})},M=($,K)=>{y.getOpt($).each(ee=>{m.setThumb(ee,K)})},P=($,K,ee,q)=>{((V,J)=>{const te=Uv(V);p.paletteRgba.set(te),p.paletteHue.set(J)})(K,ee),Yt(q,V=>{V($,K,ee)})};return{uid:l.uid,dom:l.dom,components:[y.asSpec(),b.asSpec(),w.asSpec()],behaviours:Rt([an("colour-picker-events",[at(aC,(()=>{const $=[C,z,M];return(K,ee)=>{const q=ee.event.hex,V=(J=>Vv(Uv(J)))(q);P(K,q,V.hue,$)}})()),at(Hx,(()=>{const $=[S];return(K,ee)=>{const q=ee.event.value,V=p.paletteHue.get(),J=Jy(V,q.x,100-q.y),te=K4(J);P(K,te,V,$)}})()),at(jO,(()=>{const $=[C,S];return(K,ee)=>{const q=(ve=>(100-ve)/100*360)(ee.event.value),V=p.paletteRgba.get(),J=Vv(V),te=Jy(q,J.saturation,J.value),ie=K4(te);P(K,ie,q,$)}})())]),In.config({find:$=>w.getOpt($)}),xo.config({mode:"acyclic"})])}}}),Wp=()=>In.config({find:O.some}),lC=n=>In.config({find:r=>ds(r.element,n).bind(i=>r.getSystem().getByDom(i).toOptional())}),Vx=ko([Te("preprocess",Lt),Te("postprocess",Lt)]),jI=(n,r)=>{const i=ga("RepresentingConfigs.memento processors",Vx,r);return Gt.config({store:{mode:"manual",getValue:l=>{const u=n.get(l),m=Gt.getValue(u);return i.postprocess(m)},setValue:(l,u)=>{const m=i.preprocess(u),p=n.get(l);Gt.setValue(p,m)}}})},Dg=(n,r,i)=>Gt.config({store:{mode:"manual",...n.map(l=>({initialValue:l})).getOr({}),getValue:r,setValue:i}}),KO=(n,r,i)=>Dg(n,l=>r(l.element),(l,u)=>i(l.element,u)),jx=n=>Gt.config({store:{mode:"memory",initialValue:n}}),ZI={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var YO=tinymce.util.Tools.resolve("tinymce.Resource"),Rg=tinymce.util.Tools.resolve("tinymce.util.Tools");const a0=(n,r)=>{let i=null;const l=()=>{je(i)||(clearTimeout(i),i=null)};return{cancel:l,throttle:(...u)=>{l(),i=setTimeout(()=>{i=null,n.apply(null,u)},r)}}},i0=no("alloy-fake-before-tabstop"),Zx=no("alloy-fake-after-tabstop"),qx=n=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:n},behaviours:Rt([Po.config({ignore:!0}),pr.config({})])}),l0=(n,r)=>({dom:{tag:"div",classes:["tox-navobj",...n.getOr([])]},components:[qx([i0]),r,qx([Zx])],behaviours:Rt([lC(1)])}),cC=(n,r)=>{ao(n,oo(),{raw:{which:9,shiftKey:r}})},Vf=(n,r)=>{const i=r.element;Ga(i,i0)?cC(n,!0):Ga(i,Zx)&&cC(n,!1)},xb=n=>o1(n,["."+i0,"."+Zx].join(","),_e),Wx=no("update-dialog"),QO=no("update-title"),JO=no("update-body"),XO=no("update-footer"),d1=no("body-send-message"),$x=no("dialog-focus-shifted"),Gx=Gl().browser,wb=Gx.isSafari(),qI=Gx.isFirefox(),Kx=wb||qI,dC=Gx.isChromium(),WI=({scrollTop:n,scrollHeight:r,clientHeight:i})=>Math.ceil(n)+i>=r,uC=(n,r)=>n.scrollTo(0,r==="bottom"?99999999:r),mC=(n,r,i)=>{const l=n.dom;O.from(l.contentDocument).fold(i,u=>{let m=0;const p=((y,w)=>{const C=y.body;return O.from(!/^<!DOCTYPE (html|HTML)/.test(w)&&(!dC&&!wb||Se(C)&&(C.scrollTop!==0||Math.abs(C.scrollHeight-C.clientHeight)>1))?C:y.documentElement)})(u,r).map(y=>(m=y.scrollTop,y)).forall(WI),b=()=>{const y=l.contentWindow;Se(y)&&(p?uC(y,"bottom"):!p&&Kx&&m!==0&&uC(y,m))};wb&&l.addEventListener("load",b,{once:!0}),u.open(),u.write(r),u.close(),wb||b()})},$I=Fa(Kx,wb?500:200).map(n=>((r,i)=>{let l=null,u=null;return{cancel:()=>{je(l)||(clearTimeout(l),l=null,u=null)},throttle:(...m)=>{u=m,je(l)&&(l=setTimeout(()=>{const p=u;l=null,u=null,r.apply(null,p)},i))}}})(mC,n)),e3=no("toolbar.button.execute"),_b=no("common-button-display-events"),t3={[Ai()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[kt()]:["toolbar-button-events",_b],[za()]:["focusing","alloy.base.behaviour",_b]},fC=n=>Ro(n.element,"width",Ys(n.element,"width")),o3=(n,r,i)=>Kd(n,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},r),Yx=(n,r)=>o3(n,r,[]),Ng=(n,r)=>o3(n,r,[zo.config({})]),n3=(n,r,i)=>({dom:{tag:"span",classes:[`${r}__select-label`]},components:[ar(i.translate(n))],behaviours:Rt([zo.config({})])}),vd=no("update-menu-text"),Sm=no("update-menu-icon"),Qx=(n,r,i)=>{const l=_o(We),u=n.text.map(z=>us(n3(z,r,i.providers))),m=n.icon.map(z=>us(Ng(z,i.providers.icons))),p=(z,M)=>{const P=Gt.getValue(z);return Po.focus(P),ao(P,"keydown",{raw:M.event.raw}),Jd.close(P),O.some(!0)},b=n.role.fold(()=>({}),z=>({role:z})),y=n.tooltip.fold(()=>({}),z=>{const M=i.providers.translate(z);return{title:M,"aria-label":M}}),w=Kd("chevron-down",{tag:"div",classes:[`${r}__select-chevron`]},i.providers.icons),C=no("common-button-display-events");return us(Jd.sketch({...n.uid?{uid:n.uid}:{},...b,dom:{tag:"button",classes:[r,`${r}--select`].concat(Ct(n.classes,z=>`${r}--${z}`)),attributes:{...y}},components:lb([m.map(z=>z.asSpec()),u.map(z=>z.asSpec()),O.some(w)]),matchWidth:!0,useMinWidth:!0,onOpen:(z,M,P)=>{n.searchable&&($=>{p4($).each(K=>Po.focus(K))})(P)},dropdownBehaviours:Rt([...n.dropdownBehaviours,Ky(()=>n.disabled||i.providers.isDisabled()),Ja(),Yv.config({}),zo.config({}),an("dropdown-events",[Bf(n,l),Fp(n,l)]),an(C,[Os((z,M)=>fC(z))]),an("menubutton-update-display-text",[at(vd,(z,M)=>{u.bind(P=>P.getOpt(z)).each(P=>{zo.set(P,[ar(i.providers.translate(M.event.text))])})}),at(Sm,(z,M)=>{m.bind(P=>P.getOpt(z)).each(P=>{zo.set(P,[Ng(M.event.icon,i.providers.icons)])})})])]),eventOrder:oe(t3,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[kt()]:["toolbar-button-events","dropdown-events",C]}),sandboxBehaviours:Rt([xo.config({mode:"special",onLeft:p,onRight:p}),an("dropdown-sandbox-events",[at(f4,(z,M)=>{(P=>{const $=Gt.getValue(P),K=qy(P).map(JA);Jd.refetch($).get(()=>{const ee=Rr.getCoupled($,"sandbox");K.each(q=>qy(ee).each(V=>((J,te)=>{Gt.setValue(J,te.fetchPattern),J.element.dom.selectionStart=te.selectionStart,J.element.dom.selectionEnd=te.selectionEnd})(V,q)))})})(z),M.stop()}),at(g4,(z,M)=>{((P,$)=>{(K=>bn.getState(K).bind(jn.getHighlighted).bind(jn.getHighlighted))(P).each(K=>{((ee,q,V,J)=>{const te={...J,target:q};ee.getSystem().triggerEvent(V,q,te)})(P,K.element,$.event.eventType,$.event.interactionEvent)})})(z,M),M.stop()})])]),lazySink:i.getSink,toggleClass:`${r}--active`,parts:{menu:{...wg(0,n.columns,n.presets),fakeFocus:n.searchable,onHighlightItem:L2,onCollapseMenu:(z,M,P)=>{jn.getHighlighted(P).each($=>{L2(z,P,$)})},onDehighlightItem:cI}},getAnchorOverrides:()=>({maxHeightFunction:(z,M)=>{fg()(z,M-10)}}),fetch:z=>jp(tt(n.fetch,z))})).asSpec()},s3=n=>n.type==="separator",GI={type:"separator"},gC=(n,r)=>{const i=((l,u)=>{const m=H(l,(p,b)=>(y=>ze(y))(b)?b===""?p:b==="|"?p.length>0&&!s3(p[p.length-1])?p.concat([GI]):p:uo(u,b.toLowerCase())?p.concat([u[b.toLowerCase()]]):p:p.concat([b]),[]);return m.length>0&&s3(m[m.length-1])&&m.pop(),m})(ze(n)?n.split(" "):n,r);return pn(i,(l,u)=>{if((m=>uo(m,"getSubmenuItems"))(u)){const m=(b=>{const y=Qt(b,"value").getOrThunk(()=>no("generated-menu-item"));return oe({value:y},b)})(u),p=((b,y)=>{const w=b.getSubmenuItems(),C=gC(w,y);return{item:b,menus:oe(C.menus,{[b.value]:C.items}),expansions:oe(C.expansions,{[b.value]:b.value})}})(m,r);return{menus:oe(l.menus,p.menus),items:[p.item,...l.items],expansions:oe(l.expansions,p.expansions)}}return{...l,items:[u,...l.items]}},{menus:{},expansions:{},items:[]})},u1=(n,r,i,l)=>{const u=no("primary-menu"),m=gC(n,i.shared.providers.menuItems());if(m.items.length===0)return O.none();const p=(S=>S.search.fold(()=>({searchMode:"no-search"}),z=>({searchMode:"search-with-field",placeholder:z.placeholder})))(l),b=Wv(u,m.items,r,i,l.isHorizontalMenu,p),y=(S=>S.search.fold(()=>({searchMode:"no-search"}),z=>({searchMode:"search-with-results"})))(l),w=ln(m.menus,(S,z)=>Wv(z,S,r,i,!1,y)),C=oe(w,Oa(u,b));return O.from(Tp.tieredData(u,C,m.expansions))},pC=n=>!uo(n,"items"),hC="data-value",bC=(n,r,i,l)=>Ct(i,u=>pC(u)?{type:"togglemenuitem",text:u.text,value:u.value,active:u.value===l,onAction:()=>{Gt.setValue(n,u.value),ao(n,vc,{name:r}),Po.focus(n)}}:{type:"nestedmenuitem",text:u.text,getSubmenuItems:()=>bC(n,r,u.items,l)}),Jx=(n,r)=>Bn(n,i=>pC(i)?Fa(i.value===r,i):Jx(i.items,r)),r3=qc({name:"HtmlSelect",configFields:[Xe("options"),Na("selectBehaviours",[Po,Gt]),Te("selectClasses",[]),Te("selectAttributes",{}),$n("data")],factory:(n,r)=>{const i=Ct(n.options,u=>({dom:{tag:"option",value:u.value,innerHtml:u.text}})),l=n.data.map(u=>Oa("initialValue",u)).getOr({});return{uid:n.uid,dom:{tag:"select",classes:n.selectClasses,attributes:n.selectAttributes},components:i,behaviours:Ya(n.selectBehaviours,[Po.config({}),Gt.config({store:{mode:"manual",getValue:u=>Au(u.element),setValue:(u,m)=>{const p=nt(n.options);Un(n.options,b=>b.value===m).isSome()?tf(u.element,m):u.element.dom.selectedIndex===-1&&m===""&&p.each(b=>tf(u.element,b.value))},...l}})])}}}),KI=ae([Te("field1Name","field1"),Te("field2Name","field2"),Hd("onLockedChange"),Cu(["lockClass"]),Te("locked",!1),km("coupledFieldBehaviours",[In,Gt])]),a3=(n,r)=>Ot({factory:ms,name:n,overrides:i=>({fieldBehaviours:Rt([an("coupled-input-behaviour",[at(Eo(),l=>{((u,m,p)=>as(u,m,p).bind(In.getCurrent))(l,i,r).each(u=>{as(l,i,"lock").each(m=>{mn.isOn(m)&&i.onLockedChange(l,u,m)})})})])])})}),i3=ae([a3("field1","field2"),a3("field2","field1"),Ot({factory:Wi,schema:[Xe("dom")],name:"lock",overrides:n=>({buttonBehaviours:Rt([mn.config({selected:n.locked,toggleClass:n.markers.lockClass,aria:{mode:"pressed"}})])})})]),kc=bl({name:"FormCoupledInputs",configFields:KI(),partFields:i3(),factory:(n,r,i,l)=>({uid:n.uid,dom:n.dom,components:r,behaviours:Cp(n.coupledFieldBehaviours,[In.config({find:O.some}),Gt.config({store:{mode:"manual",getValue:u=>{const m=Sp(u,n,["field1","field2"]);return{[n.field1Name]:Gt.getValue(m.field1()),[n.field2Name]:Gt.getValue(m.field2())}},setValue:(u,m)=>{const p=Sp(u,n,["field1","field2"]);Cr(m,n.field1Name)&&Gt.setValue(p.field1(),m[n.field1Name]),Cr(m,n.field2Name)&&Gt.setValue(p.field2(),m[n.field2Name])}}})]),apis:{getField1:u=>as(u,n,"field1"),getField2:u=>as(u,n,"field2"),getLock:u=>as(u,n,"lock")}}),apis:{getField1:(n,r)=>n.getField1(r),getField2:(n,r)=>n.getField2(r),getLock:(n,r)=>n.getLock(r)}}),c0=n=>{const r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(n);if(r!==null){const i=parseFloat(r[1]),l=r[2];return un.value({value:i,unit:l})}return un.error(n)},yC=(n,r)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},l=u=>uo(i,u);return n.unit===r?O.some(n.value):l(n.unit)&&l(r)?i[n.unit]===i[r]?O.some(n.value):O.some(n.value/i[n.unit]*i[r]):O.none()},Xx=n=>O.none(),vC=(n,r)=>{const i=n.label.map(C=>al(C,r)),l=[Io.config({disabled:()=>n.disabled||r.isDisabled()}),Ja(),xo.config({mode:"execution",useEnter:n.multiline!==!0,useControlEnter:n.multiline===!0,execute:C=>(Sn(C,bb),O.some(!0))}),an("textfield-change",[at(Eo(),(C,S)=>{ao(C,vc,{name:n.name})}),at(ro(),(C,S)=>{ao(C,vc,{name:n.name})})]),pr.config({})],u=n.validation.map(C=>Uf.config({getRoot:S=>yr(S.element),invalidClass:"tox-invalid",validator:{validate:S=>{const z=Gt.getValue(S),M=C.validator(z);return Eg(M===!0?un.value(z):un.error(M))},validateOnLoad:C.validateOnLoad}})).toArray(),m={...n.placeholder.fold(ae({}),C=>({placeholder:r.translate(C)})),...n.inputMode.fold(ae({}),C=>({inputmode:C}))},p=ms.parts.field({tag:n.multiline===!0?"textarea":"input",...n.data.map(C=>({data:C})).getOr({}),inputAttributes:m,inputClasses:[n.classname],inputBehaviours:Rt(qn([l,u])),selectOnFocus:!1,factory:_g}),b=n.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[p]}:p,y=(n.flex?["tox-form__group--stretched"]:[]).concat(n.maximized?["tox-form-group--maximize"]:[]),w=[Io.config({disabled:()=>n.disabled||r.isDisabled(),onDisabled:C=>{ms.getField(C).each(Io.disable)},onEnabled:C=>{ms.getField(C).each(Io.enable)}}),Ja()];return Bu(i,b,y,w)},d0=(n,r)=>r.getAnimationRoot.fold(()=>n.element,i=>i(n)),Em=n=>n.dimension.property,Ab=(n,r)=>n.dimension.getDimension(r),u0=(n,r)=>{const i=d0(n,r);Bc(i,[r.shrinkingClass,r.growingClass])},ew=(n,r)=>{cr(n.element,r.openClass),rs(n.element,r.closedClass),Ro(n.element,Em(r),"0px"),W(n.element)},Mg=(n,r)=>{cr(n.element,r.closedClass),rs(n.element,r.openClass),Ln(n.element,Em(r))},l3=(n,r,i,l)=>{i.setCollapsed(),Ro(n.element,Em(r),Ab(r,n.element)),u0(n,r),ew(n,r),r.onStartShrink(n),r.onShrunk(n)},kC=(n,r,i,l)=>{const u=l.getOrThunk(()=>Ab(r,n.element));i.setCollapsed(),Ro(n.element,Em(r),u),W(n.element);const m=d0(n,r);cr(m,r.growingClass),rs(m,r.shrinkingClass),ew(n,r),r.onStartShrink(n)},m0=(n,r,i)=>{const l=Ab(r,n.element);(l==="0px"?l3:kC)(n,r,i,O.some(l))},c3=(n,r,i)=>{const l=d0(n,r),u=Ga(l,r.shrinkingClass),m=Ab(r,n.element);Mg(n,r);const p=Ab(r,n.element);(u?()=>{Ro(n.element,Em(r),m),W(n.element)}:()=>{ew(n,r)})(),cr(l,r.shrinkingClass),rs(l,r.growingClass),Mg(n,r),Ro(n.element,Em(r),p),i.setExpanded(),r.onStartGrow(n)},xC=(n,r,i)=>{const l=d0(n,r);return Ga(l,r.growingClass)===!0},wC=(n,r,i)=>{const l=d0(n,r);return Ga(l,r.shrinkingClass)===!0};var d3=Object.freeze({__proto__:null,refresh:(n,r,i)=>{if(i.isExpanded()){Ln(n.element,Em(r));const l=Ab(r,n.element);Ro(n.element,Em(r),l)}},grow:(n,r,i)=>{i.isExpanded()||c3(n,r,i)},shrink:(n,r,i)=>{i.isExpanded()&&m0(n,r,i)},immediateShrink:(n,r,i)=>{i.isExpanded()&&l3(n,r,i)},hasGrown:(n,r,i)=>i.isExpanded(),hasShrunk:(n,r,i)=>i.isCollapsed(),isGrowing:xC,isShrinking:wC,isTransitioning:(n,r,i)=>xC(n,r)||wC(n,r),toggleGrow:(n,r,i)=>{(i.isExpanded()?m0:c3)(n,r,i)},disableTransitions:u0,immediateGrow:(n,r,i)=>{i.isExpanded()||(Mg(n,r),Ro(n.element,Em(r),Ab(r,n.element)),u0(n,r),i.setExpanded(),r.onStartGrow(n),r.onGrown(n))}}),_C=Object.freeze({__proto__:null,exhibit:(n,r,i)=>{const l=r.expanded;return ya(l?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:Oa(r.dimension.property,"0px")})},events:(n,r)=>hn([sm(Wa(),(i,l)=>{l.event.raw.propertyName===n.dimension.property&&(u0(i,n),r.isExpanded()&&Ln(i.element,n.dimension.property),(r.isExpanded()?n.onGrown:n.onShrunk)(i))})])}),u3=[Xe("closedClass"),Xe("openClass"),Xe("shrinkingClass"),Xe("growingClass"),$n("getAnimationRoot"),zn("onShrunk"),zn("onStartShrink"),zn("onGrown"),zn("onStartGrow"),Te("expanded",!1),Ui("dimension",qa("property",{width:[$s("property","width"),$s("getDimension",n=>vs(n)+"px")],height:[$s("property","height"),$s("getDimension",n=>Ve(n)+"px")]}))];const Qc=Ra({fields:u3,name:"sliding",active:_C,apis:d3,state:Object.freeze({__proto__:null,init:n=>{const r=_o(n.expanded);return zs({isExpanded:()=>r.get()===!0,isCollapsed:()=>r.get()===!1,setCollapsed:tt(r.set,!1),setExpanded:tt(r.set,!0),readState:()=>"expanded: "+r.get()})}})}),AC=n=>({isEnabled:()=>!Io.isDisabled(n),setEnabled:r=>Io.set(n,!r),setActive:r=>{const i=n.element;r?(rs(i,"tox-tbtn--enabled"),Ho(i,"aria-pressed",!0)):(cr(i,"tox-tbtn--enabled"),As(i,"aria-pressed"))},isActive:()=>Ga(n.element,"tox-tbtn--enabled"),setText:r=>{ao(n,vd,{text:r})},setIcon:r=>ao(n,Sm,{icon:r})}),m1=(n,r,i,l,u=!0)=>Qx({text:n.text,icon:n.icon,tooltip:n.tooltip,searchable:n.search.isSome(),role:l,fetch:(m,p)=>{const b={pattern:n.search.isSome()?lO(m):""};n.fetch(y=>{p(u1(y,wm.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:n.search}))},b,AC(m))},onSetup:n.onSetup,getApi:AC,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...u?[pr.config({})]:[]]},r,i.shared),m3=(n,r,i)=>{const l=m=>p=>{const b=!p.isActive();p.setActive(b),m.storage.set(b),i.shared.getSink().each(y=>{r().getOpt(y).each(w=>{Xl(w.element),ao(w,Ff,{name:m.name,value:m.storage.get()})})})},u=m=>p=>{p.setActive(m.storage.get())};return m=>{m(Ct(n,p=>{const b=p.text.fold(()=>({}),y=>({text:y}));return{type:p.type,active:!1,...b,onAction:l(p),onSetup:u(p)}}))}},CC=n=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:n,"aria-label":n}},components:[ar(n)]}),f3=no("leaf-label-event-id"),tw=({leaf:n,onLeafAction:r,visible:i,treeId:l,selectedId:u,backstage:m})=>{const p=n.menu.map(y=>m1(y,"tox-mbtn",m,O.none(),i)),b=[CC(n.title)];return p.each(y=>b.push(y)),Wi.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:b,role:"treeitem",action:y=>{r(n.id),y.getSystem().broadcastOn([`update-active-item-${l}`],{value:n.id})},eventOrder:{[oo()]:[f3,"keying"]},buttonBehaviours:Rt([...i?[pr.config({})]:[],mn.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Ll.config({channels:{[`update-active-item-${l}`]:{onReceive:(y,w)=>{(w.value===n.id?mn.on:mn.off)(y)}}}}),an(f3,[Os((y,w)=>{u.each(C=>{(C===n.id?mn.on:mn.off)(y)})}),at(oo(),(y,w)=>{const C=w.event.raw.code==="ArrowLeft",S=w.event.raw.code==="ArrowRight";C?(Lc(y.element,".tox-tree--directory").each(z=>{y.getSystem().getByDom(z).each(M=>{U1(z,".tox-tree--directory__label").each(P=>{M.getSystem().getByDom(P).each(Po.focus)})})}),w.stop()):S&&w.stop()})])])})},g3=no("directory-label-event-id"),YI=({directory:n,visible:r,noChildren:i,backstage:l})=>{const u=n.menu.map(w=>m1(w,"tox-mbtn",l,O.none())),m=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(p="chevron-right",b=l.shared.providers.icons,((w,C,S)=>Kd(w,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},C))(p,b))]},CC(n.title)];var p,b;u.each(w=>{m.push(w)});const y=w=>{Lc(w.element,".tox-tree--directory").each(C=>{w.getSystem().getByDom(C).each(S=>{const z=!mn.isOn(S);mn.toggle(S),ao(w,"expand-tree-node",{expanded:z,node:n.id})})})};return Wi.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(r?["tox-tree--directory__label--visible"]:[])},components:m,action:y,eventOrder:{[oo()]:[g3,"keying"]},buttonBehaviours:Rt([...r?[pr.config({})]:[],an(g3,[at(oo(),(w,C)=>{const S=C.event.raw.code==="ArrowRight",z=C.event.raw.code==="ArrowLeft";S&&i&&C.stop(),(S||z)&&Lc(w.element,".tox-tree--directory").each(M=>{w.getSystem().getByDom(M).each(P=>{!mn.isOn(P)&&S||mn.isOn(P)&&z?(y(w),C.stop()):z&&!mn.isOn(P)&&(Lc(P.element,".tox-tree--directory").each($=>{U1($,".tox-tree--directory__label").each(K=>{P.getSystem().getByDom(K).each(Po.focus)})}),C.stop())})})})])])})},QI=({children:n,onLeafAction:r,visible:i,treeId:l,expandedIds:u,selectedId:m,backstage:p})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:n.map(b=>b.type==="leaf"?tw({leaf:b,selectedId:m,onLeafAction:r,visible:i,treeId:l,backstage:p}):ow({directory:b,expandedIds:u,selectedId:m,onLeafAction:r,labelTabstopping:i,treeId:l,backstage:p})),behaviours:Rt([Qc.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:i}),zo.config({})])}),JI=no("directory-event-id"),ow=({directory:n,onLeafAction:r,labelTabstopping:i,treeId:l,backstage:u,expandedIds:m,selectedId:p})=>{const{children:b}=n,y=_o(m),w=m.includes(n.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[YI({directory:n,visible:i,noChildren:n.children.length===0,backstage:u}),QI({children:b,expandedIds:m,selectedId:p,onLeafAction:r,visible:w,treeId:l,backstage:u})],behaviours:Rt([an(JI,[Os((C,S)=>{mn.set(C,w)}),at("expand-tree-node",(C,S)=>{const{expanded:z,node:M}=S.event;y.set(z?[...y.get(),M]:y.get().filter(P=>P!==M))})]),mn.config({...n.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(C,S)=>{const z=C.components()[1],M=(P=S,b.map($=>$.type==="leaf"?tw({leaf:$,selectedId:p,onLeafAction:r,visible:P,treeId:l,backstage:u}):ow({directory:$,expandedIds:y.get(),selectedId:p,onLeafAction:r,labelTabstopping:P,treeId:l,backstage:u})));var P;S?Qc.grow(z):Qc.shrink(z),zo.set(z,M)}})])}},f0=no("tree-event-id");var p3=Object.freeze({__proto__:null,events:(n,r)=>{const i=n.stream.streams.setup(n,r);return hn([at(n.event,i),dd(()=>r.cancel())].concat(n.cancelEvent.map(l=>[at(l,()=>r.cancel())]).getOr([])))}});const h3=n=>{const r=_o(null);return zs({readState:()=>({timer:r.get()!==null?"set":"unset"}),setTimer:i=>{r.set(i)},cancel:()=>{const i=r.get();i!==null&&i.cancel()}})};var XI=Object.freeze({__proto__:null,throttle:h3,init:n=>n.stream.streams.state(n)}),eB=[Ui("stream",qa("mode",{throttle:[Xe("delay"),Te("stopEvent",!0),$s("streams",{setup:(n,r)=>{const i=n.stream,l=a0(n.onStream,i.delay);return r.setTimer(l),(u,m)=>{l.throttle(u,m),i.stopEvent&&m.stop()}},state:h3})]})),Te("event","input"),$n("cancelEvent"),Hd("onStream")];const SC=Ra({fields:eB,name:"streaming",active:p3,state:XI}),nw=(n,r,i)=>{const l=Gt.getValue(i);Gt.setValue(r,l),b3(r)},g0=(n,r)=>{const i=n.element,l=Au(i),u=i.dom;qr(i,"type")!=="number"&&r(u,l)},b3=n=>{g0(n,(r,i)=>r.setSelectionRange(i.length,i.length))},sw=ae("alloy.typeahead.itemexecute"),tB=ae([$n("lazySink"),Xe("fetch"),Te("minChars",5),Te("responseTime",1e3),zn("onOpen"),Te("getHotspot",O.some),Te("getAnchorOverrides",ae({})),Te("layouts",O.none()),Te("eventOrder",{}),em("model",{},[Te("getDisplayText",n=>n.meta!==void 0&&n.meta.text!==void 0?n.meta.text:n.value),Te("selectsOver",!0),Te("populateFromBrowse",!0)]),zn("onSetValue"),pl("onExecute"),zn("onItemExecute"),Te("inputClasses",[]),Te("inputAttributes",{}),Te("inputStyles",{}),Te("matchWidth",!0),Te("useMinWidth",!1),Te("dismissOnBlur",!0),Cu(["openClass"]),$n("initialData"),Na("typeaheadBehaviours",[Po,Gt,SC,xo,mn,Rr]),sa("lazyTypeaheadComp",()=>_o(O.none)),sa("previewing",()=>_o(!0))].concat(Nv()).concat(Ax())),y3=ae([It({schema:[bh()],name:"menu",overrides:n=>({fakeFocus:!0,onHighlightItem:(r,i,l)=>{n.previewing.get()?n.lazyTypeaheadComp.get().each(u=>{((m,p,b)=>{if(m.selectsOver){const y=Gt.getValue(p),w=m.getDisplayText(y),C=Gt.getValue(b);return m.getDisplayText(C).indexOf(w)===0?O.some(()=>{nw(0,p,b),((S,z)=>{g0(S,(M,P)=>M.setSelectionRange(z,P.length))})(p,w.length)}):O.none()}return O.none()})(n.model,u,l).fold(()=>{n.model.selectsOver?(jn.dehighlight(i,l),n.previewing.set(!0)):n.previewing.set(!1)},m=>{m(),n.previewing.set(!1)})}):n.lazyTypeaheadComp.get().each(u=>{n.model.populateFromBrowse&&nw(n.model,u,l),Wr(l.element,"id").each(m=>Ho(u.element,"aria-activedescendant",m))})},onExecute:(r,i)=>n.lazyTypeaheadComp.get().map(l=>(ao(l,sw(),{item:i}),!0)),onHover:(r,i)=>{n.previewing.set(!1),n.lazyTypeaheadComp.get().each(l=>{n.model.populateFromBrowse&&nw(n.model,l,i)})}})})]),v3=bl({name:"Typeahead",configFields:tB(),partFields:y3(),factory:(n,r,i,l)=>{const u=(S,z,M)=>{n.previewing.set(!1);const P=Rr.getCoupled(S,"sandbox");if(bn.isOpen(P))In.getCurrent(P).each($=>{jn.getHighlighted($).fold(()=>{M($)},()=>{fl(P,$.element,"keydown",z)})});else{const $=K=>{In.getCurrent(K).each(M)};xx(n,p(S),S,P,l,$,Vl.HighlightMenuAndItem).get(We)}},m=d4(n),p=S=>z=>z.map(M=>{const P=Jo(M.menus),$=Ws(P,K=>Mo(K.items,ee=>ee.type==="item"));return Gt.getState(S).update(Ct($,K=>K.data)),M}),b=S=>In.getCurrent(S),y="typeaheadevents",w=[Po.config({}),Gt.config({onSetValue:n.onSetValue,store:{mode:"dataset",getDataKey:S=>Au(S.element),getFallbackEntry:S=>({value:S,meta:{}}),setValue:(S,z)=>{tf(S.element,n.model.getDisplayText(z))},...n.initialData.map(S=>Oa("initialValue",S)).getOr({})}}),SC.config({stream:{mode:"throttle",delay:n.responseTime,stopEvent:!1},onStream:(S,z)=>{const M=Rr.getCoupled(S,"sandbox");if(Po.isFocused(S)&&Au(S.element).length>=n.minChars){const P=b(M).bind(K=>jn.getHighlighted(K).map(Gt.getValue));n.previewing.set(!0);const $=K=>{b(M).each(ee=>{P.fold(()=>{n.model.selectsOver&&jn.highlightFirst(ee)},q=>{jn.highlightBy(ee,V=>Gt.getValue(V).value===q.value),jn.getHighlighted(ee).orThunk(()=>(jn.highlightFirst(ee),O.none()))})})};xx(n,p(S),S,M,l,$,Vl.HighlightJustMenu).get(We)}},cancelEvent:ch()}),xo.config({mode:"special",onDown:(S,z)=>(u(S,z,jn.highlightFirst),O.some(!0)),onEscape:S=>{const z=Rr.getCoupled(S,"sandbox");return bn.isOpen(z)?(bn.close(z),O.some(!0)):O.none()},onUp:(S,z)=>(u(S,z,jn.highlightLast),O.some(!0)),onEnter:S=>{const z=Rr.getCoupled(S,"sandbox"),M=bn.isOpen(z);if(M&&!n.previewing.get())return b(z).bind(P=>jn.getHighlighted(P)).map(P=>(ao(S,sw(),{item:P}),!0));{const P=Gt.getValue(S);return Sn(S,ch()),n.onExecute(z,S,P),M&&bn.close(z),O.some(!0)}}}),mn.config({toggleClass:n.markers.openClass,aria:{mode:"expanded"}}),Rr.config({others:{sandbox:S=>mb(n,S,{onOpen:()=>mn.on(S),onClose:()=>{n.lazyTypeaheadComp.get().each(z=>As(z.element,"aria-activedescendant")),mn.off(S)}})}}),an(y,[Os(S=>{n.lazyTypeaheadComp.set(O.some(S))}),dd(S=>{n.lazyTypeaheadComp.set(O.none())}),ol(S=>{const z=We;wx(n,p(S),S,l,z,Vl.HighlightMenuAndItem).get(We)}),at(sw(),(S,z)=>{const M=Rr.getCoupled(S,"sandbox");nw(n.model,S,z.event.item),Sn(S,ch()),n.onItemExecute(S,M,z.event.item,Gt.getValue(S)),bn.close(M),b3(S)})].concat(n.dismissOnBlur?[at(Zm(),S=>{const z=Rr.getCoupled(S,"sandbox");Hc(z.element).isNone()&&bn.close(z)})]:[]))],C={[qm()]:[Gt.name(),SC.name(),y],...n.eventOrder};return{uid:n.uid,dom:m4(oe(n,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...m,...Ya(n.typeaheadBehaviours,w)},eventOrder:C}}}),Cb=n=>({...n,toCached:()=>Cb(n.toCached()),bindFuture:r=>Cb(n.bind(i=>i.fold(l=>Eg(un.error(l)),l=>r(l)))),bindResult:r=>Cb(n.map(i=>i.bind(r))),mapResult:r=>Cb(n.map(i=>i.map(r))),mapError:r=>Cb(n.map(i=>i.mapError(r))),foldResult:(r,i)=>n.map(l=>l.fold(r,i)),withTimeout:(r,i)=>Cb(jp(l=>{let u=!1;const m=setTimeout(()=>{u=!0,l(un.error(i()))},r);n.get(p=>{u||(clearTimeout(m),l(p))})}))}),k3=n=>Cb(jp(n)),p0=(n,r,i=[],l,u,m)=>{const p=r.fold(()=>({}),w=>({action:w})),b={buttonBehaviours:Rt([Ky(()=>!n.enabled||m.isDisabled()),Ja(),pr.config({}),an("button press",[ap("click"),ap("mousedown")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...p},y=oe(b,{dom:l});return oe(y,{components:u})},x3=(n,r,i,l=[])=>{const u={tag:"button",classes:["tox-tbtn"],attributes:n.tooltip.map(b=>({"aria-label":i.translate(b),title:i.translate(b)})).getOr({})},m=n.icon.map(b=>Yx(b,i.icons)),p=lb([m]);return p0(n,r,l,u,p,i)},rw=n=>{switch(n){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},w3=(n,r,i,l=[],u=[])=>{const m=i.translate(n.text),p=n.icon.map(C=>Yx(C,i.icons)),b=[p.getOrThunk(()=>ar(m))],y=n.buttonType.getOr(n.primary||n.borderless?"primary":"secondary"),w=[...rw(y),...p.isSome()?["tox-button--icon"]:[],...n.borderless?["tox-button--naked"]:[],...u];return p0(n,r,l,{tag:"button",classes:w,attributes:{title:m}},b,i)},_3=(n,r,i,l=[],u=[])=>{const m=w3(n,O.some(r),i,l,u);return Wi.sketch(m)},A3=(n,r)=>i=>{r==="custom"?ao(i,Ff,{name:n,value:{}}):r==="submit"?Sn(i,bb):r==="cancel"?Sn(i,Tg):console.error("Unknown button type: ",r)},aw=(n,r,i)=>{if(((l,u)=>u==="menu")(0,r)){const l=()=>p,u=n,m={...n,type:"menubutton",search:O.none(),onSetup:b=>(b.setEnabled(n.enabled),We),fetch:m3(u.items,l,i)},p=us(m1(m,"tox-tbtn",i,O.none()));return p.asSpec()}if(((l,u)=>u==="custom"||u==="cancel"||u==="submit")(0,r)){const l=A3(n.name,r),u={...n,borderless:!1};return _3(u,l,i.shared.providers,[])}if(((l,u)=>u==="togglebutton")(0,r))return((l,u)=>{var m,p;const b=l.icon.map(q=>Ng(q,u.icons)).map(us),y=l.buttonType.getOr(l.primary?"primary":"secondary"),w={...l,name:(m=l.name)!==null&&m!==void 0?m:"",primary:y==="primary",tooltip:O.from(l.tooltip),enabled:(p=l.enabled)!==null&&p!==void 0&&p,borderless:!1},C=w.tooltip.map(q=>({"aria-label":u.translate(q),title:u.translate(q)})).getOr({}),S=rw(y??"secondary"),z=l.icon.isSome()&&l.text.isSome(),M={tag:"button",classes:[...S.concat(l.icon.isSome()?["tox-button--icon"]:[]),...l.active?["tox-button--enabled"]:[],...z?["tox-button--icon-and-text"]:[]],attributes:C},P=u.translate(l.text.getOr("")),$=ar(P),K=[...lb([b.map(q=>q.asSpec())]),...l.text.isSome()?[$]:[]],ee=p0(w,O.some(q=>{ao(q,Ff,{name:l.name,value:{setIcon:V=>{b.map(J=>J.getOpt(q).each(te=>{zo.set(te,[Ng(V,u.icons)])}))}}})}),[],M,K,u);return Wi.sketch(ee)})(n,i.shared.providers);throw console.error("Unknown footer button type: ",r),new Error("Unknown footer button type")},C3={type:"separator"},S3=n=>({type:"menuitem",value:n.url,text:n.title,meta:{attach:n.attach},onAction:We}),EC=(n,r)=>({type:"menuitem",value:r,text:n,meta:{attach:void 0},onAction:We}),E3=(n,r)=>(i=>Ct(i,S3))(((i,l)=>Mo(l,u=>u.type===i))(n,r)),oB=n=>E3("header",n.targets),nB=n=>E3("anchor",n.targets),sB=n=>O.from(n.anchorTop).map(r=>EC("<top>",r)).toArray(),T3=n=>O.from(n.anchorBottom).map(r=>EC("<bottom>",r)).toArray(),TC=(n,r)=>{const i=n.toLowerCase();return Mo(r,l=>{var u;const m=l.meta!==void 0&&l.meta.text!==void 0?l.meta.text:l.text,p=(u=l.value)!==null&&u!==void 0?u:"";return Sr(m.toLowerCase(),i)||Sr(p.toLowerCase(),i)})},O3=no("aria-invalid"),OC=(n,r)=>{n.dom.checked=r},z3=n=>n.dom.checked,Xa=n=>(r,i,l,u)=>Qt(i,"name").fold(()=>n(i,u,O.none()),m=>r.field(m,n(i,u,Qt(l,m)))),rB={bar:Xa((n,r)=>((i,l)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ct(i.items,l.interpreter)}))(n,r.shared)),collection:Xa((n,r,i)=>j2(n,r.shared.providers,i)),alertbanner:Xa((n,r)=>((i,l)=>{const u=SA(i.icon,l.icons);return Am.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${i.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:i.url?void 0:u},components:i.url?[Wi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:u,attributes:{title:l.translate(i.iconTooltip)}},action:m=>ao(m,Ff,{name:"alert-banner",value:i.url}),buttonBehaviours:Rt([EA()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:l.translate(i.text)}}]})})(n,r.shared.providers)),input:Xa((n,r,i)=>((l,u,m)=>vC({name:l.name,multiline:!1,label:l.label,inputMode:l.inputMode,placeholder:l.placeholder,flex:!1,disabled:!l.enabled,classname:"tox-textfield",validation:O.none(),maximized:l.maximized,data:m},u))(n,r.shared.providers,i)),textarea:Xa((n,r,i)=>((l,u,m)=>vC({name:l.name,multiline:!0,label:l.label,inputMode:O.none(),placeholder:l.placeholder,flex:!0,disabled:!l.enabled,classname:"tox-textarea",validation:O.none(),maximized:l.maximized,data:m},u))(n,r.shared.providers,i)),label:Xa((n,r)=>((i,l)=>{const u="tox-label";return{dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"label",classes:[u,...i.align==="center"?[`${u}--center`]:[],...i.align==="end"?[`${u}--end`]:[]]},components:[ar(l.providers.translate(i.label))]},...Ct(i.items,l.interpreter)],behaviours:Rt([Wp(),zo.config({}),(m=O.none(),KO(m,Gm,gl)),xo.config({mode:"acyclic"})])};var m})(n,r.shared)),iframe:(qC=(n,r,i)=>((l,u,m)=>{const p="tox-dialog__iframe",b=l.transparent?[]:[`${p}--opaque`],y=l.border?["tox-navobj-bordered"]:[],w={...l.label.map(M=>({title:M})).getOr({}),...m.map(M=>({srcdoc:M})).getOr({}),...l.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},C=((M,P)=>{const $=_o(M.getOr(""));return{getValue:K=>$.get(),setValue:(K,ee)=>{if($.get()!==ee){const q=K.element,V=()=>Ho(q,"srcdoc",ee);P?$I.fold(ae(mC),J=>J.throttle)(q,ee,V):V()}$.set(ee)}}})(m,l.streamContent),S=l.label.map(M=>al(M,u)),z=ms.parts.field({factory:{sketch:M=>l0(O.from(y),{uid:M.uid,dom:{tag:"iframe",attributes:w,classes:[p,...b]},behaviours:Rt([pr.config({}),Po.config({}),Dg(m,C.getValue,C.setValue),Ll.config({channels:{[$x]:{onReceive:(P,$)=>{$.newFocus.each(K=>{yr(P.element).each(ee=>{(Wn(P.element,K)?rs:cr)(ee,"tox-navobj-bordered-focus")})})}}}})])})}});return Bu(S,z,["tox-form__group--stretched"],[])})(n,r.shared.providers,i),(n,r,i,l)=>{const u=oe(r,{source:"dynamic"});return Xa(qC)(n,u,i,l)}),button:Xa((n,r)=>((i,l)=>{const u=A3(i.name,"custom");return m=O.none(),p=ms.parts.field({factory:Wi,...w3(i,O.some(u),l,[jx(""),Wp()])}),Bu(m,p,[],[]);var m,p})(n,r.shared.providers)),checkbox:Xa((n,r,i)=>((l,u,m)=>{const p=S=>(S.element.dom.click(),O.some(!0)),b=ms.parts.field({factory:{sketch:Lt},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Rt([Wp(),Io.config({disabled:()=>!l.enabled||u.isDisabled(),onDisabled:S=>{yr(S.element).each(z=>rs(z,"tox-checkbox--disabled"))},onEnabled:S=>{yr(S.element).each(z=>cr(z,"tox-checkbox--disabled"))}}),pr.config({}),Po.config({}),KO(m,z3,OC),xo.config({mode:"special",onEnter:p,onSpace:p,stopSpaceKeyup:!0}),an("checkbox-events",[at(ho(),(S,z)=>{ao(S,vc,{name:l.name})})])])}),y=ms.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[ar(u.translate(l.label))],behaviours:Rt([Yv.config({})])}),w=S=>Kd(S==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+S]},u.icons),C=us({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[w("checked"),w("unchecked")]});return ms.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[b,C.asSpec(),y],fieldBehaviours:Rt([Io.config({disabled:()=>!l.enabled||u.isDisabled()}),Ja()])})})(n,r.shared.providers,i)),colorinput:Xa((n,r,i)=>((l,u,m,p)=>{const b=ms.parts.field({factory:_g,inputClasses:["tox-textfield"],data:p,onSetValue:S=>Uf.run(S).get(We),inputBehaviours:Rt([Io.config({disabled:u.providers.isDisabled}),Ja(),pr.config({}),Uf.config({invalidClass:"tox-textbox-field-invalid",getRoot:S=>yr(S.element),notify:{onValid:S=>{const z=Gt.getValue(S);ao(S,_O,{color:z})}},validator:{validateOnLoad:!1,validate:S=>{const z=Gt.getValue(S);if(z.length===0)return Eg(un.value(!0));{const M=Ni("span");Ro(M,"background-color",z);const P=vr(M,"background-color").fold(()=>un.error("blah"),$=>un.value(z));return Eg(P)}}}})]),selectOnFocus:!1}),y=l.label.map(S=>al(S,u.providers)),w=(S,z)=>{ao(S,Ex,{value:z})},C=us(((S,z)=>Jd.sketch({dom:S.dom,components:S.components,toggleClass:"mce-active",dropdownBehaviours:Rt([Ky(z.providers.isDisabled),Ja(),Yv.config({}),pr.config({})]),layouts:S.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:z.getSink,fetch:M=>jp(P=>S.fetch(P)).map(P=>O.from($v(oe(yx(no("menu-value"),P,$=>{S.onItemAction(M,$)},S.columns,S.presets,wm.CLOSE_ON_EXECUTE,_e,z.providers),{movement:e1(S.columns,S.presets)})))),parts:{menu:wg(0,0,S.presets)}}))({dom:{tag:"span",attributes:{"aria-label":u.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Lr,ci,gr],onLtr:()=>[ci,Lr,gr]},components:[],fetch:Sg(m.getColors(l.storageKey),l.storageKey,m.hasCustomColors()),columns:m.getColorCols(l.storageKey),presets:"color",onItemAction:(S,z)=>{C.getOpt(S).each(M=>{z==="custom"?m.colorPicker(P=>{P.fold(()=>Sn(M,AO),$=>{w(M,$),C2(l.storageKey,$)})},"#ffffff"):w(M,z==="remove"?"":z)})}},u));return ms.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:y.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[b,C.asSpec()]}]),fieldBehaviours:Rt([an("form-field-events",[at(_O,(S,z)=>{C.getOpt(S).each(M=>{Ro(M.element,"background-color",z.event.color)}),ao(S,vc,{name:l.name})}),at(Ex,(S,z)=>{ms.getField(S).each(M=>{Gt.setValue(M,z.event.value),In.getCurrent(S).each(Po.focus)})}),at(AO,(S,z)=>{ms.getField(S).each(M=>{In.getCurrent(S).each(Po.focus)})})])])})})(n,r.shared,r.colorinput,i)),colorpicker:Xa((n,r,i)=>((l,u,m)=>{const p=w=>"tox-"+w,b=VI((w=>C=>ze(C)?w.translate(ZI[C]):w.translate(C))(u),p),y=us(b.sketch({dom:{tag:"div",classes:[p("color-picker-container")],attributes:{role:"presentation"}},onValidHex:w=>{ao(w,Ff,{name:"hex-valid",value:!0})},onInvalidHex:w=>{ao(w,Ff,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[y.asSpec()],behaviours:Rt([Dg(m,w=>{const C=y.get(w);return In.getCurrent(C).bind(S=>Gt.getValue(S).hex).map(S=>"#"+ed(S,"#")).getOr("")},(w,C)=>{const S=O.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(C)).bind(M=>St(M,1)),z=y.get(w);In.getCurrent(z).fold(()=>{console.log("Can not find form")},M=>{Gt.setValue(M,{hex:S.getOr("")}),c1.getField(M,"hex").each(P=>{Sn(P,Eo())})})}),Wp()])}})(0,r.shared.providers,i)),dropzone:Xa((n,r,i)=>((l,u,m)=>{const p=(P,$)=>{$.stop()},b=P=>($,K)=>{Yt(P,ee=>{ee($,K)})},y=(P,$)=>{var K;if(!Io.isDisabled(P)){const ee=$.event.raw;C(P,(K=ee.dataTransfer)===null||K===void 0?void 0:K.files)}},w=(P,$)=>{const K=$.event.raw.target;C(P,K.files)},C=(P,$)=>{$&&(Gt.setValue(P,((K,ee)=>{const q=Rg.explode(ee.getOption("images_file_types"));return Mo(rn(K),V=>tr(q,J=>Ki(V.name.toLowerCase(),`.${J.toLowerCase()}`)))})($,u)),ao(P,vc,{name:l.name}))},S=us({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Rt([an("input-file-events",[cd(Qn()),cd(tl())])])}),z=l.label.map(P=>al(P,u)),M=ms.parts.field({factory:{sketch:P=>({uid:P.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Rt([jx(m.getOr([])),Wp(),Io.config({}),mn.config({toggleClass:"dragenter",toggleOnExecute:!1}),an("dropzone-events",[at("dragenter",b([p,mn.toggle])),at("dragleave",b([p,mn.toggle])),at("dragover",p),at("drop",b([p,y])),at(ho(),w)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[ar(u.translate("Drop an image here"))]},Wi.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[ar(u.translate("Browse for an image")),S.asSpec()],action:$=>{S.get($).element.dom.click()},buttonBehaviours:Rt([pr.config({}),Ky(u.isDisabled),Ja()])})]}]})}});return Bu(z,M,["tox-form__group--stretched"],[])})(n,r.shared.providers,i)),grid:Xa((n,r)=>((i,l)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${i.columns}col`]},components:Ct(i.items,l.interpreter)}))(n,r.shared)),listbox:Xa((n,r,i)=>((l,u,m)=>{const p=u.shared.providers,b=m.bind(S=>Jx(l.items,S)).orThunk(()=>nt(l.items).filter(pC)),y=l.label.map(S=>al(S,p)),w=ms.parts.field({dom:{},factory:{sketch:S=>Qx({uid:S.uid,text:b.map(z=>z.text),icon:O.none(),tooltip:l.label,role:O.none(),fetch:(z,M)=>{const P=bC(z,l.name,l.items,Gt.getValue(z));M(u1(P,wm.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:O.none()}))},onSetup:ae(We),getApi:ae({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[pr.config({}),Dg(b.map(z=>z.value),z=>qr(z.element,hC),(z,M)=>{Jx(l.items,M).each(P=>{Ho(z.element,hC,P.value),ao(z,vd,{text:P.text})})})]},"tox-listbox",u.shared)}}),C={dom:{tag:"div",classes:["tox-listboxfield"]},components:[w]};return ms.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:qn([y.toArray(),[C]]),fieldBehaviours:Rt([Io.config({disabled:ae(!l.enabled),onDisabled:S=>{ms.getField(S).each(Io.disable)},onEnabled:S=>{ms.getField(S).each(Io.enable)}})])})})(n,r,i)),selectbox:Xa((n,r,i)=>((l,u,m)=>{const p=Ct(l.items,S=>({text:u.translate(S.text),value:S.value})),b=l.label.map(S=>al(S,u)),y=ms.parts.field({dom:{},...m.map(S=>({data:S})).getOr({}),selectAttributes:{size:l.size},options:p,factory:r3,selectBehaviours:Rt([Io.config({disabled:()=>!l.enabled||u.isDisabled()}),pr.config({}),an("selectbox-change",[at(ho(),(S,z)=>{ao(S,vc,{name:l.name})})])])}),w=l.size>1?O.none():O.some(Kd("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},u.icons)),C={dom:{tag:"div",classes:["tox-selectfield"]},components:qn([[y],w.toArray()])};return ms.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:qn([b.toArray(),[C]]),fieldBehaviours:Rt([Io.config({disabled:()=>!l.enabled||u.isDisabled(),onDisabled:S=>{ms.getField(S).each(Io.disable)},onEnabled:S=>{ms.getField(S).each(Io.enable)}}),Ja()])})})(n,r.shared.providers,i)),sizeinput:Xa((n,r)=>((i,l)=>{let u=Xx;const m=no("ratio-event"),p=M=>Kd(M,{tag:"span",classes:["tox-icon","tox-lock-icon__"+M]},l.icons),b=kc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:l.translate(i.label.getOr("Constrain proportions"))}},components:[p("lock"),p("unlock")],buttonBehaviours:Rt([Io.config({disabled:()=>!i.enabled||l.isDisabled()}),Ja(),pr.config({})])}),y=M=>({dom:{tag:"div",classes:["tox-form__group"]},components:M}),w=M=>ms.parts.field({factory:_g,inputClasses:["tox-textfield"],inputBehaviours:Rt([Io.config({disabled:()=>!i.enabled||l.isDisabled()}),Ja(),pr.config({}),an("size-input-events",[at(ge(),(P,$)=>{ao(P,m,{isField1:M})}),at(ho(),(P,$)=>{ao(P,vc,{name:i.name})})])]),selectOnFocus:!1}),C=M=>({dom:{tag:"label",classes:["tox-label"]},components:[ar(l.translate(M))]}),S=kc.parts.field1(y([ms.parts.label(C("Width")),w(!0)])),z=kc.parts.field2(y([ms.parts.label(C("Height")),w(!1)]));return kc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[S,z,y([C(" "),b])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(M,P,$)=>{c0(Gt.getValue(M)).each(K=>{u(K).each(ee=>{Gt.setValue(P,(q=>{const V={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let J=q.value.toFixed((te=q.unit)in V?V[te]:1);var te;return J.indexOf(".")!==-1&&(J=J.replace(/\.?0*$/,"")),J+q.unit})(ee))})})},coupledFieldBehaviours:Rt([Io.config({disabled:()=>!i.enabled||l.isDisabled(),onDisabled:M=>{kc.getField1(M).bind(ms.getField).each(Io.disable),kc.getField2(M).bind(ms.getField).each(Io.disable),kc.getLock(M).each(Io.disable)},onEnabled:M=>{kc.getField1(M).bind(ms.getField).each(Io.enable),kc.getField2(M).bind(ms.getField).each(Io.enable),kc.getLock(M).each(Io.enable)}}),Ja(),an("size-input-events2",[at(m,(M,P)=>{const $=P.event.isField1,K=$?kc.getField1(M):kc.getField2(M),ee=$?kc.getField2(M):kc.getField1(M),q=K.map(Gt.getValue).getOr(""),V=ee.map(Gt.getValue).getOr("");u=((J,te)=>{const ie=c0(J).toOptional(),ve=c0(te).toOptional();return wa(ie,ve,(Re,st)=>yC(Re,st.unit).map(it=>st.value/it).map(it=>{return lt=it,qt=st.unit,eo=>yC(eo,qt).map(po=>({value:po*lt,unit:qt}));var lt,qt}).getOr(Xx)).getOr(Xx)})(q,V)})])])})})(n,r.shared.providers)),slider:Xa((n,r,i)=>((l,u,m)=>{const p=Fu.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ar(u.translate(l.label))]}),b=Fu.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),y=Fu.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Fu.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:l.min,maxX:l.max,getInitialValue:ae(m.getOrThunk(()=>(Math.abs(l.max)-Math.abs(l.min))/2))},components:[p,b,y],sliderBehaviours:Rt([Wp(),Po.config({})]),onChoose:(w,C,S)=>{ao(w,vc,{name:l.name,value:S})}})})(n,r.shared.providers,i)),urlinput:Xa((n,r,i)=>((l,u,m,p)=>{const b=u.shared.providers,y=q=>{const V=Gt.getValue(q);m.addToHistory(V.value,l.filetype)},w={...p.map(q=>({initialData:q})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":O3,type:"url"},minChars:0,responseTime:0,fetch:q=>{const V=((te,ie,ve)=>{var Re,st;const it=Gt.getValue(ie),lt=(st=(Re=it==null?void 0:it.meta)===null||Re===void 0?void 0:Re.text)!==null&&st!==void 0?st:it.value;return ve.getLinkInformation().fold(()=>[],qt=>{const eo=TC(lt,(Bo=>Ct(Bo,Fo=>EC(Fo,Fo)))(ve.getHistory(te)));return te==="file"?(po=[eo,TC(lt,oB(qt)),TC(lt,qn([sB(qt),nB(qt),T3(qt)]))],H(po,(Bo,Fo)=>Bo.length===0||Fo.length===0?Bo.concat(Fo):Bo.concat(C3,Fo),[])):eo;var po})})(l.filetype,q,m),J=u1(V,wm.BUBBLE_TO_SANDBOX,u,{isHorizontalMenu:!1,search:O.none()});return Eg(J)},getHotspot:q=>K.getOpt(q),onSetValue:(q,V)=>{q.hasConfigured(Uf)&&Uf.run(q).get(We)},typeaheadBehaviours:Rt([...m.getValidationHandler().map(q=>Uf.config({getRoot:V=>yr(V.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(V,J)=>{z.getOpt(V).each(te=>{Ho(te.element,"title",b.translate(J))})}},validator:{validate:V=>{const J=Gt.getValue(V);return k3(te=>{q({type:l.filetype,url:J.value},ie=>{if(ie.status==="invalid"){const ve=un.error(ie.message);te(ve)}else{const ve=un.value(ie.message);te(ve)}})})},validateOnLoad:!1}})).toArray(),Io.config({disabled:()=>!l.enabled||b.isDisabled()}),pr.config({}),an("urlinput-events",[at(Eo(),q=>{const V=Au(q.element),J=V.trim();J!==V&&tf(q.element,J),l.filetype==="file"&&ao(q,vc,{name:l.name})}),at(ho(),q=>{ao(q,vc,{name:l.name}),y(q)}),at(ro(),q=>{ao(q,vc,{name:l.name}),y(q)})])]),eventOrder:{[Eo()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:q=>q.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:u.shared.getSink,parts:{menu:wg(0,0,"normal")},onExecute:(q,V,J)=>{ao(V,bb,{})},onItemExecute:(q,V,J,te)=>{y(q),ao(q,vc,{name:l.name})}},C=ms.parts.field({...w,factory:v3}),S=l.label.map(q=>al(q,b)),z=us(((q,V,J=q,te=q)=>Kd(J,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+q],attributes:{title:b.translate(te),"aria-live":"polite",...V.fold(()=>({}),ie=>({id:ie}))}},b.icons))("invalid",O.some(O3),"warning")),M=us({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[z.asSpec()]}),P=m.getUrlPicker(l.filetype),$=no("browser.url.event"),K=us({dom:{tag:"div",classes:["tox-control-wrap"]},components:[C,M.asSpec()],behaviours:Rt([Io.config({disabled:()=>!l.enabled||b.isDisabled()})])}),ee=us(_3({name:l.name,icon:O.some("browse"),text:l.picker_text.or(l.label).getOr(""),enabled:l.enabled,primary:!1,buttonType:O.none(),borderless:!0},q=>Sn(q,$),b,[],["tox-browse-url"]));return ms.sketch({dom:bO([]),components:S.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:qn([[K.asSpec()],P.map(()=>ee.asSpec()).toArray()])}]),fieldBehaviours:Rt([Io.config({disabled:()=>!l.enabled||b.isDisabled(),onDisabled:q=>{ms.getField(q).each(Io.disable),ee.getOpt(q).each(Io.disable)},onEnabled:q=>{ms.getField(q).each(Io.enable),ee.getOpt(q).each(Io.enable)}}),Ja(),an("url-input-events",[at($,q=>{In.getCurrent(q).each(V=>{const J=Gt.getValue(V),te={fieldname:l.name,...J};P.each(ie=>{ie(te).get(ve=>{Gt.setValue(V,ve),ao(q,vc,{name:l.name})})})})})])])})})(n,r,r.urlinput,i)),customeditor:Xa(n=>{const r=er(),i=us({dom:{tag:n.tag}}),l=er();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Rt([an("custom-editor-events",[Os(u=>{i.getOpt(u).each(m=>{((p=>uo(p,"init"))(n)?n.init(m.element.dom):YO.load(n.scriptId,n.scriptUrl).then(p=>p(m.element.dom,n.settings))).then(p=>{l.on(b=>{p.setValue(b)}),l.clear(),r.set(p)})})})]),Dg(O.none(),()=>r.get().fold(()=>l.get().getOr(""),u=>u.getValue()),(u,m)=>{r.get().fold(()=>l.set(m),p=>p.setValue(m))}),Wp()]),components:[i.asSpec()]}}),htmlpanel:Xa(n=>n.presets==="presentation"?Am.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:n.html}}):Am.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:n.html,attributes:{role:"document"}},containerBehaviours:Rt([pr.config({}),Po.config({})])})),imagepreview:Xa((n,r,i)=>((l,u)=>{const m=_o(u.getOr({url:""})),p=us({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:u.map(C=>({src:C.url})).getOr({})}}),b=us({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[p.asSpec()]}),y={};l.height.each(C=>y.height=C);const w=u.map(C=>({url:C.url,zoom:O.from(C.zoom),cachedWidth:O.from(C.cachedWidth),cachedHeight:O.from(C.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:y,attributes:{role:"presentation"}},components:[b.asSpec()],behaviours:Rt([Wp(),Dg(w,()=>m.get(),(C,S)=>{const z={url:S.url};S.zoom.each(P=>z.zoom=P),S.cachedWidth.each(P=>z.cachedWidth=P),S.cachedHeight.each(P=>z.cachedHeight=P),m.set(z);const M=()=>{const{cachedWidth:P,cachedHeight:$,zoom:K}=z;if(!zt(P)&&!zt($)){if(zt(K)){const q=((V,J,te)=>{const ie=vs(V),ve=Ve(V);return Math.min(ie/J,ve/te,1)})(C.element,P,$);z.zoom=q}const ee=((q,V,J,te,ie)=>{const ve=J*ie,Re=te*ie,st=Math.max(0,q/2-ve/2),it=Math.max(0,V/2-Re/2);return{left:st.toString()+"px",top:it.toString()+"px",width:ve.toString()+"px",height:Re.toString()+"px"}})(vs(C.element),Ve(C.element),P,$,z.zoom);b.getOpt(C).each(q=>{Tl(q.element,ee)})}};p.getOpt(C).each(P=>{const $=P.element;var K;S.url!==qr($,"src")&&(Ho($,"src",S.url),cr(C.element,"tox-imagepreview__loaded")),M(),(K=$,new Promise((ee,q)=>{const V=()=>{te(),ee(K)},J=[Oi(K,"load",V),Oi(K,"error",()=>{te(),q("Unable to load data from image: "+K.dom.src)})],te=()=>Yt(J,ie=>ie.unbind());K.dom.complete&&V()})).then(ee=>{C.getSystem().isConnected()&&(rs(C.element,"tox-imagepreview__loaded"),z.cachedWidth=ee.dom.naturalWidth,z.cachedHeight=ee.dom.naturalHeight,M())})})})])}})(n,i)),table:Xa((n,r)=>((i,l)=>{const u=b=>({dom:{tag:"td",innerHtml:l.translate(b)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(p=i.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ct(p,b=>({dom:{tag:"th",innerHtml:l.translate(b)}}))}]}),(m=i.cells,{dom:{tag:"tbody"},components:Ct(m,b=>({dom:{tag:"tr"},components:Ct(b,u)}))})],behaviours:Rt([pr.config({}),Po.config({})])};var m,p})(n,r.shared.providers)),tree:Xa((n,r)=>((i,l)=>{const u=i.onLeafAction.getOr(We),m=i.onToggleExpand.getOr(We),p=i.defaultExpandedIds,b=_o(p),y=_o(i.defaultSelectedId),w=no("tree-id"),C=(S,z)=>i.items.map(M=>M.type==="leaf"?tw({leaf:M,selectedId:S,onLeafAction:u,visible:!0,treeId:w,backstage:l}):ow({directory:M,selectedId:S,onLeafAction:u,expandedIds:z,labelTabstopping:!0,treeId:w,backstage:l}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:C(y.get(),b.get()),behaviours:Rt([xo.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),an(f0,[at("expand-tree-node",(S,z)=>{const{expanded:M,node:P}=z.event;b.set(M?[...b.get(),P]:b.get().filter($=>$!==P)),m(b.get(),{expanded:M,node:P})})]),Ll.config({channels:{[`update-active-item-${w}`]:{onReceive:(S,z)=>{y.set(O.some(z.value)),zo.set(S,C(O.some(z.value),b.get()))}}}}),zo.config({})])}})(n,r)),panel:Xa((n,r)=>((i,l)=>({dom:{tag:"div",classes:i.classes},components:Ct(i.items,l.shared.interpreter)}))(n,r))},D3={field:(n,r)=>r,record:ae([])},R3=(n,r,i,l)=>{const u=oe(l,{shared:{interpreter:m=>zC(n,m,i,u)}});return zC(n,r,i,u)},zC=(n,r,i,l)=>Qt(rB,r.type).fold(()=>(console.error(`Unknown factory type "${r.type}", defaulting to container: `,r),r),u=>u(n,r,i,l)),DC=(n,r,i)=>zC(D3,n,r,i),Ig="layout-inset",iw=n=>n.x,N3=(n,r)=>n.x+n.width/2-r.width/2,RC=(n,r)=>n.x+n.width-r.width,NC=n=>n.y,MC=(n,r)=>n.y+n.height-r.height,lw=(n,r)=>n.y+n.height/2-r.height/2,cw=(n,r,i)=>Si(RC(n,r),MC(n,r),i.insetSouthwest(),W1(),"southwest",Ei(n,{right:0,bottom:3}),Ig),dw=(n,r,i)=>Si(iw(n),MC(n,r),i.insetSoutheast(),q1(),"southeast",Ei(n,{left:1,bottom:3}),Ig),f1=(n,r,i)=>Si(RC(n,r),NC(n),i.insetNorthwest(),Jb(),"northwest",Ei(n,{right:0,top:2}),Ig),g1=(n,r,i)=>Si(iw(n),NC(n),i.insetNortheast(),Qb(),"northeast",Ei(n,{left:1,top:2}),Ig),Uu=(n,r,i)=>Si(N3(n,r),NC(n),i.insetNorth(),mk(),"north",Ei(n,{top:2}),Ig),h0=(n,r,i)=>Si(N3(n,r),MC(n,r),i.insetSouth(),Xb(),"south",Ei(n,{bottom:3}),Ig),M3=(n,r,i)=>Si(RC(n,r),lw(n,r),i.insetEast(),vh(),"east",Ei(n,{right:0}),Ig),xc=(n,r,i)=>Si(iw(n),lw(n,r),i.insetWest(),fk(),"west",Ei(n,{left:1}),Ig),Tm=n=>{switch(n){case"north":return Uu;case"northeast":return g1;case"northwest":return f1;case"south":return h0;case"southeast":return dw;case"southwest":return cw;case"east":return M3;case"west":return xc}},I3=(n,r,i,l,u)=>hk(l).map(Tm).getOr(Uu)(n,r,i,l,u),IC=n=>{switch(n){case"north":return h0;case"northeast":return dw;case"northwest":return cw;case"south":return Uu;case"southeast":return g1;case"southwest":return f1;case"east":return xc;case"west":return M3}},BC=(n,r,i,l,u)=>hk(l).map(IC).getOr(Uu)(n,r,i,l,u),b0={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},aB=(n,r,i)=>{const l={maxHeightFunction:gg()};return()=>i()?{type:"node",root:oa(nr(n())),node:O.from(n()),bubble:Vd(12,12,b0),layouts:{onRtl:()=>[g1],onLtr:()=>[f1]},overrides:l}:{type:"hotspot",hotspot:r(),bubble:Vd(-12,12,b0),layouts:{onRtl:()=>[ci,Lr,gr],onLtr:()=>[Lr,ci,gr]},overrides:l}},y0=(n,r,i,l)=>{const u={maxHeightFunction:gg()};return()=>l()?{type:"node",root:oa(nr(r())),node:O.from(r()),bubble:Vd(12,12,b0),layouts:{onRtl:()=>[Uu],onLtr:()=>[Uu]},overrides:u}:n?{type:"node",root:oa(nr(r())),node:O.from(r()),bubble:Vd(0,-Dt(r()),b0),layouts:{onRtl:()=>[hl],onLtr:()=>[hl]},overrides:u}:{type:"hotspot",hotspot:i(),bubble:Vd(0,0,b0),layouts:{onRtl:()=>[hl],onLtr:()=>[hl]},overrides:u}},uw=(n,r,i)=>()=>i()?{type:"node",root:oa(nr(n())),node:O.from(n()),layouts:{onRtl:()=>[Uu],onLtr:()=>[Uu]}}:{type:"hotspot",hotspot:r(),layouts:{onRtl:()=>[gr],onLtr:()=>[gr]}},LC=(n,r)=>()=>({type:"selection",root:r(),getSelection:()=>{const i=n.selection.getRng(),l=n.model.table.getSelectedCells();if(l.length>1){const u=l[0],m=l[l.length-1],p={firstCell:Ht(u),lastCell:Ht(m)};return O.some(p)}return O.some(Ou.range(Ht(i.startContainer),i.startOffset,Ht(i.endContainer),i.endOffset))}}),iB=n=>r=>({type:"node",root:n(),node:r}),Om=(n,r,i,l)=>{const u=eb(n),m=()=>Ht(n.getBody()),p=()=>Ht(n.getContentAreaContainer()),b=()=>u||!l();return{inlineDialog:aB(p,r,b),inlineBottomDialog:y0(n.inline,p,i,b),banner:uw(p,r,b),cursor:LC(n,m),node:iB(m)}},lB=n=>(r,i)=>{N2(n)(r,i)},cB=n=>()=>Q4(n),Xd=n=>r=>px(n,r),v0=n=>r=>O2(n,r),Hu=n=>()=>UA(n),B3=n=>Cr(n,"items"),ys=n=>Cr(n,"format"),Sb=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],k0=n=>H(n,(r,i)=>{if(uo(i,"items")){const l=k0(i.items);return{customFormats:r.customFormats.concat(l.customFormats),formats:r.formats.concat([{title:i.title,items:l.formats}])}}if(uo(i,"inline")||(l=>uo(l,"block"))(i)||(l=>uo(l,"selector"))(i)){const l=`custom-${ze(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:r.customFormats.concat([{name:l,format:i}]),formats:r.formats.concat([{title:i.title,format:l,icon:i.icon}])}}return{...r,formats:r.formats.concat(i)}},{customFormats:[],formats:[]}),PC=n=>MA(n).map(r=>{const i=((l,u)=>{const m=k0(u),p=b=>{Yt(b,y=>{l.formatter.has(y.name)||l.formatter.register(y.name,y.format)})};return l.formatter?p(m.customFormats):l.on("init",()=>{p(m.customFormats)}),m.formats})(n,r);return HT(n)?Sb.concat(i):i}).getOr(Sb),mw=(n,r,i)=>({...n,type:"formatter",isSelected:r(n.format),getStylePreview:i(n.format)}),fw=(n,r,i,l)=>{const u=m=>Ct(m,p=>B3(p)?(b=>{const y=u(b.items);return{...b,type:"submenu",getStyleItems:ae(y)}})(p):ys(p)?(b=>mw(b,i,l))(p):(b=>{const y=on(b);return y.length===1&&So(y,"title")})(p)?{...p,type:"separator"}:(b=>{const y=ze(b.name)?b.name:no(b.title),w=`custom-${y}`,C={...b,type:"formatter",format:w,isSelected:i(w),getStylePreview:l(w)};return n.formatter.register(y,C),C})(p));return u(r)},dB=Rg.trim,gw=n=>r=>!!((i=>Se(i)&&i.nodeType===1)(r)&&(r.contentEditable===n||r.getAttribute("data-mce-contenteditable")===n)),uB=gw("true"),L3=gw("false"),FC=(n,r,i,l,u)=>({type:n,title:r,url:i,level:l,attach:u}),pw=n=>n.innerText||n.textContent,P3=n=>(r=>r&&r.nodeName==="A"&&(r.id||r.name)!==void 0)(n)&&F3(n),x0=n=>n&&/^(H[1-6])$/.test(n.nodeName),F3=n=>(r=>{let i=r;for(;i=i.parentNode;){const l=i.contentEditable;if(l&&l!=="inherit")return uB(i)}return!1})(n)&&!L3(n),mB=n=>x0(n)&&F3(n),fB=n=>{var r;const i=(l=>l.id?l.id:no("h"))(n);return FC("header",(r=pw(n))!==null&&r!==void 0?r:"","#"+i,(l=>x0(l)?parseInt(l.nodeName.substr(1),10):0)(n),()=>{n.id=i})},gB=n=>{const r=n.id||n.name,i=pw(n);return FC("anchor",i||"#"+r,"#"+r,0,We)},pB=n=>dB(n.title).length>0,U3=n=>{const r=(i=>Ct(rl(Ht(i),"h1,h2,h3,h4,h5,h6,a:not([href])"),u=>u.dom))(n);return Mo((i=>Ct(Mo(i,mB),fB))(r).concat((i=>Ct(Mo(i,P3),gB))(r)),pB)},hw="tinymce-url-history",H3=n=>ze(n)&&/^https?/.test(n),UC=n=>Tt(n)&&Zr(n,r=>{return!(Pe(i=r)&&i.length<=5&&Al(i,H3));var i}).isNone(),HC=()=>{const n=Hp.getItem(hw);if(n===null)return{};let r;try{r=JSON.parse(n)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+hw+" was not valid JSON",i),{};throw i}return UC(r)?r:(console.log("Local storage "+hw+" was not valid format",r),{})},hB=n=>{const r=HC();return Qt(r,n).getOr([])},bB=(n,r)=>{if(!H3(n))return;const i=HC(),l=Qt(i,r).getOr([]),u=Mo(l,m=>m!==n);i[r]=[n].concat(u).slice(0,5),(m=>{if(!UC(m))throw new Error(`Bad format for history:
`+JSON.stringify(m));Hp.setItem(hw,JSON.stringify(m))})(i)},VC=n=>!!n,V3=n=>ln(Rg.makeMap(n,/[, ]/),VC),bw=n=>O.from($T(n)),j3=n=>O.from(n).filter(ze).getOrUndefined(),yB=n=>({getHistory:hB,addToHistory:bB,getLinkInformation:()=>(r=>PA(r)?O.some({targets:U3(r.getBody()),anchorTop:j3(FA(r)),anchorBottom:j3(YT(r))}):O.none())(n),getValidationHandler:()=>(r=>O.from(GT(r)))(n),getUrlPicker:r=>((i,l)=>((u,m)=>{const p=(b=>{const y=O.from(LA(b)).filter(VC).map(V3);return bw(b).fold(_e,w=>y.fold(Je,C=>on(C).length>0&&C))})(u);return rt(p)?p?bw(u):O.none():p[m]?bw(u):O.none()})(i,l).map(u=>m=>jp(p=>{const b={filetype:l,fieldname:m.fieldname,...O.from(m.meta).getOr({})};u.call(i,(y,w)=>{if(!ze(y))throw new Error("Expected value to be string");if(w!==void 0&&!Tt(w))throw new Error("Expected meta to be a object");p({value:y,meta:w})},m.value,b)})))(n,r)}),mi=bv,jf=Kn,vB=ae([Te("shell",!1),Xe("makeItem"),Te("setupItem",We),km("listBehaviours",[zo])]),kB=Zt({name:"items",overrides:()=>({behaviours:Rt([zo.config({})])})}),Z3=ae([kB]),eu=bl({name:ae("CustomList")(),configFields:vB(),partFields:Z3(),factory:(n,r,i,l)=>{const u=n.shell?{behaviours:[zo.config({})],components:[]}:{behaviours:[],components:r};return{uid:n.uid,dom:n.dom,components:u.components,behaviours:Ya(n.listBehaviours,u.behaviours),apis:{setItems:(m,p)=>{var b;(b=m,n.shell?O.some(b):as(b,n,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},y=>{const w=zo.contents(y),C=p.length,S=C-w.length,z=S>0?$t(S,()=>n.makeItem()):[],M=w.slice(C);Yt(M,$=>zo.remove(y,$)),Yt(z,$=>zo.append(y,$));const P=zo.contents(y);Yt(P,($,K)=>{n.setupItem(m,$,p[K],K)})})}}}},apis:{setItems:(n,r,i)=>{n.setItems(r,i)}}}),p1=ae([Xe("dom"),Te("shell",!0),Na("toolbarBehaviours",[zo])]),jC=ae([Zt({name:"groups",overrides:()=>({behaviours:Rt([zo.config({})])})})]),Vu=bl({name:"Toolbar",configFields:p1(),partFields:jC(),factory:(n,r,i,l)=>{const u=n.shell?{behaviours:[zo.config({})],components:[]}:{behaviours:[],components:r};return{uid:n.uid,dom:n.dom,components:u.components,behaviours:Ya(n.toolbarBehaviours,u.behaviours),apis:{setGroups:(m,p)=>{var b;(b=m,n.shell?O.some(b):as(b,n,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},y=>{zo.set(y,p)})},refresh:We},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(n,r,i)=>{n.setGroups(r,i)}}}),q3=We,xB=_e,ZC=ae([]);var qC,W3=Object.freeze({__proto__:null,setup:q3,isDocked:xB,getBehaviours:ZC});const WC=n=>(Pa(vr(n,"position"),"fixed")?O.none():$u(n)).orThunk(()=>{const r=Ni("span");return Mi(n).bind(i=>{kr(i,r);const l=$u(r);return Er(r),l})}),$3=n=>WC(n).map(_n).getOrThunk(()=>qo(0,0)),wB=(n,r)=>{const i=n.element;rs(i,r.transitionClass),cr(i,r.fadeOutClass),rs(i,r.fadeInClass),r.onShow(n)},_B=(n,r)=>{const i=n.element;rs(i,r.transitionClass),cr(i,r.fadeInClass),rs(i,r.fadeOutClass),r.onHide(n)},G3=(n,r)=>n.y>=r.y,$C=(n,r)=>n.bottom<=r.bottom,yw=(n,r,i)=>({location:"top",leftX:r,topY:i.bounds.y-n.y}),vw=(n,r,i)=>({location:"bottom",leftX:r,bottomY:n.bottom-i.bounds.bottom}),GC=n=>n.box.x-n.win.x,KC=(n,r,i)=>i.getInitialPos().map(l=>{const u=((m,p)=>{const b=p.optScrollEnv.fold(ae(m.bounds.y),y=>y.scrollElmTop+(m.bounds.y-y.currentScrollTop));return qo(m.bounds.x,b)})(l,r);return{box:mr(u.left,u.top,vs(n),Ve(n)),location:l.location}}),K3=(n,r,i,l,u)=>{const m=((b,y)=>{const w=y.optScrollEnv.fold(ae(b.y),C=>b.y+C.currentScrollTop-C.scrollElmTop);return qo(b.x,w)})(r,i),p=mr(m.left,m.top,r.width,r.height);l.setInitialPos({style:Cc(n),position:Ys(n,"position")||"static",bounds:p,location:u.location})},Eb=(n,r,i)=>i.getInitialPos().bind(l=>{var u;switch(i.clearInitialPos(),l.position){case"static":return O.some({morph:"static"});case"absolute":const m=WC(n).getOr(Aa()),p=Tr(m),b=(u=m.dom.scrollTop)!==null&&u!==void 0?u:0;return O.some({morph:"absolute",positionCss:ec("absolute",Qt(l.style,"left").map(y=>r.x-p.x),Qt(l.style,"top").map(y=>r.y-p.y+b),Qt(l.style,"right").map(y=>p.right-r.right),Qt(l.style,"bottom").map(y=>p.bottom-r.bottom))});default:return O.none()}}),YC=n=>{switch(n.location){case"top":return O.some({morph:"fixed",positionCss:ec("fixed",O.some(n.leftX),O.some(n.topY),O.none(),O.none())});case"bottom":return O.some({morph:"fixed",positionCss:ec("fixed",O.some(n.leftX),O.none(),O.none(),O.some(n.bottomY))});default:return O.none()}},Y3=(n,r,i)=>{const l=n.element;return Pa(vr(l,"position"),"fixed")?((u,m,p)=>((b,y,w)=>KC(b,y,w).filter(({box:C})=>((S,z,M)=>Al(S,P=>{switch(P){case"bottom":return $C(z,M.bounds);case"top":return G3(z,M.bounds)}}))(w.getModes(),C,y)).bind(({box:C})=>Eb(b,C,w)))(u,m,p).orThunk(()=>m.optScrollEnv.bind(b=>KC(u,m,p)).bind(({box:b,location:y})=>{const w=Ss(),C=GC({win:w,box:b}),S=y==="top"?yw(w,C,m):vw(w,C,m);return YC(S)})))(l,r,i):((u,m,p)=>{const b=Tr(u),y=Ss(),w=((C,S,z)=>{const M=S.win,P=S.box,$=GC(S);return Bn(C,K=>{switch(K){case"bottom":return $C(P,z.bounds)?O.none():O.some(vw(M,$,z));case"top":return G3(P,z.bounds)?O.none():O.some(yw(M,$,z));default:return O.none()}}).getOr({location:"no-dock"})})(p.getModes(),{win:y,box:b},m);return w.location==="top"||w.location==="bottom"?(K3(u,b,m,p,w),YC(w)):O.none()})(l,r,i)},QC=(n,r,i)=>{i.setDocked(!1),Yt(["left","right","top","bottom","position"],l=>Ln(n.element,l)),r.onUndocked(n)},kw=(n,r,i,l)=>{const u=l.position==="fixed";i.setDocked(u),Q1(n.element,l),(u?r.onDocked:r.onUndocked)(n)},xw=(n,r,i,l,u=!1)=>{r.contextual.each(m=>{m.lazyContext(n).each(p=>{const b=((y,w)=>y.y<w.bottom&&y.bottom>w.y)(p,l.bounds);b!==i.isVisible()&&(i.setVisible(b),u&&!b?(pc(n.element,[m.fadeOutClass]),m.onHide(n)):(b?wB:_B)(n,m))})})},ww=(n,r,i,l,u)=>{xw(n,r,i,l,!0),kw(n,r,i,u.positionCss)},h1=(n,r,i)=>{n.getSystem().isConnected()&&((l,u,m)=>{const p=u.lazyViewport(l);xw(l,u,m,p),Y3(l,p,m).each(b=>{((y,w,C,S,z)=>{switch(z.morph){case"static":return QC(y,w,C);case"absolute":return kw(y,w,C,z.positionCss);case"fixed":ww(y,w,C,S,z)}})(l,u,m,p,b)})})(n,r,i)},JC=(n,r,i)=>{i.isDocked()&&((l,u,m)=>{const p=l.element;m.setDocked(!1);const b=u.lazyViewport(l);((y,w,C)=>{const S=y.element;return KC(S,w,C).bind(({box:z})=>Eb(S,z,C))})(l,b,m).each(y=>{switch(y.morph){case"static":QC(l,u,m);break;case"absolute":kw(l,u,m,y.positionCss)}}),m.setVisible(!0),u.contextual.each(y=>{Bc(p,[y.fadeInClass,y.fadeOutClass,y.transitionClass]),y.onShow(l)}),h1(l,u,m)})(n,r,i)},Q3=n=>(r,i,l)=>{const u=i.lazyViewport(r);((m,p,b,y)=>{const w=Tr(m),C=Ss(),S=y(C,GC({win:C,box:w}),p);return S.location==="bottom"||S.location==="top"?(((z,M,P,$,K)=>{$.getInitialPos().fold(()=>K3(z,M,P,$,K),()=>We)})(m,w,p,b,S),YC(S)):O.none()})(r.element,u,l,n).each(m=>{ww(r,i,l,u,m)})},J3=Q3(yw),AB=Q3(vw);var CB=Object.freeze({__proto__:null,refresh:h1,reset:JC,isDocked:(n,r,i)=>i.isDocked(),getModes:(n,r,i)=>i.getModes(),setModes:(n,r,i,l)=>i.setModes(l),forceDockToTop:J3,forceDockToBottom:AB}),SB=Object.freeze({__proto__:null,events:(n,r)=>hn([sm(Wa(),(i,l)=>{n.contextual.each(u=>{Ga(i.element,u.transitionClass)&&(Bc(i.element,[u.transitionClass,u.fadeInClass]),(r.isVisible()?u.onShown:u.onHidden)(i)),l.stop()})}),at(tm(),(i,l)=>{h1(i,n,r)}),at(fr(),(i,l)=>{h1(i,n,r)}),at(Id(),(i,l)=>{JC(i,n,r)})])}),X3=[Vi("contextual",[sr("fadeInClass"),sr("fadeOutClass"),sr("transitionClass"),Ea("lazyContext"),zn("onShow"),zn("onShown"),zn("onHide"),zn("onHidden")]),rr("lazyViewport",()=>({bounds:Ss(),optScrollEnv:O.none()})),Fs("modes",["top","bottom"],Or),zn("onDocked"),zn("onUndocked")];const Pr=Ra({fields:X3,name:"docking",active:SB,apis:CB,state:Object.freeze({__proto__:null,init:n=>{const r=_o(!1),i=_o(!0),l=er(),u=_o(n.modes);return zs({isDocked:r.get,setDocked:r.set,getInitialPos:l.get,setInitialPos:l.set,clearInitialPos:l.clear,isVisible:i.get,setVisible:i.set,getModes:u.get,setModes:u.set,readState:()=>`docked:  ${r.get()}, visible: ${i.get()}, modes: ${u.get().join(",")}`})}})}),_w=ae(no("toolbar-height-change")),Zf={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},ez="tox-tinymce--toolbar-sticky-on",tz="tox-tinymce--toolbar-sticky-off",Aw=(n,r)=>So(Pr.getModes(n),r),XC=n=>{const r=n.element;yr(r).each(i=>{const l="padding-"+Pr.getModes(n)[0];if(Pr.isDocked(n)){const u=vs(i);Ro(r,"width",u+"px"),Ro(i,l,(m=>Dt(m)+(parseInt(Ys(m,"margin-top"),10)||0)+(parseInt(Ys(m,"margin-bottom"),10)||0))(r)+"px")}else Ln(r,"width"),Ln(i,l)})},oz=(n,r)=>{r?(cr(n,Zf.fadeOutClass),pc(n,[Zf.transitionClass,Zf.fadeInClass])):(cr(n,Zf.fadeInClass),pc(n,[Zf.fadeOutClass,Zf.transitionClass]))},nz=(n,r)=>{const i=Ht(n.getContainer());r?(rs(i,ez),cr(i,tz)):(rs(i,tz),cr(i,ez))},sz=(n,r)=>{const i=er(),l=r.getSink,u=b=>{l().each(y=>b(y.element))},m=b=>{n.inline||XC(b),nz(n,Pr.isDocked(b)),b.getSystem().broadcastOn([xp()],{}),l().each(y=>y.getSystem().broadcastOn([xp()],{}))},p=n.inline?[]:[Ll.config({channels:{[_w()]:{onReceive:XC}}})];return[Po.config({}),Pr.config({contextual:{lazyContext:b=>{const y=Dt(b.element),w=n.inline?n.getContentAreaContainer():n.getContainer();return O.from(w).map(C=>{const S=Tr(Ht(C));return fb(n,b.element).fold(()=>{const z=S.height-y,M=S.y+(Aw(b,"top")?0:y);return mr(S.x,M,S.width,z)},z=>{const M=od(S,gb(z)),P=Aw(b,"top")?M.y:M.y+y;return mr(M.x,P,M.width,M.height-y)})})},onShow:()=>{u(b=>oz(b,!0))},onShown:b=>{u(y=>Bc(y,[Zf.transitionClass,Zf.fadeInClass])),i.get().each(y=>{((w,C)=>{const S=da(C);Uc(S).filter(z=>!Wn(C,z)).filter(z=>Wn(z,Ht(S.dom.body))||or(w,z)).each(()=>Xl(C))})(b.element,y),i.clear()})},onHide:b=>{((y,w)=>Hc(y).orThunk(()=>w().toOptional().bind(C=>Hc(C.element))))(b.element,l).fold(i.clear,i.set),u(y=>oz(y,!1))},onHidden:()=>{u(b=>Bc(b,[Zf.transitionClass]))},...Zf},lazyViewport:b=>fb(n,b.element).fold(()=>{const y=Ss(),w=qT(n),C=y.y+(Aw(b,"top")?w:0),S=y.height-(Aw(b,"bottom")?w:0);return{bounds:mr(y.x,C,y.width,S),optScrollEnv:O.none()}},y=>({bounds:gb(y),optScrollEnv:O.some({currentScrollTop:y.element.dom.scrollTop,scrollElmTop:_n(y.element).top})})),modes:[r.header.getDockingMode()],onDocked:m,onUndocked:m}),...p]};var EB=Object.freeze({__proto__:null,setup:(n,r,i)=>{n.inline||(r.header.isPositionedAtTop()||n.on("ResizeEditor",()=>{i().each(Pr.reset)}),n.on("ResizeWindow ResizeEditor",()=>{i().each(XC)}),n.on("SkinLoaded",()=>{i().each(l=>{Pr.isDocked(l)?Pr.reset(l):Pr.refresh(l)})}),n.on("FullscreenStateChanged",()=>{i().each(Pr.reset)})),n.on("AfterScrollIntoView",l=>{i().each(u=>{Pr.refresh(u);const m=u.element;$_(m)&&((p,b)=>{const y=da(b),w=ru(b).dom.innerHeight,C=dr(y),S=Ht(p.elm),z=xr(S),M=Ve(S),P=z.y,$=P+M,K=_n(b),ee=Ve(b),q=K.top,V=q+ee,J=Math.abs(q-C.top)<2,te=Math.abs(V-(C.top+w))<2;if(J&&P<V)Cs(C.left,P-ee,y);else if(te&&$>q){const ie=P-w+M+ee;Cs(C.left,ie,y)}})(l,m)})}),n.on("PostRender",()=>{nz(n,!1)})},isDocked:n=>n().map(Pr.isDocked).getOr(!1),getBehaviours:sz});const TB=ko([va,Ui("items",Fi([Dd([o2,pa("items",Or)]),Or]))].concat(Iv)),OB=[Gr("text"),Gr("tooltip"),Gr("icon"),Ta("search",!1,Fi([fc,ko([Gr("placeholder")])],n=>rt(n)?n?O.some({placeholder:O.none()}):O.none():O.some(n))),Ea("fetch"),rr("onSetup",()=>We)],eS=ko([va,...OB]),rz=n=>Ps("menubutton",eS,n),zB=ko([va,ox,bd,Bp,v4,i6,sb,zr("presets","normal",["normal","color","listpreview"]),i2(1),Wy,r2]);var tS=qc({factory:(n,r)=>{const i={focus:xo.focusIn,setMenus:(l,u)=>{const m=Ct(u,p=>{const b={type:"menubutton",text:p.text,fetch:w=>{w(p.getItems())}},y=rz(b).mapError(w=>zc(w)).getOrDie();return m1(y,"tox-mbtn",r.backstage,O.some("menuitem"))});zo.set(l,m)}};return{uid:n.uid,dom:n.dom,components:[],behaviours:Rt([zo.config({}),an("menubar-events",[Os(l=>{n.onSetup(l)}),at(ue(),(l,u)=>{_r(l.element,".tox-mbtn--active").each(m=>{Pc(u.event.target,".tox-mbtn").each(p=>{Wn(m,p)||l.getSystem().getByDom(m).each(b=>{l.getSystem().getByDom(p).each(y=>{Jd.expand(y),Jd.close(b),Po.focus(y)})})})})}),at(Ld(),(l,u)=>{u.event.prevFocus.bind(m=>l.getSystem().getByDom(m).toOptional()).each(m=>{u.event.newFocus.bind(p=>l.getSystem().getByDom(p).toOptional()).each(p=>{Jd.isOpen(m)&&(Jd.expand(p),Jd.close(m))})})})]),xo.config({mode:"flow",selector:".tox-mbtn",onEscape:l=>(n.onEscape(l),O.some(!0))}),pr.config({})]),apis:i,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Xe("dom"),Xe("uid"),Xe("onEscape"),Xe("backstage"),Te("onSetup",We)],apis:{focus:(n,r)=>{n.focus(r)},setMenus:(n,r,i)=>{n.setMenus(r,i)}}});const az="container",DB=[Na("slotBehaviours",[])],w0=n=>"<alloy.field."+n+">",iz=(n,r)=>{const i=C=>jh(n),l=(C,S)=>(z,M)=>as(z,n,M).map(P=>C(P,M)).getOr(S),u=(C,S)=>qr(C.element,"aria-hidden")!=="true",m=l(u,!1),p=l((C,S)=>{if(u(C)){const z=C.element;Ro(z,"display","none"),Ho(z,"aria-hidden","true"),ao(C,ig(),{name:S,visible:!1})}}),b=(C=>(S,z)=>{Yt(z,M=>C(S,M))})(p),y=l((C,S)=>{if(!u(C)){const z=C.element;Ln(z,"display"),As(z,"aria-hidden"),ao(C,ig(),{name:S,visible:!0})}}),w={getSlotNames:i,getSlot:(C,S)=>as(C,n,S),isShowing:m,hideSlot:p,hideAllSlots:C=>b(C,i()),showSlot:y};return{uid:n.uid,dom:n.dom,components:r,behaviours:Ap(n.slotBehaviours),apis:w}},RB=ln({getSlotNames:(n,r)=>n.getSlotNames(r),getSlot:(n,r,i)=>n.getSlot(r,i),isShowing:(n,r,i)=>n.isShowing(r,i),hideSlot:(n,r,i)=>n.hideSlot(r,i),hideAllSlots:(n,r)=>n.hideAllSlots(r),showSlot:(n,r,i)=>n.showSlot(r,i)},n=>dn(n)),vl={...RB,sketch:n=>{const r=(()=>{const m=[];return{slot:(p,b)=>(m.push(p),ls(az,w0(p),b)),record:ae(m)}})(),i=n(r),l=r.record(),u=Ct(l,m=>Ot({name:m,pname:w0(m)}));return B_(az,DB,u,iz,i)}},NB=ko([bd,ox,rr("onShow",We),rr("onHide",We),sb]),MB=n=>({element:()=>n.element.dom}),IB=(n,r)=>{const i=Ct(on(r),l=>{const u=r[l],m=Nl((p=>Ps("sidebar",NB,p))(u));return{name:l,getApi:MB,onSetup:m.onSetup,onShow:m.onShow,onHide:m.onHide}});return Ct(i,l=>{const u=_o(We);return n.slot(l.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Pv([Bf(l,u),Fp(l,u),at(ig(),(m,p)=>{const b=p.event;Un(i,w=>w.name===b.name).each(w=>{(b.visible?w.onShow:w.onHide)(w.getApi(m))})})])})})},BB=n=>vl.sketch(r=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:IB(r,n),slotBehaviours:Pv([Os(i=>vl.hideAllSlots(i))])})),b1=(n,r)=>{Ho(n,"role",r)},lz=n=>In.getCurrent(n).bind(r=>Qc.isGrowing(r)||Qc.hasGrown(r)?In.getCurrent(r).bind(i=>Un(vl.getSlotNames(i),l=>vl.isShowing(i,l))):O.none()),Cw=no("FixSizeEvent"),oS=no("AutoSizeEvent");var nS=Object.freeze({__proto__:null,block:(n,r,i,l)=>{Ho(n.element,"aria-busy",!0);const u=r.getRoot(n).getOr(n),m=Rt([xo.config({mode:"special",onTab:()=>O.some(!0),onShiftTab:()=>O.some(!0)}),Po.config({})]),p=l(u,m),b=u.getSystem().build(p);zo.append(u,ks(b)),b.hasConfigured(xo)&&r.focus&&xo.focusIn(b),i.isBlocked()||r.onBlock(n),i.blockWith(()=>zo.remove(u,b))},unblock:(n,r,i)=>{As(n.element,"aria-busy"),i.isBlocked()&&r.onUnblock(n),i.clear()},isBlocked:(n,r,i)=>i.isBlocked()}),LB=[rr("getRoot",O.none),Js("focus",!0),zn("onBlock"),zn("onUnblock")];const zm=Ra({fields:LB,name:"blocking",apis:nS,state:Object.freeze({__proto__:null,init:()=>{const n=uf(r=>r.destroy());return zs({readState:n.isSet,blockWith:r=>{n.set({destroy:r})},clear:n.clear,isBlocked:n.isSet})}})}),cz=n=>In.getCurrent(n).each(r=>Xl(r.element,!0)),PB=(n,r,i)=>{const l=_o(!1),u=er(),m=b=>{var y;l.get()&&(!(w=>w.type==="focusin")(y=b)||!(y.composed?nt(y.composedPath()):O.from(y.target)).map(Ht).filter(br).exists(w=>Ga(w,"mce-pastebin")))&&(b.preventDefault(),cz(r()),n.editorManager.setActive(n))};n.inline||n.on("PreInit",()=>{n.dom.bind(n.getWin(),"focusin",m),n.on("BeforeExecCommand",b=>{b.command.toLowerCase()==="mcefocus"&&b.value!==!0&&m(b)})});const p=b=>{b!==l.get()&&(l.set(b),((y,w,C,S)=>{const z=w.element;if(((M,P)=>{const $="tabindex",K=`data-mce-${$}`;O.from(M.iframeElement).map(Ht).each(ee=>{P?(Wr(ee,$).each(q=>Ho(ee,K,q)),Ho(ee,$,-1)):(As(ee,$),Wr(ee,K).each(q=>{Ho(ee,$,q),As(ee,K)}))})})(y,C),C)zm.block(w,(M=>(P,$)=>({dom:{tag:"div",attributes:{"aria-label":M.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:kg('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(S)),Ln(z,"display"),As(z,"aria-hidden"),y.hasFocus()&&cz(w);else{const M=In.getCurrent(w).exists(P=>Ah(P.element));zm.unblock(w),Ro(z,"display","none"),Ho(z,"aria-hidden","true"),M&&y.focus()}})(n,r(),b,i.providers),((y,w)=>{y.dispatch("AfterProgressState",{state:w})})(n,b))};n.on("ProgressState",b=>{if(u.on(clearTimeout),xt(b.time)){const y=Uk.setEditorTimeout(n,()=>p(b.state),b.time);u.set(y)}else p(b.state),u.clear()})},sS=(n,r,i)=>({within:n,extra:r,withinWidth:i}),dz=(n,r,i)=>{const l=H(n,(p,b)=>((y,w)=>{const C=i(y);return O.some({element:y,start:w,finish:w+C,width:C})})(b,p.len).fold(ae(p),y=>({len:y.finish,list:p.list.concat([y])})),{len:0,list:[]}).list,u=Mo(l,p=>p.finish<=r),m=pn(u,(p,b)=>p+b.width,0);return{within:u,extra:l.slice(u.length),withinWidth:m}},Sw=n=>Ct(n,r=>r.element),uz=(n,r)=>{const i=Ct(r,l=>ks(l));Vu.setGroups(n,i)},mz=(n,r,i)=>{const l=r.builtGroups.get();if(l.length===0)return;const u=Ma(n,r,"primary"),m=Rr.getCoupled(n,"overflowGroup");Ro(u.element,"visibility","hidden");const p=l.concat([m]),b=Bn(p,w=>Hc(w.element).bind(C=>w.getSystem().getByDom(C).toOptional()));i([]),uz(u,p);const y=((w,C,S,z)=>{const M=((ee,q,V)=>{const J=dz(q,ee,V);return J.extra.length===0?O.some(J):O.none()})(w,C,S).getOrThunk(()=>dz(C,w-S(z),S)),P=M.within,$=M.extra,K=M.withinWidth;return $.length===1&&$[0].width<=S(z)?((ee,q,V)=>{const J=Sw(ee.concat(q));return sS(J,[],V)})(P,$,K):$.length>=1?((ee,q,V,J)=>{const te=Sw(ee).concat([V]);return sS(te,Sw(q),J)})(P,$,z,K):((ee,q,V)=>sS(Sw(ee),[],V))(P,0,K)})(vs(u.element),r.builtGroups.get(),w=>vs(w.element),m);y.extra.length===0?(zo.remove(u,m),i([])):(uz(u,y.within),i(y.extra)),Ln(u.element,"visibility"),W(u.element),b.each(Po.focus)},fz=ae([Na("splitToolbarBehaviours",[Rr]),sa("builtGroups",()=>_o([]))]),Ew=ae([Cu(["overflowToggledClass"]),el("getOverflowBounds"),Xe("lazySink"),sa("overflowGroups",()=>_o([])),zn("onOpened"),zn("onClosed")].concat(fz())),rS=ae([Ot({factory:Vu,schema:p1(),name:"primary"}),It({schema:p1(),name:"overflow"}),It({name:"overflow-button"}),It({name:"overflow-group"})]),_0=ae((n,r)=>{((i,l)=>{const u=ns.max(i,l,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Ro(i,"max-width",u+"px")})(n,Math.floor(r))}),gz=ae([Cu(["toggledClass"]),Xe("lazySink"),Ea("fetch"),el("getBounds"),Vi("fireDismissalEventInstead",[Te("event",yu())]),gm(),zn("onToggled")]),FB=ae([It({name:"button",overrides:n=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Rt([mn.config({toggleClass:n.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:n.onToggled})])})}),It({factory:Vu,schema:p1(),name:"toolbar",overrides:n=>({toolbarBehaviours:Rt([xo.config({mode:"cyclic",onEscape:r=>(as(r,n,"button").each(Po.focus),O.none())})])})})]),Tw=er(),A0=(n,r)=>{const i=Rr.getCoupled(n,"toolbarSandbox");bn.isOpen(i)?bn.close(i):bn.open(i,r.toolbar())},C0=(n,r,i,l)=>{const u=i.getBounds.map(p=>p()),m=i.lazySink(n).getOrDie();qi.positionWithinBounds(m,r,{anchor:{type:"hotspot",hotspot:n,layouts:l,overrides:{maxWidthFunction:_0()}}},u)},S0=(n,r,i,l,u)=>{Vu.setGroups(r,u),C0(n,r,i,l),mn.on(n)},Bg=bl({name:"FloatingToolbarButton",factory:(n,r,i,l)=>({...Wi.sketch({...l.button(),action:u=>{A0(u,l)},buttonBehaviours:Cp({dump:l.button().buttonBehaviours},[Rr.config({others:{toolbarSandbox:u=>((m,p,b)=>{const y=dp();return{dom:{tag:"div",attributes:{id:y.id}},behaviours:Rt([xo.config({mode:"special",onEscape:w=>(bn.close(w),O.some(!0))}),bn.config({onOpen:(w,C)=>{const S=Tw.get().getOr(!1);b.fetch().get(z=>{S0(m,C,b,p.layouts,z),y.link(m.element),S||xo.focusIn(C)})},onClose:()=>{mn.off(m),Tw.get().getOr(!1)||Po.focus(m),y.unlink(m.element)},isPartOf:(w,C,S)=>Ka(C,S)||Ka(m,S),getAttachPoint:()=>b.lazySink(m).getOrDie()}),Ll.config({channels:{...gv({isExtraPart:_e,...b.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...wp({doReposition:()=>{bn.getState(Rr.getCoupled(m,"toolbarSandbox")).each(w=>{C0(m,w,b,p.layouts)})}})}})])}})(u,i,n)}})])}),apis:{setGroups:(u,m)=>{bn.getState(Rr.getCoupled(u,"toolbarSandbox")).each(p=>{S0(u,p,n,i.layouts,m)})},reposition:u=>{bn.getState(Rr.getCoupled(u,"toolbarSandbox")).each(m=>{C0(u,m,n,i.layouts)})},toggle:u=>{A0(u,l)},toggleWithoutFocusing:u=>{((m,p)=>{Tw.set(!0),A0(m,p),Tw.clear()})(u,l)},getToolbar:u=>bn.getState(Rr.getCoupled(u,"toolbarSandbox")),isOpen:u=>bn.isOpen(Rr.getCoupled(u,"toolbarSandbox"))}}),configFields:gz(),partFields:FB(),apis:{setGroups:(n,r,i)=>{n.setGroups(r,i)},reposition:(n,r)=>{n.reposition(r)},toggle:(n,r)=>{n.toggle(r)},toggleWithoutFocusing:(n,r)=>{n.toggleWithoutFocusing(r)},getToolbar:(n,r)=>n.getToolbar(r),isOpen:(n,r)=>n.isOpen(r)}}),UB=ae([Xe("items"),Cu(["itemSelector"]),Na("tgroupBehaviours",[xo])]),HB=ae([To({name:"items",unit:"item"})]),Ow=bl({name:"ToolbarGroup",configFields:UB(),partFields:HB(),factory:(n,r,i,l)=>({uid:n.uid,dom:n.dom,components:r,behaviours:Ya(n.tgroupBehaviours,[xo.config({mode:"flow",selector:n.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),pz=n=>Ct(n,r=>ks(r)),hz=(n,r,i)=>{mz(n,i,l=>{i.overflowGroups.set(l),r.getOpt(n).each(u=>{Bg.setGroups(u,pz(l))})})},bz=bl({name:"SplitFloatingToolbar",configFields:Ew(),partFields:rS(),factory:(n,r,i,l)=>{const u=us(Bg.sketch({fetch:()=>jp(m=>{m(pz(n.overflowGroups.get()))}),layouts:{onLtr:()=>[Lr,ci],onRtl:()=>[ci,Lr],onBottomLtr:()=>[Us,di],onBottomRtl:()=>[di,Us]},getBounds:i.getOverflowBounds,lazySink:n.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:n.markers.overflowToggledClass},parts:{button:l["overflow-button"](),toolbar:l.overflow()},onToggled:(m,p)=>n[p?"onOpened":"onClosed"](m)}));return{uid:n.uid,dom:n.dom,components:r,behaviours:Ya(n.splitToolbarBehaviours,[Rr.config({others:{overflowGroup:()=>Ow.sketch({...l["overflow-group"](),items:[u.asSpec()]})}})]),apis:{setGroups:(m,p)=>{n.builtGroups.set(Ct(p,m.getSystem().build)),hz(m,u,n)},refresh:m=>hz(m,u,n),toggle:m=>{u.getOpt(m).each(p=>{Bg.toggle(p)})},toggleWithoutFocusing:m=>{u.getOpt(m).each(Bg.toggleWithoutFocusing)},isOpen:m=>u.getOpt(m).map(Bg.isOpen).getOr(!1),reposition:m=>{u.getOpt(m).each(p=>{Bg.reposition(p)})},getOverflow:m=>u.getOpt(m).bind(Bg.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(n,r,i)=>{n.setGroups(r,i)},refresh:(n,r)=>{n.refresh(r)},reposition:(n,r)=>{n.reposition(r)},toggle:(n,r)=>{n.toggle(r)},toggleWithoutFocusing:(n,r)=>{n.toggle(r)},isOpen:(n,r)=>n.isOpen(r),getOverflow:(n,r)=>n.getOverflow(r)}}),VB=ae([Cu(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),zn("onOpened"),zn("onClosed")].concat(fz())),jB=ae([Ot({factory:Vu,schema:p1(),name:"primary"}),Ot({factory:Vu,schema:p1(),name:"overflow",overrides:n=>({toolbarBehaviours:Rt([Qc.config({dimension:{property:"height"},closedClass:n.markers.closedClass,openClass:n.markers.openClass,shrinkingClass:n.markers.shrinkingClass,growingClass:n.markers.growingClass,onShrunk:r=>{as(r,n,"overflow-button").each(i=>{mn.off(i),Po.focus(i)}),n.onClosed(r)},onGrown:r=>{xo.focusIn(r),n.onOpened(r)},onStartGrow:r=>{as(r,n,"overflow-button").each(mn.on)}}),xo.config({mode:"acyclic",onEscape:r=>(as(r,n,"overflow-button").each(Po.focus),O.some(!0))})])})}),It({name:"overflow-button",overrides:n=>({buttonBehaviours:Rt([mn.config({toggleClass:n.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),It({name:"overflow-group"})]),yz=(n,r)=>{as(n,r,"overflow-button").bind(()=>as(n,r,"overflow")).each(i=>{aS(n,r),Qc.toggleGrow(i)})},aS=(n,r)=>{as(n,r,"overflow").each(i=>{mz(n,r,l=>{const u=Ct(l,m=>ks(m));Vu.setGroups(i,u)}),as(n,r,"overflow-button").each(l=>{Qc.hasGrown(i)&&mn.on(l)}),Qc.refresh(i)})},iS=bl({name:"SplitSlidingToolbar",configFields:VB(),partFields:jB(),factory:(n,r,i,l)=>{const u="alloy.toolbar.toggle";return{uid:n.uid,dom:n.dom,components:r,behaviours:Ya(n.splitToolbarBehaviours,[Rr.config({others:{overflowGroup:m=>Ow.sketch({...l["overflow-group"](),items:[Wi.sketch({...l["overflow-button"](),action:p=>{Sn(m,u)}})]})}}),an("toolbar-toggle-events",[at(u,m=>{yz(m,n)})])]),apis:{setGroups:(m,p)=>{((b,y)=>{const w=Ct(y,b.getSystem().build);n.builtGroups.set(w)})(m,p),aS(m,n)},refresh:m=>aS(m,n),toggle:m=>yz(m,n),isOpen:m=>((p,b)=>as(p,b,"overflow").map(Qc.hasGrown).getOr(!1))(m,n)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(n,r,i)=>{n.setGroups(r,i)},refresh:(n,r)=>{n.refresh(r)},toggle:(n,r)=>{n.toggle(r)},isOpen:(n,r)=>n.isOpen(r)}}),vz=n=>{const r=n.title.fold(()=>({}),i=>({attributes:{title:i}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...r},components:[Ow.parts.items({})],items:n.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Rt([pr.config({}),Po.config({})])}},zw=n=>Ow.sketch(vz(n)),lS=(n,r)=>{const i=Os(l=>{const u=Ct(n.initGroups,zw);Vu.setGroups(l,u)});return Rt([cx(n.providers.isDisabled),Ja(),xo.config({mode:r,onEscape:n.onEscape,selector:".tox-toolbar__group"}),an("toolbar-events",[i])])},kz=n=>{const r=n.cyclicKeying?"cyclic":"acyclic";return{uid:n.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":vz({title:O.none(),items:[]}),"overflow-button":x3({name:"more",icon:O.some("more-drawer"),enabled:!0,tooltip:O.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:O.none(),borderless:!1},O.none(),n.providers)},splitToolbarBehaviours:lS(n,r)}},ZB=n=>{const r=kz(n),i=bz.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return bz.sketch({...r,lazySink:n.getSink,getOverflowBounds:()=>{const l=n.moreDrawerData.lazyHeader().element,u=xr(l),m=su(l),p=xr(m),b=Math.max(m.dom.scrollHeight,p.height);return mr(u.x+4,p.y,u.width-8,b)},parts:{...r.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n.attributes}}},components:[i],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:l=>n.onToggled(l,!0),onClosed:l=>n.onToggled(l,!1)})},qf=n=>{const r=iS.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=iS.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),l=kz(n);return iS.sketch({...l,components:[r,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:u=>{u.getSystem().broadcastOn([_w()],{type:"opened"}),n.onToggled(u,!0)},onClosed:u=>{u.getSystem().broadcastOn([_w()],{type:"closed"}),n.onToggled(u,!1)}})},cS=n=>{const r=n.cyclicKeying?"cyclic":"acyclic";return Vu.sketch({uid:n.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(n.type===Yd.scrolling?["tox-toolbar--scrolling"]:[])},components:[Vu.parts.groups({})],toolbarBehaviours:lS(n,r)})},xz=[Bp,bd,Gr("tooltip"),zr("buttonType","secondary",["primary","secondary"]),Js("borderless",!1),Ea("onAction")],Dw={button:[...xz,If,Sa("type",["button"])],togglebutton:[...xz,Js("active",!1),Sa("type",["togglebutton"])]},Ba=[Sa("type",["group"]),Fs("buttons",[],qa("type",Dw))],qB=qa("type",{...Dw,group:Ba}),WB=ko([Fs("buttons",[],qB),Ea("onShow"),Ea("onHide")]),wz=(n,r)=>((i,l)=>{var u,m;const p=i.type==="togglebutton",b=i.icon.map(q=>Ng(q,l.icons)).map(us),y={...i,name:p?i.text.getOr(i.icon.getOr("")):(u=i.text)!==null&&u!==void 0?u:i.icon.getOr(""),primary:i.buttonType==="primary",buttonType:O.from(i.buttonType),tooltip:i.tooltip,icon:i.icon,enabled:!0,borderless:i.borderless},w=rw((m=i.buttonType)!==null&&m!==void 0?m:"secondary"),C=p?i.text.map(l.translate):O.some(l.translate(i.text)),S=C.map(ar),z=y.tooltip.or(C).map(q=>({"aria-label":l.translate(q),title:l.translate(q)})).getOr({}),M=b.map(q=>q.asSpec()),P=lb([M,S]),$=i.icon.isSome()&&S.isSome(),K={tag:"button",classes:w.concat(...i.icon.isSome()&&!$?["tox-button--icon"]:[]).concat(...$?["tox-button--icon-and-text"]:[]).concat(...i.borderless?["tox-button--naked"]:[]).concat(...i.type==="togglebutton"&&i.active?["tox-button--enabled"]:[]),attributes:z},ee=p0(y,O.some(q=>{const V=J=>{b.map(te=>te.getOpt(q).each(ie=>{zo.set(ie,[Ng(J,l.icons)])}))};return p?i.onAction({setIcon:V,setActive:J=>{const te=q.element;J?(rs(te,"tox-button--enabled"),Ho(te,"aria-pressed",!0)):(cr(te,"tox-button--enabled"),As(te,"aria-pressed"))},isActive:()=>Ga(q.element,"tox-button--enabled")}):i.type==="button"?i.onAction({setIcon:V}):void 0}),[],K,P,l);return Wi.sketch(ee)})(n,r),_z=Gl().deviceType,$B=_z.isPhone(),GB=_z.isTablet();var y1=bl({name:"silver.View",configFields:[Xe("viewConfig")],partFields:[Zt({factory:{sketch:n=>{let r=!1;const i=Ct(n.buttons,l=>l.type==="group"?(r=!0,((u,m)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Ct(u.buttons,p=>wz(p,m))}))(l,n.providers)):wz(l,n.providers));return{uid:n.uid,dom:{tag:"div",classes:[r?"tox-view__toolbar":"tox-view__header",...$B||GB?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Rt([Po.config({}),xo.config({mode:"flow",selector:"button, .tox-button",focusInside:Oy.OnEnterOrSpaceMode})]),components:r?i:[Am.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Am.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}}},schema:[Xe("buttons"),Xe("providers")],name:"header"}),Zt({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(n,r,i,l)=>{const u={getPane:m=>mi.getPart(m,n,"pane"),getOnShow:m=>n.viewConfig.onShow,getOnHide:m=>n.viewConfig.onHide};return{uid:n.uid,dom:n.dom,components:r,apis:u}},apis:{getPane:(n,r)=>n.getPane(r),getOnShow:(n,r)=>n.getOnShow(r),getOnHide:(n,r)=>n.getOnHide(r)}});const KB=(n,r,i)=>wn(r,(l,u)=>{const m=Nl(Ps("view",WB,l));return n.slot(u,y1.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:m,components:[...m.buttons.length>0?[y1.parts.header({buttons:m.buttons,providers:i})]:[],y1.parts.pane({})]}))}),YB=(n,r)=>vl.sketch(i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:KB(i,n,r),slotBehaviours:Pv([Os(l=>vl.hideAllSlots(l))])})),Az=n=>Un(vl.getSlotNames(n),r=>vl.isShowing(n,r)),Cz=(n,r,i)=>{vl.getSlot(n,r).each(l=>{y1.getPane(l).each(u=>{var m;i(l)((m=u.element.dom,{getContainer:ae(m)}))})})};var Rw=qc({factory:(n,r)=>{const i={setViews:(l,u)=>{zo.set(l,[YB(u,r.backstage.shared.providers)])},whichView:l=>In.getCurrent(l).bind(Az),toggleView:(l,u,m,p)=>In.getCurrent(l).exists(b=>{const y=Az(b),w=y.exists(S=>p===S),C=vl.getSlot(b,p).isSome();return C&&(vl.hideAllSlots(b),w?((S=>{const z=S.element;Ro(z,"display","none"),Ho(z,"aria-hidden","true")})(l),u()):(m(),(S=>{const z=S.element;Ln(z,"display"),As(z,"aria-hidden")})(l),vl.showSlot(b,p),((S,z)=>{Cz(S,z,y1.getOnShow)})(b,p)),y.each(S=>((z,M)=>Cz(z,M,y1.getOnHide))(b,S))),C})};return{uid:n.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Rt([zo.config({}),In.config({find:l=>{const u=zo.contents(l);return nt(u)}})]),apis:i}},name:"silver.ViewWrapper",configFields:[Xe("backstage")],apis:{setViews:(n,r,i)=>n.setViews(r,i),toggleView:(n,r,i,l,u)=>n.toggleView(r,i,l,u),whichView:(n,r)=>n.whichView(r)}});const QB=jf.optional({factory:tS,name:"menubar",schema:[Xe("backstage")]}),JB=jf.optional({factory:{sketch:n=>eu.sketch({uid:n.uid,dom:n.dom,listBehaviours:Rt([xo.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>cS({type:n.type,uid:no("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:n.providers,onEscape:()=>(n.onEscape(),O.some(!0))}),setupItem:(r,i,l,u)=>{Vu.setGroups(i,l)},shell:!0})},name:"multiple-toolbar",schema:[Xe("dom"),Xe("onEscape")]}),XB=jf.optional({factory:{sketch:n=>(i=>i.type===Yd.sliding?qf:i.type===Yd.floating?ZB:cS)(n)({type:n.type,uid:n.uid,onEscape:()=>(n.onEscape(),O.some(!0)),onToggled:(i,l)=>n.onToolbarToggled(l),cyclicKeying:!1,initGroups:[],getSink:n.getSink,providers:n.providers,moreDrawerData:{lazyToolbar:n.lazyToolbar,lazyMoreButton:n.lazyMoreButton,lazyHeader:n.lazyHeader},attributes:n.attributes})},name:"toolbar",schema:[Xe("dom"),Xe("onEscape"),Xe("getSink")]}),e5=jf.optional({factory:{sketch:n=>{const r=n.editor,i=n.sticky?sz:ZC;return{uid:n.uid,dom:n.dom,components:n.components,behaviours:Rt(i(r,n.sharedBackstage))}}},name:"header",schema:[Xe("dom")]}),t5=jf.optional({factory:{sketch:n=>({uid:n.uid,dom:n.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"⚡️Upgrade"}}]})},name:"promotion",schema:[Xe("dom")]}),o5=jf.optional({name:"socket",schema:[Xe("dom")]}),n5=jf.optional({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Rt([pr.config({}),Po.config({}),Qc.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:r=>{In.getCurrent(r).each(vl.hideAllSlots),Sn(r,oS)},onGrown:r=>{Sn(r,oS)},onStartGrow:r=>{ao(r,Cw,{width:vr(r.element,"width").getOr("")})},onStartShrink:r=>{ao(r,Cw,{width:vs(r.element)+"px"})}}),zo.config({}),In.config({find:r=>{const i=zo.contents(r);return nt(i)}})])}],behaviours:Rt([lC(0),an("sidebar-sliding-events",[at(Cw,(r,i)=>{Ro(r.element,"width",i.event.width)}),at(oS,(r,i)=>{Ln(r.element,"width")})])])})},name:"sidebar",schema:[Xe("dom")]}),s5=jf.optional({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Rt([zo.config({}),zm.config({focus:!1}),In.config({find:r=>nt(r.components())})]),components:[]})},name:"throbber",schema:[Xe("dom")]}),r5=jf.optional({factory:Rw,name:"viewWrapper",schema:[Xe("backstage")]}),a5=jf.optional({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:n.components})},name:"editorContainer",schema:[]});var Vs=bl({name:"OuterContainer",factory:(n,r,i)=>{let l=!1;const u={getSocket:m=>mi.getPart(m,n,"socket"),setSidebar:(m,p,b)=>{mi.getPart(m,n,"sidebar").each(y=>((w,C,S)=>{In.getCurrent(w).each(z=>{zo.set(z,[BB(C)]);const M=S==null?void 0:S.toLowerCase();ze(M)&&uo(C,M)&&In.getCurrent(z).each(P=>{vl.showSlot(P,M),Qc.immediateGrow(z),Ln(z.element,"width"),b1(w.element,"region")})})})(y,p,b))},toggleSidebar:(m,p)=>{mi.getPart(m,n,"sidebar").each(b=>((y,w)=>{In.getCurrent(y).each(C=>{In.getCurrent(C).each(S=>{Qc.hasGrown(C)?vl.isShowing(S,w)?(Qc.shrink(C),b1(y.element,"presentation")):(vl.hideAllSlots(S),vl.showSlot(S,w),b1(y.element,"region")):(vl.hideAllSlots(S),vl.showSlot(S,w),Qc.grow(C),b1(y.element,"region"))})})})(b,p))},whichSidebar:m=>mi.getPart(m,n,"sidebar").bind(lz).getOrNull(),getHeader:m=>mi.getPart(m,n,"header"),getToolbar:m=>mi.getPart(m,n,"toolbar"),setToolbar:(m,p)=>{mi.getPart(m,n,"toolbar").each(b=>{const y=Ct(p,zw);b.getApis().setGroups(b,y)})},setToolbars:(m,p)=>{mi.getPart(m,n,"multiple-toolbar").each(b=>{const y=Ct(p,w=>Ct(w,zw));eu.setItems(b,y)})},refreshToolbar:m=>{mi.getPart(m,n,"toolbar").each(p=>p.getApis().refresh(p))},toggleToolbarDrawer:m=>{mi.getPart(m,n,"toolbar").each(p=>{An(p.getApis().toggle,b=>b(p))})},toggleToolbarDrawerWithoutFocusing:m=>{mi.getPart(m,n,"toolbar").each(p=>{An(p.getApis().toggleWithoutFocusing,b=>b(p))})},isToolbarDrawerToggled:m=>mi.getPart(m,n,"toolbar").bind(p=>O.from(p.getApis().isOpen).map(b=>b(p))).getOr(!1),getThrobber:m=>mi.getPart(m,n,"throbber"),focusToolbar:m=>{mi.getPart(m,n,"toolbar").orThunk(()=>mi.getPart(m,n,"multiple-toolbar")).each(p=>{xo.focusIn(p)})},setMenubar:(m,p)=>{mi.getPart(m,n,"menubar").each(b=>{tS.setMenus(b,p)})},focusMenubar:m=>{mi.getPart(m,n,"menubar").each(p=>{tS.focus(p)})},setViews:(m,p)=>{mi.getPart(m,n,"viewWrapper").each(b=>{Rw.setViews(b,p)})},toggleView:(m,p)=>mi.getPart(m,n,"viewWrapper").exists(b=>Rw.toggleView(b,()=>u.showMainView(m),()=>u.hideMainView(m),p)),whichView:m=>mi.getPart(m,n,"viewWrapper").bind(Rw.whichView).getOrNull(),hideMainView:m=>{l=u.isToolbarDrawerToggled(m),l&&u.toggleToolbarDrawer(m),mi.getPart(m,n,"editorContainer").each(p=>{const b=p.element;Ro(b,"display","none"),Ho(b,"aria-hidden","true")})},showMainView:m=>{l&&u.toggleToolbarDrawer(m),mi.getPart(m,n,"editorContainer").each(p=>{const b=p.element;Ln(b,"display"),As(b,"aria-hidden")})}};return{uid:n.uid,dom:n.dom,components:r,apis:u,behaviours:n.behaviours}},configFields:[Xe("dom"),Xe("behaviours")],partFields:[e5,QB,XB,JB,o5,n5,t5,s5,r5,a5],apis:{getSocket:(n,r)=>n.getSocket(r),setSidebar:(n,r,i,l)=>{n.setSidebar(r,i,l)},toggleSidebar:(n,r,i)=>{n.toggleSidebar(r,i)},whichSidebar:(n,r)=>n.whichSidebar(r),getHeader:(n,r)=>n.getHeader(r),getToolbar:(n,r)=>n.getToolbar(r),setToolbar:(n,r,i)=>{n.setToolbar(r,i)},setToolbars:(n,r,i)=>{n.setToolbars(r,i)},refreshToolbar:(n,r)=>n.refreshToolbar(r),toggleToolbarDrawer:(n,r)=>{n.toggleToolbarDrawer(r)},toggleToolbarDrawerWithoutFocusing:(n,r)=>{n.toggleToolbarDrawerWithoutFocusing(r)},isToolbarDrawerToggled:(n,r)=>n.isToolbarDrawerToggled(r),getThrobber:(n,r)=>n.getThrobber(r),setMenubar:(n,r,i)=>{n.setMenubar(r,i)},focusMenubar:(n,r)=>{n.focusMenubar(r)},focusToolbar:(n,r)=>{n.focusToolbar(r)},setViews:(n,r,i)=>{n.setViews(r,i)},toggleView:(n,r,i)=>n.toggleView(r,i),whichView:(n,r)=>n.whichView(r)}});const Sz={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},dS=n=>n.split(" "),uS=(n,r)=>{const i={...Sz,...r.menus},l=on(r.menus).length>0,u=r.menubar===void 0||r.menubar===!0?dS("file edit view insert format tools table help"):dS(r.menubar===!1?"":r.menubar),m=Mo(u,b=>{const y=uo(Sz,b);return l?y||Qt(r.menus,b).exists(w=>uo(w,"items")):y}),p=Ct(m,b=>{const y=i[b];return((w,C,S)=>{const z=Hy(S).split(/[ ,]/);return{text:w.title,getItems:()=>Ws(w.items,M=>{const P=M.toLowerCase();return P.trim().length===0||tr(z,$=>$===P)?[]:P==="separator"||P==="|"?[{type:"separator"}]:C.menuItems[P]?[C.menuItems[P]]:[]})}})({title:y.title,items:dS(y.items)},r,n)});return Mo(p,b=>b.getItems().length>0&&tr(b.getItems(),y=>ze(y)||y.type!=="separator"))},Ez=(n,r,i)=>(n.on("remove",()=>i.unload(r)),i.load(r)),mS=(n,r,i,l)=>(n.on("remove",()=>l.unloadRawCss(r)),l.loadRawCss(r,i)),i5=async(n,r)=>{const i="ui/"+Yk(n).getOr("default")+"/skin.css",l=tinymce.Resource.get(i);return ze(l)?Promise.resolve(mS(n,i,l,n.ui.styleSheetLoader)):Ez(n,r+"/skin.min.css",n.ui.styleSheetLoader)},Tz=async(n,r)=>{var i;if(i=Ht(n.getElement()),ir(i).isSome()){const l=r+"/skin.shadowdom.css",u=tinymce.Resource.get(l);return ze(u)?(mS(n,l,u,Qh.DOM.styleSheetLoader),Promise.resolve()):Ez(n,r+"/skin.shadowdom.min.css",Qh.DOM.styleSheetLoader)}},Oz=(n,r)=>(async(i,l)=>{Yk(l).fold(()=>{const m=Kk(l);m&&l.contentCSS.push(m+(i?"/content.inline":"/content")+".min.css")},m=>{const p="ui/"+m+(i?"/content.inline":"/content")+".css",b=tinymce.Resource.get(p);if(ze(b))mS(l,p,b,l.ui.styleSheetLoader);else{const y=Kk(l);y&&l.contentCSS.push(y+(i?"/content.inline":"/content")+".min.css")}});const u=Kk(l);if(!Xt(l)&&ze(u))return Promise.all([i5(l,u),Tz(l,u)]).then()})(n,r).then((i=>{const l=()=>{i._skinLoaded=!0,(u=>{u.dispatch("SkinLoaded")})(i)};return()=>{i.initialized?l():i.on("init",l)}})(r),((i,l)=>()=>((u,m)=>{u.dispatch("SkinLoadError",m)})(i,{message:"Skin could not be loaded"}))(r)),l5=tt(Oz,!1),c5=tt(Oz,!0),Tb=(n,r,i)=>n.translate([r,n.translate(i)]),d5=(n,r,i)=>{const l=(p,b,y,w)=>{const C=r.shared.providers.translate(p.title);if(p.type==="separator")return O.some({type:"separator",text:C});if(p.type==="submenu"){const S=Ws(p.getStyleItems(),z=>u(z,b,w));return b===0&&S.length<=0?O.none():O.some({type:"nestedmenuitem",text:C,enabled:S.length>0,getSubmenuItems:()=>Ws(p.getStyleItems(),z=>u(z,b,w))})}return O.some({type:"togglemenuitem",text:C,icon:p.icon,active:p.isSelected(w),enabled:!y,onAction:i.onAction(p),...p.getStylePreview().fold(()=>({}),S=>({meta:{style:S}}))})},u=(p,b,y)=>{const w=p.type==="formatter"&&i.isInvalid(p);return b===0?w?[]:l(p,b,!1,y).toArray():l(p,b,w,y).toArray()},m=p=>{const b=i.getCurrentValue(),y=i.shouldHide?0:1;return Ws(p,w=>u(w,y,b))};return{validateItems:m,getFetch:(p,b)=>(y,w)=>{const C=b(),S=m(C);w(u1(S,wm.CLOSE_ON_EXECUTE,p,{isHorizontalMenu:!1,search:O.none()}))}}},v1=(n,r,i)=>{const l=i.dataset,u=l.type==="basic"?()=>Ct(l.data,m=>mw(m,i.isSelectedFor,i.getPreviewFor)):l.getData;return{items:d5(0,r,i),getStyleItems:u}},E0=(n,r,i,l,u)=>{const{items:m,getStyleItems:p}=v1(0,r,i);return Qx({text:i.icon.isSome()?O.none():i.text,icon:i.icon,tooltip:O.from(i.tooltip),role:O.none(),fetch:m.getFetch(r,p),onSetup:b=>{const y=w=>b.setTooltip(Tb(n,l,w.value));return n.on(u,y),Hv(ub(n,"NodeChange",w=>{const C=w.getComponent();i.updateText(C),Io.set(w.getComponent(),!n.selection.isEditable())})(b),()=>n.off(u,y))},getApi:b=>({getComponent:ae(b),setTooltip:y=>{const w=r.shared.providers.translate(y);ri(b.element,{"aria-label":w,title:w})}}),columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",r.shared)};var k1;(function(n){n[n.SemiColon=0]="SemiColon",n[n.Space=1]="Space"})(k1||(k1={}));const Nw=(n,r,i)=>{const l=(u=((m,p)=>p===k1.SemiColon?m.replace(/;$/,"").split(";"):m.split(" "))(n.options.get(r),i),Ct(u,m=>{let p=m,b=m;const y=m.split("=");return y.length>1&&(p=y[0],b=y[1]),{title:p,format:b}}));var u;return{type:"basic",data:l}},zz="Alignment {0}",fS="left",gS=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],pS=n=>{const r={type:"basic",data:gS};return{tooltip:Tb(n,zz,fS),text:O.none(),icon:O.some("align-left"),isSelectedFor:i=>()=>n.formatter.match(i),getCurrentValue:O.none,getPreviewFor:i=>O.none,onAction:i=>()=>Un(gS,l=>l.format===i.format).each(l=>n.execCommand(l.command)),updateText:i=>{const l=Un(gS,u=>n.formatter.match(u.format)).fold(ae(fS),u=>u.title.toLowerCase());ao(i,Sm,{icon:`align-${l}`}),((u,m)=>{u.dispatch("AlignTextUpdate",m)})(n,{value:l})},dataset:r,shouldHide:!1,isInvalid:i=>!n.formatter.canApply(i.format)}},Dz=(n,r)=>{const i=r(),l=Ct(i,u=>u.format);return O.from(n.formatter.closest(l)).bind(u=>Un(i,m=>m.format===u)).orThunk(()=>Fa(n.formatter.match("p"),{title:"Paragraph",format:"p"}))},Rz="Block {0}",hS="Paragraph",Nz=n=>{const r=Nw(n,"block_formats",k1.SemiColon);return{tooltip:Tb(n,Rz,hS),text:O.some(hS),icon:O.none(),isSelectedFor:i=>()=>n.formatter.match(i),getCurrentValue:O.none,getPreviewFor:i=>()=>{const l=n.formatter.get(i);return l?O.some({tag:l.length>0&&(l[0].inline||l[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(i))}):O.none()},onAction:G4(n),updateText:i=>{const l=Dz(n,()=>r.data).fold(ae(hS),u=>u.title);ao(i,vd,{text:l}),((u,m)=>{u.dispatch("BlocksTextUpdate",m)})(n,{value:l})},dataset:r,shouldHide:!1,isInvalid:i=>!n.formatter.canApply(i.format)}},Mz="Font {0}",bS="System Font",u5=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],Iz=n=>{const r=n.split(/\s*,\s*/);return Ct(r,i=>i.replace(/^['"]+|['"]+$/g,""))},Bz=(n,r)=>r.length>0&&Al(r,i=>n.indexOf(i.toLowerCase())>-1),Lz=n=>{const r=()=>{const l=w=>w?Iz(w)[0]:"",u=n.queryCommandValue("FontName"),m=i.data,p=u?u.toLowerCase():"",b=o4(n);return{matchOpt:Un(m,w=>{const C=w.format;return C.toLowerCase()===p||l(C).toLowerCase()===l(p).toLowerCase()}).orThunk(()=>Fa(((w,C)=>{if(w.indexOf("-apple-system")===0||C.length>0){const S=Iz(w.toLowerCase());return Bz(S,u5)||Bz(S,C)}return!1})(p,b),{title:bS,format:p})),font:u}},i=Nw(n,"font_family_formats",k1.SemiColon);return{tooltip:Tb(n,Mz,bS),text:O.some(bS),icon:O.none(),isSelectedFor:l=>u=>u.exists(m=>m.format===l),getCurrentValue:()=>{const{matchOpt:l}=r();return l},getPreviewFor:l=>()=>O.some({tag:"div",styles:l.indexOf("dings")===-1?{"font-family":l}:{}}),onAction:l=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontName",!1,l.format)})},updateText:l=>{const{matchOpt:u,font:m}=r(),p=u.fold(ae(m),b=>b.title);ao(l,vd,{text:p}),((b,y)=>{b.dispatch("FontFamilyTextUpdate",y)})(n,{value:p})},dataset:i,shouldHide:!1,isInvalid:_e}},m5={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},f5=(()=>{const n="[0-9]+",r="[eE][+-]?"+n,i=u=>`(?:${u})?`,l=["Infinity",n+"\\."+i(n)+i(r),"\\."+n+i(r),n+i(r)].join("|");return new RegExp(`^([+-]?(?:${l}))(.*)$`)})(),T0=(n,r)=>O.from(f5.exec(n)).bind(i=>{const l=Number(i[1]),u=i[2];return((m,p)=>tr(p,b=>tr(m5[b],y=>m===y)))(u,r)?O.some({value:l,unit:u}):O.none()}),Pz={tab:ae(9),escape:ae(27),enter:ae(13),backspace:ae(8),delete:ae(46),left:ae(37),up:ae(38),right:ae(39),down:ae(40),space:ae(32),home:ae(36),end:ae(35),pageUp:ae(33),pageDown:ae(34)},Fz="Font size {0}",Uz="12pt",g5={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},p5={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},yS=(n,r)=>/[0-9.]+px$/.test(n)?((i,l)=>{const u=Math.pow(10,l);return Math.round(i*u)/u})(72*parseInt(n,10)/96,r||0)+"pt":Qt(p5,n).getOr(n),h5=n=>Qt(g5,n).getOr(""),Hz=n=>{const r=()=>{let u=O.none();const m=l.data,p=n.queryCommandValue("FontSize");if(p)for(let b=3;u.isNone()&&b>=0;b--){const y=yS(p,b),w=h5(y);u=Un(m,C=>C.format===p||C.format===y||C.format===w)}return{matchOpt:u,size:p}},i=ae(O.none),l=Nw(n,"font_size_formats",k1.Space);return{tooltip:Tb(n,Fz,Uz),text:O.some(Uz),icon:O.none(),isSelectedFor:u=>m=>m.exists(p=>p.format===u),getPreviewFor:i,getCurrentValue:()=>{const{matchOpt:u}=r();return u},onAction:u=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontSize",!1,u.format)})},updateText:u=>{const{matchOpt:m,size:p}=r(),b=m.fold(ae(p),y=>y.title);ao(u,vd,{text:b}),((y,w)=>{y.dispatch("FontSizeTextUpdate",w)})(n,{value:b})},dataset:l,shouldHide:!1,isInvalid:_e}},Vz="Format {0}",vS=(n,r)=>{const i="Paragraph";return{tooltip:Tb(n,Vz,i),text:O.some(i),icon:O.none(),isSelectedFor:l=>()=>n.formatter.match(l),getCurrentValue:O.none,getPreviewFor:l=>()=>{const u=n.formatter.get(l);return u!==void 0?O.some({tag:u.length>0&&(u[0].inline||u[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(l))}):O.none()},onAction:G4(n),updateText:l=>{const u=b=>B3(b)?Ws(b.items,u):ys(b)?[{title:b.title,format:b.format}]:[],m=Ws(PC(n),u),p=Dz(n,ae(m)).fold(ae(i),b=>b.title);ao(l,vd,{text:p}),((b,y)=>{b.dispatch("StylesTextUpdate",y)})(n,{value:p})},shouldHide:VT(n),isInvalid:l=>!n.formatter.canApply(l.format),dataset:r}},jz=ae([Xe("toggleClass"),Xe("fetch"),Hd("onExecute"),Te("getHotspot",O.some),Te("getAnchorOverrides",ae({})),gm(),Hd("onItemExecute"),$n("lazySink"),Xe("dom"),zn("onOpen"),Na("splitDropdownBehaviours",[Rr,xo,Po]),Te("matchWidth",!1),Te("useMinWidth",!1),Te("eventOrder",{}),$n("role")].concat(Ax())),b5=Ot({factory:Wi,schema:[Xe("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Rt([Po.revoke()])}),overrides:n=>({dom:{tag:"span",attributes:{role:"presentation"}},action:r=>{r.getSystem().getByUid(n.uid).each(vu)},buttonBehaviours:Rt([mn.config({toggleOnExecute:!1,toggleClass:n.toggleClass})])})}),y5=Ot({factory:Wi,schema:[Xe("dom")],name:"button",defaults:()=>({buttonBehaviours:Rt([Po.revoke()])}),overrides:n=>({dom:{tag:"span",attributes:{role:"presentation"}},action:r=>{r.getSystem().getByUid(n.uid).each(i=>{n.onExecute(i,r)})}})}),Zz=ae([b5,y5,Zt({factory:{sketch:n=>({uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}})},schema:[Xe("text")],name:"aria-descriptor"}),It({schema:[bh()],name:"menu",defaults:n=>({onExecute:(r,i)=>{r.getSystem().getByUid(n.uid).each(l=>{n.onItemExecute(l,r,i)})}})}),rO()]),Mw=bl({name:"SplitDropdown",configFields:jz(),partFields:Zz(),factory:(n,r,i,l)=>{const u=w=>{In.getCurrent(w).each(C=>{jn.highlightFirst(C),xo.focusIn(C)})},m=w=>{wx(n,Lt,w,l,u,Vl.HighlightMenuAndItem).get(We)},p=w=>{const C=Ma(w,n,"button");return vu(C),O.some(!0)},b={...hn([Os((w,C)=>{as(w,n,"aria-descriptor").each(S=>{const z=no("aria");Ho(S.element,"id",z),Ho(w.element,"aria-describedby",z)})})]),...Ev(O.some(m))},y={repositionMenus:w=>{mn.isOn(w)&&_x(w)}};return{uid:n.uid,dom:n.dom,components:r,apis:y,eventOrder:{...n.eventOrder,[Ai()]:["disabling","toggling","alloy.base.behaviour"]},events:b,behaviours:Ya(n.splitDropdownBehaviours,[Rr.config({others:{sandbox:w=>{const C=Ma(w,n,"arrow");return mb(n,w,{onOpen:()=>{mn.on(C),mn.on(w)},onClose:()=>{mn.off(C),mn.off(w)}})}}}),xo.config({mode:"special",onSpace:p,onEnter:p,onDown:w=>(m(w),O.some(!0))}),Po.config({}),mn.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:n.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(n,r)=>n.repositionMenus(r)}}),qz=n=>({isEnabled:()=>!Io.isDisabled(n),setEnabled:r=>Io.set(n,!r),setText:r=>ao(n,vd,{text:r}),setIcon:r=>ao(n,Sm,{icon:r})}),v5=n=>({setActive:r=>{mn.set(n,r)},isActive:()=>mn.isOn(n),isEnabled:()=>!Io.isDisabled(n),setEnabled:r=>Io.set(n,!r),setText:r=>ao(n,vd,{text:r}),setIcon:r=>ao(n,Sm,{icon:r})}),Wz=(n,r)=>n.map(i=>({"aria-label":r.translate(i),title:r.translate(i)})).getOr({}),$z=no("focus-button"),kS=(n,r,i,l,u)=>{const m=r.map(b=>us(n3(b,"tox-tbtn",u))),p=n.map(b=>us(Ng(b,u.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:Wz(i,u)},components:lb([p.map(b=>b.asSpec()),m.map(b=>b.asSpec())]),eventOrder:{[za()]:["focusing","alloy.base.behaviour",_b],[kt()]:[_b,"toolbar-group-button-events"]},buttonBehaviours:Rt([cx(u.isDisabled),Ja(),an(_b,[Os((b,y)=>fC(b)),at(vd,(b,y)=>{m.bind(w=>w.getOpt(b)).each(w=>{zo.set(w,[ar(u.translate(y.event.text))])})}),at(Sm,(b,y)=>{p.bind(w=>w.getOpt(b)).each(w=>{zo.set(w,[Ng(y.event.icon,u.icons)])})}),at(za(),(b,y)=>{y.event.prevent(),Sn(b,$z)})])].concat(l.getOr([])))}},O0=(n,r,i)=>{var l;const u=_o(We),m=kS(n.icon,n.text,n.tooltip,O.none(),i);return Wi.sketch({dom:m.dom,components:m.components,eventOrder:t3,buttonBehaviours:{...Rt([an("toolbar-button-events",[(p={onAction:n.onAction,getApi:r.getApi},ol((b,y)=>{dx(p,b)(w=>{ao(b,e3,{buttonApi:w}),p.onAction(w)})})),Bf(r,u),Fp(r,u)]),cx(()=>!n.enabled||i.isDisabled()),Ja()].concat(r.toolbarButtonBehaviours)),[_b]:(l=m.buttonBehaviours)===null||l===void 0?void 0:l[_b]}});var p},Gz=(n,r,i)=>O0(n,{toolbarButtonBehaviours:i.length>0?[an("toolbarButtonWith",i)]:[],getApi:qz,onSetup:n.onSetup},r),z0=(n,r,i)=>O0(n,{toolbarButtonBehaviours:[zo.config({}),mn.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[an("toolbarToggleButtonWith",i)]:[]),getApi:v5,onSetup:n.onSetup},r),k5=(n,r,i)=>l=>jp(u=>r.fetch(u)).map(u=>O.from($v(oe(yx(no("menu-value"),u,m=>{r.onItemAction(n(l),m)},r.columns,r.presets,wm.CLOSE_ON_EXECUTE,r.select.getOr(_e),i),{movement:e1(r.columns,r.presets),menuBehaviours:Pv(r.columns!=="auto"?[]:[Os((m,p)=>{Lv(m,4,c4(r.presets)).each(({numRows:b,numColumns:y})=>{xo.setGridSize(m,b,y)})})])})))),x5=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],D0=(n,r)=>(i,l,u)=>{const m=n(i).mapError(p=>zc(p)).getOrDie();return r(m,l,u)},w5={button:D0(c2,(n,r)=>{return i=n,l=r.shared.providers,Gz(i,l,[]);var i,l}),togglebutton:D0(w4,(n,r)=>{return i=n,l=r.shared.providers,z0(i,l,[]);var i,l}),menubutton:D0(rz,(n,r)=>m1(n,"tox-tbtn",r,O.none(),!1)),splitbutton:D0(n=>Ps("SplitButton",zB,n),(n,r)=>((i,l)=>{const u=b=>({isEnabled:()=>!Io.isDisabled(b),setEnabled:y=>Io.set(b,!y),setIconFill:(y,w)=>{_r(b.element,`svg path[class="${y}"], rect[class="${y}"]`).each(C=>{Ho(C,"fill",w)})},setActive:y=>{Ho(b.element,"aria-pressed",y),_r(b.element,"span").each(w=>{b.getSystem().getByDom(w).each(C=>mn.set(C,y))})},isActive:()=>_r(b.element,"span").exists(y=>b.getSystem().getByDom(y).exists(mn.isOn)),setText:y=>_r(b.element,"span").each(w=>b.getSystem().getByDom(w).each(C=>ao(C,vd,{text:y}))),setIcon:y=>_r(b.element,"span").each(w=>b.getSystem().getByDom(w).each(C=>ao(C,Sm,{icon:y}))),setTooltip:y=>{const w=l.providers.translate(y);ri(b.element,{"aria-label":w,title:w})}}),m=_o(We),p={getApi:u,onSetup:i.onSetup};return Mw.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...Wz(i.tooltip,l.providers)}},onExecute:b=>{const y=u(b);y.isEnabled()&&i.onAction(y)},onItemExecute:(b,y,w)=>{},splitDropdownBehaviours:Rt([Pp(l.providers.isDisabled),Ja(),an("split-dropdown-events",[Os((b,y)=>fC(b)),at($z,Po.focus),Bf(p,m),Fp(p,m)]),Yv.config({})]),eventOrder:{[kt()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:l.getSink,fetch:k5(u,i,l.providers),parts:{menu:wg(0,i.columns,i.presets)},components:[Mw.parts.button(kS(i.icon,i.text,O.none(),O.some([mn.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),l.providers)),Mw.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:SA("chevron-down",l.providers.icons)},buttonBehaviours:Rt([Pp(l.providers.isDisabled),Ja(),EA()])}),Mw.parts["aria-descriptor"]({text:l.providers.translate("To open the popup, press Shift+Enter")})]})})(n,r.shared)),grouptoolbarbutton:D0(n=>Ps("GroupToolbarButton",TB,n),(n,r,i)=>{const l=i.ui.registry.getAll().buttons,u={[ia]:r.shared.header.isPositionedAtTop()?sl.TopToBottom:sl.BottomToTop};if(Xh(i)===Yd.floating)return((m,p,b,y)=>{const w=p.shared,C=_o(We),S={toolbarButtonBehaviours:[],getApi:qz,onSetup:m.onSetup},z=[an("toolbar-group-button-events",[Bf(S,C),Fp(S,C)])];return Bg.sketch({lazySink:w.getSink,fetch:()=>jp(M=>{M(Ct(b(m.items),zw))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:kS(m.icon,m.text,m.tooltip,O.some(z),w.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:y}}}})})(n,r,m=>Ob(i,{buttons:l,toolbar:m,allowToolbarGroups:!1},r,O.none()),u);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},_5={styles:(n,r)=>{const i={type:"advanced",...r.styles};return E0(n,r,vS(n,i),Vz,"StylesTextUpdate")},fontsize:(n,r)=>E0(n,r,Hz(n),Fz,"FontSizeTextUpdate"),fontsizeinput:(n,r)=>((i,l,u)=>{let m=O.none();const p=ub(i,"NodeChange SwitchMode",V=>{const J=V.getComponent();m=O.some(J),u.updateInputValue(J),Io.set(J,!i.selection.isEditable())}),b=V=>({getComponent:ae(V)}),y=_o(We),w=no("custom-number-input-events"),C=(V,J,te)=>{const ie=m.map(lt=>Gt.getValue(lt)).getOr(""),ve=u.getNewValue(ie,V),Re=ie.length-`${ve}`.length,st=m.map(lt=>lt.element.dom.selectionStart-Re),it=m.map(lt=>lt.element.dom.selectionEnd-Re);u.onAction(ve,te),m.each(lt=>{Gt.setValue(lt,ve),J&&(st.each(qt=>lt.element.dom.selectionStart=qt),it.each(qt=>lt.element.dom.selectionEnd=qt))})},S=(V,J)=>C((te,ie)=>te-ie,V,J),z=(V,J)=>C((te,ie)=>te+ie,V,J),M=V=>yr(V.element).fold(O.none,J=>(Xl(J),O.some(!0))),P=V=>Ah(V.element)?(Yi(V.element).each(J=>Xl(J)),O.some(!0)):O.none(),$=(V,J,te,ie)=>{const ve=_o(We),Re=l.shared.providers.translate(te),st=no("altExecuting"),it=ub(i,"NodeChange SwitchMode",qt=>{Io.set(qt.getComponent(),!i.selection.isEditable())}),lt=qt=>{Io.isDisabled(qt)||V(!0)};return Wi.sketch({dom:{tag:"button",attributes:{title:Re,"aria-label":Re},classes:ie.concat(J)},components:[Yx(J,l.shared.providers.icons)],buttonBehaviours:Rt([Io.config({}),an(st,[Bf({onSetup:it,getApi:b},ve),Fp({getApi:b},ve),at(oo(),(qt,eo)=>{eo.event.raw.keyCode!==Pz.space()&&eo.event.raw.keyCode!==Pz.enter()||Io.isDisabled(qt)||V(!1)}),at(Qn(),lt),at(Il(),lt)])]),eventOrder:{[oo()]:[st,"keying"],[Qn()]:[st,"alloy.base.behaviour"],[Il()]:[st,"alloy.base.behaviour"]}})},K=us($(V=>S(!1,V),"minus","Decrease font size",[])),ee=us($(V=>z(!1,V),"plus","Increase font size",[])),q=us({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[_g.sketch({inputBehaviours:Rt([Io.config({}),an(w,[Bf({onSetup:p,getApi:b},y),Fp({getApi:b},y)]),an("input-update-display-text",[at(vd,(V,J)=>{Gt.setValue(V,J.event.text)}),at(wt(),V=>{u.onAction(Gt.getValue(V))}),at(ho(),V=>{u.onAction(Gt.getValue(V))})]),xo.config({mode:"special",onEnter:V=>(C(Lt,!0,!0),O.some(!0)),onEscape:M,onUp:V=>(z(!0,!1),O.some(!0)),onDown:V=>(S(!0,!1),O.some(!0)),onLeft:(V,J)=>(J.cut(),O.none()),onRight:(V,J)=>(J.cut(),O.none())})])})],behaviours:Rt([Po.config({}),xo.config({mode:"special",onEnter:P,onSpace:P,onEscape:M}),an("input-wrapper-events",[at(ue(),V=>{Yt([K,ee],J=>{const te=Ht(J.get(V).element.dom);Ah(te)&&Y1(te)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[K.asSpec(),q.asSpec(),ee.asSpec()],behaviours:Rt([Po.config({}),xo.config({mode:"flow",focusInside:Oy.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:V=>Ah(V.element)?O.none():(Xl(V.element),O.some(!0))})])}})(n,r,(i=>{const l=()=>i.queryCommandValue("FontSize");return{updateInputValue:u=>ao(u,vd,{text:l()}),onAction:(u,m)=>i.execCommand("FontSize",!1,u,{skip_focus:!m}),getNewValue:(u,m)=>{T0(u,["unsupportedLength","empty"]);const p=l(),b=T0(u,["unsupportedLength","empty"]).or(T0(p,["unsupportedLength","empty"])),y=b.map(M=>M.value).getOr(16),w=KT(i),C=b.map(M=>M.unit).filter(M=>M!=="").getOr(w),S=m(y,(M=>{var P;return(P={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[M])!==null&&P!==void 0?P:{step:1}})(C).step),z=`${(M=>M>=0)(S)?S:y}${C}`;return z!==p&&((M,P)=>{M.dispatch("FontSizeInputTextUpdate",P)})(i,{value:z}),z}}})(n)),fontfamily:(n,r)=>E0(n,r,Lz(n),Mz,"FontFamilyTextUpdate"),blocks:(n,r)=>E0(n,r,Nz(n),Rz,"BlocksTextUpdate"),align:(n,r)=>E0(n,r,pS(n),zz,"AlignTextUpdate")},Ob=(n,r,i,l)=>{const u=(p=>{const b=p.toolbar,y=p.buttons;return b===!1?[]:b===void 0||b===!0?(w=>{const C=Ct(x5,S=>{const z=Mo(S.items,M=>uo(w,M)||uo(_5,M));return{name:S.name,items:z}});return Mo(C,S=>S.items.length>0)})(y):ze(b)?(w=>{const C=w.split("|");return Ct(C,S=>({items:S.trim().split(" ")}))})(b):(w=>so(w,C=>uo(C,"name")&&uo(C,"items")))(b)?b:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(r),m=Ct(u,p=>{const b=Ws(p.items,y=>y.trim().length===0?[]:((w,C,S,z,M,P)=>Qt(C,S.toLowerCase()).orThunk(()=>P.bind($=>Bn($,K=>Qt(C,K+S.toLowerCase())))).fold(()=>Qt(_5,S.toLowerCase()).map($=>$(w,M)),$=>$.type!=="grouptoolbarbutton"||z?((K,ee,q)=>Qt(w5,K.type).fold(()=>(console.error("skipping button defined by",K),O.none()),V=>O.some(V(K,ee,q))))($,M,w):(console.warn(`Ignoring the '${S}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),O.none())))(n,r.buttons,y,r.allowToolbarGroups,i,l).toArray());return{title:O.from(n.translate(p.name)),items:b}});return Mo(m,p=>p.items.length>0)},zb=(n,r,i,l)=>{const u=r.mainUi.outerContainer,m=i.toolbar,p=i.buttons;if(so(m,ze)){const b=m.map(y=>{const w={toolbar:y,buttons:p,allowToolbarGroups:i.allowToolbarGroups};return Ob(n,w,l,O.none())});Vs.setToolbars(u,b)}else Vs.setToolbar(u,Ob(n,i,l,O.none()))},xS=Gl(),Kz=xS.os.isiOS()&&xS.os.version.major<=12;var A5=Object.freeze({__proto__:null,render:(n,r,i,l,u)=>{const{mainUi:m,uiMotherships:p}=r,b=_o(0),y=m.outerContainer;l5(n);const w=Ht(u.targetNode),C=oa(nr(w));Af(w,m.mothership),((P,$,K)=>{Ip(P)&&Af(K.mainUi.mothership.element,K.popupUi.mothership),Ih($,K.dialogUi.mothership)})(n,C,r),n.on("SkinLoaded",()=>{Vs.setSidebar(y,i.sidebar,e4(n)),zb(n,r,i,l),b.set(n.getWin().innerWidth),Vs.setMenubar(y,uS(n,i)),Vs.setViews(y,i.views),((P,$)=>{const{uiMotherships:K}=$,ee=P.dom;let q=P.getWin();const V=P.getDoc().documentElement,J=_o(qo(q.innerWidth,q.innerHeight)),te=_o(qo(V.offsetWidth,V.offsetHeight)),ie=()=>{const it=J.get();it.left===q.innerWidth&&it.top===q.innerHeight||(J.set(qo(q.innerWidth,q.innerHeight)),_2(P))},ve=()=>{const it=P.getDoc().documentElement,lt=te.get();lt.left===it.offsetWidth&&lt.top===it.offsetHeight||(te.set(qo(it.offsetWidth,it.offsetHeight)),_2(P))},Re=it=>{((lt,qt)=>{lt.dispatch("ScrollContent",qt)})(P,it)};ee.bind(q,"resize",ie),ee.bind(q,"scroll",Re);const st=Eh(Ht(P.getBody()),"load",ve);P.on("hide",()=>{Yt(K,it=>{Ro(it.element,"display","none")})}),P.on("show",()=>{Yt(K,it=>{Ln(it.element,"display")})}),P.on("NodeChange",ve),P.on("remove",()=>{st.unbind(),ee.unbind(q,"resize",ie),ee.unbind(q,"scroll",Re),q=null})})(n,r)});const S=Vs.getSocket(y).getOrDie("Could not find expected socket element");if(Kz){Tl(S.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const P=((K,ee)=>{let q=null;return{cancel:()=>{je(q)||(clearTimeout(q),q=null)},throttle:(...V)=>{je(q)&&(q=setTimeout(()=>{q=null,K.apply(null,V)},20))}}})(()=>{n.dispatch("ScrollContent")}),$=Oi(S.element,"scroll",P.throttle);n.on("remove",$.unbind)}T4(n,r),n.addCommand("ToggleSidebar",(P,$)=>{Vs.toggleSidebar(y,$),n.dispatch("ToggleSidebar")}),n.addQueryValueHandler("ToggleSidebar",()=>{var P;return(P=Vs.whichSidebar(y))!==null&&P!==void 0?P:""}),n.addCommand("ToggleView",(P,$)=>{if(Vs.toggleView(y,$)){const K=y.element;m.mothership.broadcastOn([Fl()],{target:K}),Yt(p,ee=>{ee.broadcastOn([Fl()],{target:K})}),je(Vs.whichView(y))&&(n.focus(),n.nodeChanged(),Vs.refreshToolbar(y))}}),n.addQueryValueHandler("ToggleView",()=>{var P;return(P=Vs.whichView(y))!==null&&P!==void 0?P:""});const z=Xh(n);z!==Yd.sliding&&z!==Yd.floating||n.on("ResizeWindow ResizeEditor ResizeContent",()=>{const P=n.getWin().innerWidth;P!==b.get()&&(Vs.refreshToolbar(r.mainUi.outerContainer),b.set(P))});const M={setEnabled:P=>{lx(r,!P)},isEnabled:()=>!Io.isDisabled(y)};return{iframeContainer:S.element.dom,editorContainer:y.element.dom,api:M}}});const wS=n=>/^[0-9\.]+(|px)$/i.test(""+n)?O.some(parseInt(""+n,10)):O.none(),_S=n=>xt(n)?n+"px":n,Iw=(n,r,i)=>{const l=r.filter(m=>n<m),u=i.filter(m=>n>m);return l.or(u).getOr(n)},Yz=n=>{const r=zA(n),i=DA(n),l=Ov(n);return wS(r).map(u=>Iw(u,i,l))},{ToolbarLocation:AS,ToolbarMode:Qz}=AM,C5=(n,r,i,l,u)=>{const{mainUi:m,uiMotherships:p}=i,b=Qh.DOM,y=eb(n),w=Zy(n),C=Ov(n).or(Yz(n)),S=l.shared.header,z=S.isPositionedAtTop,M=Xh(n),P=M===Qz.sliding||M===Qz.floating,$=_o(!1),K=()=>$.get()&&!n.removed,ee=te=>P?te.fold(ae(0),ie=>ie.components().length>1?Ve(ie.components()[1].element):0):0,q=()=>{Yt(p,te=>{te.broadcastOn([xp()],{})})},V=te=>{if(!K())return;y||u.on(ve=>{const Re=C.getOrThunk(()=>{const st=wS(Ys(Aa(),"margin-left")).getOr(0);return vs(Aa())-_n(r).left+st});Ro(ve.element,"max-width",Re+"px")});const ie=y?O.none():(()=>{if(y)return O.none();if(_n(m.outerContainer.element).left+$r(m.outerContainer.element)>=window.innerWidth-40||vr(m.outerContainer.element,"width").isSome()){Ro(m.outerContainer.element,"position","absolute"),Ro(m.outerContainer.element,"left","0px"),Ln(m.outerContainer.element,"width");const ve=$r(m.outerContainer.element);return O.some(ve)}return O.none()})();P&&Vs.refreshToolbar(m.outerContainer),y||(ve=>{u.on(Re=>{const st=Vs.getToolbar(m.outerContainer),it=ee(st),lt=Tr(r),{top:qt,left:eo}=((Fo,yn)=>Ip(Fo)?WC(yn):O.none())(n,m.outerContainer.element).fold(()=>({top:z()?Math.max(lt.y-Ve(Re.element)+it,0):lt.bottom,left:lt.x}),Fo=>{var yn;const Ms=Tr(Fo),hr=(yn=Fo.dom.scrollTop)!==null&&yn!==void 0?yn:0,Go=Wn(Fo,Aa()),fi=Go?Math.max(lt.y-Ve(Re.element)+it,0):lt.y-Ms.y+hr-Ve(Re.element)+it;return{top:z()?fi:lt.bottom,left:Go?lt.x:lt.x-Ms.x}}),po={position:"absolute",left:Math.round(eo)+"px",top:Math.round(qt)+"px"},Bo=ve.map(Fo=>{const yn=dr(),Ms=window.innerWidth-(eo-yn.left);return{width:Math.max(Math.min(Fo,Ms),150)+"px"}}).getOr({});Tl(m.outerContainer.element,{...po,...Bo})})})(ie),w&&u.on(te),q()},J=()=>!(y||!w||!K())&&u.get().exists(te=>{const ie=S.getDockingMode(),ve=(st=>{switch(BA(n)){case AS.auto:const it=Vs.getToolbar(m.outerContainer),lt=ee(it),qt=Ve(st.element)-lt,eo=Tr(r);if(eo.y>qt)return"top";{const po=su(r),Bo=Math.max(po.dom.scrollHeight,Ve(po));return eo.bottom<Bo-qt||Ss().bottom<eo.bottom-qt?"bottom":"top"}case AS.bottom:return"bottom";case AS.top:default:return"top"}})(te);return ve!==ie&&(Re=ve,u.on(st=>{Pr.setModes(st,[Re]),S.setDockingMode(Re);const it=z()?sl.TopToBottom:sl.BottomToTop;Ho(st.element,ia,it)}),!0);var Re});return{isVisible:K,isPositionedAtTop:z,show:()=>{$.set(!0),Ro(m.outerContainer.element,"display","flex"),b.addClass(n.getBody(),"mce-edit-focus"),Yt(p,te=>{Ln(te.element,"display")}),J(),Ip(n)?V(te=>Pr.isDocked(te)?Pr.reset(te):Pr.refresh(te)):V(Pr.refresh)},hide:()=>{$.set(!1),Ro(m.outerContainer.element,"display","none"),b.removeClass(n.getBody(),"mce-edit-focus"),Yt(p,te=>{Ro(te.element,"display","none")})},update:V,updateMode:()=>{J()&&V(Pr.reset)},repositionPopups:q}},Jz=(n,r)=>{const i=Tr(n);return{pos:r?i.y:i.bottom,bounds:i}};var S5=Object.freeze({__proto__:null,render:(n,r,i,l,u)=>{const{mainUi:m}=r,p=er(),b=Ht(u.targetNode),y=C5(n,b,r,l,p),w=ZT(n);c5(n);const C=()=>{if(p.isSet())return void y.show();p.set(Vs.getHeader(m.outerContainer).getOrDie());const z=Dv(n);Ip(n)?(Af(b,m.mothership),Af(b,r.popupUi.mothership)):Ih(z,m.mothership),Ih(z,r.dialogUi.mothership),zb(n,r,i,l),Vs.setMenubar(m.outerContainer,uS(n,i)),y.show(),((M,P,$,K)=>{const ee=_o(Jz(P,$.isPositionedAtTop())),q=ie=>{const{pos:ve,bounds:Re}=Jz(P,$.isPositionedAtTop()),{pos:st,bounds:it}=ee.get(),lt=Re.height!==it.height||Re.width!==it.width;ee.set({pos:ve,bounds:Re}),lt&&_2(M,ie),$.isVisible()&&(st!==ve?$.update(Pr.reset):lt&&($.updateMode(),$.repositionPopups()))};K||(M.on("activate",$.show),M.on("deactivate",$.hide)),M.on("SkinLoaded ResizeWindow",()=>$.update(Pr.reset)),M.on("NodeChange keydown",ie=>{requestAnimationFrame(()=>q(ie))});let V=0;const J=a0(()=>$.update(Pr.refresh),33);M.on("ScrollWindow",()=>{const ie=dr().left;ie!==V&&(V=ie,J.throttle()),$.updateMode()}),Ip(M)&&M.on("ElementScroll",ie=>{$.update(Pr.refresh)});const te=Eu();te.set(Eh(Ht(M.getBody()),"load",ie=>q(ie.raw))),M.on("remove",()=>{te.clear()})})(n,b,y,w),n.nodeChanged()};n.on("show",C),n.on("hide",y.hide),w||(n.on("focus",C),n.on("blur",y.hide)),n.on("init",()=>{(n.hasFocus()||w)&&C()}),T4(n,r);const S={show:C,hide:y.hide,setEnabled:z=>{lx(r,!z)},isEnabled:()=>!Io.isDisabled(m.outerContainer)};return{editorContainer:m.outerContainer.element.dom,api:S}}});const Xz="contexttoolbar-hide",CS=(n,r)=>at(e3,(i,l)=>{const u=(m=>({hide:()=>Sn(m,ag()),getValue:()=>Gt.getValue(m)}))(n.get(i));r.onAction(u,l.event.buttonApi)}),x1=(n,r)=>{const i=n.label.fold(()=>({}),m=>({"aria-label":m})),l=us(_g.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:n.initValue(),inputAttributes:i,selectOnFocus:!0,inputBehaviours:Rt([xo.config({mode:"special",onEnter:m=>u.findPrimary(m).map(p=>(vu(p),!0)),onLeft:(m,p)=>(p.cut(),O.none()),onRight:(m,p)=>(p.cut(),O.none())})])})),u=((m,p,b)=>{const y=Ct(p,w=>us(((C,S,z)=>(M=>M.type==="contextformtogglebutton")(S)?((M,P,$)=>{const{primary:K,...ee}=P.original,q=Nl(w4({...ee,type:"togglebutton",onAction:We}));return z0(q,$,[CS(M,P)])})(C,S,z):((M,P,$)=>{const{primary:K,...ee}=P.original,q=Nl(c2({...ee,type:"button",onAction:We}));return Gz(q,$,[CS(M,P)])})(C,S,z))(m,w,b)));return{asSpecs:()=>Ct(y,w=>w.asSpec()),findPrimary:w=>Bn(p,(C,S)=>C.primary?O.from(y[S]).bind(z=>z.getOpt(w)).filter(sn(Io.isDisabled)):O.none())}})(l,n.commands,r);return[{title:O.none(),items:[l.asSpec()]},{title:O.none(),items:u.asSpecs()}]},$p=(n,r,i)=>r.bottom-n.y>=i&&n.bottom-r.y>=i,SS=n=>{const r=(i=>{const l=i.getBoundingClientRect();if(l.height<=0&&l.width<=0){const u=ac(Ht(i.startContainer),i.startOffset).element;return(si(u)?Mi(u):O.some(u)).filter(br).map(m=>m.dom.getBoundingClientRect()).getOr(l)}return l})(n.selection.getRng());if(n.inline){const i=dr();return mr(i.left+r.left,i.top+r.top,r.width,r.height)}{const i=xr(Ht(n.getBody()));return mr(i.x+r.left,i.y+r.top,r.width,r.height)}},ES=(n,r,i,l=0)=>{const u=wi(window),m=Tr(Ht(n.getContentAreaContainer())),p=Mf(n)||Vy(n)||jy(n),{x:b,width:y}=((w,C,S)=>{const z=Math.max(w.x+S,C.x);return{x:z,width:Math.min(w.right-S,C.right)-z}})(m,u,l);if(n.inline&&!p)return mr(b,u.y,y,u.height);{const w=r.header.isPositionedAtTop(),{y:C,bottom:S}=((z,M,P,$,K,ee)=>{const q=Ht(z.getContainer()),V=_r(q,".tox-editor-header").getOr(q),J=Tr(V),te=J.y>=M.bottom,ie=$&&!te;if(z.inline&&ie)return{y:Math.max(J.bottom+ee,P.y),bottom:P.bottom};if(z.inline&&!ie)return{y:P.y,bottom:Math.min(J.y-ee,P.bottom)};const ve=K==="line"?Tr(q):M;return ie?{y:Math.max(J.bottom+ee,P.y),bottom:Math.min(ve.bottom-ee,P.bottom)}:{y:Math.max(ve.y+ee,P.y),bottom:Math.min(J.y-ee,P.bottom)}})(n,m,u,w,i,l);return mr(b,C,y,S-C)}},TS={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},R0={maxHeightFunction:gg(),maxWidthFunction:_0()},eD=n=>n==="node",N0=(n,r,i,l,u)=>{const m=SS(n),p=l.lastElement().exists(b=>Wn(i,b));return((b,y)=>{const w=b.selection.getRng(),C=ac(Ht(w.startContainer),w.startOffset);return w.startContainer===w.endContainer&&w.startOffset===w.endOffset-1&&Wn(C.element,y)})(n,i)?p?I3:Uu:p?((b,y,w)=>{const C=vr(b,"position");Ro(b,"position",y);const S=$p(m,Tr(r),-20)&&!l.isReposition()?BC:I3;return C.each(z=>Ro(b,"position",z)),S})(r,l.getMode()):(l.getMode()==="fixed"?u.y+dr().top:u.y)+(Ve(r)+12)<=m.y?Uu:h0},M0=(n,r,i,l)=>{const u=p=>(b,y,w,C,S)=>({...N0(n,C,p,i,S)({...b,y:S.y,height:S.height},y,w,C,S),alwaysFit:!0}),m=p=>eD(l)?[u(p)]:[];return r?{onLtr:p=>[gr,ci,Lr,di,Us,hl].concat(m(p)),onRtl:p=>[gr,Lr,ci,Us,di,hl].concat(m(p))}:{onLtr:p=>[hl,gr,di,ci,Us,Lr].concat(m(p)),onRtl:p=>[hl,gr,Us,Lr,di,ci].concat(m(p))}},OS=(n,r)=>{const i=Mo(r,m=>m.predicate(n.dom)),{pass:l,fail:u}=hi(i,m=>m.type==="contexttoolbar");return{contextToolbars:l,contextForms:u}},E5=(n,r)=>{const i={},l=[],u=[],m={},p={},b=on(n);return Yt(b,y=>{const w=n[y];w.type==="contextform"?((C,S)=>{const z=Nl(Ps("ContextForm",LM,S));i[C]=z,z.launch.map(M=>{m["form:"+C]={...S.launch,type:M.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{r(z)}}}),z.scope==="editor"?u.push(z):l.push(z),p[C]=z})(y,w):w.type==="contexttoolbar"&&((C,S)=>{var z;(z=S,Ps("ContextToolbar",PM,z)).each(M=>{S.scope==="editor"?u.push(M):l.push(M),p[C]=M})})(y,w)}),{forms:i,inNodeScope:l,inEditorScope:u,lookupTable:p,formNavigators:m}},tD=no("forward-slide"),oD=no("backward-slide"),zS=no("change-slide-event"),DS="tox-pop--resizing",w1="tox-pop--transition",T5=(n,r,i,l)=>{const u=l.backstage,m=u.shared,p=Gl().deviceType.isTouch,b=er(),y=er(),w=er(),C=ji((ie=>{const ve=_o([]);return Ar.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:Re=>{ve.set([]),Ar.getContent(Re).each(st=>{Ln(st.element,"visibility")}),cr(Re.element,DS),Ln(Re.element,"width")},inlineBehaviours:Rt([an("context-toolbar-events",[sm(Wa(),(Re,st)=>{st.event.raw.propertyName==="width"&&(cr(Re.element,DS),Ln(Re.element,"width"))}),at(zS,(Re,st)=>{const it=Re.element;Ln(it,"width");const lt=vs(it);Ar.setContent(Re,st.event.contents),rs(it,DS);const qt=vs(it);Ro(it,"width",lt+"px"),Ar.getContent(Re).each(eo=>{st.event.focus.bind(po=>(Xl(po),Hc(it))).orThunk(()=>(xo.focusIn(eo),Uc(nr(it))))}),setTimeout(()=>{Ro(Re.element,"width",qt+"px")},0)}),at(tD,(Re,st)=>{Ar.getContent(Re).each(it=>{ve.set(ve.get().concat([{bar:it,focus:Uc(nr(Re.element))}]))}),ao(Re,zS,{contents:st.event.forwardContents,focus:O.none()})}),at(oD,(Re,st)=>{go(ve.get()).each(it=>{ve.set(ve.get().slice(0,ve.get().length-1)),ao(Re,zS,{contents:ks(it.bar),focus:it.focus})})})]),xo.config({mode:"special",onEscape:Re=>go(ve.get()).fold(()=>ie.onEscape(),st=>(Sn(Re,oD),O.some(!0)))})]),lazySink:()=>un.value(ie.sink)})})({sink:i,onEscape:()=>(n.focus(),O.some(!0))})),S=()=>{const ie=w.get().getOr("node"),ve=eD(ie)?1:0;return ES(n,m,ie,ve)},z=()=>!(n.removed||p()&&u.isContextMenuOpen()),M=()=>{if(z()){const ie=S(),ve=Pa(w.get(),"node")?((Re,st)=>st.filter(it=>gs(it)&&_a(it)).map(xr).getOrThunk(()=>SS(Re)))(n,b.get()):SS(n);return ie.height<=0||!$p(ve,ie,.01)}return!0},P=()=>{b.clear(),y.clear(),w.clear(),Ar.hide(C)},$=()=>{if(Ar.isOpen(C)){const ie=C.element;Ln(ie,"display"),M()?Ro(ie,"display","none"):(y.set(0),Ar.reposition(C))}},K=ie=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[ie],behaviours:Rt([xo.config({mode:"acyclic"}),an("pop-dialog-wrap-events",[Os(ve=>{n.shortcuts.add("ctrl+F9","focus statusbar",()=>xo.focusIn(ve))}),dd(ve=>{n.shortcuts.remove("ctrl+F9")})])])}),ee=ki(()=>E5(r,ie=>{const ve=q([ie]);ao(C,tD,{forwardContents:K(ve)})})),q=ie=>{const{buttons:ve}=n.ui.registry.getAll(),Re={...ve,...ee().formNavigators},st=Xh(n)===Yd.scrolling?Yd.scrolling:Yd.default,it=qn(Ct(ie,lt=>lt.type==="contexttoolbar"?((qt,eo)=>Ob(n,{buttons:qt,toolbar:eo.items,allowToolbarGroups:!1},l.backstage,O.some(["form:"])))(Re,lt):((qt,eo)=>x1(qt,eo))(lt,m.providers)));return cS({type:st,uid:no("context-toolbar"),initGroups:it,onEscape:O.none,cyclicKeying:!0,providers:m.providers})},V=(ie,ve)=>{if(te.cancel(),!z())return;const Re=q(ie),st=ie[0].position,it=((qt,eo)=>{const po=qt==="node"?m.anchors.node(eo):m.anchors.cursor(),Bo=((Fo,yn,Ms,hr)=>yn==="line"?{bubble:Vd(12,0,TS),layouts:{onLtr:()=>[ui],onRtl:()=>[xh]},overrides:R0}:{bubble:Vd(0,12,TS,1/12),layouts:M0(Fo,Ms,hr,yn),overrides:R0})(n,qt,p(),{lastElement:b.get,isReposition:()=>Pa(y.get(),0),getMode:()=>qi.getMode(i)});return oe(po,Bo)})(st,ve);w.set(st),y.set(1);const lt=C.element;Ln(lt,"display"),(qt=>Pa(wa(qt,b.get(),Wn),!0))(ve)||(cr(lt,w1),qi.reset(i,C)),Ar.showWithinBounds(C,K(Re),{anchor:it,transition:{classes:[w1],mode:"placement"}},()=>O.some(S())),ve.fold(b.clear,b.set),M()&&Ro(lt,"display","none")};let J=!1;const te=a0(()=>{!n.hasFocus()||n.removed||J||(Ga(C.element,w1)?te.throttle():((ie,ve)=>{const Re=Ht(ve.getBody()),st=lt=>Wn(lt,Re),it=Ht(ve.selection.getNode());return(lt=>!st(lt)&&!or(Re,lt))(it)?O.none():((lt,qt,eo)=>{const po=OS(lt,qt);if(po.contextForms.length>0)return O.some({elem:lt,toolbars:[po.contextForms[0]]});{const Bo=OS(lt,eo);if(Bo.contextForms.length>0)return O.some({elem:lt,toolbars:[Bo.contextForms[0]]});if(po.contextToolbars.length>0||Bo.contextToolbars.length>0){const Fo=(yn=>{if(yn.length<=1)return yn;{const Ms=Yo=>tr(yn,Fr=>Fr.position===Yo),hr=Yo=>Mo(yn,Fr=>Fr.position===Yo),Go=Ms("selection"),fi=Ms("node");if(Go||fi){if(fi&&Go){const Yo=hr("node"),Fr=Ct(hr("selection"),Is=>({...Is,position:"node"}));return Yo.concat(Fr)}return hr(Go?"selection":"node")}return hr("line")}})(po.contextToolbars.concat(Bo.contextToolbars));return O.some({elem:lt,toolbars:Fo})}return O.none()}})(it,ie.inNodeScope,ie.inEditorScope).orThunk(()=>((lt,qt,eo)=>lt(qt)?O.none():id(qt,po=>{if(br(po)){const{contextToolbars:Bo,contextForms:Fo}=OS(po,eo.inNodeScope),yn=Fo.length>0?Fo:(Ms=>{if(Ms.length<=1)return Ms;{const hr=Go=>Un(Ms,fi=>fi.position===Go);return hr("selection").orThunk(()=>hr("node")).orThunk(()=>hr("line")).map(Go=>Go.position).fold(()=>[],Go=>Mo(Ms,fi=>fi.position===Go))}})(Bo);return yn.length>0?O.some({elem:po,toolbars:yn}):O.none()}return O.none()},lt))(st,it,ie))})(ee(),n).fold(P,ie=>{V(ie.toolbars,O.some(ie.elem))}))},17);n.on("init",()=>{n.on("remove",P),n.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",$),n.on("click keyup focus SetContent",te.throttle),n.on(Xz,P),n.on("contexttoolbar-show",ie=>{const ve=ee();Qt(ve.lookupTable,ie.toolbarKey).each(Re=>{V([Re],Fa(ie.target!==n,ie.target)),Ar.getContent(C).each(xo.focusIn)})}),n.on("focusout",ie=>{Uk.setEditorTimeout(n,()=>{Hc(i.element).isNone()&&Hc(C.element).isNone()&&P()},0)}),n.on("SwitchMode",()=>{n.mode.isReadOnly()&&P()}),n.on("AfterProgressState",ie=>{ie.state?P():n.hasFocus()&&te.throttle()}),n.on("dragstart",()=>{J=!0}),n.on("dragend drop",()=>{J=!1}),n.on("NodeChange",ie=>{Hc(C.element).fold(te.throttle,We)})})},Bw=(n,r)=>{const i=()=>{const l=r.getOptions(n),u=r.getCurrent(n).map(r.hash),m=er();return Ct(l,p=>({type:"togglemenuitem",text:r.display(p),onSetup:b=>{const y=C=>{C&&(m.on(S=>S.setActive(!1)),m.set(b)),b.setActive(C)};y(Pa(u,r.hash(p)));const w=r.watcher(n,p,y);return()=>{m.clear(),w()}},onAction:()=>r.setCurrent(n,p)}))};n.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:l=>l(i()),onSetup:r.onToolbarSetup}),n.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:i,onSetup:r.onMenuSetup})},O5=n=>{Bw(n,(r=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:zv,hash:i=>((l,u)=>T0(l,["fixed","relative","empty"]).map(({value:m,unit:p})=>m+p))(i).getOr(i),display:Lt,watcher:(i,l,u)=>i.formatter.formatChanged("lineheight",u,!1,{value:l}).unbind,getCurrent:i=>O.from(i.queryCommandValue("LineHeight")),setCurrent:(i,l)=>i.execCommand("LineHeight",!1,l),onToolbarSetup:yl(r),onMenuSetup:yl(r)}))(n)),(r=>O.from(IA(r)).map(i=>({name:"language",text:"Language",icon:"language",getOptions:ae(i),hash:l=>zt(l.customCode)?l.code:`${l.code}/${l.customCode}`,display:l=>l.title,watcher:(l,u,m)=>{var p;return l.formatter.formatChanged("lang",m,!1,{value:u.code,customValue:(p=u.customCode)!==null&&p!==void 0?p:null}).unbind},getCurrent:l=>{const u=Ht(l.selection.getNode());return Ml(u,m=>O.some(m).filter(br).bind(p=>Wr(p,"lang").map(b=>({code:b,customCode:Wr(p,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(l,u)=>l.execCommand("Lang",!1,u),onToolbarSetup:l=>{const u=Eu();return l.setActive(r.formatter.match("lang",{},void 0,!0)),u.set(r.formatter.formatChanged("lang",l.setActive,!0)),Hv(u.clear,yl(r)(l))},onMenuSetup:yl(r)})))(n).each(r=>Bw(n,r))},z5=n=>ub(n,"NodeChange",r=>{r.setEnabled(n.queryCommandState("outdent")&&n.selection.isEditable())}),nD=(n,r)=>i=>{i.setActive(r.get());const l=u=>{r.set(u.state),i.setActive(u.state)};return n.on("PastePlainTextToggle",l),Hv(()=>n.off("PastePlainTextToggle",l),yl(n)(i))},Lw=(n,r)=>()=>{n.execCommand("mceToggleFormat",!1,r)},D5=n=>{(r=>{(i=>{Rg.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(l,u)=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:gx(i,l.name),onAction:Lw(i,l.name)})});for(let l=1;l<=6;l++){const u="h"+l;i.ui.registry.addToggleButton(u,{text:u.toUpperCase(),tooltip:"Heading "+l,onSetup:gx(i,u),onAction:Lw(i,u)})}})(r),(i=>{Rg.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],l=>{i.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onAction:Yc(i,l.action)})}),Rg.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],l=>{i.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:yl(i),onAction:Yc(i,l.action)})})})(r),(i=>{Rg.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],l=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:Yc(i,l.action),onSetup:gx(i,l.name)})})})(r)})(n),(r=>{Rg.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],i=>{r.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onAction:Yc(r,i.action)})}),Rg.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],i=>{r.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onSetup:yl(r),onAction:Yc(r,i.action)})}),r.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:yl(r),onAction:Lw(r,"code")})})(n)},Pw=(n,r)=>ub(n,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i=>{i.setEnabled(!n.mode.isReadOnly()&&n.undoManager[r]())}),R5=n=>ub(n,"VisualAid",r=>{r.setActive(n.hasVisual)}),sD=(n,r)=>{(i=>{Yt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],l=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:Yc(i,l.cmd),onSetup:gx(i,l.name)})}),i.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:yl(i),onAction:Yc(i,"JustifyNone")})})(n),D5(n),((i,l)=>{((u,m)=>{const p=v1(0,m,pS(u));u.ui.registry.addNestedMenuItem("align",{text:m.shared.providers.translate("Align"),onSetup:yl(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((u,m)=>{const p=v1(0,m,Lz(u));u.ui.registry.addNestedMenuItem("fontfamily",{text:m.shared.providers.translate("Fonts"),onSetup:yl(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((u,m)=>{const p={type:"advanced",...m.styles},b=v1(0,m,vS(u,p));u.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:yl(u),getSubmenuItems:()=>b.items.validateItems(b.getStyleItems())})})(i,l),((u,m)=>{const p=v1(0,m,Nz(u));u.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:yl(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((u,m)=>{const p=v1(0,m,Hz(u));u.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:yl(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l)})(n,r),(i=>{(l=>{l.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:Pw(l,"hasUndo"),onAction:Yc(l,"undo")}),l.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:Pw(l,"hasRedo"),onAction:Yc(l,"redo")})})(i),(l=>{l.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:Pw(l,"hasUndo"),onAction:Yc(l,"undo")}),l.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:Pw(l,"hasRedo"),onAction:Yc(l,"redo")})})(i)})(n),(i=>{(b=>{b.addCommand("mceApplyTextcolor",(y,w)=>{((C,S,z)=>{C.undoManager.transact(()=>{C.focus(),C.formatter.apply(S,{value:z}),C.nodeChanged()})})(b,y,w)}),b.addCommand("mceRemoveTextcolor",y=>{((w,C)=>{w.undoManager.transact(()=>{w.focus(),w.formatter.remove(C,{value:null},void 0,!0),w.nodeChanged()})})(b,y)})})(i);const l=tI(i),u=Zv(i),m=_o(l),p=_o(u);bx(i,"forecolor","forecolor",m),bx(i,"backcolor","hilitecolor",p),X4(i,"forecolor","forecolor","Text color",m),X4(i,"backcolor","hilitecolor","Background color",p)})(n),(i=>{(l=>{l.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Yc(l,"mceToggleVisualAid")})})(i),(l=>{l.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:R5(l),onAction:Yc(l,"mceToggleVisualAid")})})(i)})(n),(i=>{(l=>{l.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:z5(l),onAction:Yc(l,"outdent")}),l.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:yl(l),onAction:Yc(l,"indent")})})(i)})(n),O5(n),(i=>{const l=_o(XT(i)),u=()=>i.execCommand("mceTogglePlainTextPaste");i.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:u,onSetup:nD(i,l)}),i.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:u,onSetup:nD(i,l)})})(n)},N5=n=>ze(n)?n.split(/[ ,]/):n,rD=n=>r=>r.options.get(n),aD=rD("contextmenu_never_use_native"),M5=rD("contextmenu_avoid_overlap"),iD=n=>{const r=n.ui.registry.getAll().contextMenus,i=n.options.get("contextmenu");return n.options.isSet("contextmenu")?i:Mo(i,l=>uo(r,l))},_1=(n,r)=>({type:"makeshift",x:n,y:r}),RS=n=>n.type==="longpress"||n.type.indexOf("touch")===0,I5=(n,r)=>r.type==="contextmenu"||r.type==="longpress"?n.inline?(i=>{if(RS(i)){const l=i.touches[0];return _1(l.pageX,l.pageY)}return _1(i.pageX,i.pageY)})(r):((i,l)=>{const u=Qh.DOM.getPos(i);return((m,p,b)=>_1(m.x+p,m.y+b))(l,u.x,u.y)})(n.getContentAreaContainer(),(i=>{if(RS(i)){const l=i.touches[0];return _1(l.clientX,l.clientY)}return _1(i.clientX,i.clientY)})(r)):lD(n),lD=n=>({type:"selection",root:Ht(n.selection.getNode())}),cD=(n,r,i)=>{switch(i){case"node":return(l=>({type:"node",node:O.some(Ht(l.selection.getNode())),root:Ht(l.getBody())}))(n);case"point":return I5(n,r);case"selection":return lD(n)}},B5=(n,r,i,l,u,m)=>{const p=i(),b=cD(n,r,m);u1(p,wm.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:O.none()}).map(y=>{r.preventDefault(),Ar.showMenuAt(u,{anchor:b},{menu:{markers:ob("normal")},data:y})})},L5={onLtr:()=>[gr,ci,Lr,di,Us,hl,Uu,h0,g1,dw,f1,cw],onRtl:()=>[gr,Lr,ci,Us,di,hl,Uu,h0,f1,cw,g1,dw]},dD={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},A1=(n,r,i,l,u,m)=>{const p=Gl(),b=p.os.isiOS(),y=p.os.isMacOS(),w=p.os.isAndroid(),C=p.deviceType.isTouch(),S=()=>{const z=i();((M,P,$,K,ee,q,V)=>{const J=((te,ie,ve)=>{const Re=cD(te,ie,ve);return{bubble:Vd(0,ve==="point"?12:0,dD),layouts:L5,overrides:{maxWidthFunction:_0(),maxHeightFunction:gg()},...Re}})(M,P,q);u1($,wm.CLOSE_ON_EXECUTE,K,{isHorizontalMenu:!0,search:O.none()}).map(te=>{P.preventDefault();const ie=V?Vl.HighlightMenuAndItem:Vl.HighlightNone;Ar.showMenuWithinBounds(ee,{anchor:J},{menu:{markers:ob("normal"),highlightOnOpen:ie},data:te,type:"horizontal"},()=>O.some(ES(M,K.shared,q==="node"?"node":"selection"))),M.dispatch(Xz)})})(n,r,z,l,u,m,!(w||b||y&&C))};if((y||b)&&m!=="node"){const z=()=>{(M=>{const P=M.selection.getRng(),$=()=>{Uk.setEditorTimeout(M,()=>{M.selection.setRng(P)},10),q()};M.once("touchend",$);const K=V=>{V.preventDefault(),V.stopImmediatePropagation()};M.on("mousedown",K,!0);const ee=()=>q();M.once("longpresscancel",ee);const q=()=>{M.off("touchend",$),M.off("longpresscancel",ee),M.off("mousedown",K)}})(n),S()};((M,P)=>{const $=M.selection;if($.isCollapsed()||P.touches.length<1)return!1;{const K=P.touches[0],ee=$.getRng();return fy(M.getWin(),Ou.domRange(ee)).exists(q=>q.left<=K.clientX&&q.right>=K.clientX&&q.top<=K.clientY&&q.bottom>=K.clientY)}})(n,r)?z():(n.once("selectionchange",z),n.once("touchend",()=>n.off("selectionchange",z)))}else S()},uD=n=>ze(n)?n==="|":n.type==="separator",NS={type:"separator"},mD=n=>{const r=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if(ze(n))return n;switch(n.type){case"separator":return NS;case"submenu":return{type:"nestedmenuitem",...r(n),getSubmenuItems:()=>{const l=n.getSubmenuItems();return ze(l)?l:Ct(l,mD)}};default:const i=n;return{type:"menuitem",...r(i),onAction:At(i.onAction)}}},I0=(n,r)=>{if(r.length===0)return n;const i=go(n).filter(l=>!uD(l)).fold(()=>[],l=>[NS]);return n.concat(i).concat(r).concat([NS])},kd=(n,r)=>!(i=>i.type==="longpress"||uo(i,"touches"))(r)&&(r.button!==2||r.target===n.getBody()&&r.pointerType===""),Fw=(n,r)=>kd(n,r)?n.selection.getStart(!0):r.target,fD=(n,r,i)=>{const l=Gl().deviceType.isTouch,u=ji(Ar.sketch({dom:{tag:"div"},lazySink:r,onEscape:()=>n.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Rt([an("dismissContextMenu",[at(yu(),(b,y)=>{bn.close(b),n.focus()})])])})),m=()=>Ar.hide(u),p=b=>{if(aD(n)&&b.preventDefault(),((w,C)=>C.ctrlKey&&!aD(w))(n,b)||(w=>iD(w).length===0)(n))return;const y=((w,C)=>{const S=M5(w),z=kd(w,C)?"selection":"point";if(cl(S)){const M=Fw(w,C);return o1(Ht(M),S)?"node":z}return z})(n,b);(l()?A1:B5)(n,b,()=>{const w=Fw(n,b),C=n.ui.registry.getAll(),S=iD(n);return((z,M,P)=>{const $=H(M,(K,ee)=>Qt(z,ee.toLowerCase()).map(q=>{const V=q.update(P);if(ze(V)&&cl(oi(V)))return I0(K,V.split(" "));if(Pe(V)&&V.length>0){const J=Ct(V,mD);return I0(K,J)}return K}).getOrThunk(()=>K.concat([ee])),[]);return $.length>0&&uD($[$.length-1])&&$.pop(),$})(C.contextMenus,S,w)},i,u,y)};n.on("init",()=>{const b="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(l()?"":" ResizeWindow");n.on(b,m),n.on("longpress contextmenu",p)})},MS=Kr([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),Uw=n=>r=>r.translate(-n.left,-n.top),Hw=n=>r=>r.translate(n.left,n.top),Lg=n=>(r,i)=>H(n,(l,u)=>u(l),qo(r,i)),B0=(n,r,i)=>n.fold(Lg([Hw(i),Uw(r)]),Lg([Uw(r)]),Lg([])),Db=(n,r,i)=>n.fold(Lg([Hw(i)]),Lg([]),Lg([Hw(r)])),gD=(n,r,i)=>n.fold(Lg([]),Lg([Uw(i)]),Lg([Hw(r),Uw(i)])),pD=(n,r,i)=>{const l=n.fold((u,m)=>({position:O.some("absolute"),left:O.some(u+"px"),top:O.some(m+"px")}),(u,m)=>({position:O.some("absolute"),left:O.some(u-i.left+"px"),top:O.some(m-i.top+"px")}),(u,m)=>({position:O.some("fixed"),left:O.some(u+"px"),top:O.some(m+"px")}));return{right:O.none(),bottom:O.none(),...l}},Vw=(n,r,i,l)=>{const u=(m,p)=>(b,y)=>{const w=m(r,i,l);return p(b.getOr(w.left),y.getOr(w.top))};return n.fold(u(gD,jw),u(Db,Pg),u(B0,Gp))},jw=MS.offset,Pg=MS.absolute,Gp=MS.fixed,IS=(n,r)=>{const i=qr(n,r);return zt(i)?NaN:parseInt(i,10)},P5=(n,r,i,l,u,m)=>{const p=((w,C,S,z)=>((M,P)=>{const $=M.element,K=IS($,P.leftAttr),ee=IS($,P.topAttr);return isNaN(K)||isNaN(ee)?O.none():O.some(qo(K,ee))})(w,C).fold(()=>S,M=>Gp(M.left+z.left,M.top+z.top)))(n,r,i,l),b=r.mustSnap?F5(n,r,p,u,m):U5(n,r,p,u,m),y=B0(p,u,m);return((w,C,S)=>{const z=w.element;Ho(z,C.leftAttr,S.left+"px"),Ho(z,C.topAttr,S.top+"px")})(n,r,y),b.fold(()=>({coord:Gp(y.left,y.top),extra:O.none()}),w=>({coord:w.output,extra:w.extra}))},hD=(n,r,i,l)=>Bn(n,u=>{const m=u.sensor;return((b,y,w,C,S,z)=>{const M=Db(b,S,z),P=Db(y,S,z);return Math.abs(M.left-P.left)<=w&&Math.abs(M.top-P.top)<=C})(r,m,u.range.left,u.range.top,i,l)?O.some({output:Vw(u.output,r,i,l),extra:u.extra}):O.none()}),F5=(n,r,i,l,u)=>{const m=r.getSnapPoints(n);return hD(m,i,l,u).orThunk(()=>H(m,(b,y)=>{const w=y.sensor,C=((S,z,M,P,$,K)=>{const ee=Db(S,$,K),q=Db(z,$,K),V=Math.abs(ee.left-q.left),J=Math.abs(ee.top-q.top);return qo(V,J)})(i,w,y.range.left,y.range.top,l,u);return b.deltas.fold(()=>({deltas:O.some(C),snap:O.some(y)}),S=>(C.left+C.top)/2<=(S.left+S.top)/2?{deltas:O.some(C),snap:O.some(y)}:b)},{deltas:O.none(),snap:O.none()}).snap.map(b=>({output:Vw(b.output,i,l,u),extra:b.extra})))},U5=(n,r,i,l,u)=>{const m=r.getSnapPoints(n);return hD(m,i,l,u)};var H5=Object.freeze({__proto__:null,snapTo:(n,r,i,l)=>{const u=r.getTarget(n.element);if(r.repositionTarget){const m=da(n.element),p=dr(m),b=$3(u),y=((C,S,z)=>({coord:Vw(C.output,C.output,S,z),extra:C.extra}))(l,p,b),w=pD(y.coord,0,b);ai(u,w)}}});const BS="data-initial-z-index",Zw=(n,r)=>{n.getSystem().addToGui(r),(i=>{Mi(i.element).filter(br).each(l=>{vr(l,"z-index").each(u=>{Ho(l,BS,u)}),Ro(l,"z-index",Ys(i.element,"z-index"))})})(r)},V5=n=>{(r=>{Mi(r.element).filter(br).each(i=>{Wr(i,BS).fold(()=>Ln(i,"z-index"),l=>Ro(i,"z-index",l)),As(i,BS)})})(n),n.getSystem().removeFromGui(n)},LS=(n,r,i)=>n.getSystem().build(Am.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:i}));var j5=Vi("snaps",[Xe("getSnapPoints"),zn("onSensor"),Xe("leftAttr"),Xe("topAttr"),Te("lazyViewport",Ss),Te("mustSnap",!1)]);const PS=[Te("useFixed",_e),Xe("blockerClass"),Te("getTarget",Lt),Te("onDrag",We),Te("repositionTarget",!0),Te("onDrop",We),rr("getBounds",Ss),j5],Z5=n=>{return(r=vr(n,"left"),i=vr(n,"top"),l=vr(n,"position"),r.isSome()&&i.isSome()&&l.isSome()?O.some(((u,m,p)=>(p==="fixed"?Gp:jw)(parseInt(u,10),parseInt(m,10)))(r.getOrDie(),i.getOrDie(),l.getOrDie())):O.none()).getOrThunk(()=>{const u=_n(n);return Pg(u.left,u.top)});var r,i,l},bD=(n,r)=>({bounds:n.getBounds(),height:Dt(r.element),width:$r(r.element)}),FS=(n,r,i,l,u)=>{const m=i.update(l,u),p=i.getStartData().getOrThunk(()=>bD(r,n));m.each(b=>{((y,w,C,S)=>{const z=w.getTarget(y.element);if(w.repositionTarget){const M=da(y.element),P=dr(M),$=$3(z),K=Z5(z),ee=((V,J,te,ie,ve,Re,st)=>((it,lt,qt,eo,po)=>{const Bo=po.bounds,Fo=Db(lt,qt,eo),yn=hc(Fo.left,Bo.x,Bo.x+Bo.width-po.width),Ms=hc(Fo.top,Bo.y,Bo.y+Bo.height-po.height),hr=Pg(yn,Ms);return lt.fold(()=>{const Go=gD(hr,qt,eo);return jw(Go.left,Go.top)},ae(hr),()=>{const Go=B0(hr,qt,eo);return Gp(Go.left,Go.top)})})(0,J.fold(()=>{const it=(lt=te,qt=Re.left,eo=Re.top,lt.fold((Bo,Fo)=>jw(Bo+qt,Fo+eo),(Bo,Fo)=>Pg(Bo+qt,Fo+eo),(Bo,Fo)=>Gp(Bo+qt,Fo+eo)));var lt,qt,eo;const po=B0(it,ie,ve);return Gp(po.left,po.top)},it=>{const lt=P5(V,it,te,Re,ie,ve);return lt.extra.each(qt=>{it.onSensor(V,qt)}),lt.coord}),ie,ve,st))(y,w.snaps,K,P,$,S,C),q=pD(ee,0,$);ai(z,q)}w.onDrag(y,z,S)})(n,r,p,b)})},yD=(n,r,i,l)=>{r.each(V5),i.snaps.each(m=>{((p,b)=>{((y,w)=>{const C=y.element;As(C,w.leftAttr),As(C,w.topAttr)})(p,b)})(n,m)});const u=i.getTarget(n.element);l.reset(),i.onDrop(n,u)},US=n=>(r,i)=>{const l=u=>{i.setStartData(bD(r,u))};return hn([at(tm(),u=>{i.getStartData().each(()=>l(u))}),...n(r,i,l)])};var vD=Object.freeze({__proto__:null,getData:n=>O.from(qo(n.x,n.y)),getDelta:(n,r)=>qo(r.left-n.left,r.top-n.top)});const HS=(n,r,i)=>[at(za(),(l,u)=>{if(u.event.raw.button!==0)return;u.stop();const m=()=>yD(l,O.some(y),n,r),p=mO(m,200),b={drop:m,delayDrop:p.schedule,forceDrop:m,move:w=>{p.cancel(),FS(l,n,r,vD,w)}},y=LS(l,n.blockerClass,(w=>hn([at(za(),w.forceDrop),at(j(),w.drop),at(A(),(C,S)=>{w.move(S.event)}),at(N(),w.delayDrop)]))(b));i(l),Zw(l,y)})],q5=[...PS,$s("dragger",{handlers:US(HS)})];var kD=Object.freeze({__proto__:null,getData:n=>{const r=n.raw.touches;return r.length===1?(i=>{const l=i[0];return O.some(qo(l.clientX,l.clientY))})(r):O.none()},getDelta:(n,r)=>qo(r.left-n.left,r.top-n.top)});const xD=(n,r,i)=>{const l=er(),u=m=>{yD(m,l.get(),n,r),l.clear()};return[at(Ql(),(m,p)=>{p.stop();const b=()=>u(m),y={drop:b,delayDrop:We,forceDrop:b,move:C=>{FS(m,n,r,kD,C)}},w=LS(m,n.blockerClass,(C=>hn([at(Ql(),C.forceDrop),at(Il(),C.drop),at(bu(),C.drop),at(ld(),(S,z)=>{C.move(z.event)})]))(y));l.set(w),i(m),Zw(m,w)}),at(ld(),(m,p)=>{p.stop(),FS(m,n,r,kD,p.event)}),at(Il(),(m,p)=>{p.stop(),u(m)}),at(bu(),u)]},W5=q5,$5=[...PS,$s("dragger",{handlers:US(xD)})],G5=[...PS,$s("dragger",{handlers:US((n,r,i)=>[...HS(n,r,i),...xD(n,r,i)])})];var wD=Object.freeze({__proto__:null,mouse:W5,touch:$5,mouseOrTouch:G5}),_D=Object.freeze({__proto__:null,init:()=>{let n=O.none(),r=O.none();const i=ae({});return zs({readState:i,reset:()=>{n=O.none(),r=O.none()},update:(l,u)=>l.getData(u).bind(m=>((p,b)=>{const y=n.map(w=>p.getDelta(w,b));return n=O.some(b),y})(l,m)),getStartData:()=>r,setStartData:l=>{r=O.some(l)}})}});const Kp=cf({branchKey:"mode",branches:wD,name:"dragging",active:{events:(n,r)=>n.dragger.handlers(n,r)},extra:{snap:n=>({sensor:n.sensor,range:n.range,output:n.output,extra:O.from(n.extra)})},state:_D,apis:H5}),qw=(n,r,i,l,u,m)=>n.fold(()=>Kp.snap({sensor:Pg(i-20,l-20),range:qo(u,m),output:Pg(O.some(i),O.some(l)),extra:{td:r}}),p=>{const b=i-20,y=l-20,w=p.element.dom.getBoundingClientRect();return Kp.snap({sensor:Pg(b,y),range:qo(40,40),output:Pg(O.some(i-w.width/2),O.some(l-w.height/2)),extra:{td:r}})}),AD=(n,r,i)=>({getSnapPoints:n,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(l,u)=>{const m=u.td;((p,b)=>p.exists(y=>Wn(y,b)))(r.get(),m)||(r.set(m),i(m))},mustSnap:!0}),VS=n=>us(Wi.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Rt([Kp.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:n}),Yv.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),K5=(n,r)=>{const i=_o([]),l=_o([]),u=_o(!1),m=er(),p=er(),b=q=>{const V=xr(q);return qw(S.getOpt(r),q,V.x,V.y,V.width,V.height)},y=q=>{const V=xr(q);return qw(z.getOpt(r),q,V.right,V.bottom,V.width,V.height)},w=AD(()=>Ct(i.get(),q=>b(q)),m,q=>{p.get().each(V=>{n.dispatch("TableSelectorChange",{start:q,finish:V})})}),C=AD(()=>Ct(l.get(),q=>y(q)),p,q=>{m.get().each(V=>{n.dispatch("TableSelectorChange",{start:V,finish:q})})}),S=VS(w),z=VS(C),M=ji(S.asSpec()),P=ji(z.asSpec()),$=(q,V,J,te)=>{const ie=J(V);Kp.snapTo(q,ie),((ve,Re,st,it)=>{const lt=Re.dom.getBoundingClientRect();Ln(ve.element,"display");const qt=ru(Ht(n.getBody())).dom.innerHeight,eo=lt[te]<0,po=((Bo,Fo)=>Bo[te]>Fo)(lt,qt);(eo||po)&&Ro(ve.element,"display","none")})(q,V)},K=q=>$(M,q,b,"top"),ee=q=>$(P,q,y,"bottom");Gl().deviceType.isTouch()&&(n.on("TableSelectionChange",q=>{u.get()||(wf(r,M),wf(r,P),u.set(!0)),m.set(q.start),p.set(q.finish),q.otherCells.each(V=>{i.set(V.upOrLeftCells),l.set(V.downOrRightCells),K(q.start),ee(q.finish)})}),n.on("ResizeEditor ResizeWindow ScrollContent",()=>{m.get().each(K),p.get().each(ee)}),n.on("TableSelectionClear",()=>{u.get()&&(ym(M),ym(P),u.set(!1)),m.clear(),p.clear()}))},Y5=(n,r,i)=>{var l;const u=(l=r.delimiter)!==null&&l!==void 0?l:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Rt([xo.config({mode:"flow",selector:"div[role=button]"}),Io.config({disabled:i.isDisabled}),Ja(),pr.config({}),zo.config({}),an("elementPathEvents",[Os((m,p)=>{n.shortcuts.add("alt+F11","focus statusbar elementpath",()=>xo.focusIn(m)),n.on("NodeChange",b=>{const y=(C=>{const S=[];let z=C.length;for(;z-- >0;){const P=C[z];if(P.nodeType===1&&(M=P).nodeName!=="BR"&&!M.getAttribute("data-mce-bogus")&&M.getAttribute("data-mce-type")!=="bookmark"){const $=$4(n,P);if($.isDefaultPrevented()||S.push({name:$.name,element:P}),$.isPropagationStopped())break}}var M;return S})(b.parents),w=y.length>0?H(y,(C,S,z)=>{const M=((P,$,K)=>Wi.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":K,"aria-level":K+1}},components:[ar(P)],action:ee=>{n.focus(),n.selection.select($),n.nodeChanged()},buttonBehaviours:Rt([Ky(i.isDisabled),Ja()])}))(S.name,S.element,z);return z===0?C.concat([M]):C.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[ar(` ${u} `)]},M])},[]):[];zo.set(m,w)})})])]),components:[]}};var Yp;(function(n){n[n.None=0]="None",n[n.Both=1]="Both",n[n.Vertical=2]="Vertical"})(Yp||(Yp={}));const CD=(n,r,i)=>{const l=Ht(n.getContainer()),u=((m,p,b,y,w)=>{const C={height:Iw(y+p.top,RA(m),NA(m))};return b===Yp.Both&&(C.width=Iw(w+p.left,DA(m),Ov(m))),C})(n,r,i,Ve(l),vs(l));fs(u,(m,p)=>{xt(m)&&Ro(l,p,_S(m))}),(m=>{m.dispatch("ResizeEditor")})(n)},C1=(n,r,i,l)=>{const u=qo(20*i,20*l);return CD(n,u,r),O.some(!0)},Fg=(n,r)=>{const i=()=>{const l=[],u=jA(n),m=HA(n),p=VA(n)||n.hasPlugin("wordcount");return m&&l.push(Y5(n,{},r)),u&&l.push((()=>{const b=D4("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[ar(yc.translate(["Press {0} for help",b]))]}})()),p&&l.push((()=>{const b=[];return n.hasPlugin("wordcount")&&b.push(((y,w)=>{const C=(S,z,M)=>zo.set(S,[ar(w.translate(["{0} "+M,z[M]]))]);return Wi.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Rt([Ky(w.isDisabled),Ja(),pr.config({}),zo.config({}),Gt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),an("wordcount-events",[ol(S=>{const z=Gt.getValue(S),M=z.mode==="words"?"characters":"words";Gt.setValue(S,{mode:M,count:z.count}),C(S,z.count,M)}),Os(S=>{y.on("wordCountUpdate",z=>{const{mode:M}=Gt.getValue(S);Gt.setValue(S,{mode:M,count:z.wordCount}),C(S,z.wordCount,M)})})])]),eventOrder:{[Ai()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(n,r)),VA(n)&&b.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":yc.translate(["Powered by {0}","Tiny"])},innerHtml:`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`.trim()},behaviours:Rt([Po.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:b}})()),l.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const b="tox-statusbar__text-container--flex-start",y="tox-statusbar__text-container--flex-end";if(u){const w="tox-statusbar__text-container-3-cols";return p||m?p&&!m?[w,y]:[w,b]:[w,"tox-statusbar__text-container--space-around"]}return[p&&!m?y:b]})()]},components:l}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const l=i(),u=((m,p)=>{const b=(w=>{const C=JT(w);return C===!1?Yp.None:C==="both"?Yp.Both:Yp.Vertical})(m);if(b===Yp.None)return O.none();const y=b===Yp.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return O.some(Kd("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:p.translate("Resize"),"aria-label":p.translate(y)},behaviours:[Kp.config({mode:"mouse",repositionTarget:!1,onDrag:(w,C,S)=>CD(m,S,b),blockerClass:"tox-blocker"}),xo.config({mode:"special",onLeft:()=>C1(m,b,-1,0),onRight:()=>C1(m,b,1,0),onUp:()=>C1(m,b,0,-1),onDown:()=>C1(m,b,0,1)}),pr.config({}),Po.config({})]},p.icons))})(n,r);return l.concat(u.toArray())})()}},SD=(n,r)=>r.get().getOrDie(`UI for ${n} has not been rendered`),L0=(n,r)=>{const i=n.inline,l=i?S5:A5,u=Zy(n)?EB:W3,m=(()=>{const ie=er(),ve=er(),Re=er();return{dialogUi:ie,popupUi:ve,mainUi:Re,getUiMotherships:()=>{const st=ie.get().map(lt=>lt.mothership),it=ve.get().map(lt=>lt.mothership);return st.fold(()=>it.toArray(),lt=>it.fold(()=>[lt],qt=>Wn(lt.element,qt.element)?[lt]:[lt,qt]))},lazyGetInOuterOrDie:(st,it)=>()=>Re.get().bind(lt=>it(lt.outerContainer)).getOrDie(`Could not find ${st} element in OuterContainer`)}})(),p=er(),b=er(),y=er(),w=Gl().deviceType.isTouch()?["tox-platform-touch"]:[],C=qA(n),S=Xh(n),z=us({dom:{tag:"div",classes:["tox-anchorbar"]}}),M=us({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),P=()=>m.mainUi.get().map(ie=>ie.outerContainer).bind(Vs.getHeader),$=m.lazyGetInOuterOrDie("anchor bar",z.getOpt),K=m.lazyGetInOuterOrDie("bottom anchor bar",M.getOpt),ee=m.lazyGetInOuterOrDie("toolbar",Vs.getToolbar),q=m.lazyGetInOuterOrDie("throbber",Vs.getThrobber),V=((ie,ve,Re,st)=>{const it=_o(!1),lt=(Go=>{const fi=_o(qA(Go)?"bottom":"top");return{isPositionedAtTop:()=>fi.get()==="top",getDockingMode:fi.get,setDockingMode:fi.set}})(ve),qt={icons:()=>ve.ui.registry.getAll().icons,menuItems:()=>ve.ui.registry.getAll().menuItems,translate:yc.translate,isDisabled:()=>ve.mode.isReadOnly()||!ve.ui.isEnabled(),getOption:ve.options.get},eo=yB(ve),po=(Go=>{const fi=Nr=>()=>Go.formatter.match(Nr),Yo=Nr=>()=>{const gi=Go.formatter.get(Nr);return gi!==void 0?O.some({tag:gi.length>0&&(gi[0].inline||gi[0].block)||"div",styles:Go.dom.parseStyle(Go.formatter.getCssText(Nr))}):O.none()},Fr=_o([]),Is=_o([]),kl=_o(!1);return Go.on("PreInit",Nr=>{const gi=PC(Go),wc=fw(Go,gi,fi,Yo);Fr.set(wc)}),Go.on("addStyleModifications",Nr=>{const gi=fw(Go,Nr.items,fi,Yo);Is.set(gi),kl.set(Nr.replace)}),{getData:()=>{const Nr=kl.get()?[]:Fr.get(),gi=Is.get();return Nr.concat(gi)}}})(ve),Bo=(Go=>({colorPicker:lB(Go),hasCustomColors:cB(Go),getColors:Xd(Go),getColorCols:v0(Go)}))(ve),Fo=(Go=>({isDraggableModal:Hu(Go)}))(ve),yn={shared:{providers:qt,anchors:Om(ve,Re,st,lt.isPositionedAtTop),header:lt},urlinput:eo,styles:po,colorinput:Bo,dialog:Fo,isContextMenuOpen:()=>it.get(),setContextMenuState:Go=>it.set(Go)},Ms={...yn,shared:{...yn.shared,interpreter:Go=>DC(Go,{},Ms),getSink:ie.popup}},hr={...yn,shared:{...yn.shared,interpreter:Go=>DC(Go,{},hr),getSink:ie.dialog}};return{popup:Ms,dialog:hr}})({popup:()=>un.fromOption(m.popupUi.get().map(ie=>ie.sink),"(popup) UI has not been rendered"),dialog:()=>un.fromOption(m.dialogUi.get().map(ie=>ie.sink),"UI has not been rendered")},n,$,K),J=()=>{const ie=(()=>{const yn={attributes:{[ia]:C?sl.BottomToTop:sl.TopToBottom}},Ms=Vs.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:V.popup,onEscape:()=>{n.focus()}}),hr=Vs.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:V.popup.shared.getSink,providers:V.popup.shared.providers,onEscape:()=>{n.focus()},onToolbarToggled:wc=>{((T1,Nb)=>{T1.dispatch("ToggleToolbarDrawer",{state:Nb})})(n,wc)},type:S,lazyToolbar:ee,lazyHeader:()=>P().getOrDie("Could not find header element"),...yn}),Go=Vs.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:V.popup.shared.providers,onEscape:()=>{n.focus()},type:S}),fi=jy(n),Yo=Vy(n),Fr=Mf(n),Is=t4(n),kl=Vs.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Nr=fi||Yo||Fr,gi=Is?[kl,Ms]:[Ms];return Vs.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Nr?[]:["tox-editor-header--empty"]),...yn},components:qn([Fr?gi:[],fi?[Go]:Yo?[hr]:[],eb(n)?[]:[z.asSpec()]]),sticky:Zy(n),editor:n,sharedBackstage:V.popup.shared})})(),ve={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Vs.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Vs.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},Re=Vs.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:V.popup}),st=Vs.parts.viewWrapper({backstage:V.popup}),it=QT(n)&&!i?O.some(Fg(n,V.popup.shared.providers)):O.none(),lt=qn([C?[]:[ie],i?[]:[ve],C?[ie]:[]]),qt=Vs.parts.editorContainer({components:qn([lt,i?[]:[M.asSpec(),...it.toArray()]])}),eo=tb(n),po={role:"application",...yc.isRtl()?{dir:"rtl"}:{},...eo?{"aria-hidden":"true"}:{}},Bo=ji(Vs.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(C?["tox-tinymce--toolbar-bottom"]:[]).concat(w),styles:{visibility:"hidden",...eo?{opacity:"0",border:"0"}:{}},attributes:po},components:[qt,...i?[]:[st],Re],behaviours:Rt([Ja(),Io.config({disableClass:"tox-tinymce--disabled"}),xo.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Fo=U2(Bo);return p.set(Fo),{mothership:Fo,outerContainer:Bo}},te=ie=>{const ve=_S((st=>(lt=>{const qt=OA(lt),eo=RA(lt),po=NA(lt);return wS(qt).map(Bo=>Iw(Bo,eo,po))})(st).getOr(OA(st)))(n)),Re=_S((st=>Yz(st).getOr(zA(st)))(n));return n.inline||(au("div","width",Re)&&Ro(ie.element,"width",Re),au("div","height",ve)?Ro(ie.element,"height",ve):Ro(ie.element,"height","400px")),ve};return{popups:{backstage:V.popup,getMothership:()=>SD("popups",y)},dialogs:{backstage:V.dialog,getMothership:()=>SD("dialogs",b)},renderUI:()=>{const ie=J(),ve=(()=>{const st=Dv(n),it=Wn(Aa(),st)&&Ys(st,"display")==="grid",lt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(w),attributes:{...yc.isRtl()?{dir:"rtl"}:{}}},behaviours:Rt([qi.config({useFixed:()=>u.isDocked(P)})])},qt={dom:{styles:{width:document.body.clientWidth+"px"}},events:hn([at(Id(),Bo=>{Ro(Bo.element,"width",document.body.clientWidth+"px")})])},eo=ji(oe(lt,it?qt:{})),po=U2(eo);return b.set(po),{sink:eo,mothership:po}})(),Re=Ip(n)?(()=>{const st={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(w),attributes:{...yc.isRtl()?{dir:"rtl"}:{}}},behaviours:Rt([qi.config({useFixed:()=>u.isDocked(P),getBounds:()=>r.getPopupSinkBounds()})])},it=ji(st),lt=U2(it);return y.set(lt),{sink:it,mothership:lt}})():(st=>(y.set(st.mothership),st))(ve);return m.dialogUi.set(ve),m.popupUi.set(Re),m.mainUi.set(ie),(st=>{const{mainUi:it,popupUi:lt,uiMotherships:qt}=st;ln(jT(n),(Yo,Fr)=>{n.ui.registry.addGroupToolbarButton(Fr,Yo)});const{buttons:eo,menuItems:po,contextToolbars:Bo,sidebars:Fo,views:yn}=n.ui.registry.getAll(),Ms=ZA(n),hr={menuItems:po,menus:s4(n),menubar:WT(n),toolbar:Ms.getOrThunk(()=>Gk(n)),allowToolbarGroups:S===Yd.floating,buttons:eo,sidebar:Fo,views:yn};var Go;Go=it.outerContainer,n.addShortcut("alt+F9","focus menubar",()=>{Vs.focusMenubar(Go)}),n.addShortcut("alt+F10","focus toolbar",()=>{Vs.focusToolbar(Go)}),n.addCommand("ToggleToolbarDrawer",(Yo,Fr)=>{Fr!=null&&Fr.skipFocus?Vs.toggleToolbarDrawerWithoutFocusing(Go):Vs.toggleToolbarDrawer(Go)}),n.addQueryStateHandler("ToggleToolbarDrawer",()=>Vs.isToolbarDrawerToggled(Go)),((Yo,Fr,Is)=>{const kl=(js,th)=>{Yt([Fr,...Is],ju=>{ju.broadcastEvent(js,th)})},Nr=(js,th)=>{Yt([Fr,...Is],ju=>{ju.broadcastOn([js],th)})},gi=js=>Nr(Fl(),{target:js.target}),wc=Qi(),T1=Oi(wc,"touchstart",gi),Nb=Oi(wc,"touchmove",js=>kl(dh(),js)),Jp=Oi(wc,"touchend",js=>kl(Mc(),js)),Hg=Oi(wc,"mousedown",gi),$0=Oi(wc,"mouseup",js=>{js.raw.button===0&&Nr(qe(),{target:js.target})}),Vg=js=>Nr(Fl(),{target:Ht(js.target)}),$f=js=>{js.button===0&&Nr(qe(),{target:Ht(js.target)})},Xp=()=>{Yt(Yo.editorManager.get(),js=>{Yo!==js&&js.dispatch("DismissPopups",{relatedTarget:Yo})})},Gf=js=>kl(tm(),sy(js)),G0=js=>{Nr(xp(),{}),kl(Id(),sy(js))},s_=nr(Ht(Yo.getElement())),K0=Eh(s_,"scroll",js=>{requestAnimationFrame(()=>{if(Yo.getContainer()!=null){const th=fb(Yo,Fr.element).map(ju=>[ju.element,...ju.others]).getOr([]);tr(th,ju=>Wn(ju,js.target))&&(Yo.dispatch("ElementScroll",{target:js.target.dom}),kl(fr(),js))}})}),eh=()=>Nr(xp(),{}),Kf=js=>{js.state&&Nr(Fl(),{target:Ht(Yo.getContainer())})},jg=js=>{Nr(Fl(),{target:Ht(js.relatedTarget.getContainer())})};Yo.on("PostRender",()=>{Yo.on("click",Vg),Yo.on("tap",Vg),Yo.on("mouseup",$f),Yo.on("mousedown",Xp),Yo.on("ScrollWindow",Gf),Yo.on("ResizeWindow",G0),Yo.on("ResizeEditor",eh),Yo.on("AfterProgressState",Kf),Yo.on("DismissPopups",jg)}),Yo.on("remove",()=>{Yo.off("click",Vg),Yo.off("tap",Vg),Yo.off("mouseup",$f),Yo.off("mousedown",Xp),Yo.off("ScrollWindow",Gf),Yo.off("ResizeWindow",G0),Yo.off("ResizeEditor",eh),Yo.off("AfterProgressState",Kf),Yo.off("DismissPopups",jg),Hg.unbind(),T1.unbind(),Nb.unbind(),Jp.unbind(),$0.unbind(),K0.unbind()}),Yo.on("detach",()=>{Yt([Fr,...Is],Bh),Yt([Fr,...Is],js=>js.destroy())})})(n,it.mothership,qt),u.setup(n,V.popup.shared,P),sD(n,V.popup),fD(n,V.popup.shared.getSink,V.popup),(Yo=>{const{sidebars:Fr}=Yo.ui.registry.getAll();Yt(on(Fr),Is=>{const kl=Fr[Is],Nr=()=>Pa(O.from(Yo.queryCommandValue("ToggleSidebar")),Is);Yo.ui.registry.addToggleButton(Is,{icon:kl.icon,tooltip:kl.tooltip,onAction:gi=>{Yo.execCommand("ToggleSidebar",!1,Is),gi.setActive(Nr())},onSetup:gi=>{gi.setActive(Nr());const wc=()=>gi.setActive(Nr());return Yo.on("ToggleSidebar",wc),()=>{Yo.off("ToggleSidebar",wc)}}})})})(n),PB(n,q,V.popup.shared),T5(n,Bo,lt.sink,{backstage:V.popup}),K5(n,lt.sink);const fi={targetNode:n.getElement(),height:te(it.outerContainer)};return l.render(n,st,hr,V.popup,fi)})({popupUi:Re,dialogUi:ve,mainUi:ie,uiMotherships:m.getUiMotherships()})}}},Q5=ae([Xe("lazySink"),$n("dragBlockClass"),rr("getBounds",Ss),Te("useTabstopAt",Je),Te("firstTabstop",0),Te("eventOrder",{}),Na("modalBehaviours",[xo]),pl("onExecute"),j1("onEscape")]),P0={sketch:Lt},J5=ae([Zt({name:"draghandle",overrides:(n,r)=>({behaviours:Rt([Kp.config({mode:"mouse",getTarget:i=>Lc(i,'[role="dialog"]').getOr(i),blockerClass:n.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:n.getDragBounds})])})}),Ot({schema:[Xe("dom")],name:"title"}),Ot({factory:P0,schema:[Xe("dom")],name:"close"}),Ot({factory:P0,schema:[Xe("dom")],name:"body"}),Zt({factory:P0,schema:[Xe("dom")],name:"footer"}),It({factory:{sketch:(n,r)=>({...n,dom:r.dom,components:r.components})},schema:[Te("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Te("components",[])],name:"blocker"})]),ei=bl({name:"ModalDialog",configFields:Q5(),partFields:J5(),factory:(n,r,i,l)=>{const u=er(),m=no("modal-events"),p={...n.eventOrder,[kt()]:[m].concat(n.eventOrder["alloy.system.attached"]||[])};return{uid:n.uid,dom:n.dom,components:r,apis:{show:b=>{u.set(b);const y=n.lazySink(b).getOrDie(),w=l.blocker(),C=y.getSystem().build({...w,components:w.components.concat([ks(b)]),behaviours:Rt([Po.config({}),an("dialog-blocker-events",[sm(ge(),()=>{zm.isBlocked(b)||xo.focusIn(b)})])])});wf(y,C),xo.focusIn(b)},hide:b=>{u.clear(),Mi(b.element).each(y=>{b.getSystem().getByDom(y).each(w=>{ym(w)})})},getBody:b=>Ma(b,n,"body"),getFooter:b=>as(b,n,"footer"),setIdle:b=>{zm.unblock(b)},setBusy:(b,y)=>{zm.block(b,y)}},eventOrder:p,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Ya(n.modalBehaviours,[zo.config({}),xo.config({mode:"cyclic",onEnter:n.onExecute,onEscape:n.onEscape,useTabstopAt:n.useTabstopAt,firstTabstop:n.firstTabstop}),zm.config({getRoot:u.get}),an(m,[Os(b=>{((y,w)=>{const C=Wr(y,"id").fold(()=>{const S=no("dialog-label");return Ho(w,"id",S),S},Lt);Ho(y,"aria-labelledby",C)})(b.element,Ma(b,n,"title").element)})])])}},apis:{show:(n,r)=>{n.show(r)},hide:(n,r)=>{n.hide(r)},getBody:(n,r)=>n.getBody(r),getFooter:(n,r)=>n.getFooter(r),setBusy:(n,r,i)=>{n.setBusy(r,i)},setIdle:(n,r)=>{n.setIdle(r)}}}),X5=ko([va,o2].concat(ab)),ED=fc,jS=[l2("button"),bd,zr("align","end",["start","end"]),$y,Mu,jm("buttonType",["primary","secondary"])],Ww=[...jS,If],F0=[Sa("type",["submit","cancel","custom"]),...Ww],ZS=[Sa("type",["menu"]),Bp,ox,bd,pa("items",X5),...jS],e8=[...jS,Sa("type",["togglebutton"]),sr("tooltip"),bd,Bp,Js("active",!1)],xd=qa("type",{submit:F0,cancel:F0,custom:F0,menu:ZS,togglebutton:e8}),t8=[va,If,Sa("level",["info","warn","error","success"]),b4,Te("url","")],o8=ko(t8),TD=[va,If,Mu,l2("button"),bd,k4,jm("buttonType",["primary","secondary","toolbar"]),$y],OD=ko(TD),S1=[va,o2],Dm=S1.concat([a2]),n8=S1.concat([n2,Mu]),s8=ko(n8),r8=fc,a8=Dm.concat([i2("auto")]),i8=ko(a8),zD=Dd([tx,If,b4]),l8=Dm.concat([gc("storageKey","default")]),c8=ko(l8),d8=Or,DD=ko(Dm),qS=Or,u8=S1.concat([gc("tag","textarea"),sr("scriptId"),sr("scriptUrl"),Ta("settings",void 0,rg)]),WS=S1.concat([gc("tag","textarea"),Ea("init")]),E1=Rl(n=>Ps("customeditor.old",ii(WS),n).orThunk(()=>Ps("customeditor.new",ii(u8),n))),RD=Or,ND=ko(Dm),MD=li(Pi),m8=n=>[va,Vm("columns"),n],f8=[va,sr("html"),zr("presets","presentation",["presentation","document"])],$w=ko(f8),g8=Dm.concat([Js("border",!1),Js("sandboxed",!0),Js("streamContent",!1),Js("transparent",!0)]),p8=ko(g8),ID=Or,BD=ko(S1.concat([Gr("height")])),$S=ko([sr("url"),rd("zoom"),rd("cachedWidth"),rd("cachedHeight")]),LD=Dm.concat([Gr("inputMode"),Gr("placeholder"),Js("maximized",!1),Mu]),oc=ko(LD),PD=Or,h8=n=>[va,n2,n,zr("align","start",["start","center","end"])],b8=[If,tx],FD=[If,pa("items",Xu(0,()=>UD))],UD=Fi([ko(b8),ko(FD)]),y8=Dm.concat([pa("items",UD),Mu]),v8=ko(y8),HD=Or,Wf=Dm.concat([Rd("items",[If,tx]),ad("size",1),Mu]),GS=ko(Wf),VD=Or,Gw=Dm.concat([Js("constrain",!0),Mu]),KS=ko(Gw),jD=ko([sr("width"),sr("height")]),k8=S1.concat([n2,ad("min",0),ad("max",0)]),x8=ko(k8),w8=pu,_8=[va,pa("header",Or),pa("cells",li(Or))],A8=ko(_8),C8=Dm.concat([Gr("placeholder"),Js("maximized",!1),Mu]),ZD=ko(C8),S8=Or,Rm=[Sa("type",["directory","leaf"]),s2,sr("id"),Xi("menu",eS)],U0=ko(Rm),E8=Rm.concat([pa("children",Xu(0,()=>Tc("type",{directory:qD,leaf:U0})))]),qD=ko(E8),WD=Tc("type",{directory:qD,leaf:U0}),$D=[va,pa("items",WD),el("onLeafAction"),el("onToggleExpand"),Fs("defaultExpandedIds",[],Or),Gr("defaultSelectedId")],YS=ko($D),Kw=Dm.concat([zr("filetype","file",["image","media","file"]),Mu,Gr("picker_text")]),H0=ko(Kw),V0=ko([tx,sx]),Yw=n=>wr("items","items",{tag:"required",process:{}},li(Rl(r=>Ps(`Checking item of ${n}`,Qw,r).fold(i=>un.error(zc(i)),i=>un.value(i))))),Qw=Za(()=>{return Tc("type",{alertbanner:o8,bar:ko((n=Yw("bar"),[va,n])),button:OD,checkbox:s8,colorinput:c8,colorpicker:DD,dropzone:ND,grid:ko(m8(Yw("grid"))),iframe:p8,input:oc,listbox:v8,selectbox:GS,sizeinput:KS,slider:x8,textarea:ZD,urlinput:H0,customeditor:E1,htmlpanel:$w,imagepreview:BD,collection:i8,label:ko(h8(Yw("label"))),table:A8,tree:YS,panel:QS});var n}),GD=[va,Te("classes",[]),pa("items",Qw)],QS=ko(GD),T8=[l2("tab"),s2,pa("items",Qw)],O8=[va,Rd("tabs",T8)],z8=ko(O8),D8=Ww,R8=xd,KD=ko([sr("title"),Ui("body",Tc("type",{panel:QS,tabpanel:z8})),gc("size","normal"),Fs("buttons",[],R8),Te("initialData",{}),rr("onAction",We),rr("onChange",We),rr("onSubmit",We),rr("onClose",We),rr("onCancel",We),rr("onTabChange",We)]),YD=ko([Sa("type",["cancel","custom"]),...D8]),N8=ko([sr("title"),sr("url"),rd("height"),rd("width"),ha("buttons",YD),rr("onAction",We),rr("onCancel",We),rr("onClose",We),rr("onMessage",We)]),Jw=n=>Tt(n)?[n].concat(Ws(Jo(n),Jw)):Pe(n)?Ws(n,Jw):[],M8=n=>ze(n.type)&&ze(n.name),QD={checkbox:r8,colorinput:d8,colorpicker:qS,dropzone:MD,input:PD,iframe:ID,imagepreview:$S,selectbox:VD,sizeinput:jD,slider:w8,listbox:HD,size:jD,textarea:S8,urlinput:V0,customeditor:RD,collection:zD,togglemenuitem:ED},j0=n=>{const r=(l=>Mo(Jw(l),M8))(n),i=Ws(r,l=>(u=>O.from(QD[u.type]))(l).fold(()=>[],u=>[Ui(l.name,u)]));return ko(i)},JD=n=>{var r;return{internalDialog:Nl(Ps("dialog",KD,n)),dataValidator:j0(n),initialData:(r=n.initialData)!==null&&r!==void 0?r:{}}},Qp={open:(n,r)=>{const i=JD(r);return n(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(n,r)=>n(Nl(Ps("dialog",N8,r))),redial:n=>JD(n)};var I8=Object.freeze({__proto__:null,events:(n,r)=>{const i=(l,u)=>{n.updateState.each(m=>{const p=m(l,u);r.set(p)}),n.renderComponents.each(m=>{const p=m(u,r.get());(n.reuseDom?Ny:tA)(l,p)})};return hn([at(_i(),(l,u)=>{const m=u;if(!m.universal){const p=n.channel;So(m.channels,p)&&i(l,m.data)}}),Os((l,u)=>{n.initialData.each(m=>{i(l,m)})})])}}),B8=Object.freeze({__proto__:null,getState:(n,r,i)=>i}),L8=[Xe("channel"),$n("renderComponents"),$n("updateState"),$n("initialData"),Js("reuseDom",!0)];const Jc=Ra({fields:L8,name:"reflecting",active:I8,apis:B8,state:Object.freeze({__proto__:null,init:()=>{const n=_o(O.none());return{readState:()=>n.get().getOr("none"),get:n.get,set:n.set,clear:()=>n.set(O.none())}}})}),JS=n=>{const r=[],i={};return fs(n,(l,u)=>{l.fold(()=>{r.push(u)},m=>{i[u]=m})}),r.length>0?un.error(r):un.value(i)},P8=(n,r,i)=>{const l=us(c1.sketch(m=>({dom:{tag:"div",classes:["tox-form"].concat(n.classes)},components:Ct(n.items,p=>R3(m,p,r,i))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[l.asSpec()]}],behaviours:Rt([xo.config({mode:"acyclic",useTabstopAt:sn(xb)}),(u=l,In.config({find:u.getOpt})),jI(l,{postprocess:m=>JS(m).fold(p=>(console.error(p),{}),Lt)}),an("dialog-body-panel",[at(ge(),(m,p)=>{m.getSystem().broadcastOn([$x],{newFocus:O.some(p.event.target)})})])])};var u},XD=qc({name:"TabButton",configFields:[Te("uid",void 0),Xe("value"),wr("dom","dom",gu(()=>({attributes:{role:"tab",id:no("aria"),"aria-selected":"false"}})),Es()),$n("action"),Te("domModification",{}),Na("tabButtonBehaviours",[Po,xo,Gt]),Xe("view")],factory:(n,r)=>({uid:n.uid,dom:n.dom,components:n.components,events:Ev(n.action),behaviours:Ya(n.tabButtonBehaviours,[Po.config({}),xo.config({mode:"execution",useSpace:!0,useEnter:!0}),Gt.config({store:{mode:"memory",initialValue:n.value}})]),domModification:n.domModification})}),XS=ae([Xe("tabs"),Xe("dom"),Te("clickToDismiss",!1),Na("tabbarBehaviours",[jn,xo]),Cu(["tabClass","selectedClass"])]),Ug=To({factory:XD,name:"tabs",unit:"tab",overrides:n=>{const r=(l,u)=>{jn.dehighlight(l,u),ao(l,ml(),{tabbar:l,button:u})},i=(l,u)=>{jn.highlight(l,u),ao(l,Wm(),{tabbar:l,button:u})};return{action:l=>{const u=l.getSystem().getByUid(n.uid).getOrDie(),m=jn.isHighlighted(u,l);(m&&n.clickToDismiss?r:m?We:i)(u,l)},domModification:{classes:[n.markers.tabClass]}}}}),eE=ae([Ug]),tE=bl({name:"Tabbar",configFields:XS(),partFields:eE(),factory:(n,r,i,l)=>({uid:n.uid,dom:n.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Ya(n.tabbarBehaviours,[jn.config({highlightClass:n.markers.selectedClass,itemClass:n.markers.tabClass,onHighlight:(u,m)=>{Ho(m.element,"aria-selected","true")},onDehighlight:(u,m)=>{Ho(m.element,"aria-selected","false")}}),xo.config({mode:"flow",getInitial:u=>jn.getHighlighted(u).map(m=>m.element),selector:"."+n.markers.tabClass,executeOnMove:!0})])})}),eR=qc({name:"Tabview",configFields:[Na("tabviewBehaviours",[zo])],factory:(n,r)=>({uid:n.uid,dom:n.dom,behaviours:Ya(n.tabviewBehaviours,[zo.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),oE=ae([Te("selectFirst",!0),zn("onChangeTab"),zn("onDismissTab"),Te("tabs",[]),Na("tabSectionBehaviours",[])]),tR=Ot({factory:tE,schema:[Xe("dom"),Hi("markers",[Xe("tabClass"),Xe("selectedClass")])],name:"tabbar",defaults:n=>({tabs:n.tabs})}),Xw=Ot({factory:eR,name:"tabview"}),oR=ae([tR,Xw]),Rb=bl({name:"TabSection",configFields:oE(),partFields:oR(),factory:(n,r,i,l)=>{const u=(m,p)=>{as(m,n,"tabbar").each(b=>{p(b).each(vu)})};return{uid:n.uid,dom:n.dom,components:r,behaviours:Ap(n.tabSectionBehaviours),events:hn(qn([n.selectFirst?[Os((m,p)=>{u(m,jn.getFirst)})]:[],[at(Wm(),(m,p)=>{(b=>{const y=Gt.getValue(b);as(b,n,"tabview").each(w=>{Un(n.tabs,C=>C.value===y).each(C=>{const S=C.view();Wr(b.element,"id").each(z=>{Ho(w.element,"aria-labelledby",z)}),zo.set(w,S),n.onChangeTab(w,b,S)})})})(p.event.button)}),at(ml(),(m,p)=>{const b=p.event.button;n.onDismissTab(m,b)})]])),apis:{getViewItems:m=>as(m,n,"tabview").map(p=>zo.contents(p)).getOr([]),showTab:(m,p)=>{u(m,b=>{const y=jn.getCandidates(b);return Un(y,w=>Gt.getValue(w)===p).filter(w=>!jn.isHighlighted(b,w))})}}}},apis:{getViewItems:(n,r)=>n.getViewItems(r),showTab:(n,r,i)=>{n.showTab(r,i)}}}),nR=(n,r)=>{Ro(n,"height",r+"px"),Ro(n,"flex-basis",r+"px")},e_=(n,r,i)=>{Lc(n,'[role="dialog"]').each(l=>{_r(l,'[role="tablist"]').each(u=>{i.get().map(m=>(Ro(r,"height","0"),Ro(r,"flex-basis","0"),Math.min(m,((p,b,y)=>{const w=su(p).dom,C=Lc(p,".tox-dialog-wrap").getOr(p);let S;S=Ys(C,"position")==="fixed"?Math.max(w.clientHeight,window.innerHeight):Math.max(w.offsetHeight,w.scrollHeight);const z=Ve(b),M=b.dom.offsetLeft>=y.dom.offsetLeft+vs(y)?Math.max(Ve(y),z):z,P=parseInt(Ys(p,"margin-top"),10)||0,$=parseInt(Ys(p,"margin-bottom"),10)||0;return S-(Ve(p)+P+$-M)})(l,r,u)))).each(m=>{nR(r,m)})})})},nE=n=>_r(n,'[role="tabpanel"]'),sR="send-data-to-section",rR="send-data-to-view",aR=(n,r,i)=>{const l=_o({}),u=w=>{const C=Gt.getValue(w),S=JS(C).getOr({}),z=l.get(),M=oe(z,S);l.set(M)},m=w=>{const C=l.get();Gt.setValue(w,C)},p=_o(null),b=Ct(n.tabs,w=>({value:w.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[ar(i.shared.providers.translate(w.title))],view:()=>[c1.sketch(C=>({dom:{tag:"div",classes:["tox-form"]},components:Ct(w.items,S=>R3(C,S,r,i)),formBehaviours:Rt([xo.config({mode:"acyclic",useTabstopAt:sn(xb)}),an("TabView.form.events",[Os(m),dd(u)]),Ll.config({channels:Hn([{key:sR,value:{onReceive:u}},{key:rR,value:{onReceive:m}}])})])}))]})),y=(w=>{const C=er();return{extraEvents:[Os(z=>{const M=z.element;nE(M).each(P=>{Ro(P,"visibility","hidden"),z.getSystem().getByDom(P).toOptional().each($=>{const K=((q,V,J)=>Ct(q,(te,ie)=>{zo.set(J,q[ie].view());const ve=V.dom.getBoundingClientRect();return zo.set(J,[]),ve.height}))(w,P,$);(q=>nt(yt(q,(V,J)=>V>J?-1:V<J?1:0)))(K).fold(C.clear,C.set)}),e_(M,P,C),Ln(P,"visibility"),(($,K)=>{nt($).each(ee=>Rb.showTab(K,ee.value))})(w,z),requestAnimationFrame(()=>{e_(M,P,C)})})}),at(Id(),z=>{const M=z.element;nE(M).each(P=>{e_(M,P,C)})}),at(Kv,(z,M)=>{const P=z.element;nE(P).each($=>{const K=Uc(nr($));Ro($,"visibility","hidden");const ee=vr($,"height").map(V=>parseInt(V,10));Ln($,"height"),Ln($,"flex-basis");const q=$.dom.getBoundingClientRect().height;ee.forall(V=>q>V)?(C.set(q),e_(P,$,C)):ee.each(V=>{nR($,V)}),Ln($,"visibility"),K.each(Xl)})})],selectFirst:!1}})(b);return Rb.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(w,C,S)=>{const z=Gt.getValue(C);ao(w,yO,{name:z,oldName:p.get()}),p.set(z)},tabs:b,components:[Rb.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[tE.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Rt([pr.config({})])}),Rb.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:y.selectFirst,tabSectionBehaviours:Rt([an("tabpanel",y.extraEvents),xo.config({mode:"acyclic"}),In.config({find:w=>nt(Rb.getViewItems(w))}),Dg(O.none(),w=>(w.getSystem().broadcastOn([sR],{}),l.get()),(w,C)=>{l.set(C),w.getSystem().broadcastOn([rR],{})})])})},sE=(n,r,i,l,u)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map(m=>({id:m})).getOr({}),...u?{"aria-live":"polite"}:{}}},components:[],behaviours:Rt([lC(0),Jc.config({channel:`${JO}-${r}`,updateState:(m,p)=>O.some({isTabPanel:()=>p.body.type==="tabpanel"}),renderComponents:m=>{const p=m.body;return p.type==="tabpanel"?[aR(p,m.initialData,l)]:[P8(p,m.initialData,l)]},initialData:n})])}),F8=Jh.deviceType.isTouch(),iR=(n,r)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[n,r]}),lR=(n,r)=>ei.parts.close(Wi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:n,buttonBehaviours:Rt([pr.config({})])})),Z0=()=>ei.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),cR=(n,r)=>ei.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:kg(`<p>${LT(r.translate(n))}</p>`)}]}]}),dR=n=>ei.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:n}),rE=(n,r)=>[Am.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:n}),Am.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})],t_=n=>{const r="tox-dialog",i=r+"-wrap",l=i+"__backdrop",u=r+"__disable-scroll";return ei.sketch({lazySink:n.lazySink,onEscape:m=>(n.onEscape(m),O.some(!0)),useTabstopAt:m=>!xb(m),firstTabstop:n.firstTabstop,dom:{tag:"div",classes:[r].concat(n.extraClasses),styles:{position:"relative",...n.extraStyles}},components:[n.header,n.body,...n.footer.toArray()],parts:{blocker:{dom:kg(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:F8?[l,l+"--opaque"]:[l]}}]}},dragBlockClass:i,modalBehaviours:Rt([Po.config({}),an("dialog-events",n.dialogEvents.concat([sm(ge(),(m,p)=>{zm.isBlocked(m)||xo.focusIn(m)}),at(Ld(),(m,p)=>{m.getSystem().broadcastOn([$x],{newFocus:p.event.newFocus})})])),an("scroll-lock",[Os(()=>{rs(Aa(),u)}),dd(()=>{cr(Aa(),u)})]),...n.extraBehaviours]),eventOrder:{[Ai()]:["dialog-events"],[kt()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[qm()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...n.eventOrder}})},uR=n=>Wi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close"),title:n.translate("Close")}},buttonBehaviours:Rt([pr.config({})]),components:[Kd("close",{tag:"span",classes:["tox-icon"]},n.icons)],action:r=>{Sn(r,Tg)}}),mR=(n,r,i,l)=>({dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...i.map(u=>({id:u})).getOr({})}},components:[],behaviours:Rt([Jc.config({channel:`${QO}-${r}`,initialData:n,renderComponents:u=>[ar(l.translate(u.title))]})])}),o_=()=>({dom:kg('<div class="tox-dialog__draghandle"></div>')}),fR=(n,r,i)=>((l,u,m)=>{const p=ei.parts.title(mR(l,u,O.none(),m)),b=ei.parts.draghandle(o_()),y=ei.parts.close(uR(m)),w=[p].concat(l.draggable?[b]:[]).concat([y]);return Am.sketch({dom:kg('<div class="tox-dialog__header"></div>'),components:w})})({title:i.shared.providers.translate(n),draggable:i.dialog.isDraggableModal()},r,i.shared.providers),aE=(n,r,i,l)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(n)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${l.getOr(0)}px`,position:"absolute"}},behaviours:r,components:[{dom:kg('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),gR=(n,r,i)=>({onClose:()=>i.closeWindow(),onBlock:l=>{const u=_r(n().element,".tox-dialog__header").map(m=>Ve(m));ei.setBusy(n(),(m,p)=>aE(l.message,p,r,u))},onUnblock:()=>{ei.setIdle(n())}}),pR="tox-dialog--fullscreen",iE="tox-dialog--width-lg",n_="tox-dialog--width-md",q0=n=>{switch(n){case"large":return O.some(iE);case"medium":return O.some(n_);default:return O.none()}},hR=(n,r)=>{const i=Ht(r.element.dom);Ga(i,pR)||(Bc(i,[iE,n_]),q0(n).each(l=>rs(i,l)))},bR=(n,r)=>{const i=Ht(n.element.dom),l=Ud(i),u=Un(l,m=>m===iE||m===n_).or(q0(r));((m,p)=>{Yt(p,b=>{((y,w)=>{fd(y)?y.dom.classList.toggle(w):((C,S)=>So(Vn(C),S)?Ci(C,S):ss(C,S))(y,w),mh(y)})(m,b)})})(i,[pR,...u.toArray()])},yR=(n,r,i)=>ji(t_({...n,firstTabstop:1,lazySink:i.shared.getSink,extraBehaviours:[jx({}),...n.extraBehaviours],onEscape:l=>{Sn(l,Tg)},dialogEvents:r,eventOrder:{[_i()]:[Jc.name(),Ll.name()],[kt()]:["scroll-lock",Jc.name(),"messages","dialog-events","alloy.base.behaviour"],[qm()]:["alloy.base.behaviour","dialog-events","messages",Jc.name(),"scroll-lock"]}})),lE=(n,r={})=>Ct(n,i=>i.type==="menu"?(l=>{const u=Ct(l.items,m=>{const p=Qt(r,m.name).getOr(_o(!1));return{...m,storage:p}});return{...l,items:u}})(i):i),cE=n=>H(n,(r,i)=>i.type==="menu"?H(i.items,(l,u)=>(l[u.name]=u.storage,l),r):r,{}),vR=(n,r)=>[uh(ge(),Vf),n(n1,(i,l,u,m)=>{Uc(nr(m.element)).fold(We,Y1),r.onClose(),l.onClose()}),n(Tg,(i,l,u,m)=>{l.onCancel(i),Sn(m,n1)}),at(V2,(i,l)=>r.onUnblock()),at(H2,(i,l)=>r.onBlock(l.event))],dE=(n,r,i)=>{const l=(m,p)=>at(m,(b,y)=>{u(b,(w,C)=>{p(n(),w,y.event,b)})}),u=(m,p)=>{Jc.getState(m).get().each(b=>{p(b.internalDialog,m)})};return[...vR(l,r),l(bb,(m,p)=>p.onSubmit(m)),l(vc,(m,p,b)=>{p.onChange(m,{name:b.name})}),l(Ff,(m,p,b,y)=>{const w=()=>y.getSystem().isConnected()?xo.focusIn(y):void 0,C=M=>yi(M,"disabled")||Wr(M,"aria-disabled").exists(P=>P==="true"),S=nr(y.element),z=Uc(S);p.onAction(m,{name:b.name,value:b.value}),Uc(S).fold(w,M=>{C(M)||z.exists(P=>or(M,P)&&C(P))?w():i().toOptional().filter(P=>!or(P.element,M)).each(w)})}),l(yO,(m,p,b)=>{p.onTabChange(m,{newTabName:b.name,oldTabName:b.oldName})}),dd(m=>{const p=n();Gt.setValue(m,p.getData())})]},U8=(n,r)=>{const i=r.map(m=>m.footerButtons).getOr([]),l=hi(i,m=>m.align==="start"),u=(m,p)=>Am.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${m}`]},components:Ct(p,b=>b.memento.asSpec())});return[u("start",l.pass),u("end",l.fail)]},kR=(n,r,i)=>({dom:kg('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Rt([Jc.config({channel:`${XO}-${r}`,initialData:n,updateState:(l,u)=>{const m=Ct(u.buttons,p=>{const b=us(((y,w)=>aw(y,y.type,w))(p,i));return{name:p.name,align:p.align,memento:b}});return O.some({lookupByName:p=>((b,y,w)=>Un(y,C=>C.name===w).bind(C=>C.memento.getOpt(b)))(l,m,p),footerButtons:m})},renderComponents:U8})])}),xR=(n,r,i)=>ei.parts.footer(kR(n,r,i)),wR=(n,r)=>{if(n.getRoot().getSystem().isConnected()){const i=In.getCurrent(n.getFormWrapper()).getOr(n.getFormWrapper());return c1.getField(i,r).orThunk(()=>n.getFooter().bind(u=>Jc.getState(u).get()).bind(u=>u.lookupByName(r)))}return O.none()},_R=(n,r,i)=>{const l=m=>{const p=n.getRoot();p.getSystem().isConnected()&&m(p)},u={getData:()=>{const m=n.getRoot(),p=m.getSystem().isConnected()?n.getFormWrapper():m;return{...Gt.getValue(p),...ln(i,b=>b.get())}},setData:m=>{l(p=>{const b=u.getData(),y=oe(b,m),w=((S,z)=>{const M=S.getRoot();return Jc.getState(M).get().map(P=>Nl(Ps("data",P.dataValidator,z))).getOr(z)})(n,y),C=n.getFormWrapper();Gt.setValue(C,w),fs(i,(S,z)=>{uo(y,z)&&S.set(y[z])})})},setEnabled:(m,p)=>{wR(n,m).each(p?Io.enable:Io.disable)},focus:m=>{wR(n,m).each(Po.focus)},block:m=>{if(!ze(m))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l(p=>{ao(p,H2,{message:m})})},unblock:()=>{l(m=>{Sn(m,V2)})},showTab:m=>{l(p=>{const b=n.getBody();Jc.getState(b).get().exists(y=>y.isTabPanel())&&In.getCurrent(b).each(y=>{Rb.showTab(y,m)})})},redial:m=>{l(p=>{const b=n.getId(),y=r(m),w=lE(y.internalDialog.buttons,i);p.getSystem().broadcastOn([`${Wx}-${b}`],y),p.getSystem().broadcastOn([`${QO}-${b}`],y.internalDialog),p.getSystem().broadcastOn([`${JO}-${b}`],y.internalDialog),p.getSystem().broadcastOn([`${XO}-${b}`],{...y.internalDialog,buttons:w}),u.setData(y.initialData)})},close:()=>{l(m=>{Sn(m,n1)})},toggleFullscreen:n.toggleFullscreen};return u},AR=(n,r,i,l=!1,u)=>{const m=no("dialog"),p=no("dialog-label"),b=no("dialog-content"),y=n.internalDialog,w=_o(y.size),C=q0(w.get()).toArray(),S=us(((V,J,te,ie)=>Am.sketch({dom:kg('<div class="tox-dialog__header"></div>'),components:[mR(V,J,O.some(te),ie),o_(),uR(ie)],containerBehaviours:Rt([Kp.config({mode:"mouse",blockerClass:"blocker",getTarget:ve=>Pc(ve,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:y.title,draggable:!0},m,p,i.shared.providers)),z=us(((V,J,te,ie,ve)=>sE(V,J,O.some(te),ie,ve))({body:y.body,initialData:y.initialData},m,b,i,l)),M=lE(y.buttons),P=cE(M),$=Fa(M.length!==0,us(((V,J,te)=>kR(V,J,te))({buttons:M},m,i))),K=dE(()=>q,{onBlock:V=>{zm.block(ee,(J,te)=>{const ie=S.getOpt(ee).map(ve=>Ve(ve.element));return aE(V.message,te,i.shared.providers,ie)})},onUnblock:()=>{zm.unblock(ee)},onClose:()=>r.closeWindow()},i.shared.getSink),ee=ji({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...C],attributes:{role:"dialog","aria-labelledby":p}},eventOrder:{[_i()]:[Jc.name(),Ll.name()],[Ai()]:["execute-on-form"],[kt()]:["reflecting","execute-on-form"]},behaviours:Rt([xo.config({mode:"cyclic",onEscape:V=>(Sn(V,n1),O.some(!0)),useTabstopAt:V=>!xb(V)&&(Ua(V)!=="button"||qr(V,"disabled")!=="disabled"),firstTabstop:1}),Jc.config({channel:`${Wx}-${m}`,updateState:(V,J)=>(w.set(J.internalDialog.size),hR(J.internalDialog.size,V),u(),O.some(J)),initialData:n}),Po.config({}),an("execute-on-form",K.concat([sm(ge(),(V,J)=>{xo.focusIn(V)}),at(Ld(),(V,J)=>{V.getSystem().broadcastOn([$x],{newFocus:J.event.newFocus})})])),zm.config({getRoot:()=>O.some(ee)}),zo.config({}),jx({})]),components:[S.asSpec(),z.asSpec(),...$.map(V=>V.asSpec()).toArray()]}),q=_R({getId:ae(m),getRoot:ae(ee),getFooter:()=>$.map(V=>V.get(ee)),getBody:()=>z.get(ee),getFormWrapper:()=>{const V=z.get(ee);return In.getCurrent(V).getOr(V)},toggleFullscreen:()=>{bR(ee,w.get())}},r.redial,P);return{dialog:ee,instanceApi:q}};var uE=tinymce.util.Tools.resolve("tinymce.util.URI");const H8=["insertContent","setContent","execCommand","close","block","unblock"],CR=n=>Tt(n)&&H8.indexOf(n.mceAction)!==-1,mE=(n,r,i,l)=>{const u=no("dialog"),m=fR(n.title,u,l),p=(ee=>{const q={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[l0(O.none(),{dom:{tag:"iframe",attributes:{src:ee.url}},behaviours:Rt([pr.config({}),Po.config({})])})]}],behaviours:Rt([xo.config({mode:"acyclic",useTabstopAt:sn(xb)})])};return ei.parts.body(q)})(n),b=n.buttons.bind(ee=>ee.length===0?O.none():O.some(xR({buttons:ee},u,l))),y=((ee,q)=>{const V=(te,ie)=>at(te,(ve,Re)=>{J(ve,(st,it)=>{ie(K,st,Re.event,ve)})}),J=(te,ie)=>{Jc.getState(te).get().each(ve=>{ie(ve,te)})};return[...vR(V,q),V(Ff,(te,ie,ve)=>{ie.onAction(te,{name:ve.name})})]})(0,gR(()=>$,l.shared.providers,r)),w={...n.height.fold(()=>({}),ee=>({height:ee+"px","max-height":ee+"px"})),...n.width.fold(()=>({}),ee=>({width:ee+"px","max-width":ee+"px"}))},C=n.width.isNone()&&n.height.isNone()?["tox-dialog--width-lg"]:[],S=new uE(n.url,{base_uri:new uE(window.location.href)}),z=`${S.protocol}://${S.host}${S.port?":"+S.port:""}`,M=Eu(),P=[Jc.config({channel:`${Wx}-${u}`,updateState:(ee,q)=>O.some(q),initialData:n}),an("messages",[Os(()=>{const ee=Oi(Ht(window),"message",q=>{if(S.isSameOrigin(new uE(q.raw.origin))){const V=q.raw.data;CR(V)?((J,te,ie)=>{switch(ie.mceAction){case"insertContent":J.insertContent(ie.content);break;case"setContent":J.setContent(ie.content);break;case"execCommand":const ve=!!rt(ie.ui)&&ie.ui;J.execCommand(ie.cmd,ve,ie.value);break;case"close":te.close();break;case"block":te.block(ie.message);break;case"unblock":te.unblock()}})(i,K,V):(J=>!CR(J)&&Tt(J)&&uo(J,"mceAction"))(V)&&n.onMessage(K,V)}});M.set(ee)}),dd(M.clear)]),Ll.config({channels:{[d1]:{onReceive:(ee,q)=>{_r(ee.element,"iframe").each(V=>{const J=V.dom.contentWindow;Se(J)&&J.postMessage(q,z)})}}}})],$=yR({id:u,header:m,body:p,footer:b,extraClasses:C,extraBehaviours:P,extraStyles:w},y,l),K=(ee=>{const q=V=>{ee.getSystem().isConnected()&&V(ee)};return{block:V=>{if(!ze(V))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");q(J=>{ao(J,H2,{message:V})})},unblock:()=>{q(V=>{Sn(V,V2)})},close:()=>{q(V=>{Sn(V,n1)})},sendMessage:V=>{q(J=>{J.getSystem().broadcastOn([d1],V)})}}})($);return{dialog:$,instanceApi:K}},SR=(n,r)=>Nl(Ps("data",r,n)),ER=n=>o1(n,".tox-alert-dialog")||o1(n,".tox-confirm-dialog"),V8=(n,r,i)=>r&&i?[]:[Pr.config({contextual:{lazyContext:()=>O.some(Tr(Ht(n.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:l=>fb(n,l.element).map(u=>({bounds:gb(u),optScrollEnv:O.some({currentScrollTop:u.element.dom.scrollTop,scrollElmTop:_n(u.element).top})})).getOrThunk(()=>({bounds:Ss(),optScrollEnv:O.none()}))})],W0=n=>{const r=n.editor,i=Zy(r),l=(y=>{const w=y.shared;return{open:(C,S)=>{const z=()=>{ei.hide(K),S()},M=us(aw({name:"close-alert",text:"OK",primary:!0,buttonType:O.some("primary"),align:"end",enabled:!0,icon:O.none()},"cancel",y)),P=Z0(),$=lR(z,w.providers),K=ji(t_({lazySink:()=>w.getSink(),header:iR(P,$),body:cR(C,w.providers),footer:O.some(dR(rE([],[M.asSpec()]))),onEscape:z,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[at(Tg,z)],eventOrder:{}}));ei.show(K);const ee=M.get(K);Po.focus(ee)}}})(n.backstages.dialog),u=(y=>{const w=y.shared;return{open:(C,S)=>{const z=V=>{ei.hide(ee),S(V)},M=us(aw({name:"yes",text:"Yes",primary:!0,buttonType:O.some("primary"),align:"end",enabled:!0,icon:O.none()},"submit",y)),P=aw({name:"no",text:"No",primary:!1,buttonType:O.some("secondary"),align:"end",enabled:!0,icon:O.none()},"cancel",y),$=Z0(),K=lR(()=>z(!1),w.providers),ee=ji(t_({lazySink:()=>w.getSink(),header:iR($,K),body:cR(C,w.providers),footer:O.some(dR(rE([],[P,M.asSpec()]))),onEscape:()=>z(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[at(Tg,()=>z(!1)),at(bb,()=>z(!0))],eventOrder:{}}));ei.show(ee);const q=M.get(ee);Po.focus(q)}}})(n.backstages.dialog),m=(y,w)=>Qp.open((C,S,z)=>{const M=S,P=(($,K,ee)=>{const q=no("dialog"),V=$.internalDialog,J=fR(V.title,q,ee),te=_o(V.size),ie=q0(te.get()).toArray(),ve=((Fo,yn,Ms)=>{const hr=sE(Fo,yn,O.none(),Ms,!1);return ei.parts.body(hr)})({body:V.body,initialData:V.initialData},q,ee),Re=lE(V.buttons),st=cE(Re),it=Fa(Re.length!==0,xR({buttons:Re},q,ee)),lt=dE(()=>Bo,gR(()=>eo,ee.shared.providers,K),ee.shared.getSink),qt={id:q,header:J,body:ve,footer:it,extraClasses:ie,extraBehaviours:[Jc.config({channel:`${Wx}-${q}`,updateState:(Fo,yn)=>(te.set(yn.internalDialog.size),hR(yn.internalDialog.size,Fo),O.some(yn)),initialData:$})],extraStyles:{}},eo=yR(qt,lt,ee),po={getId:ae(q),getRoot:ae(eo),getBody:()=>ei.getBody(eo),getFooter:()=>ei.getFooter(eo),getFormWrapper:()=>{const Fo=ei.getBody(eo);return In.getCurrent(Fo).getOr(Fo)},toggleFullscreen:()=>{bR(eo,te.get())}},Bo=_R(po,K.redial,st);return{dialog:eo,instanceApi:Bo}})({dataValidator:z,initialData:M,internalDialog:C},{redial:Qp.redial,closeWindow:()=>{ei.hide(P.dialog),w(P.instanceApi)}},n.backstages.dialog);return ei.show(P.dialog),P.instanceApi.setData(M),P.instanceApi},y),p=(y,w,C,S)=>Qp.open((z,M,P)=>{const $=SR(M,P),K=er(),ee=n.backstages.popup.shared.header.isPositionedAtTop(),q=()=>K.on(te=>{Ar.reposition(te),i&&ee||Pr.refresh(te)}),V=AR({dataValidator:P,initialData:$,internalDialog:z},{redial:Qp.redial,closeWindow:()=>{K.on(Ar.hide),r.off("ResizeEditor",q),K.clear(),C(V.instanceApi)}},n.backstages.popup,S.ariaAttrs,q),J=ji(Ar.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:S.persistent?{event:"doNotDismissYet"}:{},...ee?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Rt([an("window-manager-inline-events",[at(yu(),(te,ie)=>{Sn(V.dialog,Tg)})]),...V8(r,i,ee)]),isExtraPart:(te,ie)=>ER(ie)}));return K.set(J),Ar.showWithinBounds(J,ks(V.dialog),{anchor:w},()=>{const te=r.inline?Aa():Ht(r.getContainer()),ie=Tr(te);return O.some(ie)}),i&&ee||(Pr.refresh(J),r.on("ResizeEditor",q)),V.instanceApi.setData($),xo.focusIn(V.dialog),V.instanceApi},y),b=(y,w,C,S)=>Qp.open((z,M,P)=>{const $=SR(M,P),K=er(),ee=n.backstages.popup.shared.header.isPositionedAtTop(),q=()=>K.on(te=>{Ar.reposition(te),Pr.refresh(te)}),V=AR({dataValidator:P,initialData:$,internalDialog:z},{redial:Qp.redial,closeWindow:()=>{K.on(Ar.hide),r.off("ResizeEditor ScrollWindow ElementScroll",q),K.clear(),C(V.instanceApi)}},n.backstages.popup,S.ariaAttrs,q),J=ji(Ar.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:S.persistent?{event:"doNotDismissYet"}:{},...ee?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Rt([an("window-manager-inline-events",[at(yu(),(te,ie)=>{Sn(V.dialog,Tg)})]),Pr.config({contextual:{lazyContext:()=>O.some(Tr(Ht(r.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:te=>fb(r,te.element).map(ie=>({bounds:gb(ie),optScrollEnv:O.some({currentScrollTop:ie.element.dom.scrollTop,scrollElmTop:_n(ie.element).top})})).getOrThunk(()=>({bounds:Ss(),optScrollEnv:O.none()}))})]),isExtraPart:(te,ie)=>ER(ie)}));return K.set(J),Ar.showWithinBounds(J,ks(V.dialog),{anchor:w},()=>n.backstages.popup.shared.getSink().toOptional().bind(te=>{const ie=fb(r,te.element).map(st=>gb(st)).getOr(Ss()),ve=Tr(Ht(r.getContentAreaContainer())),Re=od(ve,ie);return O.some(mr(Re.x,Re.y,Re.width,Re.height-15))})),Pr.refresh(J),r.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",q),V.instanceApi.setData($),xo.focusIn(V.dialog),V.instanceApi},y);return{open:(y,w,C)=>{if(!zt(w)){if(w.inline==="toolbar")return p(y,n.backstages.popup.shared.anchors.inlineDialog(),C,w);if(w.inline==="bottom")return b(y,n.backstages.popup.shared.anchors.inlineBottomDialog(),C,w);if(w.inline==="cursor")return p(y,n.backstages.popup.shared.anchors.cursor(),C,w)}return m(y,C)},openUrl:(y,w)=>((C,S)=>Qp.openUrl(z=>{const M=mE(z,{closeWindow:()=>{ei.hide(M.dialog),S(M.instanceApi)}},r,n.backstages.dialog);return ei.show(M.dialog),M.instanceApi},C))(y,w),alert:(y,w)=>{l.open(y,w)},close:y=>{y.close()},confirm:(y,w)=>{u.open(y,w)}}};Qu.add("silver",n=>{(p=>{Mp(p),(b=>{const y=b.options.register,w=S=>so(S,ze)?{value:Y4(S),valid:!0}:{valid:!1,message:"Must be an array of strings."},C=S=>xt(S)&&S>0?{value:S,valid:!0}:{valid:!1,message:"Must be a positive number."};y("color_map",{processor:w,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),y("color_map_background",{processor:w}),y("color_map_foreground",{processor:w}),y("color_cols",{processor:C,default:Lf(b)}),y("color_cols_foreground",{processor:C,default:T2(b,S2)}),y("color_cols_background",{processor:C,default:T2(b,E2)}),y("custom_colors",{processor:"boolean",default:!0}),y("color_default_foreground",{processor:"string",default:jv}),y("color_default_background",{processor:"string",default:jv})})(p),(b=>{const y=b.options.register;y("contextmenu_avoid_overlap",{processor:"string",default:""}),y("contextmenu_never_use_native",{processor:"boolean",default:!1}),y("contextmenu",{processor:w=>w===!1?{value:[],valid:!0}:ze(w)||so(w,ze)?{value:N5(w),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(p)})(n);let r=()=>Ss();const{dialogs:i,popups:l,renderUI:u}=L0(n,{getPopupSinkBounds:()=>r()});P2(n,l.backstage.shared);const m=W0({editor:n,backstages:{popup:l.backstage,dialog:i.backstage}});return{renderUI:()=>{const p=u();return fb(n,l.getMothership().element).each(b=>{r=()=>gb(b)}),p},getWindowManagerImpl:ae(m),getNotificationManagerImpl:()=>((p,b,y)=>{const w=b.backstage.shared,C=()=>{const S=Tr(Ht(p.getContentAreaContainer())),z=Ss(),M=hc(z.x,S.x,S.right),P=hc(z.y,S.y,S.bottom),$=Math.max(S.right,z.right),K=Math.max(S.bottom,z.bottom);return O.some(mr(M,P,$-M,K-P))};return{open:(S,z)=>{const M=()=>{z(),Ar.hide($)},P=ji(TA.sketch({text:S.text,level:So(["success","error","warning","warn","info"],S.type)?S.type:void 0,progress:S.progressBar===!0,icon:S.icon,closeButton:S.closeButton,onAction:M,iconProvider:w.providers.icons,translationProvider:w.providers.translate})),$=ji(Ar.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:w.getSink,fireDismissalEventInstead:{},...w.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));y.add($),xt(S.timeout)&&S.timeout>0&&Uk.setEditorTimeout(p,()=>{M()},S.timeout);const K={close:M,reposition:()=>{const ee=ks(P),q={maxHeightFunction:gg()},V=p.notificationManager.getNotifications();if(V[0]===K){const J={...w.anchors.banner(),overrides:q};Ar.showWithinBounds($,ee,{anchor:J},C)}else ht(V,K).each(J=>{const te=V[J-1].getEl(),ie={type:"node",root:Aa(),node:O.some(Ht(te)),overrides:q,layouts:{onRtl:()=>[gr],onLtr:()=>[gr]}};Ar.showWithinBounds($,ee,{anchor:ie},C)})},text:ee=>{TA.updateText(P,ee)},settings:S,getEl:()=>P.element.dom,progressBar:{value:ee=>{TA.updateProgress(P,ee)}}};return K},close:S=>{S.close()},getArgs:S=>S.settings}})(n,{backstage:l.backstage},l.getMothership())}})})();(function(){var le=tinymce.util.Tools.resolve("tinymce.ModelManager");const De=f=>h=>(k=>{const _=typeof k;return k===null?"null":_==="object"&&Array.isArray(k)?"array":_==="object"&&(D=R=k,(L=String).prototype.isPrototypeOf(D)||((Z=R.constructor)===null||Z===void 0?void 0:Z.name)===L.name)?"string":_;var D,R,L,Z})(h)===f,de=f=>h=>typeof h===f,xe=f=>h=>f===h,Le=De("string"),ze=De("object"),Tt=De("array"),Oe=xe(null),Pe=de("boolean"),je=xe(void 0),rt=f=>!(h=>h==null)(f),zt=de("function"),ct=de("number"),Se=()=>{},Ue=f=>()=>f,xt=f=>f,so=(f,h)=>f===h;function We(f,...h){return(...k)=>{const _=h.concat(k);return f.apply(null,_)}}const At=f=>h=>!f(h),Qe=f=>f(),ae=Ue(!1),Lt=Ue(!0);class he{constructor(h,k){this.tag=h,this.value=k}static some(h){return new he(!0,h)}static none(){return he.singletonNone}fold(h,k){return this.tag?k(this.value):h()}isSome(){return this.tag}isNone(){return!this.tag}map(h){return this.tag?he.some(h(this.value)):he.none()}bind(h){return this.tag?h(this.value):he.none()}exists(h){return this.tag&&h(this.value)}forall(h){return!this.tag||h(this.value)}filter(h){return!this.tag||h(this.value)?this:he.none()}getOr(h){return this.tag?this.value:h}or(h){return this.tag?this:h}getOrThunk(h){return this.tag?this.value:h()}orThunk(h){return this.tag?this:h()}getOrDie(h){if(this.tag)return this.value;throw new Error(h??"Called getOrDie on None")}static from(h){return rt(h)?he.some(h):he.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(h){this.tag&&h(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}he.singletonNone=new he(!1);const tt=Array.prototype.slice,sn=Array.prototype.indexOf,lo=Array.prototype.push,Vt=(f,h)=>{return k=f,_=h,sn.call(k,_)>-1;var k,_},_e=(f,h)=>{for(let k=0,_=f.length;k<_;k++)if(h(f[k],k))return!0;return!1},Je=(f,h)=>{const k=[];for(let _=0;_<f;_++)k.push(h(_));return k},O=(f,h)=>{const k=f.length,_=new Array(k);for(let D=0;D<k;D++){const R=f[D];_[D]=h(R,D)}return _},ft=(f,h)=>{for(let k=0,_=f.length;k<_;k++)h(f[k],k)},dt=(f,h)=>{const k=[],_=[];for(let D=0,R=f.length;D<R;D++){const L=f[D];(h(L,D)?k:_).push(L)}return{pass:k,fail:_}},Jt=(f,h)=>{const k=[];for(let _=0,D=f.length;_<D;_++){const R=f[_];h(R,_)&&k.push(R)}return k},kn=(f,h,k)=>(((_,D)=>{for(let R=_.length-1;R>=0;R--)D(_[R],R)})(f,(_,D)=>{k=h(k,_,D)}),k),ht=(f,h,k)=>(ft(f,(_,D)=>{k=h(k,_,D)}),k),So=(f,h)=>((k,_,D)=>{for(let R=0,L=k.length;R<L;R++){const Z=k[R];if(_(Z,R))return he.some(Z);if(D(Z,R))break}return he.none()})(f,h,ae),tr=(f,h)=>{for(let k=0,_=f.length;k<_;k++)if(h(f[k],k))return he.some(k);return he.none()},$t=f=>{const h=[];for(let k=0,_=f.length;k<_;++k){if(!Tt(f[k]))throw new Error("Arr.flatten item "+k+" was not an array, input: "+f);lo.apply(h,f[k])}return h},is=(f,h)=>$t(O(f,h)),Ct=(f,h)=>{for(let k=0,_=f.length;k<_;++k)if(h(f[k],k)!==!0)return!1;return!0},Yt=(f,h)=>{const k={};for(let _=0,D=f.length;_<D;_++){const R=f[_];k[String(R)]=h(R,_)}return k},hi=(f,h)=>h>=0&&h<f.length?he.some(f[h]):he.none(),Mo=f=>hi(f,0),pn=f=>hi(f,f.length-1),H=(f,h)=>{for(let k=0;k<f.length;k++){const _=h(f[k],k);if(_.isSome())return _}return he.none()},Un=Object.keys,ti=Object.hasOwnProperty,qn=(f,h)=>{const k=Un(f);for(let _=0,D=k.length;_<D;_++){const R=k[_];h(f[R],R)}},Ws=(f,h)=>Al(f,(k,_)=>({k:_,v:h(k,_)})),Al=(f,h)=>{const k={};return qn(f,(_,D)=>{const R=h(_,D);k[R.k]=R.v}),k},Nn=(f,h)=>{const k=[];return qn(f,(_,D)=>{k.push(h(_,D))}),k},ts=f=>Nn(f,xt),Zo=(f,h)=>ti.call(f,h),ut=typeof window<"u"?window:Function("return this;")(),yt=(f,h)=>((k,_)=>{let D=_??ut;for(let R=0;R<k.length&&D!=null;++R)D=D[k[R]];return D})(f.split("."),h),St=Object.getPrototypeOf,nt=f=>{const h=yt("ownerDocument.defaultView",f);return ze(f)&&((k=>((_,D)=>{const R=((L,Z)=>yt(L,Z))(_,D);if(R==null)throw new Error(_+" not available on this browser");return R})("HTMLElement",k))(h).prototype.isPrototypeOf(f)||/^HTML\w*Element$/.test(St(f).constructor.name))},go=f=>f.dom.nodeName.toLowerCase(),rn=f=>f.dom.nodeType,Bn=f=>h=>rn(h)===f,on=f=>rn(f)===8||go(f)==="#comment",La=f=>fs(f)&&nt(f.dom),fs=Bn(1),ln=Bn(3),jr=Bn(9),ea=Bn(11),Ns=f=>h=>fs(h)&&go(h)===f,ws=(f,h,k)=>{if(!(Le(k)||Pe(k)||ct(k)))throw console.error("Invalid call to Attribute.set. Key ",h,":: Value ",k,":: Element ",f),new Error("Attribute value was not simple");f.setAttribute(h,k+"")},wn=(f,h,k)=>{ws(f.dom,h,k)},Zr=(f,h)=>{const k=f.dom;qn(h,(_,D)=>{ws(k,D,_)})},Jo=(f,h)=>{const k=f.dom.getAttribute(h);return k===null?void 0:k},Qt=(f,h)=>he.from(Jo(f,h)),uo=(f,h)=>{f.dom.removeAttribute(h)},Cr=f=>ht(f.dom.attributes,(h,k)=>(h[k.name]=k.value,h),{}),Pa=f=>{if(f==null)throw new Error("Node cannot be null or undefined");return{dom:f}},vt={fromHtml:(f,h)=>{const k=(h||document).createElement("div");if(k.innerHTML=f,!k.hasChildNodes()||k.childNodes.length>1){const _="HTML does not have a single root node";throw console.error(_,f),new Error(_)}return Pa(k.childNodes[0])},fromTag:(f,h)=>{const k=(h||document).createElement(f);return Pa(k)},fromText:(f,h)=>{const k=(h||document).createTextNode(f);return Pa(k)},fromDom:Pa,fromPoint:(f,h,k)=>he.from(f.dom.elementFromPoint(h,k)).map(Pa)},wa=(f,h)=>{const k=f.dom;if(k.nodeType!==1)return!1;{const _=k;if(_.matches!==void 0)return _.matches(h);if(_.msMatchesSelector!==void 0)return _.msMatchesSelector(h);if(_.webkitMatchesSelector!==void 0)return _.webkitMatchesSelector(h);if(_.mozMatchesSelector!==void 0)return _.mozMatchesSelector(h);throw new Error("Browser lacks native selectors")}},An=f=>f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11||f.childElementCount===0,Fa=(f,h)=>{const k=h===void 0?document:h.dom;return An(k)?he.none():he.from(k.querySelector(f)).map(vt.fromDom)},Jn=(f,h)=>f.dom===h.dom,ed=(f,h)=>{const k=f.dom,_=h.dom;return k!==_&&k.contains(_)},Sr=wa,Cl=f=>vt.fromDom(f.dom.ownerDocument),Ki=f=>jr(f)?f:Cl(f),oi=f=>he.from(f.dom.parentNode).map(vt.fromDom),cl=f=>he.from(f.dom.parentElement).map(vt.fromDom),hs=(f,h)=>{const k=zt(h)?h:ae;let _=f.dom;const D=[];for(;_.parentNode!==null&&_.parentNode!==void 0;){const R=_.parentNode,L=vt.fromDom(R);if(D.push(L),k(L)===!0)break;_=R}return D},Lo=f=>he.from(f.dom.previousSibling).map(vt.fromDom),ni=f=>he.from(f.dom.nextSibling).map(vt.fromDom),bi=f=>O(f.dom.childNodes,vt.fromDom),Ni=(f,h)=>{const k=f.dom.childNodes;return he.from(k[h]).map(vt.fromDom)},sc=(f,h)=>{oi(f).each(k=>{k.dom.insertBefore(h.dom,f.dom)})},Ht=(f,h)=>{ni(f).fold(()=>{oi(f).each(k=>{_s(k,h)})},k=>{sc(k,h)})},Cd=(f,h)=>{(_=>Ni(_,0))(f).fold(()=>{_s(f,h)},_=>{f.dom.insertBefore(h.dom,_.dom)})},_s=(f,h)=>{f.dom.appendChild(h.dom)},ou=(f,h)=>{sc(f,h),_s(h,f)},Sd=(f,h)=>{ft(h,(k,_)=>{const D=_===0?f:h[_-1];Ht(D,k)})},Ua=(f,h)=>{ft(h,k=>{_s(f,k)})},$l=f=>{f.dom.textContent="",ft(bi(f),h=>{_a(h)})},_a=f=>{const h=f.dom;h.parentNode!==null&&h.parentNode.removeChild(h)},br=f=>{const h=bi(f);h.length>0&&Sd(f,h),_a(f)},si=(f,h)=>vt.fromDom(f.dom.cloneNode(h)),nu=f=>si(f,!1),dl=f=>si(f,!0),Wu=(f,h)=>{const k=vt.fromTag(h),_=Cr(f);return Zr(k,_),k},Sl=["tfoot","thead","tbody","colgroup"],Ed=(f,h,k)=>({element:f,rowspan:h,colspan:k}),Wn=(f,h,k)=>({element:f,cells:h,section:k}),or=(f,h,k)=>({element:f,isNew:h,isLocked:k}),da=(f,h,k,_)=>({element:f,cells:h,section:k,isNew:_}),rc=zt(Element.prototype.attachShadow)&&zt(Node.prototype.getRootNode),su=Ue(rc),ru=rc?f=>vt.fromDom(f.dom.getRootNode()):Ki,Mi=f=>vt.fromDom(f.dom.host),yr=f=>{const h=ln(f)?f.dom.parentNode:f.dom;if(h==null||h.ownerDocument===null)return!1;const k=h.ownerDocument;return(R=>{const L=ru(R);return ea(Z=L)&&rt(Z.dom.host)?he.some(L):he.none();var Z})(vt.fromDom(h)).fold(()=>k.body.contains(h),(_=yr,D=Mi,R=>_(D(R))));var _,D},$u=f=>{const h=f.dom.body;if(h==null)throw new Error("Body is not available yet");return vt.fromDom(h)},os=(f,h)=>{let k=[];return ft(bi(f),_=>{h(_)&&(k=k.concat([_])),k=k.concat(os(_,h))}),k},ds=(f,h,k)=>((_,D,R)=>Jt(hs(_,R),L=>wa(L,h)))(f,0,k),Yi=(f,h)=>((k,_)=>Jt(bi(k),D=>wa(D,h)))(f),Ii=(f,h)=>((k,_)=>{const D=_===void 0?document:_.dom;return An(D)?[]:O(D.querySelectorAll(k),vt.fromDom)})(h,f);var ac=(f,h,k,_,D)=>f(k,_)?he.some(k):zt(D)&&D(k)?he.none():h(k,_,D);const ic=(f,h,k)=>{let _=f.dom;const D=zt(k)?k:ae;for(;_.parentNode;){_=_.parentNode;const R=vt.fromDom(_);if(h(R))return he.some(R);if(D(R))break}return he.none()},Ac=(f,h,k)=>ac((_,D)=>D(_),ic,f,h,k),ta=(f,h,k)=>ic(f,_=>wa(_,h),k),nr=(f,h)=>((k,_)=>So(k.dom.childNodes,D=>{return R=vt.fromDom(D),wa(R,h);var R}).map(vt.fromDom))(f),oa=(f,h)=>Fa(h,f),ir=(f,h,k)=>ac((_,D)=>wa(_,D),ta,f,h,k),Bi=(f,h,k=so)=>f.exists(_=>k(_,h)),gs=f=>{const h=[],k=_=>{h.push(_)};for(let _=0;_<f.length;_++)f[_].each(k);return h},Aa=(f,h)=>f?he.some(h):he.none(),Ha=(f,h,k)=>h===""||f.length>=h.length&&f.substr(k,k+h.length)===h,ua=(f,h,k=0,_)=>{const D=f.indexOf(h,k);return D!==-1&&(!!je(_)||D+h.length<=_)},Ho=(f,h)=>Ha(f,h,0),ri=(f,h)=>Ha(f,h,f.length-h.length),qr=(f=>h=>h.replace(f,""))(/^\s+|\s+$/g),Wr=f=>f.length>0,yi=f=>f.style!==void 0&&zt(f.style.getPropertyValue),As=(f,h,k)=>{if(!Le(k))throw console.error("Invalid call to CSS.set. Property ",h,":: Value ",k,":: Element ",f),new Error("CSS value must be a string: "+k);yi(f)&&f.style.setProperty(h,k)},lr=(f,h,k)=>{const _=f.dom;As(_,h,k)},El=(f,h)=>{const k=f.dom;qn(h,(_,D)=>{As(k,D,_)})},Ro=(f,h)=>{const k=f.dom,_=window.getComputedStyle(k).getPropertyValue(h);return _!==""||yr(f)?_:Tl(k,h)},Tl=(f,h)=>yi(f)?f.style.getPropertyValue(h):"",ai=(f,h)=>{const k=f.dom,_=Tl(k,h);return he.from(_).filter(D=>D.length>0)},Ys=(f,h)=>{((k,_)=>{yi(k)&&k.style.removeProperty(_)})(f.dom,h),Bi(Qt(f,"style").map(qr),"")&&uo(f,"style")},vi=(f,h,k=0)=>Qt(f,h).map(_=>parseInt(_,10)).getOr(k),vr=(f,h)=>vi(f,h,1),Cc=f=>Ns("col")(f)?vi(f,"span",1)>1:vr(f,"colspan")>1,au=f=>vr(f,"rowspan")>1,Ln=(f,h)=>parseInt(Ro(f,h),10),W=Ue(10),fe=Ue(10),Ae=(f,h)=>Ve(f,h,Lt),Ve=(f,h,k)=>is(bi(f),_=>wa(_,h)?k(_)?[_]:[]:Ve(_,h,k)),Dt=(f,h)=>((k,_,D=ae)=>D(_)?he.none():Vt(k,go(_))?he.some(_):ta(_,k.join(","),R=>wa(R,"table")||D(R)))(["td","th"],f,h),yo=f=>Ae(f,"th,td"),qo=f=>wa(f,"colgroup")?Yi(f,"col"):is(Ls(f),h=>Yi(h,"col")),Cn=(f,h)=>ir(f,"table",h),_n=f=>Ae(f,"tr"),Ls=f=>Cn(f).fold(Ue([]),h=>Yi(h,"colgroup")),ns=(f,h)=>O(f,k=>{if(go(k)==="colgroup"){const _=O(qo(k),D=>{const R=vi(D,"span",1);return Ed(D,1,R)});return Wn(k,_,"colgroup")}{const _=O(yo(k),D=>{const R=vi(D,"rowspan",1),L=vi(D,"colspan",1);return Ed(D,R,L)});return Wn(k,_,h(k))}}),vs=f=>oi(f).map(h=>{const k=go(h);return(_=>Vt(Sl,_))(k)?k:"tbody"}).getOr("tbody"),$r=f=>{const h=_n(f),k=[...Ls(f),...h];return ns(k,vs)},ki=f=>{let h,k=!1;return(..._)=>(k||(k=!0,h=f.apply(null,_)),h)},Mn=()=>Gu(0,0),Gu=(f,h)=>({major:f,minor:h}),lc={nu:Gu,detect:(f,h)=>{const k=String(h).toLowerCase();return f.length===0?Mn():((_,D)=>{const R=((Z,G)=>{for(let re=0;re<Z.length;re++){const pe=Z[re];if(pe.test(G))return pe}})(_,D);if(!R)return{major:0,minor:0};const L=Z=>Number(D.replace(R,"$"+Z));return Gu(L(1),L(2))})(f,k)},unknown:Mn},Ku=(f,h)=>{const k=String(h).toLowerCase();return So(f,_=>_.search(k))},Yu=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ca=f=>h=>ua(h,f),lh=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:f=>ua(f,"edge/")&&ua(f,"chrome")&&ua(f,"safari")&&ua(f,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Yu],search:f=>ua(f,"chrome")&&!ua(f,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:f=>ua(f,"msie")||ua(f,"trident")},{name:"Opera",versionRegexes:[Yu,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ca("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ca("firefox")},{name:"Safari",versionRegexes:[Yu,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:f=>(ua(f,"safari")||ua(f,"mobile/"))&&ua(f,"applewebkit")}],Va=[{name:"Windows",search:Ca("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:f=>ua(f,"iphone")||ua(f,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ca("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ca("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ca("linux"),versionRegexes:[]},{name:"Solaris",search:Ca("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ca("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ca("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],og={browsers:Ue(lh),oses:Ue(Va)},Jg="Edge",Hb="Chromium",Mt="Opera",iu="Firefox",Xg="Safari",Td=f=>{const h=f.current,k=f.version,_=D=>()=>h===D;return{current:h,version:k,isEdge:_(Jg),isChromium:_(Hb),isIE:_("IE"),isOpera:_(Mt),isFirefox:_(iu),isSafari:_(Xg)}},na=()=>Td({current:void 0,version:lc.unknown()}),ep=Td,lu="Windows",Od="Android",tp="Linux",Im="macOS",cu="Solaris",B1="FreeBSD",Vb="ChromeOS",op=f=>{const h=f.current,k=f.version,_=D=>()=>h===D;return{current:h,version:k,isWindows:_(lu),isiOS:_("iOS"),isAndroid:_(Od),isMacOS:_(Im),isLinux:_(tp),isSolaris:_(cu),isFreeBSD:_(B1),isChromeOS:_(Vb)}},jb=()=>op({current:void 0,version:lc.unknown()}),cc=op,ng=f=>window.matchMedia(f).matches;let du=ki(()=>((f,h,k)=>{const _=og.browsers(),D=og.oses(),R=h.bind(G=>((re,pe)=>H(pe.brands,ce=>{const me=ce.brand.toLowerCase();return So(re,be=>{var Me;return me===((Me=be.brand)===null||Me===void 0?void 0:Me.toLowerCase())}).map(be=>({current:be.name,version:lc.nu(parseInt(ce.version,10),0)}))}))(_,G)).orThunk(()=>((G,re)=>Ku(G,re).map(pe=>{const ce=lc.detect(pe.versionRegexes,re);return{current:pe.name,version:ce}}))(_,f)).fold(na,ep),L=((G,re)=>Ku(G,re).map(pe=>{const ce=lc.detect(pe.versionRegexes,re);return{current:pe.name,version:ce}}))(D,f).fold(jb,cc),Z=((G,re,pe,ce)=>{const me=G.isiOS()&&/ipad/i.test(pe)===!0,be=G.isiOS()&&!me,Me=G.isiOS()||G.isAndroid(),Ee=Me||ce("(pointer:coarse)"),et=me||!be&&Me&&ce("(min-device-width:768px)"),mt=be||Me&&!et,_t=re.isSafari()&&G.isiOS()&&/safari/i.test(pe)===!1,gt=!mt&&!et&&!_t;return{isiPad:Ue(me),isiPhone:Ue(be),isTablet:Ue(et),isPhone:Ue(mt),isTouch:Ue(Ee),isAndroid:G.isAndroid,isiOS:G.isiOS,isWebView:Ue(_t),isDesktop:Ue(gt)}})(L,R,f,k);return{browser:R,os:L,deviceType:Z}})(navigator.userAgent,he.from(navigator.userAgentData),ng));const Ol=()=>du(),Gl=(f,h)=>{const k=D=>{const R=h(D);if(R<=0||R===null){const L=Ro(D,f);return parseFloat(L)||0}return R},_=(D,R)=>ht(R,(L,Z)=>{const G=Ro(D,Z),re=G===void 0?0:parseInt(G,10);return isNaN(re)?L:L+re},0);return{set:(D,R)=>{if(!ct(R)&&!R.match(/^[0-9]+$/))throw new Error(f+".set accepts only positive integer values. Value was "+R);const L=D.dom;yi(L)&&(L.style[f]=R+"px")},get:k,getOuter:k,aggregate:_,max:(D,R,L)=>{const Z=_(D,L);return R>Z?R-Z:0}}},fn=(f,h,k)=>((_,D)=>(R=>{const L=parseFloat(R);return isNaN(L)?he.none():he.some(L)})(_).getOr(D))(Ro(f,h),k),Bm=Gl("width",f=>f.dom.offsetWidth),ma=f=>Bm.get(f),td=f=>Bm.getOuter(f),uu=f=>((h,k)=>{const _=h.dom,D=_.getBoundingClientRect().width||_.offsetWidth;return k==="border-box"?D:((R,L,Z,G)=>L-fn(R,`padding-${Z}`,0)-fn(R,`padding-${G}`,0)-fn(R,`border-${Z}-width`,0)-fn(R,`border-${G}-width`,0))(h,D,"left","right")})(f,"content-box"),xi=(f,h,k)=>{const _=f.cells,D=_.slice(0,h),R=_.slice(h),L=D.concat(k).concat(R);return Lm(f,L)},kr=(f,h,k)=>xi(f,h,[k]),mu=(f,h,k)=>{f.cells[h]=k},Lm=(f,h)=>da(f.element,h,f.section,f.isNew),Er=(f,h)=>f.cells[h],dr=(f,h)=>Er(f,h).element,Cs=f=>f.cells.length,Qs=f=>{const h=dt(f,k=>k.section==="colgroup");return{rows:h.fail,cols:h.pass}},wi=(f,h,k)=>{const _=O(f.cells,k);return da(h(f.element),_,f.section,!0)},Qi="data-snooker-locked-cols",fa=f=>Qt(f,Qi).bind(h=>he.from(h.match(/\d+/g))).map(h=>Yt(h,Lt)),ur=f=>{const h=ht(Qs(f).rows,(_,D)=>(ft(D.cells,(R,L)=>{R.isLocked&&(_[L]=!0)}),_),{}),k=Nn(h,(_,D)=>parseInt(D,10));return((_,D)=>{const R=tt.call(_,0);return R.sort(void 0),R})(k)},fu=(f,h)=>f+","+h,mr=(f,h)=>{const k=is(f.all,_=>_.cells);return Jt(k,h)},Tr=f=>{const h={},k=[],_=Mo(f).map(me=>me.element).bind(Cn).bind(fa).getOr({});let D=0,R=0,L=0;const{pass:Z,fail:G}=dt(f,me=>me.section==="colgroup");ft(G,me=>{const be=[];ft(me.cells,Me=>{let Ee=0;for(;h[fu(L,Ee)]!==void 0;)Ee++;const et=((_t,gt)=>Zo(_t,gt)&&_t[gt]!==void 0&&_t[gt]!==null)(_,Ee.toString()),mt=((_t,gt,Ot,It,Zt,To)=>({element:_t,rowspan:gt,colspan:Ot,row:It,column:Zt,isLocked:To}))(Me.element,Me.rowspan,Me.colspan,L,Ee,et);for(let _t=0;_t<Me.colspan;_t++)for(let gt=0;gt<Me.rowspan;gt++){const Ot=Ee+_t,It=fu(L+gt,Ot);h[It]=mt,R=Math.max(R,Ot+1)}be.push(mt)}),D++,k.push(Wn(me.element,be,me.section)),L++});const{columns:re,colgroups:pe}=pn(Z).map(me=>{const be=(Ee=>{const et={};let mt=0;return ft(Ee.cells,_t=>{const gt=_t.colspan;Je(gt,Ot=>{const It=mt+Ot;et[It]=((Zt,To,Oo)=>({element:Zt,colspan:To,column:Oo}))(_t.element,gt,It)}),mt+=gt}),et})(me);return{colgroups:[((Ee,et)=>({element:Ee,columns:et}))(me.element,ts(be))],columns:be}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((me,be)=>({rows:me,columns:be}))(D,R),access:h,all:k,columns:re,colgroups:pe}},xr=f=>{const h=$r(f);return Tr(h)},od=Tr,Ss=(f,h,k)=>he.from(f.access[fu(h,k)]),Qu=(f,h,k)=>{const _=mr(f,D=>k(h,D.element));return _.length>0?he.some(_[0]):he.none()},Pm=mr,zl=f=>is(f.all,h=>h.cells),un=f=>ts(f.columns),Br=f=>Un(f.columns).length>0,zd=(f,h)=>he.from(f.columns[h]),Kl=(f,h=Lt)=>{const k=f.grid,_=Je(k.columns,xt),D=Je(k.rows,xt);return O(_,R=>Fm(()=>is(D,L=>Ss(f,L,R).filter(Z=>Z.column===R).toArray()),L=>L.colspan===1&&h(L.element),()=>Ss(f,0,R)))},Fm=(f,h,k)=>{const _=f();return So(_,h).orThunk(()=>he.from(_[0]).orThunk(k)).map(D=>D.element)},Yl=f=>{const h=f.grid,k=Je(h.rows,xt),_=Je(h.columns,xt);return O(k,D=>Fm(()=>is(_,R=>Ss(f,D,R).filter(L=>L.row===D).fold(Ue([]),L=>[L])),R=>R.rowspan===1,()=>Ss(f,D,0)))},Sc=(f,h)=>k=>np(k)==="rtl"?h:f,np=f=>Ro(f,"direction")==="rtl"?"rtl":"ltr",Um=Gl("height",f=>{const h=f.dom;return yr(f)?h.getBoundingClientRect().height:h.offsetHeight}),dc=f=>Um.get(f),sp=f=>Um.getOuter(f),oe=(f,h)=>({left:f,top:h,translate:(k,_)=>oe(f+k,h+_)}),Dl=oe,ja=(f,h)=>f!==void 0?f:h!==void 0?h:0,uc=f=>{const h=f.dom.ownerDocument,k=h.body,_=h.defaultView,D=h.documentElement;if(k===f.dom)return Dl(k.offsetLeft,k.offsetTop);const R=ja(_==null?void 0:_.pageYOffset,D.scrollTop),L=ja(_==null?void 0:_.pageXOffset,D.scrollLeft),Z=ja(D.clientTop,k.clientTop),G=ja(D.clientLeft,k.clientLeft);return gu(f).translate(L-G,R-Z)},gu=f=>{const h=f.dom,k=h.ownerDocument.body;return k===h?Dl(k.offsetLeft,k.offsetTop):yr(f)?(_=>{const D=_.getBoundingClientRect();return Dl(D.left,D.top)})(h):Dl(0,0)},sg=(f,h)=>({row:f,y:h}),On=(f,h)=>({col:f,x:h}),Li=f=>uc(f).left+td(f),nd=f=>uc(f).left,Pi=(f,h)=>On(f,nd(h)),sd=(f,h)=>On(f,Li(h)),ul=f=>uc(f).top,Za=(f,h)=>sg(f,ul(h)),mc=(f,h)=>sg(f,ul(h)+sp(h)),ii=(f,h,k)=>{if(k.length===0)return[];const _=O(k.slice(1),(R,L)=>R.map(Z=>f(L,Z))),D=k[k.length-1].map(R=>h(k.length-1,R));return _.concat([D])},ko={delta:xt,positions:f=>ii(Za,mc,f),edge:ul},li=Sc({delta:xt,edge:nd,positions:f=>ii(Pi,sd,f)},{delta:f=>-f,edge:Li,positions:f=>ii(sd,Pi,f)}),Fi={delta:(f,h)=>li(h).delta(f,h),positions:(f,h)=>li(h).positions(f,h),edge:f=>li(f).edge(f)},rp={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Dd=(()=>{const f="[0-9]+",h="[eE][+-]?"+f,k=D=>`(?:${D})?`,_=["Infinity",f+"\\."+k(f)+k(h),"\\."+f+k(h),f+k(h)].join("|");return new RegExp(`^([+-]?(?:${_}))(.*)$`)})(),Es=/(\d+(\.\d+)?)%/,Ec=/(\d+(\.\d+)?)px|em/,pu=Ns("col"),Or=(f,h,k)=>{const _=cl(f).getOrThunk(()=>$u(Cl(f)));return h(f)/k(_)*100},fc=(f,h)=>{lr(f,"width",h+"px")},Hm=(f,h)=>{lr(f,"width",h+"%")},Ju=(f,h)=>{lr(f,"height",h+"px")},rg=f=>{const h=(k=>{return fn(_=k,"height",_.dom.offsetHeight)+"px";var _})(f);return h?((k,_,D,R)=>{const L=parseFloat(k);return ri(k,"%")&&go(_)!=="table"?((Z,G,re,pe)=>{const ce=Cn(Z).map(me=>{const be=re(me);return Math.floor(G/100*be)}).getOr(G);return pe(Z,ce),ce})(_,L,D,R):L})(h,f,dc,Ju):dc(f)},Tc=(f,h)=>ai(f,h).orThunk(()=>Qt(f,h).map(k=>k+"px")),Rl=f=>Tc(f,"width"),Oc=f=>Or(f,ma,uu),Ps=f=>{return pu(f)?ma(f):fn(h=f,"width",h.dom.offsetWidth);var h},Nl=f=>((h,k,_)=>_(h)/vr(h,"rowspan"))(f,0,rg),ga=(f,h,k)=>{lr(f,"width",h+k)},zc=f=>Or(f,ma,uu)+"%",qa=Ue(Es),Xu=Ns("col"),wr=f=>Rl(f).getOrThunk(()=>Ps(f)+"px"),sa=f=>{return(h=f,Tc(h,"height")).getOrThunk(()=>Nl(f)+"px");var h},Ji=(f,h,k,_,D,R)=>f.filter(_).fold(()=>R(((L,Z)=>{if(Z<0||Z>=L.length-1)return he.none();const G=L[Z].fold(()=>{const pe=(ce=>{const me=tt.call(ce,0);return me.reverse(),me})(L.slice(0,Z));return H(pe,(ce,me)=>ce.map(be=>({value:be,delta:me+1})))},pe=>he.some({value:pe,delta:0})),re=L[Z+1].fold(()=>{const pe=L.slice(Z+1);return H(pe,(ce,me)=>ce.map(be=>({value:be,delta:me+1})))},pe=>he.some({value:pe,delta:1}));return G.bind(pe=>re.map(ce=>{const me=ce.delta+pe.delta;return Math.abs(ce.value-pe.value)/me}))})(k,h)),L=>D(L)),Xe=(f,h,k,_)=>{const D=Kl(f),R=Br(f)?(G=>O(un(G),re=>he.from(re.element)))(f):D,L=[he.some(Fi.edge(h))].concat(O(Fi.positions(D,h),G=>G.map(re=>re.x))),Z=At(Cc);return O(R,(G,re)=>Ji(G,re,L,Z,pe=>{if((me=>{const be=Ol().browser,Me=be.isChromium()||be.isFirefox();return!Xu(me)||Me})(pe))return k(pe);{const me=(ce=D[re])!=null?xt(ce):he.none();return Ji(me,re,L,Z,be=>_(he.some(ma(be))),_)}var ce},_))},Ui=f=>f.map(h=>h+"px").getOr(""),Vm=(f,h,k)=>Xe(f,h,Ps,_=>_.getOrThunk(k.minCellWidth)),sr=(f,h,k,_,D)=>{const R=Yl(f),L=[he.some(k.edge(h))].concat(O(k.positions(R,h),Z=>Z.map(G=>G.y)));return O(R,(Z,G)=>Ji(Z,G,L,At(au),_,D))},Sa=(f,h)=>()=>yr(f)?h(f):parseFloat(ai(f,"width").getOr("0")),Ea=f=>{const h=Sa(f,_=>parseFloat(zc(_))),k=Sa(f,ma);return{width:h,pixelWidth:k,getWidths:(_,D)=>((R,L,Z)=>Xe(R,L,Oc,G=>G.fold(()=>Z.minCellWidth(),re=>re/Z.pixelWidth()*100)))(_,f,D),getCellDelta:_=>_/k()*100,singleColumnWidth:(_,D)=>[100-_],minCellWidth:()=>W()/k()*100,setElementWidth:Hm,adjustTableWidth:_=>{const D=h();Hm(f,D+_/100*D)},isRelative:!0,label:"percent"}},Hi=f=>{const h=Sa(f,ma);return{width:h,pixelWidth:h,getWidths:(k,_)=>Vm(k,f,_),getCellDelta:xt,singleColumnWidth:(k,_)=>[Math.max(W(),k+_)-k],minCellWidth:W,setElementWidth:fc,adjustTableWidth:k=>{const _=h()+k;fc(f,_)},isRelative:!1,label:"pixel"}},Rd=f=>Rl(f).fold(()=>(h=>{const k=Sa(h,ma),_=Ue(0);return{width:k,pixelWidth:k,getWidths:(D,R)=>Vm(D,h,R),getCellDelta:_,singleColumnWidth:Ue([0]),minCellWidth:_,setElementWidth:Se,adjustTableWidth:Se,isRelative:!0,label:"none"}})(f),h=>((k,_)=>qa().exec(_)!==null?Ea(k):Hi(k))(f,h)),pa=Hi,$n=Ea,Xi=(f,h,k)=>{const _=f[k].element,D=vt.fromTag("td");_s(D,vt.fromTag("br")),(h?_s:Cd)(_,D)},rd=((f,h)=>{const k=_=>f(_)?he.from(_.dom.nodeValue):he.none();return{get:_=>{if(!f(_))throw new Error("Can only get text value of a text node");return k(_).getOr("")},getOption:k,set:(_,D)=>{if(!f(_))throw new Error("Can only set raw text value of a text node");_.dom.nodeValue=D}}})(ln),Gr=f=>rd.get(f),jm=f=>rd.getOption(f),el=(f,h)=>rd.set(f,h),ha=f=>go(f)==="img"?1:jm(f).fold(()=>bi(f).length,h=>h.length),Vi=["img","br"],Te=f=>jm(f).filter(h=>h.trim().length!==0||h.indexOf(" ")>-1).isSome()||Vt(Vi,go(f))||(h=>La(h)&&Jo(h,"contenteditable")==="false")(f),Ta=f=>((h,k)=>{const _=D=>{for(let R=0;R<D.childNodes.length;R++){const L=vt.fromDom(D.childNodes[R]);if(k(L))return he.some(L);const Z=_(D.childNodes[R]);if(Z.isSome())return Z}return he.none()};return _(h.dom)})(f,Te),ad=f=>gc(f,Te),gc=(f,h)=>{const k=_=>{const D=bi(_);for(let R=D.length-1;R>=0;R--){const L=D[R];if(h(L))return he.some(L);const Z=k(L);if(Z.isSome())return Z}return he.none()};return k(f)},zr={scope:["row","col"]},Js=f=>()=>{const h=vt.fromTag("td",f.dom);return _s(h,vt.fromTag("br",f.dom)),h},rr=f=>()=>vt.fromTag("col",f.dom),Fs=f=>()=>vt.fromTag("colgroup",f.dom),em=f=>()=>vt.fromTag("tr",f.dom),_o=(f,h,k)=>{const _=((D,R)=>{const L=Wu(D,R),Z=bi(dl(D));return Ua(L,Z),L})(f,h);return qn(k,(D,R)=>{D===null?uo(_,R):wn(_,R,D)}),_},Kr=f=>f,Oa=(f,h,k)=>{const _=(D,R)=>{((L,Z)=>{const G=L.dom,re=Z.dom;yi(G)&&yi(re)&&(re.style.cssText=G.style.cssText)})(D.element,R),Ys(R,"height"),D.colspan!==1&&Ys(R,"width")};return{col:D=>{const R=vt.fromTag(go(D.element),h.dom);return _(D,R),f(D.element,R),R},colgroup:Fs(h),row:em(h),cell:D=>{const R=vt.fromTag(go(D.element),h.dom),L=k.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Z=L.length>0?((G,re,pe)=>Ta(G).map(ce=>{const me=pe.join(","),be=ds(ce,me,Me=>Jn(Me,G));return kn(be,(Me,Ee)=>{const et=nu(Ee);return _s(Me,et),et},re)}).getOr(re))(D.element,R,L):R;return _s(Z,vt.fromTag("br")),_(D,R),((G,re)=>{qn(zr,(pe,ce)=>Qt(G,ce).filter(me=>Vt(pe,me)).each(me=>wn(re,ce,me)))})(D.element,R),f(D.element,R),R},replace:_o,colGap:rr(h),gap:Js(h)}},Hn=f=>({col:rr(f),colgroup:Fs(f),row:em(f),cell:Js(f),replace:Kr,colGap:rr(f),gap:Js(f)}),ra=f=>h=>h.options.get(f),id="100%",Ml=f=>{var h;const k=f.dom,_=(h=k.getParent(f.selection.getStart(),k.isBlock))!==null&&h!==void 0?h:f.getBody();return uu(vt.fromDom(_))+"px"},Nd=f=>he.from(f.options.get("table_clone_elements")),hu=ra("table_header_type"),Dc=ra("table_column_resizing"),aa=f=>Dc(f)==="preservetable",Ql=f=>Dc(f)==="resizetable",ld=ra("table_sizing_mode"),Il=f=>ld(f)==="relative",bu=f=>ld(f)==="fixed",za=f=>ld(f)==="responsive",A=ra("table_resize_bars"),N=ra("table_style_by_css"),j=ra("table_merge_content_on_paste"),ue=f=>{const h=f.options,k=h.get("table_default_attributes");return h.isSet("table_default_attributes")?k:((_,D)=>za(_)||N(_)?D:bu(_)?{...D,width:Ml(_)}:{...D,width:id})(f,k)},ge=ra("table_use_colgroups"),wt=f=>ir(f,"[contenteditable]"),oo=(f,h=!1)=>yr(f)?f.dom.isContentEditable:wt(f).fold(Ue(h),k=>Wo(k)==="true"),Wo=f=>f.dom.contentEditable,Eo=f=>vt.fromDom(f.getBody()),ho=f=>h=>Jn(h,Eo(f)),Qn=f=>{uo(f,"data-mce-style");const h=k=>uo(k,"data-mce-style");ft(yo(f),h),ft(qo(f),h),ft(_n(f),h)},Yr=f=>vt.fromDom(f.selection.getStart()),Wa=f=>f.getBoundingClientRect().width,Rc=f=>f.getBoundingClientRect().height,$a=f=>Ac(f,Ns("table")).exists(oo),Dr=(f,h)=>{const k=h.column,_=h.column+h.colspan-1,D=h.row,R=h.row+h.rowspan-1;return k<=f.finishCol&&_>=f.startCol&&D<=f.finishRow&&R>=f.startRow},Da=(f,h)=>h.column>=f.startCol&&h.column+h.colspan-1<=f.finishCol&&h.row>=f.startRow&&h.row+h.rowspan-1<=f.finishRow,Bl=(f,h,k)=>{const _=Qu(f,h,Jn),D=Qu(f,k,Jn);return _.bind(R=>D.map(L=>{return Z=R,G=L,{startRow:Math.min(Z.row,G.row),startCol:Math.min(Z.column,G.column),finishRow:Math.max(Z.row+Z.rowspan-1,G.row+G.rowspan-1),finishCol:Math.max(Z.column+Z.colspan-1,G.column+G.colspan-1)};var Z,G}))},Zm=(f,h,k)=>Bl(f,h,k).map(_=>{const D=Pm(f,We(Dr,_));return O(D,R=>R.element)}),ro=(f,h)=>Qu(f,h,(k,_)=>ed(_,k)).map(k=>k.element),_i=(f,h,k)=>{const _=Jl(f);return Zm(_,h,k)},Ai=(f,h,k,_,D)=>{const R=Jl(f),L=Jn(f,k)?he.some(h):ro(R,h),Z=Jn(f,D)?he.some(_):ro(R,_);return L.bind(G=>Z.bind(re=>Zm(R,G,re)))},Jl=xr;var tl=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Md=()=>({up:Ue({selector:ta,closest:ir,predicate:ic,all:hs}),down:Ue({selector:Ii,predicate:os}),styles:Ue({get:Ro,getRaw:ai,set:lr,remove:Ys}),attrs:Ue({get:Jo,set:wn,remove:uo,copyTo:(f,h)=>{const k=Cr(f);Zr(h,k)}}),insert:Ue({before:sc,after:Ht,afterAll:Sd,append:_s,appendAll:Ua,prepend:Cd,wrap:ou}),remove:Ue({unwrap:br,remove:_a}),create:Ue({nu:vt.fromTag,clone:f=>vt.fromDom(f.dom.cloneNode(!1)),text:vt.fromText}),query:Ue({comparePosition:(f,h)=>f.dom.compareDocumentPosition(h.dom),prevSibling:Lo,nextSibling:ni}),property:Ue({children:bi,name:go,parent:oi,document:f=>Ki(f).dom,isText:ln,isComment:on,isElement:fs,isSpecial:f=>{const h=go(f);return Vt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],h)},getLanguage:f=>fs(f)?Qt(f,"lang"):he.none(),getText:Gr,setText:el,isBoundary:f=>!!fs(f)&&(go(f)==="body"||Vt(tl,go(f))),isEmptyTag:f=>!!fs(f)&&Vt(["br","img","hr","input"],go(f)),isNonEditable:f=>fs(f)&&Jo(f,"contenteditable")==="false"}),eq:Jn,is:Sr});const ag=(f,h,k,_)=>{const D=h(f,k);return kn(_,(R,L)=>{const Z=h(f,L);return ch(f,R,Z)},D)},ch=(f,h,k)=>h.bind(_=>k.filter(We(f.eq,_))),Nc=Md(),dh=(f,h)=>((k,_,D)=>D.length>0?((R,L,Z,G)=>G(R,L,Z[0],Z.slice(1)))(k,_,D,ag):he.none())(Nc,(k,_)=>f(_),h),Mc=f=>ta(f,"table"),tm=(f,h,k)=>{const _=D=>R=>k!==void 0&&k(R)||Jn(R,D);return Jn(f,h)?he.some({boxes:he.some([f]),start:f,finish:h}):Mc(f).bind(D=>Mc(h).bind(R=>{if(Jn(D,R))return he.some({boxes:_i(D,f,h),start:f,finish:h});if(ed(D,R)){const L=ds(h,"td,th",_(D)),Z=L.length>0?L[L.length-1]:h;return he.some({boxes:Ai(D,f,D,h,R),start:f,finish:Z})}if(ed(R,D)){const L=ds(f,"td,th",_(R)),Z=L.length>0?L[L.length-1]:f;return he.some({boxes:Ai(R,f,D,h,R),start:f,finish:Z})}return((L,Z,G)=>((re,pe,ce,me=ae)=>{const be=[pe].concat(re.up().all(pe)),Me=[ce].concat(re.up().all(ce)),Ee=gt=>tr(gt,me).fold(()=>gt,Ot=>gt.slice(0,Ot+1)),et=Ee(be),mt=Ee(Me),_t=So(et,gt=>_e(mt,((Ot,It)=>We(Ot.eq,It))(re,gt)));return{firstpath:et,secondpath:mt,shared:_t}})(Nc,L,Z,void 0))(f,h).shared.bind(L=>ir(L,"table",k).bind(Z=>{const G=ds(h,"td,th",_(Z)),re=G.length>0?G[G.length-1]:h,pe=ds(f,"td,th",_(Z)),ce=pe.length>0?pe[pe.length-1]:f;return he.some({boxes:Ai(Z,f,D,h,R),start:ce,finish:re})}))}))},Id=(f,h)=>{const k=Ii(f,h);return k.length>0?he.some(k):he.none()},kt=(f,h,k)=>oa(f,h).bind(_=>oa(f,k).bind(D=>dh(Mc,[_,D]).map(R=>({first:_,last:D,table:R})))),qm=(f,h,k,_,D)=>((R,L)=>So(R,Z=>wa(Z,L)))(f,D).bind(R=>((L,Z,G)=>Cn(L).bind(re=>((pe,ce,me,be)=>Qu(pe,ce,Jn).bind(Me=>{const Ee=me>0?Me.row+Me.rowspan-1:Me.row,et=be>0?Me.column+Me.colspan-1:Me.column;return Ss(pe,Ee+me,et+be).map(mt=>mt.element)}))(Jl(re),L,Z,G)))(R,h,k).bind(L=>((Z,G)=>ta(Z,"table").bind(re=>oa(re,G).bind(pe=>tm(pe,Z).bind(ce=>ce.boxes.map(me=>({boxes:me,start:ce.start,finish:ce.finish}))))))(L,_))),yu=(f,h)=>Id(f,h),Bd=(f,h,k)=>kt(f,h,k).bind(_=>{const D=G=>Jn(f,G),R="thead,tfoot,tbody,table",L=ta(_.first,R,D),Z=ta(_.last,R,D);return L.bind(G=>Z.bind(re=>Jn(G,re)?((pe,ce,me)=>((be,Me,Ee)=>Bl(be,Me,Ee).bind(et=>((mt,_t)=>{let gt=!0;const Ot=We(Da,_t);for(let It=_t.startRow;It<=_t.finishRow;It++)for(let Zt=_t.startCol;Zt<=_t.finishCol;Zt++)gt=gt&&Ss(mt,It,Zt).exists(Ot);return gt?he.some(_t):he.none()})(be,et)))(Jl(pe),ce,me))(_.table,_.first,_.last):he.none()))}),Ld=xt,ig=f=>{const h=(k,_)=>Qt(k,_).exists(D=>parseInt(D,10)>1);return f.length>0&&Ct(f,k=>h(k,"rowspan")||h(k,"colspan"))?he.some(f):he.none()},fr=(f,h,k)=>h.length<=1?he.none():Bd(f,k.firstSelectedSelector,k.lastSelectedSelector).map(_=>({bounds:_,cells:h})),Wm="data-mce-selected",ml="data-mce-first-selected",Ts="data-mce-last-selected",om="["+Wm+"]",Sn={selected:Wm,selectedSelector:"td["+Wm+"],th["+Wm+"]",firstSelected:ml,firstSelectedSelector:"td["+ml+"],th["+ml+"]",lastSelected:Ts,lastSelectedSelector:"td["+Ts+"],th["+Ts+"]"},ao=(f,h,k)=>({element:k,mergable:fr(h,f,Sn),unmergable:ig(f),selection:Ld(f)}),vu=f=>(h,k)=>{const _=go(h),D=_==="col"||_==="colgroup"?Cn(R=h).bind(L=>yu(L,Sn.firstSelectedSelector)).fold(Ue(R),L=>L[0]):h;var R;return ir(D,f,k)},lg=vu("th,td,caption"),cg=vu("th,td"),fl=f=>{return h=f.model.table.getSelectedCells(),O(h,vt.fromDom);var h},hn=(f,h)=>{f.on("BeforeGetContent",k=>{const _=D=>{k.preventDefault(),(R=>Cn(R[0]).map(L=>{const Z=((G,re)=>{const pe=gt=>wa(gt.element,re),ce=dl(G),me=$r(ce),be=Rd(G),Me=od(me),Ee=((gt,Ot)=>{const It=gt.grid.columns;let Zt=gt.grid.rows,To=It,Oo=0,Kn=0;const $o=[],gn=[];return qn(gt.access,cn=>{if($o.push(cn),Ot(cn)){gn.push(cn);const ls=cn.row,Pt=ls+cn.rowspan-1,Qa=cn.column,la=Qa+cn.colspan-1;ls<Zt?Zt=ls:Pt>Oo&&(Oo=Pt),Qa<To?To=Qa:la>Kn&&(Kn=la)}}),((cn,ls,Pt,Qa,la,Ul)=>({minRow:cn,minCol:ls,maxRow:Pt,maxCol:Qa,allCells:la,selectedCells:Ul}))(Zt,To,Oo,Kn,$o,gn)})(Me,pe),et="th:not("+re+"),td:not("+re+")",mt=Ve(ce,"th,td",gt=>wa(gt,et));ft(mt,_a),((gt,Ot,It,Zt)=>{const To=Jt(gt,$o=>$o.section!=="colgroup"),Oo=Ot.grid.columns,Kn=Ot.grid.rows;for(let $o=0;$o<Kn;$o++){let gn=!1;for(let cn=0;cn<Oo;cn++)$o<It.minRow||$o>It.maxRow||cn<It.minCol||cn>It.maxCol||(Ss(Ot,$o,cn).filter(Zt).isNone()?Xi(To,gn,$o):gn=!0)}})(me,Me,Ee,pe);const _t=((gt,Ot,It,Zt)=>{if(Zt.minCol===0&&Ot.grid.columns===Zt.maxCol+1)return 0;const To=Vm(Ot,gt,It),Oo=ht(To,(gn,cn)=>gn+cn,0),Kn=ht(To.slice(Zt.minCol,Zt.maxCol+1),(gn,cn)=>gn+cn,0),$o=Kn/Oo*It.pixelWidth()-It.pixelWidth();return It.getCellDelta($o)})(G,xr(G),be,Ee);return((gt,Ot,It,Zt)=>{qn(It.columns,Oo=>{(Oo.column<Ot.minCol||Oo.column>Ot.maxCol)&&_a(Oo.element)});const To=Jt(Ae(gt,"tr"),Oo=>Oo.dom.childElementCount===0);ft(To,_a),Ot.minCol!==Ot.maxCol&&Ot.minRow!==Ot.maxRow||ft(Ae(gt,"th,td"),Oo=>{uo(Oo,"rowspan"),uo(Oo,"colspan")}),uo(gt,Qi),uo(gt,"data-snooker-col-series"),Rd(gt).adjustTableWidth(Zt)})(ce,Ee,Me,_t),ce})(L,om);return Qn(Z),[Z]}))(D).each(R=>{k.content=k.format==="text"?(L=>O(L,Z=>Z.dom.innerText).join(""))(R):((L,Z)=>O(Z,G=>L.selection.serializer.serialize(G.dom,{})).join(""))(f,R)})};if(k.selection===!0){const D=(R=>Jt(fl(R),L=>wa(L,Sn.selectedSelector)))(f);D.length>=1&&_(D)}}),f.on("BeforeSetContent",k=>{if(k.selection===!0&&k.paste===!0){const _=fl(f);Mo(_).each(D=>{Cn(D).each(R=>{const L=Jt(((G,re)=>{const pe=document.createElement("div");return pe.innerHTML=G,bi(vt.fromDom(pe))})(k.content),G=>go(G)!=="meta"),Z=Ns("table");if(j(f)&&L.length===1&&Z(L[0])){k.preventDefault();const G=vt.fromDom(f.getDoc()),re=Hn(G),pe=((ce,me,be)=>({element:ce,clipboard:me,generators:be}))(D,L[0],re);h.pasteCells(R,pe).each(()=>{f.focus()})}})})}})},ku=(f,h)=>({element:f,offset:h}),ap=(f,h,k)=>f.property().isText(h)&&f.property().getText(h).trim().length===0||f.property().isComment(h)?k(h).bind(_=>ap(f,_,k).orThunk(()=>he.some(_))):he.none(),at=(f,h)=>f.property().isText(h)?f.property().getText(h).length:f.property().children(h).length,$m=(f,h)=>{const k=ap(f,h,f.query().prevSibling).getOr(h);if(f.property().isText(k))return ku(k,at(f,k));const _=f.property().children(k);return _.length>0?$m(f,_[_.length-1]):ku(k,at(f,k))},xu=$m,nm=Md(),uh=(f,h)=>{Cc(f)||(_=>Rl(_).bind(D=>{return R=D,L=["fixed","relative","empty"],he.from(Dd.exec(R)).bind(Z=>{const G=Number(Z[1]),re=Z[2];return((pe,ce)=>_e(ce,me=>_e(rp[me],be=>pe===be)))(re,L)?he.some({value:G,unit:re}):he.none()});var R,L}))(f).each(_=>{const D=_.value/2;ga(f,D,_.unit),ga(h,D,_.unit)})},cd=f=>O(f,Ue(0)),Zb=(f,h,k,_,D)=>D(f.slice(0,h)).concat(_).concat(D(f.slice(k))),sm=f=>(h,k,_,D)=>{if(f(_)){const R=Math.max(D,h[k]-Math.abs(_)),L=Math.abs(R-h[k]);return _>=0?L:-L}return _},Os=sm(f=>f<0),dd=sm(Lt),qb=()=>{const f=(k,_,D,R)=>{const L=(100+D)/100,Z=Math.max(R,(k[_]+D)/L);return O(k,(G,re)=>(re===_?Z:G/L)-G)},h=(k,_,D,R,L,Z)=>Z?f(k,_,R,L):((G,re,pe,ce,me)=>{const be=Os(G,re,ce,me);return Zb(G,re,pe+1,[be,0],cd)})(k,_,D,R,L);return{resizeTable:(k,_)=>k(_),clampTableDelta:Os,calcLeftEdgeDeltas:h,calcMiddleDeltas:(k,_,D,R,L,Z,G)=>h(k,D,R,L,Z,G),calcRightEdgeDeltas:(k,_,D,R,L,Z)=>{if(Z)return f(k,D,R,L);{const G=Os(k,D,R,L);return cd(k.slice(0,D)).concat([G])}},calcRedestributedWidths:(k,_,D,R)=>{if(R){const L=(_+D)/_,Z=O(k,G=>G/L);return{delta:100*L-100,newSizes:Z}}return{delta:D,newSizes:k}}}},ol=()=>{const f=(h,k,_,D,R)=>{const L=dd(h,D>=0?_:k,D,R);return Zb(h,k,_+1,[L,-L],cd)};return{resizeTable:(h,k,_)=>{_&&h(k)},clampTableDelta:(h,k,_,D,R)=>{if(R){if(_>=0)return _;{const L=ht(h,(Z,G)=>Z+G-D,0);return Math.max(-L,_)}}return Os(h,k,_,D)},calcLeftEdgeDeltas:f,calcMiddleDeltas:(h,k,_,D,R,L)=>f(h,_,D,R,L),calcRightEdgeDeltas:(h,k,_,D,R,L)=>{if(L)return cd(h);{const Z=D/h.length;return O(h,Ue(Z))}},calcRedestributedWidths:(h,k,_,D)=>({delta:0,newSizes:h})}},Gm=f=>xr(f).grid,gl=Ns("th"),Km=f=>Ct(f,h=>gl(h.element)),Ic=(f,h)=>f&&h?"sectionCells":f?"section":"cells",Pd=f=>{const h=f.section==="thead",k=Bi(rm(f.cells),"th");return f.section==="tfoot"?{type:"footer"}:h||k?{type:"header",subType:Ic(h,k)}:{type:"body"}},rm=f=>{const h=Jt(f,k=>gl(k.element));return h.length===0?he.some("td"):h.length===f.length?he.some("th"):he.none()},wu=(f,h,k)=>or(k(f.element,h),!0,f.isLocked),am=(f,h)=>f.section!==h?da(f.element,f.cells,h,f.isNew):f,no=()=>({transformRow:am,transformCell:(f,h,k)=>{const _=k(f.element,h),D=go(_)!=="td"?((R,L)=>{const Z=Wu(R,"td");Ht(R,Z);const G=bi(R);return Ua(Z,G),_a(R),Z})(_):_;return or(D,f.isNew,f.isLocked)}}),ip=()=>({transformRow:am,transformCell:wu}),Ym=()=>({transformRow:(f,h)=>am(f,h==="thead"?"tbody":h),transformCell:wu}),_u=no,Wb=ip,x=Ym,T=()=>({transformRow:xt,transformCell:wu}),F=(f,h,k,_)=>{k===_?uo(f,h):wn(f,h,k)},Y=(f,h,k)=>{pn(Yi(f,h)).fold(()=>Cd(f,k),_=>Ht(_,k))},ye=(f,h)=>{const k=[],_=[],D=me=>O(me,be=>{be.isNew&&k.push(be.element);const Me=be.element;return $l(Me),ft(be.cells,Ee=>{Ee.isNew&&_.push(Ee.element),F(Ee.element,"colspan",Ee.colspan,1),F(Ee.element,"rowspan",Ee.rowspan,1),_s(Me,Ee.element)}),Me}),R=me=>is(me,be=>O(be.cells,Me=>(F(Me.element,"span",Me.colspan,1),Me.element))),L=(me,be)=>{const Me=((et,mt)=>{const _t=nr(et,mt).getOrThunk(()=>{const gt=vt.fromTag(mt,Cl(et).dom);return mt==="thead"?Y(et,"caption,colgroup",gt):mt==="colgroup"?Y(et,"caption",gt):_s(et,gt),gt});return $l(_t),_t})(f,be),Ee=(be==="colgroup"?R:D)(me);Ua(Me,Ee)},Z=(me,be)=>{me.length>0?L(me,be):(Me=>{nr(f,Me).each(_a)})(be)},G=[],re=[],pe=[],ce=[];return ft(h,me=>{switch(me.section){case"thead":G.push(me);break;case"tbody":re.push(me);break;case"tfoot":pe.push(me);break;case"colgroup":ce.push(me)}}),Z(ce,"colgroup"),Z(G,"thead"),Z(re,"tbody"),Z(pe,"tfoot"),{newRows:k,newCells:_}},Ge=(f,h)=>{if(f.length===0)return 0;const k=f[0];return tr(f,_=>!h(k.element,_.element)).getOr(f.length)},Et=(f,h)=>{const k=O(f,_=>O(_.cells,ae));return O(f,(_,D)=>{const R=is(_.cells,(L,Z)=>{if(k[D][Z]===!1){const me=((be,Me,Ee,et)=>{const mt=((It,Zt)=>It[Zt])(be,Me),_t=mt.section==="colgroup",gt=Ge(mt.cells.slice(Ee),et),Ot=_t?1:Ge(((It,Zt)=>O(It,To=>Er(To,Zt)))(be.slice(Me),Ee),et);return{colspan:gt,rowspan:Ot}})(f,D,Z,h);return((be,Me,Ee,et)=>{for(let mt=be;mt<be+Ee;mt++)for(let _t=Me;_t<Me+et;_t++)k[mt][_t]=!0})(D,Z,me.rowspan,me.colspan),[(G=L.element,re=me.rowspan,pe=me.colspan,ce=L.isNew,{element:G,rowspan:re,colspan:pe,isNew:ce})]}return[];var G,re,pe,ce});return((L,Z,G,re)=>({element:L,cells:Z,section:G,isNew:re}))(_.element,R,_.section,_.isNew)})},Wt=(f,h,k)=>{const _=[];ft(f.colgroups,D=>{const R=[];for(let L=0;L<f.grid.columns;L++){const Z=zd(f,L).map(G=>or(G.element,k,!1)).getOrThunk(()=>or(h.colGap(),!0,!1));R.push(Z)}_.push(da(D.element,R,"colgroup",k))});for(let D=0;D<f.grid.rows;D++){const R=[];for(let G=0;G<f.grid.columns;G++){const re=Ss(f,D,G).map(pe=>or(pe.element,k,pe.isLocked)).getOrThunk(()=>or(h.gap(),!0,!1));R.push(re)}const L=f.all[D],Z=da(L.element,R,L.section,k);_.push(Z)}return _},bo=f=>Et(f,Jn),Xo=(f,h)=>H(f.all,k=>So(k.cells,_=>Jn(h,_.element))),Xs=(f,h,k)=>{const _=O(h.selection,R=>Dt(R).bind(L=>Xo(f,L)).filter(k)),D=gs(_);return Aa(D.length>0,D)},dn=(f,h,k,_,D)=>(R,L,Z,G)=>{const re=xr(R),pe=he.from(G==null?void 0:G.section).getOrThunk(T);return h(re,L).map(ce=>{const me=((Ee,et)=>Wt(Ee,et,!1))(re,Z),be=f(me,ce,Jn,D(Z),pe),Me=ur(be.grid);return{info:ce,grid:bo(be.grid),cursor:be.cursor,lockedColumns:Me}}).bind(ce=>{const me=ye(R,ce.grid),be=he.from(G==null?void 0:G.sizing).getOrThunk(()=>Rd(R)),Me=he.from(G==null?void 0:G.resize).getOrThunk(ol);return k(R,ce.grid,ce.info,{sizing:be,resize:Me,section:pe}),_(R),uo(R,Qi),ce.lockedColumns.length>0&&wn(R,Qi,ce.lockedColumns.join(",")),he.some({cursor:ce.cursor,newRows:me.newRows,newCells:me.newCells})})},Gn=(f,h)=>Xs(f,h,Lt).map(k=>({cells:k,generators:h.generators,clipboard:h.clipboard})),zs=(f,h)=>Xs(f,h,Lt),ba=(f,h)=>Xs(f,h,k=>!k.isLocked),ya=(f,h)=>Ct(h,k=>((_,D)=>Xo(_,D).exists(R=>!R.isLocked))(f,k)),ud=(f,h,k,_)=>{const D=Qs(f).rows;let R=!0;for(let L=0;L<D.length;L++)for(let Z=0;Z<Cs(D[0]);Z++){const G=D[L],re=Er(G,Z),pe=k(re.element,h);pe&&!R?mu(G,Z,or(_(),!0,re.isLocked)):pe&&(R=!1)}return f},Qm=f=>{const h=R=>R(f),k=Ue(f),_=()=>D,D={tag:!0,inner:f,fold:(R,L)=>L(f),isValue:Lt,isError:ae,map:R=>Fd.value(R(f)),mapError:_,bind:h,exists:h,forall:h,getOr:k,or:_,getOrThunk:k,orThunk:_,getOrDie:k,each:R=>{R(f)},toOptional:()=>he.some(f)};return D},Jm=f=>{const h=()=>k,k={tag:!1,inner:f,fold:(D,R)=>D(f),isValue:ae,isError:Lt,map:h,mapError:D=>Fd.error(D(f)),bind:h,exists:ae,forall:Lt,getOr:xt,or:xt,getOrThunk:Qe,orThunk:Qe,getOrDie:(_=String(f),()=>{throw new Error(_)}),each:Se,toOptional:he.none};var _;return k},Fd={value:Qm,error:Jm,fromOption:(f,h)=>f.fold(()=>Jm(h),Qm)},Xm=(f,h)=>({rowDelta:0,colDelta:Cs(f[0])-Cs(h[0])}),md=(f,h)=>({rowDelta:f.length-h.length,colDelta:0}),ef=(f,h,k,_)=>{const D=h.section==="colgroup"?k.col:k.cell;return Je(f,R=>or(D(),!0,_(R)))},lp=(f,h,k,_)=>{const D=f[f.length-1];return f.concat(Je(h,()=>{const R=D.section==="colgroup"?k.colgroup:k.row,L=wi(D,R,xt),Z=ef(L.cells.length,L,k,G=>Zo(_,G.toString()));return Lm(L,Z)}))},cp=(f,h,k,_)=>O(f,D=>{const R=ef(h,D,k,ae);return xi(D,_,R)}),fd=(f,h,k)=>{const _=h.colDelta<0?cp:xt,D=h.rowDelta<0?lp:xt,R=ur(f),L=Cs(f[0]),Z=_e(R,pe=>pe===L-1),G=_(f,Math.abs(h.colDelta),k,Z?L-1:L),re=ur(G);return D(G,Math.abs(h.rowDelta),k,Yt(re,Lt))},Vn=(f,h,k,_)=>{const D=We(_,Er(f[h],k).element),R=f[h];return f.length>1&&Cs(R)>1&&(k>0&&D(dr(R,k-1))||k<R.cells.length-1&&D(dr(R,k+1))||h>0&&D(dr(f[h-1],k))||h<f.length-1&&D(dr(f[h+1],k)))},ss=(f,h,k)=>Jt(k,_=>_>=f.column&&_<=Cs(h[0])+f.column),Ci=(f,h,k,_,D)=>{((re,pe,ce,me)=>{pe>0&&pe<re[0].cells.length&&ft(re,be=>{const Me=be.cells[pe-1];let Ee=0;const et=me();for(;be.cells.length>pe+Ee&&ce(Me.element,be.cells[pe+Ee].element);)mu(be,pe+Ee,or(et,!0,be.cells[pe+Ee].isLocked)),Ee++})})(h,f,D,_.cell);const R=md(k,h),L=fd(k,R,_),Z=md(h,L),G=fd(h,Z,_);return O(G,(re,pe)=>xi(re,f,L[pe].cells))},rs=(f,h,k,_,D)=>{((_t,gt,Ot,It)=>{const Zt=Qs(_t).rows;if(gt>0&&gt<Zt.length){const To=((Oo,Kn)=>ht(Oo,($o,gn)=>_e($o,cn=>Kn(cn.element,gn.element))?$o:$o.concat([gn]),[]))(Zt[gt-1].cells,Ot);ft(To,Oo=>{let Kn=he.none();for(let $o=gt;$o<Zt.length;$o++)for(let gn=0;gn<Cs(Zt[0]);gn++){const cn=Zt[$o],ls=Er(cn,gn);Ot(ls.element,Oo.element)&&(Kn.isNone()&&(Kn=he.some(It())),Kn.each(Pt=>{mu(cn,gn,or(Pt,!0,ls.isLocked))}))}})}})(h,f,D,_.cell);const R=ur(h),L=Xm(h,k),Z={...L,colDelta:L.colDelta-R.length},G=fd(h,Z,_),{cols:re,rows:pe}=Qs(G),ce=ur(G),me=Xm(k,h),be={...me,colDelta:me.colDelta+ce.length},Me=(et=_,mt=ce,O(k,_t=>ht(mt,(gt,Ot)=>{const It=ef(1,_t,et,Lt)[0];return kr(gt,Ot,It)},_t))),Ee=fd(Me,be,_);var et,mt;return[...re,...pe.slice(0,f),...Ee,...pe.slice(f,pe.length)]},mh=(f,h,k,_,D)=>{const{rows:R,cols:L}=Qs(f),Z=R.slice(0,h),G=R.slice(h);return[...L,...Z,((re,pe,ce,me)=>wi(re,be=>me(be,ce),pe))(R[k],(re,pe)=>h>0&&h<R.length&&_(dr(R[h-1],pe),dr(R[h],pe))?Er(R[h],pe):or(D(re.element,_),!0,re.isLocked),_,D),...G]},cr=(f,h,k,_,D)=>O(f,R=>{const L=h>0&&h<Cs(R)&&_(dr(R,h-1),dr(R,h)),Z=((G,re,pe,ce,me,be,Me)=>{if(pe!=="colgroup"&&ce)return Er(G,re);{const Ee=Er(G,me);return or(Me(Ee.element,be),!0,!1)}})(R,h,R.section,L,k,_,D);return kr(R,h,Z)}),Ga=(f,h,k,_)=>((D,R,L,Z)=>dr(D[R],L)!==void 0&&R>0&&Z(dr(D[R-1],L),dr(D[R],L)))(f,h,k,_)||((D,R,L)=>R>0&&L(dr(D,R-1),dr(D,R)))(f[h],k,_),pc=(f,h,k,_)=>{const D=R=>(L=>L==="row"?au(h):Cc(h))(R)?`${R}group`:R;return f?gl(h)?D(k):null:_&&gl(h)?D(k==="row"?"col":"row"):null},Bc=(f,h,k)=>or(k(f.element,h),!0,f.isLocked),Ud=(f,h,k,_,D,R,L)=>O(f,(Z,G)=>((re,pe)=>{const ce=re.cells,me=O(ce,(be,Me)=>{if((Ee=>_e(h,et=>k(Ee.element,et.element)))(be)){const Ee=L(be,G,Me)?D(be,k,_):be;return R(Ee,G,Me).each(et=>{var mt,_t;mt=Ee.element,_t={scope:he.from(et)},qn(_t,(gt,Ot)=>{gt.fold(()=>{uo(mt,Ot)},It=>{ws(mt.dom,Ot,It)})})}),Ee}return be});return da(re.element,me,re.section,re.isNew)})(Z)),Au=(f,h,k)=>is(f,(_,D)=>Ga(f,D,h,k)?[]:[Er(_,h)]),tf=(f,h,k,_,D)=>{const R=Qs(f).rows,L=is(h,pe=>Au(R,pe,_)),Z=O(R,pe=>Km(pe.cells)),G=((pe,ce)=>Ct(ce,xt)&&Km(pe)?Lt:(me,be,Me)=>!(go(me.element)==="th"&&ce[be]))(L,Z);return Ud(f,L,_,D,Bc,((pe,ce)=>(me,be)=>he.some(pc(pe,me.element,"row",ce[be])))(k,Z),G)},$b=(f,h,k,_)=>{const D=Qs(f).rows,R=O(h,L=>Er(D[L.row],L.column));return Ud(f,R,k,_,Bc,he.none,Lt)},of=f=>{if(!Tt(f))throw new Error("cases must be an array");if(f.length===0)throw new Error("there must be at least one case");const h=[],k={};return ft(f,(_,D)=>{const R=Un(_);if(R.length!==1)throw new Error("one and only one name per case");const L=R[0],Z=_[L];if(k[L]!==void 0)throw new Error("duplicate key detected:"+L);if(L==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Tt(Z))throw new Error("case arguments must be an array");h.push(L),k[L]=(...G)=>{const re=G.length;if(re!==Z.length)throw new Error("Wrong number of arguments to case "+L+". Expected "+Z.length+" ("+Z+"), got "+re);return{fold:(...pe)=>{if(pe.length!==f.length)throw new Error("Wrong number of arguments to fold. Expected "+f.length+", got "+pe.length);return pe[D].apply(null,G)},match:pe=>{const ce=Un(pe);if(h.length!==ce.length)throw new Error("Wrong number of arguments to match. Expected: "+h.join(",")+`
Actual: `+ce.join(","));if(!Ct(h,me=>Vt(ce,me)))throw new Error("Not all branches were specified when using match. Specified: "+ce.join(", ")+`
Required: `+h.join(", "));return pe[L].apply(null,G)},log:pe=>{console.log(pe,{constructors:h,constructor:L,params:G})}}}}),k},nf={...of([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},L1=(f,h,k)=>{let _=0;for(let D=f;D<h;D++)_+=k[D]!==void 0?k[D]:0;return _},S_=(f,h)=>{const k=zl(f);return O(k,_=>{const D=L1(_.row,_.row+_.rowspan,h);return{element:_.element,height:D,rowspan:_.rowspan}})},P1=(f,h,k)=>{const _=((D,R)=>Br(D)?((L,Z)=>{const G=un(L);return O(G,(re,pe)=>({element:re.element,width:Z[pe],colspan:re.colspan}))})(D,R):((L,Z)=>{const G=zl(L);return O(G,re=>{const pe=L1(re.column,re.column+re.colspan,Z);return{element:re.element,width:pe,colspan:re.colspan}})})(D,R))(f,h);ft(_,D=>{k.setElementWidth(D.element,D.width)})},fh=(f,h,k,_,D)=>{const R=xr(f),L=D.getCellDelta(h),Z=D.getWidths(R,D),G=k===R.grid.columns-1,re=_.clampTableDelta(Z,k,L,D.minCellWidth(),G),pe=((me,be,Me,Ee,et)=>{const mt=me.slice(0),_t=((Ot,It)=>Ot.length===0?nf.none():Ot.length===1?nf.only(0):It===0?nf.left(0,1):It===Ot.length-1?nf.right(It-1,It):It>0&&It<Ot.length-1?nf.middle(It-1,It,It+1):nf.none())(me,be),gt=Ue(O(mt,Ue(0)));return _t.fold(gt,Ot=>Ee.singleColumnWidth(mt[Ot],Me),(Ot,It)=>et.calcLeftEdgeDeltas(mt,Ot,It,Me,Ee.minCellWidth(),Ee.isRelative),(Ot,It,Zt)=>et.calcMiddleDeltas(mt,Ot,It,Zt,Me,Ee.minCellWidth(),Ee.isRelative),(Ot,It)=>et.calcRightEdgeDeltas(mt,Ot,It,Me,Ee.minCellWidth(),Ee.isRelative))})(Z,k,re,D,_),ce=O(pe,(me,be)=>me+Z[be]);P1(R,ce,D),_.resizeTable(D.adjustTableWidth,re,G)},ar=f=>ht(f,(h,k)=>_e(h,_=>_.column===k.column)?h:h.concat([k]),[]).sort((h,k)=>h.column-k.column),F1=Ns("col"),dk=Ns("colgroup"),Gb=f=>go(f)==="tr"||dk(f),ji=f=>({element:f,colspan:vi(f,"colspan",1),rowspan:vi(f,"rowspan",1)}),ks=f=>Qt(f,"scope").map(h=>h.substr(0,3)),nl=(f,h=ji)=>{const k=D=>{if(Gb(D))return dk((R={element:D}).element)?f.colgroup(R):f.row(R);{const L=D,Z=(G=>F1(G.element)?f.col(G):f.cell(G))(h(L));return _=he.some({item:L,replacement:Z}),Z}var R};let _=he.none();return{getOrInit:(D,R)=>_.fold(()=>k(D),L=>R(D,L.item)?L.replacement:k(D))}},gh=f=>h=>{const k=[],_=D=>{const R=f==="td"?{scope:null}:{},L=h.replace(D,f,R);return k.push({item:D,sub:L}),L};return{replaceOrInit:(D,R)=>{if(Gb(D)||F1(D))return D;{const L=D;return((Z,G)=>So(k,re=>G(re.item,Z)))(L,R).fold(()=>_(L),Z=>R(D,Z.item)?Z.sub:_(L))}}}},Kb=f=>({unmerge:h=>{const k=ks(h);return k.each(_=>wn(h,"scope",_)),()=>{const _=f.cell({element:h,colspan:1,rowspan:1});return Ys(_,"width"),Ys(h,"width"),k.each(D=>wn(_,"scope",D)),_}},merge:h=>(Ys(h[0],"width"),(()=>{const k=gs(O(h,ks));if(k.length===0)return he.none();{const _=k[0],D=["row","col"];return _e(k,R=>R!==_&&Vt(D,R))?he.none():he.from(_)}})().fold(()=>uo(h[0],"scope"),k=>wn(h[0],"scope",k+"group")),Ue(h[0]))}),uk=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Yb=Md(),Lc=f=>((h,k)=>{const _=h.property().name(k);return Vt(uk,_)})(Yb,f),U1=f=>((h,k)=>{const _=h.property().name(k);return Vt(["ol","ul"],_)})(Yb,f),_r=f=>{const h=Ns("br"),k=D=>ad(D).bind(R=>{const L=ni(R).map(Z=>!!Lc(Z)||!!((G,re)=>Vt(["br","img","hr","input"],G.property().name(re)))(Yb,Z)&&go(Z)!=="img").getOr(!1);return oi(R).map(Z=>{return L===!0||go(G=Z)==="li"||ic(G,U1).isSome()||h(R)||Lc(Z)&&!Jn(D,Z)?[]:[vt.fromTag("br")];var G})}).getOr([]),_=(()=>{const D=is(f,R=>{const L=bi(R);return(Z=>Ct(Z,G=>h(G)||ln(G)&&Gr(G).trim().length===0))(L)?[]:L.concat(k(R))});return D.length===0?[vt.fromTag("br")]:D})();$l(f[0]),Ua(f[0],_)},Pc=f=>oo(f,!0),dg=f=>{yo(f).length===0&&_a(f)},dp=(f,h)=>({grid:f,cursor:h}),Ka=(f,h,k)=>{const _=((D,R,L)=>{var Z,G;const re=Qs(D).rows;return he.from((G=(Z=re[R])===null||Z===void 0?void 0:Z.cells[L])===null||G===void 0?void 0:G.element).filter(Pc).orThunk(()=>(pe=>H(pe,ce=>H(ce.cells,me=>{const be=me.element;return Aa(Pc(be),be)})))(re))})(f,h,k);return dp(f,_)},im=f=>ht(f,(h,k)=>_e(h,_=>_.row===k.row)?h:h.concat([k]),[]).sort((h,k)=>h.row-k.row),ph=(f,h)=>(k,_,D,R,L)=>{const Z=im(_),G=O(Z,pe=>pe.row),re=((pe,ce,me,be,Me,Ee,et)=>{const{cols:mt,rows:_t}=Qs(pe),gt=_t[ce[0]],Ot=is(ce,$o=>((gn,cn,ls)=>{const Pt=gn[cn];return is(Pt.cells,(Qa,la)=>Ga(gn,cn,la,ls)?[]:[Qa])})(_t,$o,Me)),It=O(gt.cells,($o,gn)=>Km(Au(_t,gn,Me))),Zt=[..._t];ft(ce,$o=>{Zt[$o]=et.transformRow(_t[$o],me)});const To=[...mt,...Zt],Oo=(($o,gn)=>Ct(gn,xt)&&Km($o.cells)?Lt:(cn,ls,Pt)=>!(go(cn.element)==="th"&&gn[Pt]))(gt,It),Kn=(($o,gn)=>(cn,ls,Pt)=>he.some(pc($o,cn.element,"col",gn[Pt])))(be,It);return Ud(To,Ot,Me,Ee,et.transformCell,Kn,Oo)})(k,G,f,h,D,R.replaceOrInit,L);return Ka(re,_[0].row,_[0].column)},H1=ph("thead",!0),V1=ph("tbody",!1),E_=ph("tfoot",!1),ug=(f,h,k)=>{const _=((R,L)=>ns(R,()=>L))(f,k.section),D=od(_);return Wt(D,h,!0)},mg=(f,h,k,_)=>((D,R,L,Z)=>{const G=od(R),re=Z.getWidths(G,Z);P1(G,re,Z)})(0,h,0,_.sizing),hh=(f,h,k,_)=>((D,R,L,Z,G)=>{const re=od(R),pe=Z.getWidths(re,Z),ce=Z.pixelWidth(),{newSizes:me,delta:be}=G.calcRedestributedWidths(pe,ce,L.pixelDelta,Z.isRelative);P1(re,me,Z),Z.adjustTableWidth(be)})(0,h,k,_.sizing,_.resize),sf=(f,h)=>_e(h,k=>k.column===0&&k.isLocked),bh=(f,h)=>_e(h,k=>k.column+k.colspan>=f.grid.columns&&k.isLocked),Cu=(f,h)=>{const k=Kl(f),_=ar(h);return ht(_,(D,R)=>D+k[R.column].map(td).getOr(0),0)},yh=f=>(h,k)=>zs(h,k).filter(_=>!(f?sf:bh)(h,_)).map(_=>({details:_,pixelDelta:Cu(h,_)})),zn=f=>(h,k)=>Gn(h,k).filter(_=>!(f?sf:bh)(h,_.cells)),pl=gh("th"),Hd=gh("td"),j1=dn((f,h,k,_)=>{const D=h[0].row,R=im(h),L=kn(R,(Z,G)=>({grid:mh(Z.grid,D,G.row+Z.delta,k,_.getOrInit),delta:Z.delta+1}),{grid:f,delta:0}).grid;return Ka(L,D,h[0].column)},zs,Se,Se,nl),$s=dn((f,h,k,_)=>{const D=im(h),R=D[D.length-1],L=R.row+R.rowspan,Z=kn(D,(G,re)=>mh(G,L,re.row,k,_.getOrInit),f);return Ka(Z,L,h[0].column)},zs,Se,Se,nl),T_=dn((f,h,k,_)=>{const D=h.details,R=ar(D),L=R[0].column,Z=kn(R,(G,re)=>({grid:cr(G.grid,L,re.column+G.delta,k,_.getOrInit),delta:G.delta+1}),{grid:f,delta:0}).grid;return Ka(Z,D[0].row,L)},yh(!0),hh,Se,nl),Z1=dn((f,h,k,_)=>{const D=h.details,R=D[D.length-1],L=R.column+R.colspan,Z=ar(D),G=kn(Z,(re,pe)=>cr(re,L,pe.column,k,_.getOrInit),f);return Ka(G,D[0].row,L)},yh(!1),hh,Se,nl),Si=dn((f,h,k,_)=>{const D=ar(h.details),R=((Z,G)=>is(Z,re=>{const pe=re.cells,ce=kn(G,(me,be)=>be>=0&&be<me.length?me.slice(0,be).concat(me.slice(be+1)):me,pe);return ce.length>0?[da(re.element,ce,re.section,re.isNew)]:[]}))(f,O(D,Z=>Z.column)),L=R.length>0?R[0].cells.length-1:0;return Ka(R,D[0].row,Math.min(D[0].column,L))},(f,h)=>ba(f,h).map(k=>({details:k,pixelDelta:-Cu(f,k)})),hh,dg,nl),lm=dn((f,h,k,_)=>{const D=im(h),R=((Z,G,re)=>{const{rows:pe,cols:ce}=Qs(Z);return[...ce,...pe.slice(0,G),...pe.slice(re+1)]})(f,D[0].row,D[D.length-1].row),L=R.length>0?R.length-1:0;return Ka(R,Math.min(h[0].row,L),h[0].column)},zs,Se,dg,nl),Qb=dn((f,h,k,_)=>{const D=ar(h),R=O(D,Z=>Z.column),L=tf(f,R,!0,k,_.replaceOrInit);return Ka(L,h[0].row,h[0].column)},ba,Se,Se,pl),Jb=dn((f,h,k,_)=>{const D=ar(h),R=O(D,Z=>Z.column),L=tf(f,R,!1,k,_.replaceOrInit);return Ka(L,h[0].row,h[0].column)},ba,Se,Se,Hd),q1=dn(H1,ba,Se,Se,pl),W1=dn(V1,ba,Se,Se,Hd),mk=dn(E_,ba,Se,Se,Hd),Xb=dn((f,h,k,_)=>{const D=$b(f,h,k,_.replaceOrInit);return Ka(D,h[0].row,h[0].column)},ba,Se,Se,pl),fk=dn((f,h,k,_)=>{const D=$b(f,h,k,_.replaceOrInit);return Ka(D,h[0].row,h[0].column)},ba,Se,Se,Hd),vh=dn((f,h,k,_)=>{const D=h.cells;_r(D);const R=((L,Z,G,re)=>{const pe=Qs(L).rows;if(pe.length===0)return L;for(let ce=Z.startRow;ce<=Z.finishRow;ce++)for(let me=Z.startCol;me<=Z.finishCol;me++){const be=pe[ce],Me=Er(be,me).isLocked;mu(be,me,or(re(),!1,Me))}return L})(f,h.bounds,0,_.merge(D));return dp(R,he.from(D[0]))},(f,h)=>((k,_)=>_.mergable)(0,h).filter(k=>ya(f,k.cells)),mg,Se,Kb),cm=dn((f,h,k,_)=>{const D=kn(h,(R,L)=>ud(R,L,k,_.unmerge(L)),f);return dp(D,he.from(h[0]))},(f,h)=>((k,_)=>_.unmergable)(0,h).filter(k=>ya(f,k)),mg,Se,Kb),hc=dn((f,h,k,_)=>{const D=((Z,G)=>{const re=xr(Z);return Wt(re,G,!0)})(h.clipboard,h.generators);var R,L;return((Z,G,re,pe,ce)=>{const me=ur(G),be=((mt,_t,gt)=>{const Ot=Cs(_t[0]),It=Qs(_t).cols.length+mt.row,Zt=Je(Ot-mt.column,To=>To+mt.column);return{row:It,column:So(Zt,To=>Ct(gt,Oo=>Oo!==To)).getOr(Ot-1)}})(Z,G,me),Me=Qs(re).rows,Ee=ss(be,Me,me);return((mt,_t,gt)=>{if(mt.row>=_t.length||mt.column>Cs(_t[0]))return Fd.error("invalid start address out of table bounds, row: "+mt.row+", column: "+mt.column);const Ot=_t.slice(mt.row),It=Ot[0].cells.slice(mt.column),Zt=Cs(gt[0]),To=gt.length;return Fd.value({rowDelta:Ot.length-To,colDelta:It.length-Zt})})(be,G,Me).map(mt=>{const _t={...mt,colDelta:mt.colDelta-Ee.length},gt=fd(G,_t,pe),Ot=ur(gt),It=ss(be,Me,Ot);return((Zt,To,Oo,Kn,$o,gn)=>{const cn=Zt.row,ls=Zt.column,Pt=cn+Oo.length,Qa=ls+Cs(Oo[0])+gn.length,la=Yt(gn,Lt);for(let Ul=cn;Ul<Pt;Ul++){let as=0;for(let Ma=ls;Ma<Qa;Ma++){if(la[Ma]){as++;continue}Vn(To,Ul,Ma,$o)&&ud(To,dr(To[Ul],Ma),$o,Kn.cell);const xm=Ma-ls-as,Vh=Er(Oo[Ul-cn],xm),jh=Vh.element,Sp=Kn.replace(jh);mu(To[Ul],Ma,or(Sp,!0,Vh.isLocked))}}return To})(be,gt,Me,pe,ce,It)})})((R=h.row,L=h.column,{row:R,column:L}),f,D,h.generators,k).fold(()=>dp(f,he.some(h.element)),Z=>Ka(Z,h.row,h.column))},(f,h)=>Dt(h.element).bind(k=>Xo(f,k).map(_=>({..._,generators:h.generators,clipboard:h.clipboard}))),mg,Se,nl),Ei=dn((f,h,k,_)=>{const D=Qs(f).rows,R=h.cells[0].column,L=D[h.cells[0].row],Z=ug(h.clipboard,h.generators,L),G=Ci(R,f,Z,h.generators,k);return Ka(G,h.cells[0].row,h.cells[0].column)},zn(!0),Se,Se,nl),rf=dn((f,h,k,_)=>{const D=Qs(f).rows,R=h.cells[h.cells.length-1].column+h.cells[h.cells.length-1].colspan,L=D[h.cells[0].row],Z=ug(h.clipboard,h.generators,L),G=Ci(R,f,Z,h.generators,k);return Ka(G,h.cells[0].row,h.cells[0].column)},zn(!1),Se,Se,nl),af=dn((f,h,k,_)=>{const D=Qs(f).rows,R=h.cells[0].row,L=D[R],Z=ug(h.clipboard,h.generators,L),G=rs(R,f,Z,h.generators,k);return Ka(G,h.cells[0].row,h.cells[0].column)},Gn,Se,Se,nl),gk=dn((f,h,k,_)=>{const D=Qs(f).rows,R=h.cells[h.cells.length-1].row+h.cells[h.cells.length-1].rowspan,L=D[h.cells[0].row],Z=ug(h.clipboard,h.generators,L),G=rs(R,f,Z,h.generators,k);return Ka(G,h.cells[0].row,h.cells[0].column)},Gn,Se,Se,nl),pk=(f,h)=>{const k=xr(f);return zs(k,h).bind(_=>{const D=_[_.length-1],R=_[0].column,L=D.column+D.colspan,Z=$t(O(k.all,G=>Jt(G.cells,re=>re.column>=R&&re.column<L)));return rm(Z)}).getOr("")},ey=(f,h)=>{const k=xr(f);return zs(k,h).bind(rm).getOr("")},kh=(f,h)=>{const k=xr(f);return zs(k,h).bind(_=>{const D=_[_.length-1],R=_[0].row,L=D.row+D.rowspan;return(Z=>{const G=O(Z,ce=>Pd(ce).type),re=Vt(G,"header"),pe=Vt(G,"footer");if(re||pe){const ce=Vt(G,"body");return!re||ce||pe?re||ce||!pe?he.none():he.some("footer"):he.some("header")}return he.some("body")})(k.all.slice(R,L))}).getOr("")},ty=(f,h)=>f.dispatch("NewRow",{node:h}),ci=(f,h)=>f.dispatch("NewCell",{node:h}),Lr=(f,h,k)=>{f.dispatch("TableModified",{...k,table:h})},di={structure:!1,style:!0},Us={structure:!0,style:!1},hl={structure:!0,style:!0},gr=(f,h)=>Il(f)?$n(h):bu(f)?pa(h):Rd(h),ui=(f,h,k)=>{const _=pe=>go(Eo(pe))==="table",D=Nd(f),R=Ql(f)?Se:uh,L=pe=>{switch(hu(f)){case"section":return _u();case"sectionCells":return Wb();case"cells":return x();default:return((ce,me)=>{var be;switch((be=xr(ce),H(be.all,Me=>{const Ee=Pd(Me);return Ee.type==="header"?he.from(Ee.subType):he.none()})).getOr(me)){case"section":return no();case"sectionCells":return ip();case"cells":return Ym()}})(pe,"section")}},Z=(pe,ce,me,be)=>(Me,Ee,et=!1)=>{Qn(Me);const mt=vt.fromDom(f.getDoc()),_t=Oa(me,mt,D),gt={sizing:gr(f,Me),resize:Ql(f)?qb():ol(),section:L(Me)};return ce(Me)?pe(Me,Ee,_t,gt).bind(Ot=>{h.refresh(Me.dom),ft(Ot.newRows,Zt=>{ty(f,Zt.dom)}),ft(Ot.newCells,Zt=>{ci(f,Zt.dom)});const It=((Zt,To)=>To.cursor.fold(()=>{const Oo=yo(Zt);return Mo(Oo).filter(yr).map(Kn=>{k.clearSelectedCells(Zt.dom);const $o=f.dom.createRng();return $o.selectNode(Kn.dom),f.selection.setRng($o),wn(Kn,"data-mce-selected","1"),$o})},Oo=>{const Kn=xu(nm,Oo),$o=f.dom.createRng();return $o.setStart(Kn.element.dom,Kn.offset),$o.setEnd(Kn.element.dom,Kn.offset),f.selection.setRng($o),k.clearSelectedCells(Zt.dom),he.some($o)}))(Me,Ot);return yr(Me)&&(Qn(Me),et||Lr(f,Me.dom,be)),It.map(Zt=>({rng:Zt,effect:be}))}):he.none()},G=Z(lm,pe=>!_(f)||Gm(pe).rows>1,Se,Us),re=Z(Si,pe=>!_(f)||Gm(pe).columns>1,Se,Us);return{deleteRow:G,deleteColumn:re,insertRowsBefore:Z(j1,Lt,Se,Us),insertRowsAfter:Z($s,Lt,Se,Us),insertColumnsBefore:Z(T_,Lt,R,Us),insertColumnsAfter:Z(Z1,Lt,R,Us),mergeCells:Z(vh,Lt,Se,Us),unmergeCells:Z(cm,Lt,Se,Us),pasteColsBefore:Z(Ei,Lt,Se,Us),pasteColsAfter:Z(rf,Lt,Se,Us),pasteRowsBefore:Z(af,Lt,Se,Us),pasteRowsAfter:Z(gk,Lt,Se,Us),pasteCells:Z(hc,Lt,Se,hl),makeCellsHeader:Z(Xb,Lt,Se,Us),unmakeCellsHeader:Z(fk,Lt,Se,Us),makeColumnsHeader:Z(Qb,Lt,Se,Us),unmakeColumnsHeader:Z(Jb,Lt,Se,Us),makeRowsHeader:Z(q1,Lt,Se,Us),makeRowsBody:Z(W1,Lt,Se,Us),makeRowsFooter:Z(mk,Lt,Se,Us),getTableRowType:kh,getTableCellType:ey,getTableColType:pk}},xh=(f,h,k)=>{const _=vi(f,h,1);k===1||_<=1?uo(f,h):wn(f,h,Math.min(k,_))},$1=(f,h)=>k=>{const _=k.column+k.colspan-1,D=k.column;return _>=f&&D<h},up=of([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),G1=(f,h,k)=>{const _=k.substring(0,k.length-f.length),D=parseFloat(_);return _===D.toString()?h(D):up.invalid(k)},lf={...up,from:f=>ri(f,"%")?G1("%",up.percent,f):ri(f,"px")?G1("px",up.pixels,f):up.invalid(f)},oy=(f,h,k)=>{const _=lf.from(k),D=Ct(f,R=>R==="0px")?((R,L)=>{const Z=R.fold(()=>Ue(""),G=>Ue(G/L+"px"),()=>Ue(100/L+"%"));return Je(L,Z)})(_,f.length):((R,L,Z)=>R.fold(()=>L,G=>((re,pe,ce)=>{const me=ce/pe;return O(re,be=>lf.from(be).fold(()=>be,Me=>Me*me+"px",Me=>Me/100*ce+"px"))})(L,Z,G),G=>((re,pe)=>O(re,ce=>lf.from(ce).fold(()=>ce,me=>me/pe*100+"%",me=>me+"%")))(L,Z)))(_,f,h);return z_(D)},wh=(f,h)=>f.length===0?h:kn(f,(k,_)=>lf.from(_).fold(Ue(0),xt,xt)+k,0),O_=(f,h)=>lf.from(f).fold(Ue(f),k=>k+h+"px",k=>k+h+"%"),z_=f=>{if(f.length===0)return f;const h=kn(f,(_,D)=>{const R=lf.from(D).fold(()=>({value:D,remainder:0}),L=>((Z,G)=>{const re=Math.floor(Z);return{value:re+"px",remainder:Z-re}})(L),L=>({value:L+"%",remainder:0}));return{output:[R.value].concat(_.output),remainder:_.remainder+R.remainder}},{output:[],remainder:0}),k=h.output;return k.slice(0,k.length-1).concat([O_(k[k.length-1],Math.round(h.remainder))])},mp=lf.from,fp=f=>mp(f).fold(Ue("px"),Ue("px"),Ue("%")),Fc=(f,h,k)=>{const _=xr(f),D=_.all,R=zl(_),L=un(_);h.each(Z=>{const G=fp(Z),re=ma(f),pe=((me,be)=>Xe(me,be,wr,Ui))(_,f),ce=oy(pe,re,Z);Br(_)?((me,be,Me)=>{ft(be,(Ee,et)=>{const mt=wh([me[et]],W());lr(Ee.element,"width",mt+Me)})})(ce,L,G):((me,be,Me)=>{ft(be,Ee=>{const et=me.slice(Ee.column,Ee.colspan+Ee.column),mt=wh(et,W());lr(Ee.element,"width",mt+Me)})})(ce,R,G),lr(f,"width",Z)}),k.each(Z=>{const G=fp(Z),re=dc(f),pe=((ce,me,be)=>sr(ce,me,be,sa,Ui))(_,f,ko);((ce,me,be,Me)=>{ft(be,Ee=>{const et=ce.slice(Ee.row,Ee.rowspan+Ee.row),mt=wh(et,fe());lr(Ee.element,"height",mt+Me)}),ft(me,(Ee,et)=>{lr(Ee.element,"height",ce[et])})})(oy(pe,re,Z),D,R,G),lr(f,"height",Z)})},Rt=f=>Rl(f).exists(h=>Es.test(h)),K1=f=>Rl(f).exists(h=>Ec.test(h)),Ra=f=>Rl(f).isNone(),_h=f=>{uo(f,"width")},cf=f=>{const h=zc(f);Fc(f,he.some(h),he.none()),_h(f)},Su=f=>{const h=(k=>ma(k)+"px")(f);Fc(f,he.some(h),he.none()),_h(f)},Ll=f=>{Ys(f,"width");const h=qo(f),k=h.length>0?h:yo(f);ft(k,_=>{Ys(_,"width"),_h(_)}),_h(f)},D_={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Xl=(f,h,k,_)=>Je(f,D=>((R,L,Z,G)=>{const re=vt.fromTag("tr");for(let pe=0;pe<R;pe++){const ce=vt.fromTag(G<L||pe<Z?"th":"td");pe<Z&&wn(ce,"scope","row"),G<L&&wn(ce,"scope","col"),_s(ce,vt.fromTag("br")),_s(re,ce)}return re})(h,k,_,D)),Y1=(f,h)=>{f.selection.select(h.dom,!0),f.selection.collapse(!0)},Ah=(f,h,k,_,D)=>{const R=(Z=>{const G=Z.options,re=G.get("table_default_styles");return G.isSet("table_default_styles")?re:((pe,ce)=>za(pe)||!N(pe)?ce:bu(pe)?{...ce,width:Ml(pe)}:{...ce,width:id})(Z,re)})(f),L={styles:R,attributes:ue(f),colGroups:ge(f)};return f.undoManager.ignore(()=>{const Z=((re,pe,ce,me,be,Me=D_)=>{const Ee=vt.fromTag("table"),et=be!=="cells";El(Ee,Me.styles),Zr(Ee,Me.attributes),Me.colGroups&&_s(Ee,(Ot=>{const It=vt.fromTag("colgroup");return Je(Ot,()=>_s(It,vt.fromTag("col"))),It})(pe));const mt=Math.min(re,ce);if(et&&ce>0){const Ot=vt.fromTag("thead");_s(Ee,Ot);const It=Xl(ce,pe,be==="sectionCells"?mt:0,me);Ua(Ot,It)}const _t=vt.fromTag("tbody");_s(Ee,_t);const gt=Xl(et?re-mt:re,pe,et?0:ce,me);return Ua(_t,gt),Ee})(k,h,D,_,hu(f),L);wn(Z,"data-mce-id","__mce");const G=(re=>{const pe=vt.fromTag("div"),ce=vt.fromDom(re.dom.cloneNode(!0));return _s(pe,ce),(me=>me.dom.innerHTML)(pe)})(Z);f.insertContent(G),f.addVisual()}),oa(Eo(f),'table[data-mce-id="__mce"]').map(Z=>(bu(f)?Su(Z):za(f)?Ll(Z):(Il(f)||(G=>Le(G)&&G.indexOf("%")!==-1)(R.width))&&cf(Z),Qn(Z),uo(Z,"data-mce-id"),((G,re)=>{ft(Ii(re,"tr"),pe=>{ty(G,pe.dom),ft(Ii(pe,"th,td"),ce=>{ci(G,ce.dom)})})})(f,Z),((G,re)=>{oa(re,"td,th").each(We(Y1,G))})(f,Z),Z.dom)).getOrNull()};var Uc=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Hc="x-tinymce/dom-table-",gp=Hc+"rows",ec=Hc+"columns",Q1=f=>{const h=Uc.FakeClipboardItem(f);Uc.write([h])},dm=f=>{var h;const k=(h=Uc.read())!==null&&h!==void 0?h:[];return H(k,_=>he.from(_.getType(f)))},Ch=f=>{dm(f).isSome()&&Uc.clear()},J1=f=>{f.fold(R_,h=>Q1({[gp]:h}))},ny=()=>dm(gp),R_=()=>Ch(gp),X1=f=>{f.fold(tv,h=>Q1({[ec]:h}))},ev=()=>dm(ec),tv=()=>Ch(ec),Sh=f=>lg(Yr(f),ho(f)).filter($a),hk=(f,h)=>{const k=ho(f),_=ce=>Cn(ce,k),D=ce=>(me=>cg(Yr(me),ho(me)).filter($a))(f).bind(me=>_(me).map(be=>ce(be,me))),R=ce=>{f.focus()},L=(ce,me=!1)=>D((be,Me)=>{const Ee=ao(fl(f),be,Me);ce(be,Ee,me).each(R)}),Z=()=>D((ce,me)=>((be,Me,Ee)=>{const et=xr(be);return zs(et,Me).bind(mt=>{const _t=Wt(et,Ee,!1),gt=Qs(_t).rows.slice(mt[0].row,mt[mt.length-1].row+mt[mt.length-1].rowspan),Ot=is(gt,Zt=>{const To=Jt(Zt.cells,Oo=>!Oo.isLocked);return To.length>0?[{...Zt,cells:To}]:[]}),It=bo(Ot);return Aa(It.length>0,It)}).map(mt=>O(mt,_t=>{const gt=nu(_t.element);return ft(_t.cells,Ot=>{const It=dl(Ot.element);F(It,"colspan",Ot.colspan,1),F(It,"rowspan",Ot.rowspan,1),_s(gt,It)}),gt}))})(ce,ao(fl(f),ce,me),Oa(Se,vt.fromDom(f.getDoc()),he.none()))),G=()=>D((ce,me)=>((be,Me)=>{const Ee=xr(be);return ba(Ee,Me).map(et=>{const mt=et[et.length-1],_t=et[0].column,gt=mt.column+mt.colspan,Ot=((Zt,To,Oo)=>{if(Br(Zt)){const Kn=Jt(un(Zt),$1(To,Oo)),$o=O(Kn,cn=>{const ls=dl(cn.element);return xh(ls,"span",Oo-To),ls}),gn=vt.fromTag("colgroup");return Ua(gn,$o),[gn]}return[]})(Ee,_t,gt),It=((Zt,To,Oo)=>O(Zt.all,Kn=>{const $o=Jt(Kn.cells,$1(To,Oo)),gn=O($o,ls=>{const Pt=dl(ls.element);return xh(Pt,"colspan",Oo-To),Pt}),cn=vt.fromTag("tr");return Ua(cn,gn),cn}))(Ee,_t,gt);return[...Ot,...It]})})(ce,ao(fl(f),ce,me))),re=(ce,me)=>me().each(be=>{const Me=O(be,Ee=>dl(Ee));D((Ee,et)=>{const mt=Hn(vt.fromDom(f.getDoc())),_t=((gt,Ot,It,Zt)=>({selection:Ld(gt),clipboard:It,generators:Zt}))(fl(f),0,Me,mt);ce(Ee,_t).each(R)})}),pe=ce=>(me,be)=>((Me,Ee)=>Zo(Me,Ee)?he.from(Me[Ee]):he.none())(be,"type").each(Me=>{L(ce(Me),be.no_events)});qn({mceTableSplitCells:()=>L(h.unmergeCells),mceTableMergeCells:()=>L(h.mergeCells),mceTableInsertRowBefore:()=>L(h.insertRowsBefore),mceTableInsertRowAfter:()=>L(h.insertRowsAfter),mceTableInsertColBefore:()=>L(h.insertColumnsBefore),mceTableInsertColAfter:()=>L(h.insertColumnsAfter),mceTableDeleteCol:()=>L(h.deleteColumn),mceTableDeleteRow:()=>L(h.deleteRow),mceTableCutCol:()=>G().each(ce=>{X1(ce),L(h.deleteColumn)}),mceTableCutRow:()=>Z().each(ce=>{J1(ce),L(h.deleteRow)}),mceTableCopyCol:()=>G().each(ce=>X1(ce)),mceTableCopyRow:()=>Z().each(ce=>J1(ce)),mceTablePasteColBefore:()=>re(h.pasteColsBefore,ev),mceTablePasteColAfter:()=>re(h.pasteColsAfter,ev),mceTablePasteRowBefore:()=>re(h.pasteRowsBefore,ny),mceTablePasteRowAfter:()=>re(h.pasteRowsAfter,ny),mceTableDelete:()=>Sh(f).each(ce=>{Cn(ce,k).filter(At(k)).each(me=>{const be=vt.fromText("");if(Ht(me,be),_a(me),f.dom.isEmpty(f.getBody()))f.setContent(""),f.selection.setCursorLocation();else{const Me=f.dom.createRng();Me.setStart(be.dom,0),Me.setEnd(be.dom,0),f.selection.setRng(Me),f.nodeChanged()}})}),mceTableCellToggleClass:(ce,me)=>{D(be=>{const Me=fl(f),Ee=Ct(Me,mt=>f.formatter.match("tablecellclass",{value:me},mt.dom)),et=Ee?f.formatter.remove:f.formatter.apply;ft(Me,mt=>et("tablecellclass",{value:me},mt.dom)),Lr(f,be.dom,di)})},mceTableToggleClass:(ce,me)=>{D(be=>{f.formatter.toggle("tableclass",{value:me},be.dom),Lr(f,be.dom,di)})},mceTableToggleCaption:()=>{Sh(f).each(ce=>{Cn(ce,k).each(me=>{nr(me,"caption").fold(()=>{const be=vt.fromTag("caption");_s(be,vt.fromText("Caption")),((Me,Ee,et)=>{Ni(Me,0).fold(()=>{_s(Me,Ee)},mt=>{sc(mt,Ee)})})(me,be),f.selection.setCursorLocation(be.dom,0)},be=>{Ns("caption")(ce)&&Fa("td",me).each(Me=>f.selection.setCursorLocation(Me.dom,0)),_a(be)}),Lr(f,me.dom,Us)})})},mceTableSizingMode:(ce,me)=>(be=>Sh(f).each(Me=>{za(f)||bu(f)||Il(f)||Cn(Me,k).each(Ee=>{be!=="relative"||Rt(Ee)?be!=="fixed"||K1(Ee)?be!=="responsive"||Ra(Ee)||Ll(Ee):Su(Ee):cf(Ee),Qn(Ee),Lr(f,Ee.dom,Us)})}))(me),mceTableCellType:pe(ce=>ce==="th"?h.makeCellsHeader:h.unmakeCellsHeader),mceTableColType:pe(ce=>ce==="th"?h.makeColumnsHeader:h.unmakeColumnsHeader),mceTableRowType:pe(ce=>{switch(ce){case"header":return h.makeRowsHeader;case"footer":return h.makeRowsFooter;default:return h.makeRowsBody}})},(ce,me)=>f.addCommand(me,ce)),f.addCommand("mceInsertTable",(ce,me)=>{((be,Me,Ee,et={})=>{const mt=_t=>ct(_t)&&_t>0;if(mt(Me)&&mt(Ee)){const _t=et.headerRows||0,gt=et.headerColumns||0;return Ah(be,Ee,Me,gt,_t)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(f,me.rows,me.columns,me.options)}),f.addCommand("mceTableApplyCellStyle",(ce,me)=>{const be=et=>"tablecell"+et.toLowerCase().replace("-","");if(!ze(me))return;const Me=Jt(fl(f),$a);if(Me.length===0)return;const Ee=((et,mt)=>{const _t={};return((gt,Ot,It,Zt)=>{qn(gt,(To,Oo)=>{(Ot(To,Oo)?It:Zt)(To,Oo)})})(et,mt,(gt=>(Ot,It)=>{gt[It]=Ot})(_t),Se),_t})(me,(et,mt)=>f.formatter.has(be(mt))&&Le(et));(et=>{for(const mt in et)if(ti.call(et,mt))return!1;return!0})(Ee)||(qn(Ee,(et,mt)=>{const _t=be(mt);ft(Me,gt=>{et===""?f.formatter.remove(_t,{value:null},gt.dom,!0):f.formatter.apply(_t,{value:et},gt.dom)})}),_(Me[0]).each(et=>Lr(f,et.dom,di)))})},df=of([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ti={before:df.before,on:df.on,after:df.after,cata:(f,h,k,_)=>f.fold(h,k,_),getStart:f=>f.fold(xt,xt,xt)},uf=(f,h)=>({selection:f,kill:h}),Eu=(f,h)=>{const k=f.document.createRange();return k.selectNode(h.dom),k},er=(f,h)=>{const k=f.document.createRange();return mf(k,h),k},mf=(f,h)=>f.selectNodeContents(h.dom),Oi=(f,h,k)=>{const _=f.document.createRange();var D;return D=_,h.fold(R=>{D.setStartBefore(R.dom)},(R,L)=>{D.setStart(R.dom,L)},R=>{D.setStartAfter(R.dom)}),((R,L)=>{L.fold(Z=>{R.setEndBefore(Z.dom)},(Z,G)=>{R.setEnd(Z.dom,G)},Z=>{R.setEndAfter(Z.dom)})})(_,k),_},Eh=(f,h,k,_,D)=>{const R=f.document.createRange();return R.setStart(h.dom,k),R.setEnd(_.dom,D),R},sy=f=>({left:f.left,top:f.top,right:f.right,bottom:f.bottom,width:f.width,height:f.height}),pp=of([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),um=(f,h,k)=>h(vt.fromDom(k.startContainer),k.startOffset,vt.fromDom(k.endContainer),k.endOffset),ov=(f,h)=>{const k=((_,D)=>D.match({domRange:R=>({ltr:Ue(R),rtl:he.none}),relative:(R,L)=>({ltr:ki(()=>Oi(_,R,L)),rtl:ki(()=>he.some(Oi(_,L,R)))}),exact:(R,L,Z,G)=>({ltr:ki(()=>Eh(_,R,L,Z,G)),rtl:ki(()=>he.some(Eh(_,Z,G,R,L)))})}))(f,h);return((_,D)=>{const R=D.ltr();return R.collapsed?D.rtl().filter(L=>L.collapsed===!1).map(L=>pp.rtl(vt.fromDom(L.endContainer),L.endOffset,vt.fromDom(L.startContainer),L.startOffset)).getOrThunk(()=>um(0,pp.ltr,R)):um(0,pp.ltr,R)})(0,k)},mm=(f,h)=>ov(f,h).match({ltr:(k,_,D,R)=>{const L=f.document.createRange();return L.setStart(k.dom,_),L.setEnd(D.dom,R),L},rtl:(k,_,D,R)=>{const L=f.document.createRange();return L.setStart(D.dom,R),L.setEnd(k.dom,_),L}});pp.ltr,pp.rtl;const fg=(f,h,k,_)=>({start:f,soffset:h,finish:k,foffset:_}),gg=(f,h,k,_)=>({start:Ti.on(f,h),finish:Ti.on(k,_)}),ry=(f,h)=>{const k=mm(f,h);return fg(vt.fromDom(k.startContainer),k.startOffset,vt.fromDom(k.endContainer),k.endOffset)},ay=gg,Hs=(f,h,k,_,D)=>Jn(k,_)?he.none():tm(k,_,h).bind(R=>{const L=R.boxes.getOr([]);return L.length>1?(D(f,L,R.start,R.finish),he.some(uf(he.some(ay(k,0,k,ha(k))),!0))):he.none()}),Vd=(f,h)=>({item:f,mode:h}),Th=(f,h,k,_=fm)=>f.property().parent(h).map(D=>Vd(D,_)),fm=(f,h,k,_=Tu)=>k.sibling(f,h).map(D=>Vd(D,_)),Tu=(f,h,k,_=Tu)=>{const D=f.property().children(h);return k.first(D).map(R=>Vd(R,_))},bk=[{current:Th,next:fm,fallback:he.none()},{current:fm,next:Tu,fallback:he.some(Th)},{current:Tu,next:Tu,fallback:he.some(fm)}],sl=(f,h,k,_,D=bk)=>So(D,R=>R.current===k).bind(R=>R.current(f,h,_,R.next).orThunk(()=>R.fallback.bind(L=>sl(f,h,L,_)))),ia=(f,h,k,_,D,R)=>sl(f,h,_,D).bind(L=>R(L.item)?he.none():k(L.item)?he.some(L.item):ia(f,L.item,k,L.mode,D,R)),yk=f=>h=>f.property().children(h).length===0,gm=(f,h,k,_)=>ia(f,h,k,fm,{sibling:(D,R)=>D.query().prevSibling(R),first:D=>D.length>0?he.some(D[D.length-1]):he.none()},_),Oh=(f,h,k,_)=>ia(f,h,k,fm,{sibling:(D,R)=>D.query().nextSibling(R),first:D=>D.length>0?he.some(D[0]):he.none()},_),ff=Md(),iy=(f,h)=>((k,_,D)=>gm(k,_,yk(k),D))(ff,f,h),ly=(f,h)=>((k,_,D)=>Oh(k,_,yk(k),D))(ff,f,h),nv=of([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),RE=f=>ir(f,"tr"),hp={...nv,verify:(f,h,k,_,D,R,L)=>ir(_,"td,th",L).bind(Z=>ir(h,"td,th",L).map(G=>Jn(Z,G)?Jn(_,Z)&&ha(Z)===D?R(G):nv.none("in same cell"):dh(RE,[Z,G]).fold(()=>((re,pe,ce)=>{const me=re.getRect(pe),be=re.getRect(ce);return be.right>me.left&&be.left<me.right})(f,G,Z)?nv.success():R(G),re=>R(G)))).getOr(nv.none("default")),cata:(f,h,k,_,D)=>f.fold(h,k,_,D)},sv=Ns("br"),vk=(f,h,k)=>h(f,k).bind(_=>ln(_)&&Gr(_).trim().length===0?vk(_,h,k):he.some(_)),NE=(f,h,k,_)=>((D,R)=>Ni(D,R).filter(sv).orThunk(()=>Ni(D,R-1).filter(sv)))(h,k).bind(D=>_.traverse(D).fold(()=>vk(D,_.gather,f).map(_.relative),R=>(L=>oi(L).bind(Z=>{const G=bi(Z);return((re,pe)=>tr(re,We(Jn,pe)))(G,L).map(re=>((pe,ce,me,be)=>({parent:pe,children:ce,element:me,index:be}))(Z,G,L,re))}))(R).map(L=>Ti.on(L.parent,L.index)))),cy=(f,h)=>({left:f.left,top:f.top+h,right:f.right,bottom:f.bottom+h}),Pl=(f,h)=>({left:f.left,top:f.top-h,right:f.right,bottom:f.bottom-h}),Zi=(f,h,k)=>({left:f.left+h,top:f.top+k,right:f.right+h,bottom:f.bottom+k}),dy=f=>({left:f.left,top:f.top,right:f.right,bottom:f.bottom}),uy=(f,h)=>he.some(f.getRect(h)),jd=(f,h,k)=>fs(h)?uy(f,h).map(dy):ln(h)?((_,D,R)=>R>=0&&R<ha(D)?_.getRangedRect(D,R,D,R+1):R>0?_.getRangedRect(D,R-1,D,R):he.none())(f,h,k).map(dy):he.none(),zh=(f,h)=>fs(h)?uy(f,h).map(dy):ln(h)?f.getRangedRect(h,0,h,ha(h)).map(dy):he.none(),Vc=of([{none:[]},{retry:["caret"]}]),Ou=(f,h,k)=>Ac(h,Lc).fold(ae,_=>zh(f,_).exists(D=>((R,L)=>R.left<L.left||Math.abs(L.right-R.left)<1||R.left>L.right)(k,D))),gf={point:f=>f.bottom,adjuster:(f,h,k,_,D)=>{const R=cy(D,5);return Math.abs(k.bottom-_.bottom)<1||k.top>D.bottom?Vc.retry(R):k.top===D.bottom?Vc.retry(cy(D,1)):Ou(f,h,D)?Vc.retry(Zi(R,5,0)):Vc.none()},move:cy,gather:ly},pm=(f,h,k,_,D)=>D===0?he.some(_):((R,L,Z)=>R.elementFromPoint(L,Z).filter(G=>go(G)==="table").isSome())(f,_.left,h.point(_))?((R,L,Z,G,re)=>pm(R,L,Z,L.move(G,5),re))(f,h,k,_,D-1):f.situsFromPoint(_.left,h.point(_)).bind(R=>R.start.fold(he.none,L=>zh(f,L).bind(Z=>h.adjuster(f,L,Z,k,_).fold(he.none,G=>pm(f,h,k,G,D-1))).orThunk(()=>he.some(_)),he.none)),pg=(f,h,k)=>{const _=f.move(k,5),D=pm(h,f,k,_,100).getOr(_);return((R,L,Z)=>R.point(L)>Z.getInnerHeight()?he.some(R.point(L)-Z.getInnerHeight()):R.point(L)<0?he.some(-R.point(L)):he.none())(f,D,h).fold(()=>h.situsFromPoint(D.left,f.point(D)),R=>(h.scrollBy(0,R),h.situsFromPoint(D.left,f.point(D)-R)))},Zd={tryUp:We(pg,{point:f=>f.top,adjuster:(f,h,k,_,D)=>{const R=Pl(D,5);return Math.abs(k.top-_.top)<1||k.bottom<D.top?Vc.retry(R):k.bottom===D.top?Vc.retry(Pl(D,1)):Ou(f,h,D)?Vc.retry(Zi(R,5,0)):Vc.none()},move:Pl,gather:iy}),tryDown:We(pg,gf),getJumpSize:Ue(5)},bp=(f,h,k)=>f.getSelection().bind(_=>((D,R,L,Z)=>(sv(R)?((re,pe,ce)=>ce.traverse(pe).orThunk(()=>vk(pe,ce.gather,re)).map(ce.relative))(D,R,Z):NE(D,R,L,Z)).map(re=>({start:re,finish:re})))(h,_.finish,_.foffset,k).fold(()=>he.some(ku(_.finish,_.foffset)),D=>{const R=f.fromSitus(D);return L=hp.verify(f,_.finish,_.foffset,R.finish,R.foffset,k.failure,h),hp.cata(L,Z=>he.none(),()=>he.none(),Z=>he.some(ku(Z,0)),Z=>he.some(ku(Z,ha(Z))));var L})),Dh=(f,h,k,_,D,R)=>R===0?he.none():rv(f,h,k,_,D).bind(L=>{const Z=f.fromSitus(L),G=hp.verify(f,k,_,Z.finish,Z.foffset,D.failure,h);return hp.cata(G,()=>he.none(),()=>he.some(L),re=>Jn(k,re)&&_===0?my(f,k,_,Pl,D):Dh(f,h,re,0,D,R-1),re=>Jn(k,re)&&_===ha(re)?my(f,k,_,cy,D):Dh(f,h,re,ha(re),D,R-1))}),my=(f,h,k,_,D)=>jd(f,h,k).bind(R=>rl(f,D,_(R,Zd.getJumpSize()))),rl=(f,h,k)=>{const _=Ol().browser;return _.isChromium()||_.isSafari()||_.isFirefox()?h.retry(f,k):he.none()},rv=(f,h,k,_,D)=>jd(f,k,_).bind(R=>rl(f,D,R)),av=(f,h,k,_,D)=>ir(_,"td,th",h).bind(R=>ir(R,"table",h).bind(L=>((Z,G)=>ic(Z,re=>oi(re).exists(pe=>Jn(pe,G)),void 0).isSome())(D,L)?((Z,G,re)=>bp(Z,G,re).bind(pe=>Dh(Z,G,pe.element,pe.offset,re,20).map(Z.fromSitus)))(f,h,k).bind(Z=>ir(Z.finish,"td,th",h).map(G=>({start:R,finish:G,range:Z}))):he.none())),fy=(f,h,k,_,D,R)=>R(_,h).orThunk(()=>av(f,h,k,_,D).map(L=>{const Z=L.range;return uf(he.some(ay(Z.start,Z.soffset,Z.finish,Z.foffset)),!0)})),N_=(f,h)=>ir(f,"tr",h).bind(k=>ir(k,"table",h).bind(_=>{const D=Ii(_,"tr");return Jn(k,D[0])?((R,L,Z)=>gm(ff,R,G=>ad(G).isSome(),Z))(_,0,h).map(R=>{const L=ha(R);return uf(he.some(ay(R,L,R,L)),!0)}):he.none()})),gy=(f,h)=>ir(f,"tr",h).bind(k=>ir(k,"table",h).bind(_=>{const D=Ii(_,"tr");return Jn(k,D[D.length-1])?((R,L,Z)=>Oh(ff,R,G=>Ta(G).isSome(),Z))(_,0,h).map(R=>uf(he.some(ay(R,0,R,0)),!0)):he.none()})),iv=(f,h,k,_,D,R,L)=>av(f,k,_,D,R).bind(Z=>Hs(h,k,Z.start,Z.finish,L)),yp=f=>{let h=f;return{get:()=>h,set:k=>{h=k}}},hm=()=>{const f=(h=>{const k=yp(he.none()),_=()=>k.get().each(h);return{clear:()=>{_(),k.set(he.none())},isSet:()=>k.get().isSome(),get:()=>k.get(),set:D=>{_(),k.set(he.some(D))}}})(Se);return{...f,on:h=>f.get().each(h)}},kk=(f,h)=>ir(f,"td,th",h),py=f=>cl(f).exists(oo),hy={traverse:ni,gather:ly,relative:Ti.before,retry:Zd.tryDown,failure:hp.failedDown},bm={traverse:Lo,gather:iy,relative:Ti.before,retry:Zd.tryUp,failure:hp.failedUp},pf=f=>h=>h===f,by=pf(38),Rh=pf(40),hf=f=>f>=37&&f<=40,bf={isBackward:pf(37),isForward:pf(39)},hg={isBackward:pf(39),isForward:pf(37)},qd=of([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),yf={domRange:qd.domRange,relative:qd.relative,exact:qd.exact,exactFromRange:f=>qd.exact(f.start,f.soffset,f.finish,f.foffset),getWin:f=>{const h=(k=>k.match({domRange:_=>vt.fromDom(_.startContainer),relative:(_,D)=>Ti.getStart(_),exact:(_,D,R,L)=>_}))(f);return vt.fromDom(Ki(h).dom.defaultView)},range:fg},M_=document.caretPositionFromPoint?(f,h,k)=>{var _,D;return he.from((D=(_=f.dom).caretPositionFromPoint)===null||D===void 0?void 0:D.call(_,h,k)).bind(R=>{if(R.offsetNode===null)return he.none();const L=f.dom.createRange();return L.setStart(R.offsetNode,R.offset),L.collapse(),he.some(L)})}:document.caretRangeFromPoint?(f,h,k)=>{var _,D;return he.from((D=(_=f.dom).caretRangeFromPoint)===null||D===void 0?void 0:D.call(_,h,k))}:he.none,Nh=(f,h)=>{const k=go(f);return k==="input"?Ti.after(f):Vt(["br","img"],k)?h===0?Ti.before(f):Ti.after(f):Ti.on(f,h)},vf=f=>he.from(f.getSelection()),vp=(f,h)=>{vf(f).each(k=>{k.removeAllRanges(),k.addRange(h)})},lv=(f,h,k,_,D)=>{const R=Eh(f,h,k,_,D);vp(f,R)},cv=(f,h)=>ov(f,h).match({ltr:(k,_,D,R)=>{lv(f,k,_,D,R)},rtl:(k,_,D,R)=>{vf(f).each(L=>{if(L.setBaseAndExtent)L.setBaseAndExtent(k.dom,_,D.dom,R);else if(L.extend)try{((Z,G,re,pe,ce,me)=>{G.collapse(re.dom,pe),G.extend(ce.dom,me)})(0,L,k,_,D,R)}catch{lv(f,D,R,k,_)}else lv(f,D,R,k,_)})}}),dv=(f,h,k,_,D)=>{const R=((L,Z,G,re)=>{const pe=Nh(L,Z),ce=Nh(G,re);return yf.relative(pe,ce)})(h,k,_,D);cv(f,R)},qi=(f,h,k)=>{const _=((D,R)=>{const L=D.fold(Ti.before,Nh,Ti.after),Z=R.fold(Ti.before,Nh,Ti.after);return yf.relative(L,Z)})(h,k);cv(f,_)},yy=f=>{if(f.rangeCount>0){const h=f.getRangeAt(0),k=f.getRangeAt(f.rangeCount-1);return he.some(fg(vt.fromDom(h.startContainer),h.startOffset,vt.fromDom(k.endContainer),k.endOffset))}return he.none()},kf=f=>{if(f.anchorNode===null||f.focusNode===null)return yy(f);{const h=vt.fromDom(f.anchorNode),k=vt.fromDom(f.focusNode);return((_,D,R,L)=>{const Z=((re,pe,ce,me)=>{const be=Cl(re).dom.createRange();return be.setStart(re.dom,pe),be.setEnd(ce.dom,me),be})(_,D,R,L),G=Jn(_,R)&&D===L;return Z.collapsed&&!G})(h,f.anchorOffset,k,f.focusOffset)?he.some(fg(h,f.anchorOffset,k,f.focusOffset)):yy(f)}},jc=(f,h,k=!0)=>{const _=(k?er:Eu)(f,h);vp(f,_)},uv=f=>(h=>vf(h).filter(k=>k.rangeCount>0).bind(kf))(f).map(h=>yf.exact(h.start,h.soffset,h.finish,h.foffset)),Mh=f=>({elementFromPoint:(h,k)=>vt.fromPoint(vt.fromDom(f.document),h,k),getRect:h=>h.dom.getBoundingClientRect(),getRangedRect:(h,k,_,D)=>{const R=yf.exact(h,k,_,D);return((L,Z)=>(G=>{const re=G.getClientRects(),pe=re.length>0?re[0]:G.getBoundingClientRect();return pe.width>0||pe.height>0?he.some(pe).map(sy):he.none()})(mm(L,Z)))(f,R)},getSelection:()=>uv(f).map(h=>ry(f,h)),fromSitus:h=>{const k=yf.relative(h.start,h.finish);return ry(f,k)},situsFromPoint:(h,k)=>((_,D,R)=>((L,Z,G)=>{const re=vt.fromDom(L.document);return M_(re,Z,G).map(pe=>fg(vt.fromDom(pe.startContainer),pe.startOffset,vt.fromDom(pe.endContainer),pe.endOffset))})(_,D,R))(f,h,k).map(_=>gg(_.start,_.soffset,_.finish,_.foffset)),clearSelection:()=>{(h=>{vf(h).each(k=>k.removeAllRanges())})(f)},collapseSelection:(h=!1)=>{uv(f).each(k=>k.fold(_=>_.collapse(h),(_,D)=>{const R=h?_:D;qi(f,R,R)},(_,D,R,L)=>{const Z=h?_:R,G=h?D:L;dv(f,Z,G,Z,G)}))},setSelection:h=>{dv(f,h.start,h.soffset,h.finish,h.foffset)},setRelativeSelection:(h,k)=>{qi(f,h,k)},selectNode:h=>{jc(f,h,!1)},selectContents:h=>{jc(f,h)},getInnerHeight:()=>f.innerHeight,getScrollY:()=>(h=>{const k=h!==void 0?h.dom:document,_=k.body.scrollLeft||k.documentElement.scrollLeft,D=k.body.scrollTop||k.documentElement.scrollTop;return Dl(_,D)})(vt.fromDom(f.document)).top,scrollBy:(h,k)=>{((_,D,R)=>{const L=(R!==void 0?R.dom:document).defaultView;L&&L.scrollBy(_,D)})(h,k,vt.fromDom(f.document))}}),xf=(f,h)=>({rows:f,cols:h}),wf=f=>Ac(f,La).exists(oo),vy=(f,h)=>wf(f)||wf(h),ky=f=>f.dom.classList!==void 0,ym=(f,h)=>((k,_,D)=>{const R=((L,Z)=>{const G=Jo(L,Z);return G===void 0||G===""?[]:G.split(" ")})(k,_).concat([D]);return wn(k,_,R.join(" ")),!0})(f,"class",h),_f=(f,h)=>{ky(f)?f.dom.classList.add(h):ym(f,h)},Ih=(f,h)=>ky(f)&&f.dom.classList.contains(h),Af=()=>({tag:"none"}),xk=f=>({tag:"multiple",elements:f}),Bh=f=>({tag:"single",element:f}),Lh=f=>{const h=vt.fromDom((Z=>{if(su()&&rt(Z.target)){const G=vt.fromDom(Z.target);if(fs(G)&&rt(G.dom.shadowRoot)&&Z.composed&&Z.composedPath){const re=Z.composedPath();if(re)return Mo(re)}}return he.from(Z.target)})(f).getOr(f.target)),k=()=>f.stopPropagation(),_=()=>f.preventDefault(),D=(R=_,L=k,(...Z)=>R(L.apply(null,Z)));var R,L;return((Z,G,re,pe,ce,me,be)=>({target:Z,x:G,y:re,stop:pe,prevent:ce,kill:me,raw:be}))(h,f.clientX,f.clientY,k,_,D,f)},mv=(f,h,k,_)=>{f.dom.removeEventListener(h,k,_)},Ph=Lt,vm=(f,h,k)=>((_,D,R,L)=>((Z,G,re,pe,ce)=>{const me=((be,Me)=>Ee=>{be(Ee)&&Me(Lh(Ee))})(re,pe);return Z.dom.addEventListener(G,me,ce),{unbind:We(mv,Z,G,me,ce)}})(_,D,R,L,!1))(f,h,Ph,k),Cf=Lh,Fh=f=>!Ih(vt.fromDom(f.target),"ephox-snooker-resizer-bar"),fv=(f,h)=>{const k=(D=Sn.selectedSelector,{get:()=>yu(vt.fromDom(f.getBody()),D).fold(()=>cg(Yr(f),ho(f)).fold(Af,Bh),xk)}),_=((R,L,Z)=>{const G=me=>{uo(me,R.selected),uo(me,R.firstSelected),uo(me,R.lastSelected)},re=me=>{wn(me,R.selected,"1")},pe=me=>{ce(me),Z()},ce=me=>{const be=Ii(me,`${R.selectedSelector},${R.firstSelectedSelector},${R.lastSelectedSelector}`);ft(be,G)};return{clearBeforeUpdate:ce,clear:pe,selectRange:(me,be,Me,Ee)=>{pe(me),ft(be,re),wn(Me,R.firstSelected,"1"),wn(Ee,R.lastSelected,"1"),L(be,Me,Ee)},selectedSelector:R.selectedSelector,firstSelectedSelector:R.firstSelectedSelector,lastSelectedSelector:R.lastSelectedSelector}})(Sn,(R,L,Z)=>{Cn(L).each(G=>{const re=Nd(f),pe=Oa(Se,vt.fromDom(f.getDoc()),re),ce=((me,be,Me)=>{const Ee=xr(me);return zs(Ee,be).map(et=>{const mt=Wt(Ee,Me,!1),{rows:_t}=Qs(mt),gt=((It,Zt)=>{const To=It.slice(0,Zt[Zt.length-1].row+1),Oo=bo(To);return is(Oo,Kn=>{const $o=Kn.cells.slice(0,Zt[Zt.length-1].column+1);return O($o,gn=>gn.element)})})(_t,et),Ot=((It,Zt)=>{const To=It.slice(Zt[0].row+Zt[0].rowspan-1,It.length),Oo=bo(To);return is(Oo,Kn=>{const $o=Kn.cells.slice(Zt[0].column+Zt[0].colspan-1,Kn.cells.length);return O($o,gn=>gn.element)})})(_t,et);return{upOrLeftCells:gt,downOrRightCells:Ot}})})(G,{selection:fl(f)},pe);((me,be,Me,Ee,et)=>{me.dispatch("TableSelectionChange",{cells:be,start:Me,finish:Ee,otherCells:et})})(f,R,L,Z,ce)})},()=>(R=>{R.dispatch("TableSelectionClear")})(f));var D;return f.on("init",R=>{const L=f.getWin(),Z=Eo(f),G=ho(f),re=((Ee,et,mt,_t)=>{const gt=((Ot,It,Zt,To)=>{const Oo=hm(),Kn=Oo.clear,$o=gn=>{Oo.on(cn=>{To.clearBeforeUpdate(It),kk(gn.target,Zt).each(ls=>{tm(cn,ls,Zt).each(Pt=>{const Qa=Pt.boxes.getOr([]);if(Qa.length===1){const la=Qa[0],Ul=Wo(la)==="false",as=Bi(wt(gn.target),la,Jn);Ul&&as&&(To.selectRange(It,Qa,la,la),Ot.selectContents(la))}else Qa.length>1&&(To.selectRange(It,Qa,Pt.start,Pt.finish),Ot.selectContents(ls))})})})};return{clearstate:Kn,mousedown:gn=>{To.clear(It),kk(gn.target,Zt).filter(py).each(Oo.set)},mouseover:gn=>{$o(gn)},mouseup:gn=>{$o(gn),Kn()}}})(Mh(Ee),et,mt,_t);return{clearstate:gt.clearstate,mousedown:gt.mousedown,mouseover:gt.mouseover,mouseup:gt.mouseup}})(L,Z,G,_),pe=((Ee,et,mt,_t)=>{const gt=Mh(Ee),Ot=()=>(_t.clear(et),he.none());return{keydown:(It,Zt,To,Oo,Kn,$o)=>{const gn=It.raw,cn=gn.which,ls=gn.shiftKey===!0;return Id(et,_t.selectedSelector).fold(()=>(hf(cn)&&!ls&&_t.clearBeforeUpdate(et),hf(cn)&&ls&&!vy(Zt,Oo)?he.none:Rh(cn)&&ls?We(iv,gt,et,mt,hy,Oo,Zt,_t.selectRange):by(cn)&&ls?We(iv,gt,et,mt,bm,Oo,Zt,_t.selectRange):Rh(cn)?We(fy,gt,mt,hy,Oo,Zt,gy):by(cn)?We(fy,gt,mt,bm,Oo,Zt,N_):he.none),Qa=>{const la=Ul=>()=>H(Ul,Ma=>((xm,Vh,jh,Sp,Zh)=>qm(Sp,xm,Vh,Zh.firstSelectedSelector,Zh.lastSelectedSelector).map(Ia=>(Zh.clearBeforeUpdate(jh),Zh.selectRange(jh,Ia.boxes,Ia.start,Ia.finish),Ia.boxes)))(Ma.rows,Ma.cols,et,Qa,_t)).fold(()=>kt(et,_t.firstSelectedSelector,_t.lastSelectedSelector).map(Ma=>{const xm=Rh(cn)||$o.isForward(cn)?Ti.after:Ti.before;return gt.setRelativeSelection(Ti.on(Ma.first,0),xm(Ma.table)),_t.clear(et),uf(he.none(),!0)}),Ma=>he.some(uf(he.none(),!0)));return hf(cn)&&ls&&!vy(Zt,Oo)?he.none:Rh(cn)&&ls?la([xf(1,0)]):by(cn)&&ls?la([xf(-1,0)]):$o.isBackward(cn)&&ls?la([xf(0,-1),xf(-1,0)]):$o.isForward(cn)&&ls?la([xf(0,1),xf(1,0)]):hf(cn)&&!ls?Ot:he.none})()},keyup:(It,Zt,To,Oo,Kn)=>Id(et,_t.selectedSelector).fold(()=>{const $o=It.raw,gn=$o.which;return $o.shiftKey===!0&&hf(gn)&&vy(Zt,Oo)?((cn,ls,Pt,Qa,la,Ul,as)=>Jn(Pt,la)&&Qa===Ul?he.none():ir(Pt,"td,th",ls).bind(Ma=>ir(la,"td,th",ls).bind(xm=>Hs(cn,ls,Ma,xm,as))))(et,mt,Zt,To,Oo,Kn,_t.selectRange):he.none()},he.none)}})(L,Z,G,_),ce=((Ee,et,mt,_t)=>{const gt=Mh(Ee);return(Ot,It)=>{_t.clearBeforeUpdate(et),tm(Ot,It,mt).each(Zt=>{const To=Zt.boxes.getOr([]);_t.selectRange(et,To,Zt.start,Zt.finish),gt.selectContents(It),gt.collapseSelection()})}})(L,Z,G,_);f.on("TableSelectorChange",Ee=>ce(Ee.start,Ee.finish));const me=(Ee,et)=>{(mt=>mt.raw.shiftKey===!0)(Ee)&&(et.kill&&Ee.kill(),et.selection.each(mt=>{const _t=yf.relative(mt.start,mt.finish),gt=mm(L,_t);f.selection.setRng(gt)}))},be=Ee=>Ee.button===0,Me=(()=>{const Ee=yp(vt.fromDom(Z)),et=yp(0);return{touchEnd:mt=>{const _t=vt.fromDom(mt.target);if(Ns("td")(_t)||Ns("th")(_t)){const gt=Ee.get(),Ot=et.get();Jn(gt,_t)&&mt.timeStamp-Ot<300&&(mt.preventDefault(),ce(_t,_t))}Ee.set(_t),et.set(mt.timeStamp)}}})();f.on("dragstart",Ee=>{re.clearstate()}),f.on("mousedown",Ee=>{be(Ee)&&Fh(Ee)&&re.mousedown(Cf(Ee))}),f.on("mouseover",Ee=>{var et;(et=Ee).buttons!==void 0&&!(1&et.buttons)||!Fh(Ee)||re.mouseover(Cf(Ee))}),f.on("mouseup",Ee=>{be(Ee)&&Fh(Ee)&&re.mouseup(Cf(Ee))}),f.on("touchend",Me.touchEnd),f.on("keyup",Ee=>{const et=Cf(Ee);if(et.raw.shiftKey&&hf(et.raw.which)){const mt=f.selection.getRng(),_t=vt.fromDom(mt.startContainer),gt=vt.fromDom(mt.endContainer);pe.keyup(et,_t,mt.startOffset,gt,mt.endOffset).each(Ot=>{me(et,Ot)})}}),f.on("keydown",Ee=>{const et=Cf(Ee);h.hide();const mt=f.selection.getRng(),_t=vt.fromDom(mt.startContainer),gt=vt.fromDom(mt.endContainer),Ot=Sc(bf,hg)(vt.fromDom(f.selection.getStart()));pe.keydown(et,_t,mt.startOffset,gt,mt.endOffset,Ot).each(It=>{me(et,It)}),h.show()}),f.on("NodeChange",()=>{const Ee=f.selection,et=vt.fromDom(Ee.getStart()),mt=vt.fromDom(Ee.getEnd());dh(Cn,[et,mt]).fold(()=>_.clear(Z),Se)})}),f.on("PreInit",()=>{f.serializer.addTempAttr(Sn.firstSelected),f.serializer.addTempAttr(Sn.lastSelected)}),{getSelectedCells:()=>((R,L,Z,G)=>{switch(R.tag){case"none":return L();case"single":return(re=>[re.dom])(R.element);case"multiple":return(re=>O(re,pe=>pe.dom))(R.elements)}})(k.get(),Ue([])),clearSelectedCells:R=>_.clear(vt.fromDom(R))}},gd=f=>{let h=[];return{bind:k=>{if(k===void 0)throw new Error("Event bind error: undefined handler");h.push(k)},unbind:k=>{h=Jt(h,_=>_!==k)},trigger:(...k)=>{const _={};ft(f,(D,R)=>{_[D]=k[R]}),ft(h,D=>{D(_)})}}},bg=f=>({registry:Ws(f,h=>({bind:h.bind,unbind:h.unbind})),trigger:Ws(f,h=>h.trigger)}),kp=f=>f.slice(0).sort(),bn=(f,h)=>{const k=Jt(h,_=>!Vt(f,_));k.length>0&&(_=>{throw new Error("Unsupported keys for object: "+kp(_).join(", "))})(k)},Fl=f=>((h,k)=>((_,D,R)=>{if(D.length===0)throw new Error("You must specify at least one required field.");return((L,Z)=>{if(!Tt(Z))throw new Error("The "+L+" fields must be an array. Was: "+Z+".");ft(Z,G=>{if(!Le(G))throw new Error("The value "+G+" in the "+L+" fields was not a string.")})})("required",D),(L=>{const Z=kp(L);So(Z,(G,re)=>re<Z.length-1&&G===Z[re+1]).each(G=>{throw new Error("The field: "+G+" occurs more than once in the combined fields: ["+Z.join(", ")+"].")})})(D),L=>{const Z=Un(L);Ct(D,re=>Vt(Z,re))||((re,pe)=>{throw new Error("All required keys ("+kp(re).join(", ")+") were not specified. Specified keys were: "+kp(pe).join(", ")+".")})(D,Z),_(D,Z);const G=Jt(D,re=>!R.validate(L[re],re));return G.length>0&&((re,pe)=>{throw new Error("All values need to be of type: "+pe+". Keys ("+kp(re).join(", ")+") were not.")})(G,R.label),L}})(h,k,{validate:zt,label:"function"}))(bn,f),xp=Fl(["compare","extract","mutate","sink"]),qe=Fl(["element","start","stop","destroy"]),xy=Fl(["forceDrop","drop","move","delayDrop"]),gv=()=>{const f=(()=>{const _=bg({move:gd(["info"])});return{onEvent:Se,reset:Se,events:_.registry}})(),h=(()=>{let _=he.none();const D=bg({move:gd(["info"])});return{onEvent:(R,L)=>{L.extract(R).each(Z=>{((re,pe)=>{const ce=_.map(me=>re.compare(me,pe));return _=he.some(pe),ce})(L,Z).each(re=>{D.trigger.move(re)})})},reset:()=>{_=he.none()},events:D.registry}})();let k=f;return{on:()=>{k.reset(),k=h},off:()=>{k.reset(),k=f},isOn:()=>k===h,onEvent:(_,D)=>{k.onEvent(_,D)},events:h.events}},wk=f=>{const h=f.replace(/\./g,"-");return{resolve:k=>h+"-"+k}},wp=wk("ephox-dragster").resolve;var Zc=xp({compare:(f,h)=>Dl(h.left-f.left,h.top-f.top),extract:f=>he.some(Dl(f.x,f.y)),sink:(f,h)=>{const k=(Z=>{const G={layerClass:wp("blocker"),...Z},re=vt.fromTag("div");return wn(re,"role","presentation"),El(re,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),_f(re,wp("blocker")),_f(re,G.layerClass),{element:Ue(re),destroy:()=>{_a(re)}}})(h),_=vm(k.element(),"mousedown",f.forceDrop),D=vm(k.element(),"mouseup",f.drop),R=vm(k.element(),"mousemove",f.move),L=vm(k.element(),"mouseout",f.delayDrop);return qe({element:k.element,start:Z=>{_s(Z,k.element())},stop:()=>{_a(k.element())},destroy:()=>{k.destroy(),D.unbind(),R.unbind(),L.unbind(),_.unbind()}})},mutate:(f,h)=>{f.mutate(h.left,h.top)}});const _p=wk("ephox-snooker").resolve,wy=_p("resizer-bar"),pv=_p("resizer-rows"),Uh=_p("resizer-cols"),_y=f=>{const h=Ii(f.parent(),"."+wy);ft(h,_a)},hv=(f,h,k)=>{const _=f.origin();ft(h,D=>{D.each(R=>{const L=k(_,R);_f(L,wy),_s(f.parent(),L)})})},_k=(f,h,k,_,D)=>{const R=uc(k),L=h.isResizable,Z=_.length>0?ko.positions(_,k):[],G=Z.length>0?((ce,me)=>is(ce.all,(be,Me)=>me(be.element)?[Me]:[]))(f,L):[];((ce,me,be,Me)=>{hv(ce,me,(Ee,et)=>{const mt=((_t,gt,Ot,It,Zt)=>{const To=vt.fromTag("div");return El(To,{position:"absolute",left:gt+"px",top:Ot-3.5+"px",height:"7px",width:It+"px"}),Zr(To,{"data-row":_t,role:"presentation"}),To})(et.row,be.left-Ee.left,et.y-Ee.top,Me);return _f(mt,pv),mt})})(h,Jt(Z,(ce,me)=>_e(G,be=>me===be)),R,td(k));const re=D.length>0?Fi.positions(D,k):[],pe=re.length>0?((ce,me)=>{const be=[];return Je(ce.grid.columns,Me=>{zd(ce,Me).map(Ee=>Ee.element).forall(me)&&be.push(Me)}),Jt(be,Me=>{const Ee=Pm(ce,et=>et.column===Me);return Ct(Ee,et=>me(et.element))})})(f,L):[];((ce,me,be,Me)=>{hv(ce,me,(Ee,et)=>{const mt=((_t,gt,Ot,It,Zt)=>{const To=vt.fromTag("div");return El(To,{position:"absolute",left:gt-3.5+"px",top:Ot+"px",height:Zt+"px",width:"7px"}),Zr(To,{"data-column":_t,role:"presentation"}),To})(et.col,et.x-Ee.left,be.top-Ee.top,0,Me);return _f(mt,Uh),mt})})(h,Jt(re,(ce,me)=>_e(pe,be=>me===be)),R,sp(k))},Ay=(f,h)=>{if(_y(f),f.isResizable(h)){const k=xr(h),_=Yl(k),D=Kl(k);_k(k,f,h,_,D)}},Ak=(f,h)=>{const k=Ii(f.parent(),"."+wy);ft(k,h)},Ck=f=>{Ak(f,h=>{lr(h,"display","none")})},I_=f=>{Ak(f,h=>{lr(h,"display","block")})},Gt=_p("resizer-bar-dragging"),Na=f=>{const h=(()=>{const ce=bg({drag:gd(["xDelta","yDelta","target"])});let me=he.none();const be=(()=>{const Me=bg({drag:gd(["xDelta","yDelta"])});return{mutate:(Ee,et)=>{Me.trigger.drag(Ee,et)},events:Me.registry}})();return be.events.drag.bind(Me=>{me.each(Ee=>{ce.trigger.drag(Me.xDelta,Me.yDelta,Ee)})}),{assign:Me=>{me=he.some(Me)},get:()=>me,mutate:be.mutate,events:ce.registry}})(),k=((ce,me={})=>{var be;return((Me,Ee,et)=>{let mt=!1;const _t=bg({start:gd([]),stop:gd([])}),gt=gv(),Ot=()=>{To.stop(),gt.isOn()&&(gt.off(),_t.trigger.stop())},It=((Oo,Kn)=>{let $o=null;const gn=()=>{Oe($o)||(clearTimeout($o),$o=null)};return{cancel:gn,throttle:(...cn)=>{gn(),$o=setTimeout(()=>{$o=null,Oo.apply(null,cn)},200)}}})(Ot);gt.events.move.bind(Oo=>{Ee.mutate(Me,Oo.info)});const Zt=Oo=>(...Kn)=>{mt&&Oo.apply(null,Kn)},To=Ee.sink(xy({forceDrop:Ot,drop:Zt(Ot),move:Zt(Oo=>{It.cancel(),gt.onEvent(Oo,Ee)}),delayDrop:Zt(It.throttle)}),et);return{element:To.element,go:Oo=>{To.start(Oo),gt.on(),_t.trigger.start()},on:()=>{mt=!0},off:()=>{mt=!1},isActive:()=>mt,destroy:()=>{To.destroy()},events:_t.registry}})(ce,(be=me.mode)!==null&&be!==void 0?be:Zc,me)})(h,{});let _=he.none();const D=(ce,me)=>he.from(Jo(ce,me));h.events.drag.bind(ce=>{D(ce.target,"data-row").each(me=>{const be=Ln(ce.target,"top");lr(ce.target,"top",be+ce.yDelta+"px")}),D(ce.target,"data-column").each(me=>{const be=Ln(ce.target,"left");lr(ce.target,"left",be+ce.xDelta+"px")})});const R=(ce,me)=>Ln(ce,me)-vi(ce,"data-initial-"+me,0);k.events.stop.bind(()=>{h.get().each(ce=>{_.each(me=>{D(ce,"data-row").each(be=>{const Me=R(ce,"top");uo(ce,"data-initial-top"),pe.trigger.adjustHeight(me,Me,parseInt(be,10))}),D(ce,"data-column").each(be=>{const Me=R(ce,"left");uo(ce,"data-initial-left"),pe.trigger.adjustWidth(me,Me,parseInt(be,10))}),Ay(f,me)})})});const L=(ce,me)=>{pe.trigger.startAdjust(),h.assign(ce),wn(ce,"data-initial-"+me,Ln(ce,me)),_f(ce,Gt),lr(ce,"opacity","0.2"),k.go(f.parent())},Z=vm(f.parent(),"mousedown",ce=>{var me;me=ce.target,Ih(me,pv)&&L(ce.target,"top"),(be=>Ih(be,Uh))(ce.target)&&L(ce.target,"left")}),G=ce=>Jn(ce,f.view()),re=vm(f.view(),"mouseover",ce=>{var me;(me=ce.target,ir(me,"table",G).filter(oo)).fold(()=>{yr(ce.target)&&_y(f)},be=>{k.isActive()&&(_=he.some(be),Ay(f,be))})}),pe=bg({adjustHeight:gd(["table","delta","row"]),adjustWidth:gd(["table","delta","column"]),startAdjust:gd([])});return{destroy:()=>{Z.unbind(),re.unbind(),k.destroy(),_y(f)},refresh:ce=>{Ay(f,ce)},on:k.on,off:k.off,hideBars:We(Ck,f),showBars:We(I_,f),events:pe.registry}},Ap=(f,h,k)=>{const _=ko,D=Fi,R=Na(f),L=bg({beforeResize:gd(["table","type"]),afterResize:gd(["table","type"]),startDrag:gd([])});return R.events.adjustHeight.bind(Z=>{const G=Z.table;L.trigger.beforeResize(G,"row"),((re,pe,ce,me)=>{const be=xr(re),Me=((gt,Ot,It)=>sr(gt,Ot,It,Nl,Zt=>Zt.getOrThunk(fe)))(be,re,me),Ee=O(Me,(gt,Ot)=>ce===Ot?Math.max(pe+gt,fe()):gt),et=S_(be,Ee),mt=((gt,Ot)=>O(gt.all,(It,Zt)=>({element:It.element,height:Ot[Zt]})))(be,Ee);ft(mt,gt=>{Ju(gt.element,gt.height)}),ft(et,gt=>{Ju(gt.element,gt.height)});const _t=kn(Ee,(gt,Ot)=>gt+Ot,0);Ju(re,_t)})(G,_.delta(Z.delta,G),Z.row,_),L.trigger.afterResize(G,"row")}),R.events.startAdjust.bind(Z=>{L.trigger.startDrag()}),R.events.adjustWidth.bind(Z=>{const G=Z.table;L.trigger.beforeResize(G,"col");const re=D.delta(Z.delta,G),pe=k(G);fh(G,re,Z.column,h,pe),L.trigger.afterResize(G,"col")}),{on:R.on,off:R.off,refreshBars:R.refresh,hideBars:R.hideBars,showBars:R.showBars,destroy:R.destroy,events:L.registry}},Ya=f=>rt(f)&&f.nodeName==="TABLE",km="bar-",Cp=f=>Jo(f,"data-mce-resize")!=="false",Cy=f=>{const h=hm(),k=hm(),_=hm();let D,R;const L=G=>gr(f,G),Z=()=>aa(f)?ol():qb();return f.on("init",()=>{const G=((re,pe)=>re.inline?((ce,me,be)=>({parent:Ue(me),view:Ue(ce),origin:Ue(Dl(0,0)),isResizable:be}))(vt.fromDom(re.getBody()),(()=>{const ce=vt.fromTag("div");return El(ce,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),_s($u(vt.fromDom(document)),ce),ce})(),pe):((ce,me)=>{const be=jr(ce)?(Me=>vt.fromDom(Ki(Me).dom.documentElement))(ce):ce;return{parent:Ue(be),view:Ue(ce),origin:Ue(Dl(0,0)),isResizable:me}})(vt.fromDom(re.getDoc()),pe))(f,Cp);if(_.set(G),(re=>{const pe=re.options.get("object_resizing");return Vt(pe.split(","),"table")})(f)&&A(f)){const re=Z(),pe=Ap(G,re,L);pe.on(),pe.events.startDrag.bind(ce=>{h.set(f.selection.getRng())}),pe.events.beforeResize.bind(ce=>{const me=ce.table.dom;((be,Me,Ee,et,mt)=>{be.dispatch("ObjectResizeStart",{target:Me,width:Ee,height:et,origin:mt})})(f,me,Wa(me),Rc(me),km+ce.type)}),pe.events.afterResize.bind(ce=>{const me=ce.table,be=me.dom;Qn(me),h.on(Me=>{f.selection.setRng(Me),f.focus()}),((Me,Ee,et,mt,_t)=>{Me.dispatch("ObjectResized",{target:Ee,width:et,height:mt,origin:_t})})(f,be,Wa(be),Rc(be),km+ce.type),f.undoManager.add()}),k.set(pe)}}),f.on("ObjectResizeStart",G=>{const re=G.target;if(Ya(re)){const pe=vt.fromDom(re);ft(f.dom.select(".mce-clonedresizable"),ce=>{f.dom.addClass(ce,"mce-"+Dc(f)+"-columns")}),!K1(pe)&&bu(f)?Su(pe):!Rt(pe)&&Il(f)&&cf(pe),Ra(pe)&&Ho(G.origin,km)&&cf(pe),D=G.width,R=za(f)?"":((ce,me)=>{const be=ce.dom.getStyle(me,"width")||ce.dom.getAttrib(me,"width");return he.from(be).filter(Wr)})(f,re).getOr("")}}),f.on("ObjectResized",G=>{const re=G.target;if(Ya(re)){const pe=vt.fromDom(re),ce=G.origin;Ho(ce,"corner-")&&((me,be,Me)=>{const Ee=ri(be,"e");if(R===""&&cf(me),Me!==D&&R!==""){lr(me,"width",R);const et=Z(),mt=L(me),_t=aa(f)||Ee?(gt=>Gm(gt).columns)(me)-1:0;fh(me,Me-D,_t,et,mt)}else if((et=>/^(\d+(\.\d+)?)%$/.test(et))(R)){const et=parseFloat(R.replace("%",""));lr(me,"width",Me*et/D+"%")}(et=>/^(\d+(\.\d+)?)px$/.test(et))(R)&&(et=>{const mt=xr(et);Br(mt)||ft(yo(et),_t=>{const gt=Ro(_t,"width");lr(_t,"width",gt),uo(_t,"width")})})(me)})(pe,ce,G.width),Qn(pe),Lr(f,pe.dom,di)}}),f.on("SwitchMode",()=>{k.on(G=>{f.mode.isReadOnly()?G.hideBars():G.showBars()})}),f.on("dragstart dragend",G=>{k.on(re=>{G.type==="dragstart"?(re.hideBars(),re.off()):(re.on(),re.showBars())})}),f.on("remove",()=>{k.on(G=>{G.destroy()}),_.on(G=>{((re,pe)=>{re.inline&&_a(pe.parent())})(f,G)})}),{refresh:G=>{k.on(re=>re.refreshBars(vt.fromDom(G)))},hide:()=>{k.on(G=>G.hideBars())},show:()=>{k.on(G=>G.showBars())}}},Hh=f=>{(D=>{const R=D.options.register;R("table_clone_elements",{processor:"string[]"}),R("table_use_colgroups",{processor:"boolean",default:!0}),R("table_header_type",{processor:L=>{const Z=Vt(["section","cells","sectionCells","auto"],L);return Z?{value:L,valid:Z}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),R("table_sizing_mode",{processor:"string",default:"auto"}),R("table_default_attributes",{processor:"object",default:{border:"1"}}),R("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),R("table_column_resizing",{processor:L=>{const Z=Vt(["preservetable","resizetable"],L);return Z?{value:L,valid:Z}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),R("table_resize_bars",{processor:"boolean",default:!0}),R("table_style_by_css",{processor:"boolean",default:!0}),R("table_merge_content_on_paste",{processor:"boolean",default:!0})})(f);const h=Cy(f),k=fv(f,h),_=ui(f,h,k);return hk(f,_),((D,R)=>{const L=ho(D),Z=G=>cg(Yr(D)).bind(re=>Cn(re,L).map(pe=>{const ce=ao(fl(D),pe,re);return G(pe,ce)})).getOr("");qn({mceTableRowType:()=>Z(R.getTableRowType),mceTableCellType:()=>Z(R.getTableCellType),mceTableColType:()=>Z(R.getTableColType)},(G,re)=>D.addQueryValueHandler(re,G))})(f,_),hn(f,_),{getSelectedCells:k.getSelectedCells,clearSelectedCells:k.clearSelectedCells}};le.add("dom",f=>({table:Hh(f)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 2px #fff,0 0 0 1px #006ce7,0 0 0 3px rgba(0,108,231,.25);content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus-visible:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,.3)}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#cce2fa}.tox .tox-collection--toolbar .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#cce2fa}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#cce2fa;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:rgba(34,47,62,.7);display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:#222f3e}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#cce2fa}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 2px rgba(0,108,231,.25);outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #2d6adf;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34,47,62,.2);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 2px rgba(0,108,231,.25);outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 2px rgba(0,108,231,.25);outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{-webkit-appearance:textarea;-moz-appearance:textarea;appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:rgba(0,108,231,.5);border-color:rgba(0,108,231,.5)}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:0 0;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;overflow:hidden;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:transparent;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#cce2fa;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn--active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#cce2fa;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification a{cursor:pointer;text-decoration:underline}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:nth-child(1){animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{display:flex;flex:1 1 auto;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,.8);height:1.14em;vertical-align:-.28em;width:3.6em}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-left:auto;margin-right:-8px;padding-bottom:3px;padding-left:1ch;padding-right:3px}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,.5)}.tox .tox-statusbar__resize-handle:focus svg{background-color:#dee0e2;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px #dee0e2}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:0 0;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;overflow:hidden;padding:0;text-transform:none;width:34px}.tox .tox-tbtn svg{display:block;fill:#222f3e}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#cce2fa;border:0;box-shadow:none}.tox .tox-tbtn:hover{background:#cce2fa;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,.5)}.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,.5)}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{border-radius:3px;display:flex;margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-number-input .tox-input-wrapper{background:#f7f7f7;display:flex;pointer-events:none;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background:#cce2fa}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;width:60px}.tox .tox-number-input input:hover{background:#cce2fa;color:#222f3e}.tox .tox-number-input input:focus{background:#fff;color:#222f3e}.tox .tox-number-input input:disabled{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{background:#f7f7f7;color:#222f3e;height:28px;text-align:center;width:24px}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}.tox .tox-number-input button:focus{background:#cce2fa}.tox .tox-number-input button:hover{background:#cce2fa;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#cce2fa}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,.5)}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0;overflow:hidden}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #cce2fa inset}.tox .tox-split-button:focus{background:#cce2fa;box-shadow:none;color:#222f3e}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,.5)}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:0 0;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0px)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;padding:8px;position:relative}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:0 2px 4px rgba(34,47,62,.3);color:rgba(255,255,255,.75);font-size:14px;font-style:normal;font-weight:400;padding:4px 8px;text-transform:none}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#cce2fa;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#cce2fa;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+.tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+.tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+.tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+.tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:8px 8px 0 8px;position:relative}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;padding:8px 8px 0 8px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);(function(){var le=tinymce.util.Tools.resolve("tinymce.PluginManager");const De=(ft,dt,Jt)=>{const kn=dt==="UL"?"InsertUnorderedList":"InsertOrderedList";ft.execCommand(kn,!1,Jt===!1?null:{"list-style-type":Jt})},de=ft=>{ft.addCommand("ApplyUnorderedListStyle",(dt,Jt)=>{De(ft,"UL",Jt["list-style-type"])}),ft.addCommand("ApplyOrderedListStyle",(dt,Jt)=>{De(ft,"OL",Jt["list-style-type"])})},xe=ft=>dt=>dt.options.get(ft),Le=ft=>{const dt=ft.options.register;dt("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),dt("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},ze=xe("advlist_number_styles"),Tt=xe("advlist_bullet_styles"),Oe=ft=>ft==null,Pe=ft=>!Oe(ft);var je=tinymce.util.Tools.resolve("tinymce.util.Tools");class rt{constructor(dt,Jt){this.tag=dt,this.value=Jt}static some(dt){return new rt(!0,dt)}static none(){return rt.singletonNone}fold(dt,Jt){return this.tag?Jt(this.value):dt()}isSome(){return this.tag}isNone(){return!this.tag}map(dt){return this.tag?rt.some(dt(this.value)):rt.none()}bind(dt){return this.tag?dt(this.value):rt.none()}exists(dt){return this.tag&&dt(this.value)}forall(dt){return!this.tag||dt(this.value)}filter(dt){return!this.tag||dt(this.value)?this:rt.none()}getOr(dt){return this.tag?this.value:dt}or(dt){return this.tag?this:dt}getOrThunk(dt){return this.tag?this.value:dt()}orThunk(dt){return this.tag?this:dt()}getOrDie(dt){if(this.tag)return this.value;throw new Error(dt??"Called getOrDie on None")}static from(dt){return Pe(dt)?rt.some(dt):rt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(dt){this.tag&&dt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}rt.singletonNone=new rt(!1);const zt=(ft,dt,Jt)=>{for(let kn=0,ht=ft.length;kn<ht;kn++){const So=ft[kn];if(dt(So,kn))return rt.some(So);if(Jt(So,kn))break}return rt.none()},ct=ft=>/\btox\-/.test(ft.className),Se=(ft,dt)=>ft.dom.isChildOf(dt,ft.getBody()),Ue=ft=>dt=>Pe(dt)&&ft.test(dt.nodeName),xt=Ue(/^(OL|UL|DL)$/),so=Ue(/^(TH|TD)$/),We=(ft,dt,Jt)=>zt(dt,kn=>xt(kn)&&!ct(kn),so).exists(kn=>kn.nodeName===Jt&&Se(ft,kn)),At=ft=>{const dt=ft.dom.getParent(ft.selection.getNode(),"ol,ul"),Jt=ft.dom.getStyle(dt,"listStyleType");return rt.from(Jt)},Qe=(ft,dt)=>dt!==null&&!ft.dom.isEditable(dt),ae=(ft,dt)=>{const Jt=ft.dom.getParent(dt,"ol,ul,dl");return Qe(ft,Jt)&&ft.selection.isEditable()},Lt=(ft,dt)=>{const Jt=ft.selection.getNode();return dt({parents:ft.dom.getParents(Jt),element:Jt}),ft.on("NodeChange",dt),()=>ft.off("NodeChange",dt)},he=ft=>ft.replace(/\-/g," ").replace(/\b\w/g,dt=>dt.toUpperCase()),tt=ft=>Oe(ft)||ft==="default"?"":ft,sn=(ft,dt)=>Jt=>{const kn=(So,tr)=>{const $t=So.selection.getStart(!0);Jt.setActive(We(So,tr,dt)),Jt.setEnabled(!ae(So,$t)&&So.selection.isEditable())};return Lt(ft,So=>kn(ft,So.parents))},lo=(ft,dt,Jt,kn,ht,So)=>{ft.ui.registry.addSplitButton(dt,{tooltip:Jt,icon:ht==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:tr=>{const $t=je.map(So,is=>{const Ct=ht==="OL"?"num":"bull",Yt=is==="disc"||is==="decimal"?"default":is,hi=tt(is),Mo=he(is);return{type:"choiceitem",value:hi,icon:"list-"+Ct+"-"+Yt,text:Mo}});tr($t)},onAction:()=>ft.execCommand(kn),onItemAction:(tr,$t)=>{De(ft,ht,$t)},select:tr=>At(ft).map(is=>tr===is).getOr(!1),onSetup:sn(ft,ht)})},Vt=(ft,dt,Jt,kn,ht,So)=>{ft.ui.registry.addToggleButton(dt,{active:!1,tooltip:Jt,icon:ht==="OL"?"ordered-list":"unordered-list",onSetup:sn(ft,ht),onAction:()=>ft.queryCommandState(kn)||So===""?ft.execCommand(kn):De(ft,ht,So)})},_e=(ft,dt,Jt,kn,ht,So)=>{So.length>1?lo(ft,dt,Jt,kn,ht,So):Vt(ft,dt,Jt,kn,ht,tt(So[0]))},Je=ft=>{_e(ft,"numlist","Numbered list","InsertOrderedList","OL",ze(ft)),_e(ft,"bullist","Bullet list","InsertUnorderedList","UL",Tt(ft))};var O=()=>{le.add("advlist",ft=>{ft.hasPlugin("lists")?(Le(ft),Je(ft),de(ft)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})};O()})();(function(){var le=tinymce.util.Tools.resolve("tinymce.PluginManager");const De=(Oe,Pe)=>{Oe.focus(),Oe.undoManager.transact(()=>{Oe.setContent(Pe)}),Oe.selection.setCursorLocation(),Oe.nodeChanged()},de=Oe=>Oe.getContent({source_view:!0}),xe=Oe=>{const Pe=de(Oe);Oe.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:Pe},onSubmit:je=>{De(Oe,je.getData().code),je.close()}})},Le=Oe=>{Oe.addCommand("mceCodeEditor",()=>{xe(Oe)})},ze=Oe=>{const Pe=()=>Oe.execCommand("mceCodeEditor");Oe.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:Pe}),Oe.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:Pe})};var Tt=()=>{le.add("code",Oe=>(Le(Oe),ze(Oe),{}))};Tt()})();(function(){var le=tinymce.util.Tools.resolve("tinymce.PluginManager");const De=yt=>St=>yt===St,de=De(null),xe=De(void 0),Le=yt=>yt==null,ze=yt=>!Le(yt),Tt=()=>{},Pe=(yt=>()=>yt)(!1);class je{constructor(St,nt){this.tag=St,this.value=nt}static some(St){return new je(!0,St)}static none(){return je.singletonNone}fold(St,nt){return this.tag?nt(this.value):St()}isSome(){return this.tag}isNone(){return!this.tag}map(St){return this.tag?je.some(St(this.value)):je.none()}bind(St){return this.tag?St(this.value):je.none()}exists(St){return this.tag&&St(this.value)}forall(St){return!this.tag||St(this.value)}filter(St){return!this.tag||St(this.value)?this:je.none()}getOr(St){return this.tag?this.value:St}or(St){return this.tag?this:St}getOrThunk(St){return this.tag?this.value:St()}orThunk(St){return this.tag?this:St()}getOrDie(St){if(this.tag)return this.value;throw new Error(St??"Called getOrDie on None")}static from(St){return ze(St)?je.some(St):je.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(St){this.tag&&St(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}je.singletonNone=new je(!1);const rt=(yt,St)=>{for(let nt=0,go=yt.length;nt<go;nt++){const rn=yt[nt];if(St(rn,nt))return!0}return!1},zt=(yt,St)=>{const nt=yt.length,go=new Array(nt);for(let rn=0;rn<nt;rn++){const Bn=yt[rn];go[rn]=St(Bn,rn)}return go},ct=(yt,St)=>{for(let nt=0,go=yt.length;nt<go;nt++){const rn=yt[nt];St(rn,nt)}},Se=yt=>{let St=yt;return{get:()=>St,set:rn=>{St=rn}}},Ue=(yt,St)=>{let nt=null;const go=()=>{de(nt)||(clearTimeout(nt),nt=null)};return{cancel:go,throttle:(...Bn)=>{go(),nt=setTimeout(()=>{nt=null,yt.apply(null,Bn)},St)}}},xt=(yt,St)=>{yt.insertContent(St)},so=Object.keys,We=Object.hasOwnProperty,At=(yt,St)=>{const nt=so(yt);for(let go=0,rn=nt.length;go<rn;go++){const Bn=nt[go],on=yt[Bn];St(on,Bn)}},Qe=(yt,St)=>ae(yt,(nt,go)=>({k:go,v:St(nt,go)})),ae=(yt,St)=>{const nt={};return At(yt,(go,rn)=>{const Bn=St(go,rn);nt[Bn.k]=Bn.v}),nt},Lt=(yt,St)=>We.call(yt,St),sn=(yt=>(...St)=>{if(St.length===0)throw new Error("Can't merge zero objects");const nt={};for(let go=0;go<St.length;go++){const rn=St[go];for(const Bn in rn)Lt(rn,Bn)&&(nt[Bn]=yt(nt[Bn],rn[Bn]))}return nt})((yt,St)=>St),lo=yt=>{const St=Se(je.none()),nt=()=>St.get().each(yt);return{clear:()=>{nt(),St.set(je.none())},isSet:()=>St.get().isSome(),get:()=>St.get(),set:La=>{nt(),St.set(je.some(La))}}},Vt=()=>{const yt=lo(Tt);return{...yt,on:nt=>yt.get().each(nt)}},_e=(yt,St,nt)=>St===""||yt.length>=St.length&&yt.substr(nt,nt+St.length)===St,Je=(yt,St,nt=0,go)=>{const rn=yt.indexOf(St,nt);return rn!==-1?xe(go)?!0:rn+St.length<=go:!1},O=(yt,St)=>_e(yt,St,0);var ft=tinymce.util.Tools.resolve("tinymce.Resource");const dt="tinymce.plugins.emoticons",Jt=yt=>St=>St.options.get(yt),kn=(yt,St)=>{const nt=yt.options.register;nt("emoticons_database",{processor:"string",default:"emojis"}),nt("emoticons_database_url",{processor:"string",default:`${St}/js/${ht(yt)}${yt.suffix}.js`}),nt("emoticons_database_id",{processor:"string",default:dt}),nt("emoticons_append",{processor:"object",default:{}}),nt("emoticons_images_url",{processor:"string",default:"https://twemoji.maxcdn.com/v/13.0.1/72x72/"})},ht=Jt("emoticons_database"),So=Jt("emoticons_database_url"),tr=Jt("emoticons_database_id"),$t=Jt("emoticons_append"),is=Jt("emoticons_images_url"),Ct="All",Yt={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},hi=(yt,St)=>Lt(yt,St)?yt[St]:St,Mo=yt=>{const St=$t(yt);return Qe(St,nt=>({keywords:[],category:"user",...nt}))},pn=(yt,St,nt)=>{const go=Vt(),rn=Vt(),Bn=is(yt),on=ws=>O(ws.char,"<img")?ws.char.replace(/src="([^"]+)"/,(wn,Zr)=>`src="${Bn}${Zr}"`):ws.char,La=ws=>{const wn={},Zr=[];At(ws,(Jo,Qt)=>{const uo={title:Qt,keywords:Jo.keywords,char:on(Jo),category:hi(Yt,Jo.category)},Cr=wn[uo.category]!==void 0?wn[uo.category]:[];wn[uo.category]=Cr.concat([uo]),Zr.push(uo)}),go.set(wn),rn.set(Zr)};yt.on("init",()=>{ft.load(nt,St).then(ws=>{const wn=Mo(yt);La(sn(ws,wn))},ws=>{console.log(`Failed to load emojis: ${ws}`),go.set({}),rn.set([])})});const fs=ws=>ws===Ct?ln():go.get().bind(wn=>je.from(wn[ws])).getOr([]),ln=()=>rn.get().getOr([]),jr=()=>[Ct].concat(so(go.get().getOr({}))),ea=()=>Ns()?Promise.resolve(!0):new Promise((ws,wn)=>{let Zr=15;const Jo=setInterval(()=>{Ns()?(clearInterval(Jo),ws(!0)):(Zr--,Zr<0&&(console.log("Could not load emojis from url: "+St),clearInterval(Jo),wn(!1)))},100)}),Ns=()=>go.isSet()&&rn.isSet();return{listCategories:jr,hasLoaded:Ns,waitForLoad:ea,listAll:ln,listCategory:fs}},H=(yt,St)=>Je(yt.title.toLowerCase(),St)||rt(yt.keywords,nt=>Je(nt.toLowerCase(),St)),Un=(yt,St,nt)=>{const go=[],rn=St.toLowerCase(),Bn=nt.fold(()=>Pe,on=>La=>La>=on);for(let on=0;on<yt.length&&!((St.length===0||H(yt[on],rn))&&(go.push({value:yt[on].char,text:yt[on].title,icon:yt[on].char}),Bn(go.length)));on++);return go},ti="pattern",qn=(yt,St)=>{const nt={pattern:"",results:Un(St.listAll(),"",je.some(300))},go=Se(Ct),rn=jr=>{const ea=jr.getData(),Ns=go.get(),ws=St.listCategory(Ns),wn=Un(ws,ea[ti],Ns===Ct?je.some(300):je.none());jr.setData({results:wn})},Bn=Ue(jr=>{rn(jr)},200),on={label:"Search",type:"input",name:ti},La={type:"collection",name:"results"},fs=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:zt(St.listCategories(),ea=>({title:ea,name:ea,items:[on,La]}))},initialData:nt,onTabChange:(ea,Ns)=>{go.set(Ns.newTabName),Bn.throttle(ea)},onChange:Bn.throttle,onAction:(ea,Ns)=>{Ns.name==="results"&&(xt(yt,Ns.value),ea.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),ln=yt.windowManager.open(fs());ln.focus(ti),St.hasLoaded()||(ln.block("Loading emojis..."),St.waitForLoad().then(()=>{ln.redial(fs()),Bn.throttle(ln),ln.focus(ti),ln.unblock()}).catch(jr=>{ln.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),ln.focus(ti),ln.unblock()}))},Ws=(yt,St)=>{yt.addCommand("mceEmoticons",()=>qn(yt,St))},Al=yt=>{yt.on("PreInit",()=>{yt.parser.addAttributeFilter("data-emoticon",St=>{ct(St,nt=>{nt.attr("data-mce-resize","false"),nt.attr("data-mce-placeholder","1")})})})},Nn=(yt,St)=>{yt.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(nt,go)=>St.waitForLoad().then(()=>{const rn=St.listAll();return Un(rn,nt,je.some(go))}),onAction:(nt,go,rn)=>{yt.selection.setRng(go),yt.insertContent(rn),nt.hide()}})},ts=yt=>St=>{const nt=()=>{St.setEnabled(yt.selection.isEditable())};return yt.on("NodeChange",nt),nt(),()=>{yt.off("NodeChange",nt)}},Zo=yt=>{const St=()=>yt.execCommand("mceEmoticons");yt.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:St,onSetup:ts(yt)}),yt.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:St,onSetup:ts(yt)})};var ut=()=>{le.add("emoticons",(yt,St)=>{kn(yt,St);const nt=So(yt),go=tr(yt),rn=pn(yt,nt,go);Ws(yt,rn),Zo(yt),Nn(yt,rn),Al(yt)})};ut()})();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:!1,category:"flags"}});(function(){var le=tinymce.util.Tools.resolve("tinymce.PluginManager");const De=(W,fe,Ae)=>{var Ve;return Ae(W,fe.prototype)?!0:((Ve=W.constructor)===null||Ve===void 0?void 0:Ve.name)===fe.name},de=W=>{const fe=typeof W;return W===null?"null":fe==="object"&&Array.isArray(W)?"array":fe==="object"&&De(W,String,(Ae,Ve)=>Ve.isPrototypeOf(Ae))?"string":fe},xe=W=>fe=>de(fe)===W,Le=W=>fe=>typeof fe===W,ze=W=>fe=>W===fe,Tt=xe("string"),Oe=xe("object"),Pe=xe("array"),je=ze(null),rt=Le("boolean"),zt=W=>W==null,ct=W=>!zt(W),Se=Le("function"),Ue=(W,fe)=>{if(Pe(W)){for(let Ae=0,Ve=W.length;Ae<Ve;++Ae)if(!fe(W[Ae]))return!1;return!0}return!1},xt=()=>{},so=W=>()=>W,We=(W,fe)=>W===fe;class At{constructor(fe,Ae){this.tag=fe,this.value=Ae}static some(fe){return new At(!0,fe)}static none(){return At.singletonNone}fold(fe,Ae){return this.tag?Ae(this.value):fe()}isSome(){return this.tag}isNone(){return!this.tag}map(fe){return this.tag?At.some(fe(this.value)):At.none()}bind(fe){return this.tag?fe(this.value):At.none()}exists(fe){return this.tag&&fe(this.value)}forall(fe){return!this.tag||fe(this.value)}filter(fe){return!this.tag||fe(this.value)?this:At.none()}getOr(fe){return this.tag?this.value:fe}or(fe){return this.tag?this:fe}getOrThunk(fe){return this.tag?this.value:fe()}orThunk(fe){return this.tag?this:fe()}getOrDie(fe){if(this.tag)return this.value;throw new Error(fe??"Called getOrDie on None")}static from(fe){return ct(fe)?At.some(fe):At.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(fe){this.tag&&fe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}At.singletonNone=new At(!1);const Qe=Array.prototype.indexOf,ae=Array.prototype.push,Lt=(W,fe)=>Qe.call(W,fe),he=(W,fe)=>Lt(W,fe)>-1,tt=(W,fe)=>{const Ae=W.length,Ve=new Array(Ae);for(let Dt=0;Dt<Ae;Dt++){const yo=W[Dt];Ve[Dt]=fe(yo,Dt)}return Ve},sn=(W,fe)=>{for(let Ae=0,Ve=W.length;Ae<Ve;Ae++){const Dt=W[Ae];fe(Dt,Ae)}},lo=(W,fe,Ae)=>(sn(W,(Ve,Dt)=>{Ae=fe(Ae,Ve,Dt)}),Ae),Vt=W=>{const fe=[];for(let Ae=0,Ve=W.length;Ae<Ve;++Ae){if(!Pe(W[Ae]))throw new Error("Arr.flatten item "+Ae+" was not an array, input: "+W);ae.apply(fe,W[Ae])}return fe},_e=(W,fe)=>Vt(tt(W,fe)),Je=(W,fe)=>{for(let Ae=0;Ae<W.length;Ae++){const Ve=fe(W[Ae],Ae);if(Ve.isSome())return Ve}return At.none()},O=(W,fe,Ae=We)=>W.exists(Ve=>Ae(Ve,fe)),ft=W=>{const fe=[],Ae=Ve=>{fe.push(Ve)};for(let Ve=0;Ve<W.length;Ve++)W[Ve].each(Ae);return fe},dt=(W,fe)=>W?At.some(fe):At.none(),Jt=W=>fe=>fe.options.get(W),kn=W=>{const fe=W.options.register;fe("link_assume_external_targets",{processor:Ae=>{const Ve=Tt(Ae)||rt(Ae);return Ve?Ae===!0?{value:1,valid:Ve}:Ae==="http"||Ae==="https"?{value:Ae,valid:Ve}:{value:0,valid:Ve}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),fe("link_context_toolbar",{processor:"boolean",default:!1}),fe("link_list",{processor:Ae=>Tt(Ae)||Se(Ae)||Ue(Ae,Oe)}),fe("link_default_target",{processor:"string"}),fe("link_default_protocol",{processor:"string",default:"https"}),fe("link_target_list",{processor:Ae=>rt(Ae)||Ue(Ae,Oe),default:!0}),fe("link_rel_list",{processor:"object[]",default:[]}),fe("link_class_list",{processor:"object[]",default:[]}),fe("link_title",{processor:"boolean",default:!0}),fe("allow_unsafe_link_target",{processor:"boolean",default:!1}),fe("link_quicklink",{processor:"boolean",default:!1})},ht=Jt("link_assume_external_targets"),So=Jt("link_context_toolbar"),tr=Jt("link_list"),$t=Jt("link_default_target"),is=Jt("link_default_protocol"),Ct=Jt("link_target_list"),Yt=Jt("link_rel_list"),hi=Jt("link_class_list"),Mo=Jt("link_title"),pn=Jt("allow_unsafe_link_target"),H=Jt("link_quicklink");var Un=tinymce.util.Tools.resolve("tinymce.util.Tools");const ti=W=>Tt(W.value)?W.value:"",qn=W=>Tt(W.text)?W.text:Tt(W.title)?W.title:"",Ws=(W,fe)=>{const Ae=[];return Un.each(W,Ve=>{const Dt=qn(Ve);if(Ve.menu!==void 0){const yo=Ws(Ve.menu,fe);Ae.push({text:Dt,items:yo})}else{const yo=fe(Ve);Ae.push({text:Dt,value:yo})}}),Ae},Al=(W=ti)=>fe=>At.from(fe).map(Ae=>Ws(Ae,W)),Zo={sanitize:W=>Al(ti)(W),sanitizeWith:Al,createUi:(W,fe)=>Ae=>({name:W,type:"listbox",label:fe,items:Ae}),getValue:ti},ut=Object.keys,yt=Object.hasOwnProperty,St=(W,fe)=>{const Ae=ut(W);for(let Ve=0,Dt=Ae.length;Ve<Dt;Ve++){const yo=Ae[Ve],qo=W[yo];fe(qo,yo)}},nt=W=>(fe,Ae)=>{W[Ae]=fe},go=(W,fe,Ae,Ve)=>{St(W,(Dt,yo)=>{(fe(Dt,yo)?Ae:Ve)(Dt,yo)})},rn=(W,fe)=>{const Ae={};return go(W,fe,nt(Ae),xt),Ae},Bn=(W,fe)=>yt.call(W,fe),on=(W,fe)=>Bn(W,fe)&&W[fe]!==void 0&&W[fe]!==null;var La=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),fs=tinymce.util.Tools.resolve("tinymce.util.URI");const ln=W=>ct(W)&&W.nodeName.toLowerCase()==="a",jr=W=>ln(W)&&!!ws(W),ea=(W,fe)=>{if(W.collapsed)return[];{const Ae=W.cloneContents(),Ve=Ae.firstChild,Dt=new La(Ve,Ae),yo=[];let qo=Ve;do fe(qo)&&yo.push(qo);while(qo=Dt.next());return yo}},Ns=W=>/^\w+:/i.test(W),ws=W=>{var fe,Ae;return(Ae=(fe=W.getAttribute("data-mce-href"))!==null&&fe!==void 0?fe:W.getAttribute("href"))!==null&&Ae!==void 0?Ae:""},wn=(W,fe)=>{const Ae=["noopener"],Ve=W?W.split(/\s+/):[],Dt=_n=>Un.trim(_n.sort().join(" ")),yo=_n=>(_n=qo(_n),_n.length>0?_n.concat(Ae):Ae),qo=_n=>_n.filter(Ls=>Un.inArray(Ae,Ls)===-1),Cn=fe?yo(Ve):qo(Ve);return Cn.length>0?Dt(Cn):""},Zr=W=>W.replace(/\uFEFF/g,""),Jo=(W,fe)=>(fe=fe||Cr(W.selection.getRng())[0]||W.selection.getNode(),Fa(fe)?At.from(W.dom.select("a[href]",fe)[0]):At.from(W.dom.getParent(fe,"a[href]"))),Qt=(W,fe)=>Jo(W,fe).isSome(),uo=(W,fe)=>{const Ae=fe.fold(()=>W.getContent({format:"text"}),Ve=>Ve.innerText||Ve.textContent||"");return Zr(Ae)},Cr=W=>ea(W,jr),Pa=W=>Un.grep(W,jr),vt=W=>Pa(W).length>0,wa=W=>Cr(W).length>0,An=W=>{const fe=W.schema.getTextInlineElements(),Ae=yo=>yo.nodeType===1&&!ln(yo)&&!Bn(fe,yo.nodeName.toLowerCase());if(Jo(W).exists(yo=>yo.hasAttribute("data-mce-block")))return!1;const Dt=W.selection.getRng();return Dt.collapsed?!0:ea(Dt,Ae).length===0},Fa=W=>ct(W)&&W.nodeName==="FIGURE"&&/\bimage\b/i.test(W.className),Jn=W=>lo(["title","rel","class","target"],(Ae,Ve)=>(W[Ve].each(Dt=>{Ae[Ve]=Dt.length>0?Dt:null}),Ae),{href:W.href}),ed=(W,fe)=>(fe==="http"||fe==="https")&&!Ns(W)?fe+"://"+W:W,Sr=(W,fe)=>{const Ae={...fe};if(Yt(W).length===0&&!pn(W)){const Ve=wn(Ae.rel,Ae.target==="_blank");Ae.rel=Ve||null}return At.from(Ae.target).isNone()&&Ct(W)===!1&&(Ae.target=$t(W)),Ae.href=ed(Ae.href,ht(W)),Ae},Cl=(W,fe,Ae,Ve)=>{Ae.each(Dt=>{Bn(fe,"innerText")?fe.innerText=Dt:fe.textContent=Dt}),W.dom.setAttribs(fe,Ve),W.selection.select(fe)},Ki=(W,fe,Ae,Ve)=>{const Dt=W.dom;Fa(fe)?Ht(Dt,fe,Ve):Ae.fold(()=>{W.execCommand("mceInsertLink",!1,Ve)},yo=>{W.insertContent(Dt.createHTML("a",Ve,Dt.encode(yo)))})},oi=(W,fe,Ae)=>{const Ve=W.selection.getNode(),Dt=Jo(W,Ve),yo=Sr(W,Jn(Ae));W.undoManager.transact(()=>{Ae.href===fe.href&&fe.attach(),Dt.fold(()=>{Ki(W,Ve,Ae.text,yo)},qo=>{W.focus(),Cl(W,qo,Ae.text,yo)})})},cl=W=>{const fe=W.dom,Ae=W.selection,Ve=Ae.getBookmark(),Dt=Ae.getRng().cloneRange(),yo=fe.getParent(Dt.startContainer,"a[href]",W.getBody()),qo=fe.getParent(Dt.endContainer,"a[href]",W.getBody());yo&&Dt.setStartBefore(yo),qo&&Dt.setEndAfter(qo),Ae.setRng(Dt),W.execCommand("unlink"),Ae.moveToBookmark(Ve)},hs=W=>{W.undoManager.transact(()=>{const fe=W.selection.getNode();Fa(fe)?sc(W,fe):cl(W),W.focus()})},Lo=W=>{const{class:fe,href:Ae,rel:Ve,target:Dt,text:yo,title:qo}=W;return rn({class:fe.getOrNull(),href:Ae,rel:Ve.getOrNull(),target:Dt.getOrNull(),text:yo.getOrNull(),title:qo.getOrNull()},(Cn,_n)=>je(Cn)===!1)},ni=(W,fe)=>{const Ae=W.options.get,Ve={allow_html_data_urls:Ae("allow_html_data_urls"),allow_script_urls:Ae("allow_script_urls"),allow_svg_data_urls:Ae("allow_svg_data_urls")},Dt=fe.href;return{...fe,href:fs.isDomSafe(Dt,"a",Ve)?Dt:""}},bi=(W,fe,Ae)=>{const Ve=ni(W,Ae);W.hasPlugin("rtc",!0)?W.execCommand("createlink",!1,Lo(Ve)):oi(W,fe,Ve)},Ni=W=>{W.hasPlugin("rtc",!0)?W.execCommand("unlink"):hs(W)},sc=(W,fe)=>{var Ae;const Ve=W.dom.select("img",fe)[0];if(Ve){const Dt=W.dom.getParents(Ve,"a[href]",fe)[0];Dt&&((Ae=Dt.parentNode)===null||Ae===void 0||Ae.insertBefore(Ve,Dt),W.dom.remove(Dt))}},Ht=(W,fe,Ae)=>{var Ve;const Dt=W.select("img",fe)[0];if(Dt){const yo=W.create("a",Ae);(Ve=Dt.parentNode)===null||Ve===void 0||Ve.insertBefore(yo,Dt),yo.appendChild(Dt)}},Cd=W=>on(W,"items"),_s=(W,fe)=>Je(fe,Ae=>Cd(Ae)?_s(W,Ae.items):dt(Ae.value===W,Ae)),ou=(W,fe,Ae,Ve)=>{const Dt=Ve[fe],yo=W.length>0;return Dt!==void 0?_s(Dt,Ae).map(qo=>({url:{value:qo.value,meta:{text:yo?W:qo.text,attach:xt}},text:yo?W:qo.text})):At.none()},Sd=(W,fe)=>fe==="link"?W.link:fe==="anchor"?W.anchor:At.none(),$l={init:(W,fe)=>{const Ae={text:W.text,title:W.title},Ve=_n=>{var Ls;return dt(Ae.title.length<=0,At.from((Ls=_n.meta)===null||Ls===void 0?void 0:Ls.title).getOr(""))},Dt=_n=>{var Ls;return dt(Ae.text.length<=0,At.from((Ls=_n.meta)===null||Ls===void 0?void 0:Ls.text).getOr(_n.value))},yo=_n=>{const Ls=Dt(_n.url),ns=Ve(_n.url);return Ls.isSome()||ns.isSome()?At.some({...Ls.map(vs=>({text:vs})).getOr({}),...ns.map(vs=>({title:vs})).getOr({})}):At.none()},qo=(_n,Ls)=>{const ns=Sd(fe,Ls).getOr([]);return ou(Ae.text,Ls,ns,_n)};return{onChange:(_n,Ls)=>{const ns=Ls.name;return ns==="url"?yo(_n()):he(["anchor","link"],ns)?qo(_n(),ns):((ns==="text"||ns==="title")&&(Ae[ns]=_n()[ns]),At.none())}}},getDelta:ou};var _a=tinymce.util.Tools.resolve("tinymce.util.Delay");const br=(W,fe,Ae)=>{const Ve=W.selection.getRng();_a.setEditorTimeout(W,()=>{W.windowManager.confirm(fe,Dt=>{W.selection.setRng(Ve),Ae(Dt)})})},si=W=>{const fe=W.href;return fe.indexOf("@")>0&&fe.indexOf("/")===-1&&fe.indexOf("mailto:")===-1?At.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Ve=>({...Ve,href:"mailto:"+fe})}):At.none()},nu=(W,fe)=>Ae=>{const Ve=Ae.href;return W===1&&!Ns(Ve)||W===0&&/^\s*www(\.|\d\.)/i.test(Ve)?At.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${fe}:// prefix?`,preprocess:yo=>({...yo,href:fe+"://"+Ve})}):At.none()},Wu={preprocess:(W,fe)=>Je([si,nu(ht(W),is(W))],Ae=>Ae(fe)).fold(()=>Promise.resolve(fe),Ae=>new Promise(Ve=>{br(W,Ae.message,Dt=>{Ve(Dt?Ae.preprocess(fe):fe)})}))},Ed={getAnchors:W=>{const fe=W.dom.select("a:not([href])"),Ae=_e(fe,Ve=>{const Dt=Ve.name||Ve.id;return Dt?[{text:Dt,value:"#"+Dt}]:[]});return Ae.length>0?At.some([{text:"None",value:""}].concat(Ae)):At.none()}},or={getClasses:W=>{const fe=hi(W);return fe.length>0?Zo.sanitize(fe):At.none()}},da=W=>{try{return At.some(JSON.parse(W))}catch{return At.none()}},su={getLinks:W=>{const fe=Ve=>W.convertURL(Ve.value||Ve.url||"","href"),Ae=tr(W);return new Promise(Ve=>{Tt(Ae)?fetch(Ae).then(Dt=>Dt.ok?Dt.text().then(da):Promise.reject()).then(Ve,()=>Ve(At.none())):Se(Ae)?Ae(Dt=>Ve(At.some(Dt))):Ve(At.from(Ae))}).then(Ve=>Ve.bind(Zo.sanitizeWith(fe)).map(Dt=>Dt.length>0?[{text:"None",value:""}].concat(Dt):Dt))}},Mi={getRels:(W,fe)=>{const Ae=Yt(W);if(Ae.length>0){const Ve=O(fe,"_blank"),Dt=pn(W)===!1,yo=Cn=>wn(Zo.getValue(Cn),Ve);return(Dt?Zo.sanitizeWith(yo):Zo.sanitize)(Ae)}return At.none()}},yr=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],os={getTargets:W=>{const fe=Ct(W);return Pe(fe)?Zo.sanitize(fe).orThunk(()=>At.some(yr)):fe===!1?At.none():At.some(yr)}},ds=(W,fe,Ae)=>{const Ve=W.getAttrib(fe,Ae);return Ve!==null&&Ve.length>0?At.some(Ve):At.none()},Yi=(W,fe)=>{const Ae=W.dom,Dt=An(W)?At.some(uo(W.selection,fe)):At.none(),yo=fe.bind(ns=>At.from(Ae.getAttrib(ns,"href"))),qo=fe.bind(ns=>At.from(Ae.getAttrib(ns,"target"))),Cn=fe.bind(ns=>ds(Ae,ns,"rel")),_n=fe.bind(ns=>ds(Ae,ns,"class")),Ls=fe.bind(ns=>ds(Ae,ns,"title"));return{url:yo,text:Dt,title:Ls,target:qo,rel:Cn,linkClass:_n}},ac={collect:(W,fe)=>su.getLinks(W).then(Ae=>{const Ve=Yi(W,fe);return{anchor:Ve,catalogs:{targets:os.getTargets(W),rels:Mi.getRels(W,Ve.target),classes:or.getClasses(W),anchor:Ed.getAnchors(W),link:Ae},optNode:fe,flags:{titleEnabled:Mo(W)}}})},ic=(W,fe)=>Ae=>{const Ve=Ae.getData();if(!Ve.url.value){Ni(W),Ae.close();return}const Dt=Cn=>At.from(Ve[Cn]).filter(_n=>!O(fe.anchor[Cn],_n)),yo={href:Ve.url.value,text:Dt("text"),target:Dt("target"),rel:Dt("rel"),class:Dt("linkClass"),title:Dt("title")},qo={href:Ve.url.value,attach:Ve.url.meta!==void 0&&Ve.url.meta.attach?Ve.url.meta.attach:xt};Wu.preprocess(W,yo).then(Cn=>{bi(W,qo,Cn)}),Ae.close()},Ac=W=>{const fe=Jo(W);return ac.collect(W,fe)},ta=(W,fe)=>{const Ae=W.anchor,Ve=Ae.url.getOr("");return{url:{value:Ve,meta:{original:{value:Ve}}},text:Ae.text.getOr(""),title:Ae.title.getOr(""),anchor:Ve,link:Ve,rel:Ae.rel.getOr(""),target:Ae.target.or(fe).getOr(""),linkClass:Ae.linkClass.getOr("")}},nr=(W,fe,Ae)=>{const Ve=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],Dt=W.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),yo=W.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],qo=At.from($t(Ae)),Cn=ta(W,qo),_n=W.catalogs,Ls=$l.init(Cn,_n);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Vt([Ve,Dt,yo,ft([_n.anchor.map(Zo.createUi("anchor","Anchors")),_n.rels.map(Zo.createUi("rel","Rel")),_n.targets.map(Zo.createUi("target","Open link in...")),_n.link.map(Zo.createUi("link","Link list")),_n.classes.map(Zo.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Cn,onChange:(vs,{name:$r})=>{Ls.onChange(vs.getData,{name:$r}).each(ki=>{vs.setData(ki)})},onSubmit:fe}},oa=W=>{Ac(W).then(Ae=>{const Ve=ic(W,Ae);return nr(Ae,Ve,W)}).then(Ae=>{W.windowManager.open(Ae)})},ir=W=>{W.addCommand("mceLink",(fe,Ae)=>{(Ae==null?void 0:Ae.dialog)===!0||!H(W)?oa(W):W.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})};var Bi=tinymce.util.Tools.resolve("tinymce.util.VK");const gs=(W,fe)=>{document.body.appendChild(W),W.dispatchEvent(fe),document.body.removeChild(W)},Aa=W=>{const fe=document.createElement("a");fe.target="_blank",fe.href=W,fe.rel="noreferrer noopener";const Ae=document.createEvent("MouseEvents");Ae.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),gs(fe,Ae)},Ha=(W,fe)=>W.dom.getParent(fe,"a[href]"),ua=W=>Ha(W,W.selection.getStart()),Ho=W=>W.altKey===!0&&W.shiftKey===!1&&W.ctrlKey===!1&&W.metaKey===!1,ri=(W,fe)=>{if(fe){const Ae=ws(fe);if(/^#/.test(Ae)){const Ve=W.dom.select(Ae);Ve.length&&W.selection.scrollIntoView(Ve[0],!0)}else Aa(fe.href)}},qr=W=>()=>{W.execCommand("mceLink",!1,{dialog:!0})},Wr=W=>()=>{ri(W,ua(W))},yi=W=>{W.on("click",fe=>{const Ae=Ha(W,fe.target);Ae&&Bi.metaKeyPressed(fe)&&(fe.preventDefault(),ri(W,Ae))}),W.on("keydown",fe=>{if(!fe.isDefaultPrevented()&&fe.keyCode===13&&Ho(fe)){const Ae=ua(W);Ae&&(fe.preventDefault(),ri(W,Ae))}})},As=(W,fe)=>(W.on("NodeChange",fe),()=>W.off("NodeChange",fe)),lr=W=>fe=>{const Ae=()=>{fe.setActive(!W.mode.isReadOnly()&&Qt(W,W.selection.getNode())),fe.setEnabled(W.selection.isEditable())};return Ae(),As(W,Ae)},El=W=>fe=>{const Ae=()=>{fe.setEnabled(W.selection.isEditable())};return Ae(),As(W,Ae)},Ro=W=>(W.selection.isCollapsed()?Pa(W.dom.getParents(W.selection.getStart())):Cr(W.selection.getRng())).length===1,Tl=W=>fe=>{const Ae=()=>fe.setEnabled(Ro(W));return Ae(),As(W,Ae)},ai=W=>fe=>{const Ae=yo=>vt(yo)||wa(W.selection.getRng()),Ve=W.dom.getParents(W.selection.getStart()),Dt=yo=>{fe.setEnabled(Ae(yo)&&W.selection.isEditable())};return Dt(Ve),As(W,yo=>Dt(yo.parents))},Ys=W=>{W.addShortcut("Meta+K","",()=>{W.execCommand("mceLink")})},vi=W=>{W.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:qr(W),onSetup:lr(W)}),W.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Wr(W),onSetup:Tl(W)}),W.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Ni(W),onSetup:ai(W)})},vr=W=>{W.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Wr(W),onSetup:Tl(W)}),W.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onSetup:El(W),onAction:qr(W)}),W.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Ni(W),onSetup:ai(W)})},Cc=W=>{const fe="link unlink openlink",Ae="link";W.ui.registry.addContextMenu("link",{update:Ve=>W.dom.isEditable(Ve)?vt(W.dom.getParents(Ve,"a"))?fe:Ae:""})},au=W=>{const fe=Dt=>{Dt.selection.collapse(!1)},Ae=Dt=>{const yo=W.selection.getNode();return Dt.setEnabled(Qt(W,yo)),xt},Ve=Dt=>{const yo=Jo(W),qo=An(W);if(yo.isNone()&&qo){const Cn=uo(W.selection,yo);return dt(Cn.length===0,Dt)}else return At.none()};W.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:lr(W)},label:"Link",predicate:Dt=>So(W)&&Qt(W,Dt),initValue:()=>Jo(W).fold(so(""),ws),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Dt=>{const yo=W.selection.getNode();return Dt.setActive(Qt(W,yo)),lr(W)(Dt)},onAction:Dt=>{const yo=Dt.getValue(),qo=Ve(yo);bi(W,{href:yo,attach:xt},{href:yo,text:qo,title:At.none(),rel:At.none(),target:At.none(),class:At.none()}),fe(W),Dt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Ae,onAction:Dt=>{Ni(W),Dt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Ae,onAction:Dt=>{Wr(W)(),Dt.hide()}}]})};var Ln=()=>{le.add("link",W=>{kn(W),vi(W),vr(W),Cc(W),au(W),yi(W),ir(W),Ys(W)})};Ln()})();(function(){var le=tinymce.util.Tools.resolve("tinymce.PluginManager");const De=(A,N,j)=>{var ue;return j(A,N.prototype)?!0:((ue=A.constructor)===null||ue===void 0?void 0:ue.name)===N.name},de=A=>{const N=typeof A;return A===null?"null":N==="object"&&Array.isArray(A)?"array":N==="object"&&De(A,String,(j,ue)=>ue.isPrototypeOf(j))?"string":N},xe=A=>N=>de(N)===A,Le=A=>N=>typeof N===A,ze=xe("string"),Tt=xe("object"),Oe=xe("array"),Pe=Le("boolean"),je=A=>A==null,rt=A=>!je(A),zt=Le("function"),ct=Le("number"),Se=()=>{},Ue=(A,N)=>j=>A(N(j)),xt=A=>()=>A,so=(A,N)=>A===N;function We(A,...N){return(...j)=>{const ue=N.concat(j);return A.apply(null,ue)}}const At=A=>N=>!A(N),Qe=xt(!1);class ae{constructor(N,j){this.tag=N,this.value=j}static some(N){return new ae(!0,N)}static none(){return ae.singletonNone}fold(N,j){return this.tag?j(this.value):N()}isSome(){return this.tag}isNone(){return!this.tag}map(N){return this.tag?ae.some(N(this.value)):ae.none()}bind(N){return this.tag?N(this.value):ae.none()}exists(N){return this.tag&&N(this.value)}forall(N){return!this.tag||N(this.value)}filter(N){return!this.tag||N(this.value)?this:ae.none()}getOr(N){return this.tag?this.value:N}or(N){return this.tag?this:N}getOrThunk(N){return this.tag?this.value:N()}orThunk(N){return this.tag?this:N()}getOrDie(N){if(this.tag)return this.value;throw new Error(N??"Called getOrDie on None")}static from(N){return rt(N)?ae.some(N):ae.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(N){this.tag&&N(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ae.singletonNone=new ae(!1);const Lt=Array.prototype.slice,he=Array.prototype.indexOf,tt=Array.prototype.push,sn=(A,N)=>he.call(A,N),lo=(A,N)=>sn(A,N)>-1,Vt=(A,N)=>{for(let j=0,ue=A.length;j<ue;j++){const ge=A[j];if(N(ge,j))return!0}return!1},_e=(A,N)=>{const j=A.length,ue=new Array(j);for(let ge=0;ge<j;ge++){const wt=A[ge];ue[ge]=N(wt,ge)}return ue},Je=(A,N)=>{for(let j=0,ue=A.length;j<ue;j++){const ge=A[j];N(ge,j)}},O=(A,N)=>{const j=[];for(let ue=0,ge=A.length;ue<ge;ue++){const wt=A[ue];N(wt,ue)&&j.push(wt)}return j},ft=(A,N)=>{if(A.length===0)return[];{let j=N(A[0]);const ue=[];let ge=[];for(let wt=0,oo=A.length;wt<oo;wt++){const Wo=A[wt],Eo=N(Wo);Eo!==j&&(ue.push(ge),ge=[]),j=Eo,ge.push(Wo)}return ge.length!==0&&ue.push(ge),ue}},dt=(A,N,j)=>(Je(A,(ue,ge)=>{j=N(j,ue,ge)}),j),Jt=(A,N,j)=>{for(let ue=0,ge=A.length;ue<ge;ue++){const wt=A[ue];if(N(wt,ue))return ae.some(wt);if(j(wt,ue))break}return ae.none()},kn=(A,N)=>Jt(A,N,Qe),ht=A=>{const N=[];for(let j=0,ue=A.length;j<ue;++j){if(!Oe(A[j]))throw new Error("Arr.flatten item "+j+" was not an array, input: "+A);tt.apply(N,A[j])}return N},So=(A,N)=>ht(_e(A,N)),tr=A=>{const N=Lt.call(A,0);return N.reverse(),N},$t=(A,N)=>N>=0&&N<A.length?ae.some(A[N]):ae.none(),is=A=>$t(A,0),Ct=A=>$t(A,A.length-1),Yt=(A,N)=>{const j=[],ue=zt(N)?ge=>Vt(j,wt=>N(wt,ge)):ge=>lo(j,ge);for(let ge=0,wt=A.length;ge<wt;ge++){const oo=A[ge];ue(oo)||j.push(oo)}return j},hi=(A,N,j=so)=>A.exists(ue=>j(ue,N)),Mo=(A,N,j=so)=>pn(A,N,j).getOr(A.isNone()&&N.isNone()),pn=(A,N,j)=>A.isSome()&&N.isSome()?ae.some(j(A.getOrDie(),N.getOrDie())):ae.none(),H=8,Un=9,ti=11,qn=1,Ws=3,Al=(A,N)=>{const ue=(N||document).createElement("div");if(ue.innerHTML=A,!ue.hasChildNodes()||ue.childNodes.length>1){const ge="HTML does not have a single root node";throw console.error(ge,A),new Error(ge)}return Zo(ue.childNodes[0])},Nn=(A,N)=>{const ue=(N||document).createElement(A);return Zo(ue)},ts=(A,N)=>{const ue=(N||document).createTextNode(A);return Zo(ue)},Zo=A=>{if(A==null)throw new Error("Node cannot be null or undefined");return{dom:A}},yt={fromHtml:Al,fromTag:Nn,fromText:ts,fromDom:Zo,fromPoint:(A,N,j)=>ae.from(A.dom.elementFromPoint(N,j)).map(Zo)},St=(A,N)=>{const j=A.dom;if(j.nodeType!==qn)return!1;{const ue=j;if(ue.matches!==void 0)return ue.matches(N);if(ue.msMatchesSelector!==void 0)return ue.msMatchesSelector(N);if(ue.webkitMatchesSelector!==void 0)return ue.webkitMatchesSelector(N);if(ue.mozMatchesSelector!==void 0)return ue.mozMatchesSelector(N);throw new Error("Browser lacks native selectors")}},nt=(A,N)=>A.dom===N.dom,go=(A,N)=>{const j=A.dom,ue=N.dom;return j===ue?!1:j.contains(ue)},rn=St,Bn=typeof window<"u"?window:Function("return this;")(),on=(A,N)=>{let j=N??Bn;for(let ue=0;ue<A.length&&j!==void 0&&j!==null;++ue)j=j[A[ue]];return j},La=(A,N)=>{const j=A.split(".");return on(j,N)},fs=(A,N)=>La(A,N),ln=(A,N)=>{const j=fs(A,N);if(j==null)throw new Error(A+" not available on this browser");return j},jr=Object.getPrototypeOf,ea=A=>ln("HTMLElement",A),Ns=A=>{const N=La("ownerDocument.defaultView",A);return Tt(A)&&(ea(N).prototype.isPrototypeOf(A)||/^HTML\w*Element$/.test(jr(A).constructor.name))},ws=A=>A.dom.nodeName.toLowerCase(),wn=A=>A.dom.nodeType,Zr=A=>N=>wn(N)===A,Jo=A=>wn(A)===H||ws(A)==="#comment",Qt=A=>uo(A)&&Ns(A.dom),uo=Zr(qn),Cr=Zr(Ws),Pa=Zr(Un),vt=Zr(ti),wa=A=>N=>uo(N)&&ws(N)===A,An=A=>yt.fromDom(A.dom.ownerDocument),Fa=A=>Pa(A)?A:An(A),Jn=A=>ae.from(A.dom.parentNode).map(yt.fromDom),ed=A=>ae.from(A.dom.parentElement).map(yt.fromDom),Sr=A=>ae.from(A.dom.nextSibling).map(yt.fromDom),Cl=A=>_e(A.dom.childNodes,yt.fromDom),Ki=(A,N)=>{const j=A.dom.childNodes;return ae.from(j[N]).map(yt.fromDom)},oi=A=>Ki(A,0),cl=A=>Ki(A,A.dom.childNodes.length-1),hs=A=>vt(A)&&rt(A.dom.host),ni=zt(Element.prototype.attachShadow)&&zt(Node.prototype.getRootNode)?A=>yt.fromDom(A.dom.getRootNode()):Fa,bi=A=>{const N=ni(A);return hs(N)?ae.some(N):ae.none()},Ni=A=>yt.fromDom(A.dom.host),sc=A=>{const N=Cr(A)?A.dom.parentNode:A.dom;if(N==null||N.ownerDocument===null)return!1;const j=N.ownerDocument;return bi(yt.fromDom(N)).fold(()=>j.body.contains(N),Ue(sc,Ni))};var Ht=(A,N,j,ue,ge)=>A(j,ue)?ae.some(j):zt(ge)&&ge(j)?ae.none():N(j,ue,ge);const Cd=(A,N,j)=>{let ue=A.dom;const ge=zt(j)?j:Qe;for(;ue.parentNode;){ue=ue.parentNode;const wt=yt.fromDom(ue);if(N(wt))return ae.some(wt);if(ge(wt))break}return ae.none()},_s=(A,N,j)=>Ht((ge,wt)=>wt(ge),Cd,A,N,j),ou=(A,N,j)=>Cd(A,ue=>St(ue,N),j),Sd=(A,N,j)=>Ht((ge,wt)=>St(ge,wt),ou,A,N,j),Ua=A=>Sd(A,"[contenteditable]"),$l=(A,N=!1)=>sc(A)?A.dom.isContentEditable:Ua(A).fold(xt(N),j=>_a(j)==="true"),_a=A=>A.dom.contentEditable,br=(A,N)=>{Jn(A).each(ue=>{ue.dom.insertBefore(N.dom,A.dom)})},si=(A,N)=>{Sr(A).fold(()=>{Jn(A).each(ge=>{dl(ge,N)})},ue=>{br(ue,N)})},nu=(A,N)=>{oi(A).fold(()=>{dl(A,N)},ue=>{A.dom.insertBefore(N.dom,ue.dom)})},dl=(A,N)=>{A.dom.appendChild(N.dom)},Wu=(A,N)=>{Je(N,j=>{br(A,j)})},Sl=(A,N)=>{Je(N,j=>{dl(A,j)})},Ed=A=>{A.dom.textContent="",Je(Cl(A),N=>{Wn(N)})},Wn=A=>{const N=A.dom;N.parentNode!==null&&N.parentNode.removeChild(N)};var or=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),da=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),rc=tinymce.util.Tools.resolve("tinymce.util.VK");const su=A=>_e(A,yt.fromDom),ru=Object.keys,Mi=(A,N)=>{const j=ru(A);for(let ue=0,ge=j.length;ue<ge;ue++){const wt=j[ue],oo=A[wt];N(oo,wt)}},yr=A=>(N,j)=>{A[j]=N},$u=(A,N,j,ue)=>{Mi(A,(ge,wt)=>{(N(ge,wt)?j:ue)(ge,wt)})},os=(A,N)=>{const j={};return $u(A,N,yr(j),Se),j},ds=(A,N,j)=>{if(ze(j)||Pe(j)||ct(j))A.setAttribute(N,j+"");else throw console.error("Invalid call to Attribute.set. Key ",N,":: Value ",j,":: Element ",A),new Error("Attribute value was not simple")},Yi=(A,N)=>{const j=A.dom;Mi(N,(ue,ge)=>{ds(j,ge,ue)})},Ii=A=>dt(A.dom.attributes,(N,j)=>(N[j.name]=j.value,N),{}),ac=(A,N)=>yt.fromDom(A.dom.cloneNode(N)),ic=A=>ac(A,!0),Ac=(A,N)=>{const j=yt.fromTag(N),ue=Ii(A);return Yi(j,ue),j},ta=(A,N)=>{const j=Ac(A,N);si(A,j);const ue=Cl(A);return Sl(j,ue),Wn(A),j};var nr=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),oa=tinymce.util.Tools.resolve("tinymce.util.Tools");const ir=A=>N=>rt(N)&&N.nodeName.toLowerCase()===A,Bi=A=>N=>rt(N)&&A.test(N.nodeName),gs=A=>rt(A)&&A.nodeType===3,Aa=A=>rt(A)&&A.nodeType===1,Ha=Bi(/^(OL|UL|DL)$/),ua=Bi(/^(OL|UL)$/),Ho=ir("ol"),ri=Bi(/^(LI|DT|DD)$/),qr=Bi(/^(DT|DD)$/),Wr=Bi(/^(TH|TD)$/),yi=ir("br"),As=A=>{var N;return((N=A.parentNode)===null||N===void 0?void 0:N.firstChild)===A},lr=(A,N)=>rt(N)&&N.nodeName in A.schema.getTextBlockElements(),El=(A,N)=>rt(A)&&A.nodeName in N,Ro=(A,N)=>rt(N)&&N.nodeName in A.schema.getVoidElements(),Tl=(A,N)=>yi(N)?A.isBlock(N.nextSibling)&&!yi(N.previousSibling):!1,ai=(A,N,j)=>{const ue=A.isEmpty(N);return j&&A.select("span[data-mce-type=bookmark]",N).length>0?!1:ue},Ys=(A,N)=>A.isChildOf(N,A.getRoot()),vi=A=>N=>N.options.get(A),vr=A=>{const N=A.options.register;N("lists_indent_on_tab",{processor:"boolean",default:!0})},Cc=vi("lists_indent_on_tab"),au=vi("forced_root_block"),Ln=vi("forced_root_block_attrs"),W=(A,N)=>{const j=A.dom,ue=A.schema.getBlockElements(),ge=j.createFragment(),wt=au(A),oo=Ln(A);let Wo,Eo,ho=!1;for(Eo=j.create(wt,oo),El(N.firstChild,ue)||ge.appendChild(Eo);Wo=N.firstChild;){const Qn=Wo.nodeName;!ho&&(Qn!=="SPAN"||Wo.getAttribute("data-mce-type")!=="bookmark")&&(ho=!0),El(Wo,ue)?(ge.appendChild(Wo),Eo=null):(Eo||(Eo=j.create(wt,oo),ge.appendChild(Eo)),Eo.appendChild(Wo))}return!ho&&Eo&&Eo.appendChild(j.create("br",{"data-mce-bogus":"1"})),ge},fe=nr.DOM,Ae=(A,N,j)=>{const ue=ho=>{const Qn=ho.parentNode;Qn&&oa.each(ge,Yr=>{Qn.insertBefore(Yr,j.parentNode)}),fe.remove(ho)},ge=fe.select('span[data-mce-type="bookmark"]',N),wt=W(A,j),oo=fe.createRng();oo.setStartAfter(j),oo.setEndAfter(N);const Wo=oo.extractContents();for(let ho=Wo.firstChild;ho;ho=ho.firstChild)if(ho.nodeName==="LI"&&A.dom.isEmpty(ho)){fe.remove(ho);break}A.dom.isEmpty(Wo)||fe.insertAfter(Wo,N),fe.insertAfter(wt,N);const Eo=j.parentElement;Eo&&ai(A.dom,Eo)&&ue(Eo),fe.remove(j),ai(A.dom,N)&&fe.remove(N)},Ve=wa("dd"),Dt=wa("dt"),yo=(A,N)=>{Ve(N)?ta(N,"dt"):Dt(N)&&ed(N).each(j=>Ae(A,j.dom,N.dom))},qo=A=>{Dt(A)&&ta(A,"dd")},Cn=(A,N,j)=>{N==="Indent"?Je(j,qo):Je(j,ue=>yo(A,ue))},_n=(A,N)=>{if(gs(A))return{container:A,offset:N};const j=or.getNode(A,N);return gs(j)?{container:j,offset:N>=A.childNodes.length?j.data.length:0}:j.previousSibling&&gs(j.previousSibling)?{container:j.previousSibling,offset:j.previousSibling.data.length}:j.nextSibling&&gs(j.nextSibling)?{container:j.nextSibling,offset:0}:{container:A,offset:N}},Ls=A=>{const N=A.cloneRange(),j=_n(A.startContainer,A.startOffset);N.setStart(j.container,j.offset);const ue=_n(A.endContainer,A.endOffset);return N.setEnd(ue.container,ue.offset),N},ns=["OL","UL","DL"],vs=ns.join(","),$r=(A,N)=>{const j=N||A.selection.getStart(!0);return A.dom.getParent(j,vs,Va(A,j))},ki=(A,N)=>rt(A)&&N.length===1&&N[0]===A,Mn=A=>O(A.querySelectorAll(vs),Ha),Gu=A=>{const N=$r(A),j=A.selection.getSelectedBlocks();return ki(N,j)?Mn(N):O(j,ue=>Ha(ue)&&N!==ue)},lc=(A,N)=>{const j=oa.map(N,ue=>{const ge=A.dom.getParent(ue,"li,dd,dt",Va(A,ue));return ge||ue});return Yt(j)},Ku=A=>{const N=A.selection.getSelectedBlocks();return O(lc(A,N),ri)},Yu=A=>O(Ku(A),qr),Ca=(A,N)=>{const j=A.dom.getParents(N,"TD,TH");return j.length>0?j[0]:A.getBody()},lh=(A,N)=>!Ha(N)&&!ri(N)&&Vt(ns,j=>A.isValidChild(N.nodeName,j)),Va=(A,N)=>{const j=A.dom.getParents(N,A.dom.isBlock);return kn(j,ge=>lh(A.schema,ge)).getOr(A.getBody())},og=A=>Jn(A).exists(N=>ri(N.dom)&&oi(N).exists(j=>!Ha(j.dom))&&cl(N).exists(j=>!Ha(j.dom))),Jg=(A,N)=>{const j=A.dom.getParents(N,"ol,ul",Va(A,N));return Ct(j)},Hb=A=>{const N=Jg(A,A.selection.getStart()),j=O(A.selection.getSelectedBlocks(),ua);return N.toArray().concat(j)},Mt=A=>{const N=A.selection.getStart();return A.dom.getParents(N,"ol,ul",Va(A,N))},iu=A=>{const N=Hb(A),j=Mt(A);return kn(j,ue=>og(yt.fromDom(ue))).fold(()=>Xg(A,N),ue=>[ue])},Xg=(A,N)=>{const j=_e(N,ue=>Jg(A,ue).getOr(ue));return Yt(j)},Td=A=>/\btox\-/.test(A.className),na=(A,N)=>Jt(A,Ha,Wr).exists(j=>j.nodeName===N&&!Td(j)),ep=(A,N)=>N!==null&&!A.dom.isEditable(N),lu=A=>{const N=$r(A);return ep(A,N)},Od=(A,N)=>{const j=A.dom.getParent(N,"ol,ul,dl");return ep(A,j)},tp=(A,N)=>{const j=A.selection.getNode();return N({parents:A.dom.getParents(j),element:j}),A.on("NodeChange",N),()=>A.off("NodeChange",N)},Im=(A,N)=>{const ue=(N||document).createDocumentFragment();return Je(A,ge=>{ue.appendChild(ge.dom)}),yt.fromDom(ue)},cu=(A,N,j)=>A.dispatch("ListMutation",{action:N,element:j}),Vb=(A=>N=>N.replace(A,""))(/^\s+|\s+$/g),op=A=>A.length>0,jb=A=>!op(A),cc=A=>A.style!==void 0&&zt(A.style.getPropertyValue),ng=(A,N,j)=>{if(!ze(j))throw console.error("Invalid call to CSS.set. Property ",N,":: Value ",j,":: Element ",A),new Error("CSS value must be a string: "+j);cc(A)&&A.style.setProperty(N,j)},du=(A,N,j)=>{const ue=A.dom;ng(ue,N,j)},Ol=A=>rn(A,"OL,UL"),Gl=A=>rn(A,"LI"),fn=A=>oi(A).exists(Ol),Bm=A=>cl(A).exists(Ol),ma=A=>"listAttributes"in A,td=A=>"isComment"in A,uu=A=>"isFragment"in A,xi=A=>A.depth>0,kr=A=>A.isSelected,mu=A=>{const N=Cl(A),j=Bm(A)?N.slice(0,-1):N;return _e(j,ic)},Lm=(A,N,j)=>Jn(A).filter(uo).map(ue=>({depth:N,dirty:!1,isSelected:j,content:mu(A),itemAttributes:Ii(A),listAttributes:Ii(ue),listType:ws(ue),isInPreviousLi:!1})),Er=(A,N)=>{dl(A.item,N.list)},dr=A=>{for(let N=1;N<A.length;N++)Er(A[N-1],A[N])},Cs=(A,N)=>{pn(Ct(A),is(N),Er)},Qs=(A,N)=>{const j={list:yt.fromTag(N,A),item:yt.fromTag("li",A)};return dl(j.list,j.item),j},wi=(A,N,j)=>{const ue=[];for(let ge=0;ge<j;ge++)ue.push(Qs(A,ma(N)?N.listType:N.parentListType));return ue},Qi=(A,N)=>{for(let j=0;j<A.length-1;j++)du(A[j].item,"list-style-type","none");Ct(A).each(j=>{ma(N)&&(Yi(j.list,N.listAttributes),Yi(j.item,N.itemAttributes)),Sl(j.item,N.content)})},fa=(A,N)=>{ws(A.list)!==N.listType&&(A.list=ta(A.list,N.listType)),Yi(A.list,N.listAttributes)},ur=(A,N,j)=>{const ue=yt.fromTag("li",A);return Yi(ue,N),Sl(ue,j),ue},fu=(A,N)=>{dl(A.list,N),A.item=N},mr=(A,N,j)=>{const ue=N.slice(0,j.depth);return Ct(ue).each(ge=>{if(ma(j)){const wt=ur(A,j.itemAttributes,j.content);fu(ge,wt),fa(ge,j)}else if(uu(j))Sl(ge.item,j.content);else{const wt=yt.fromHtml(`<!--${j.content}-->`);dl(ge.list,wt)}}),ue},Tr=(A,N,j)=>{const ue=wi(A,j,j.depth-N.length);return dr(ue),Qi(ue,j),Cs(N,ue),N.concat(ue)},xr=(A,N)=>{let j=ae.none();const ue=dt(N,(ge,wt,oo)=>td(wt)?oo===0?(j=ae.some(wt),ge):mr(A,ge,wt):wt.depth>ge.length?Tr(A,ge,wt):mr(A,ge,wt),[]);return j.each(ge=>{const wt=yt.fromHtml(`<!--${ge.content}-->`);is(ue).each(oo=>{nu(oo.list,wt)})}),is(ue).map(ge=>ge.list)},od=(A,N)=>{switch(A){case"Indent":N.depth++;break;case"Outdent":N.depth--;break;case"Flatten":N.depth=0}N.dirty=!0},Ss=(A,N)=>{ma(A)&&ma(N)&&(A.listType=N.listType,A.listAttributes={...N.listAttributes})},Qu=A=>{A.listAttributes=os(A.listAttributes,(N,j)=>j!=="start")},Pm=(A,N)=>{const j=A[N].depth,ue=wt=>wt.depth===j&&!wt.dirty,ge=wt=>wt.depth<j;return Jt(tr(A.slice(0,N)),ue,ge).orThunk(()=>Jt(A.slice(N+1),ue,ge))},zl=A=>(Je(A,(N,j)=>{Pm(A,j).fold(()=>{N.dirty&&ma(N)&&Qu(N)},ue=>Ss(N,ue))}),A),un=A=>{let N=A;return{get:()=>N,set:ge=>{N=ge}}},Br=(A,N,j,ue)=>{var ge;if(Jo(ue))return[{depth:A+1,content:(ge=ue.dom.nodeValue)!==null&&ge!==void 0?ge:"",dirty:!1,isSelected:!1,isComment:!0}];N.each(Wo=>{nt(Wo.start,ue)&&j.set(!0)});const wt=Lm(ue,A,j.get());N.each(Wo=>{nt(Wo.end,ue)&&j.set(!1)});const oo=cl(ue).filter(Ol).map(Wo=>Kl(A,N,j,Wo)).getOr([]);return wt.toArray().concat(oo)},zd=(A,N,j,ue)=>oi(ue).filter(Ol).fold(()=>Br(A,N,j,ue),ge=>{const wt=dt(Cl(ue),(oo,Wo,Eo)=>{if(Eo===0)return oo;if(Gl(Wo))return oo.concat(Br(A,N,j,Wo));{const ho={isFragment:!0,depth:A,content:[Wo],isSelected:!1,dirty:!1,parentListType:ws(ge)};return oo.concat(ho)}},[]);return Kl(A,N,j,ge).concat(wt)}),Kl=(A,N,j,ue)=>So(Cl(ue),ge=>{const wt=Ol(ge)?Kl:zd,oo=A+1;return wt(oo,N,j,ge)}),Fm=(A,N)=>{const j=un(!1),ue=0;return _e(A,ge=>({sourceList:ge,entries:Kl(ue,N,j,ge)}))},Yl=(A,N)=>{const j=zl(N);return _e(j,ue=>{const ge=td(ue)?Im([yt.fromHtml(`<!--${ue.content}-->`)]):Im(ue.content);return yt.fromDom(W(A,ge.dom))})},Sc=(A,N)=>{const j=zl(N);return xr(A.contentDocument,j).toArray()},np=(A,N)=>So(ft(N,xi),j=>is(j).exists(xi)?Sc(A,j):Yl(A,j)),Um=(A,N)=>{Je(O(A,kr),j=>od(N,j))},dc=A=>{const N=_e(Ku(A),yt.fromDom);return pn(kn(N,At(fn)),kn(tr(N),At(fn)),(j,ue)=>({start:j,end:ue}))},sp=(A,N,j)=>{const ue=Fm(N,dc(A));Je(ue,ge=>{Um(ge.entries,j);const wt=np(A,ge.entries);Je(wt,oo=>{cu(A,j==="Indent"?"IndentList":"OutdentList",oo.dom)}),Wu(ge.sourceList,wt),Wn(ge.sourceList)})},oe=(A,N)=>{const j=su(iu(A)),ue=su(Yu(A));let ge=!1;if(j.length||ue.length){const wt=A.selection.getBookmark();sp(A,j,N),Cn(A,N,ue),A.selection.moveToBookmark(wt),A.selection.setRng(Ls(A.selection.getRng())),A.nodeChanged(),ge=!0}return ge},Dl=(A,N)=>!lu(A)&&oe(A,N),ja=A=>Dl(A,"Indent"),uc=A=>Dl(A,"Outdent"),gu=A=>Dl(A,"Flatten"),sg="\uFEFF",On=A=>A===sg,Li=(A,N,j)=>Cd(A,N,j).isSome(),nd=(A,N)=>Li(A,We(nt,N));var Pi=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const sd=nr.DOM,ul=A=>{const N={},j=ue=>{let ge=A[ue?"startContainer":"endContainer"],wt=A[ue?"startOffset":"endOffset"];if(Aa(ge)){const oo=sd.create("span",{"data-mce-type":"bookmark"});ge.hasChildNodes()?(wt=Math.min(wt,ge.childNodes.length-1),ue?ge.insertBefore(oo,ge.childNodes[wt]):sd.insertAfter(oo,ge.childNodes[wt])):ge.appendChild(oo),ge=oo,wt=0}N[ue?"startContainer":"endContainer"]=ge,N[ue?"startOffset":"endOffset"]=wt};return j(!0),A.collapsed||j(),N},Za=A=>{const N=ue=>{const ge=Wo=>{var Eo;let ho=(Eo=Wo.parentNode)===null||Eo===void 0?void 0:Eo.firstChild,Qn=0;for(;ho;){if(ho===Wo)return Qn;(!Aa(ho)||ho.getAttribute("data-mce-type")!=="bookmark")&&Qn++,ho=ho.nextSibling}return-1};let wt=A[ue?"startContainer":"endContainer"],oo=A[ue?"startOffset":"endOffset"];if(wt){if(Aa(wt)&&wt.parentNode){const Wo=wt;oo=ge(wt),wt=wt.parentNode,sd.remove(Wo),!wt.hasChildNodes()&&sd.isBlock(wt)&&wt.appendChild(sd.create("br"))}A[ue?"startContainer":"endContainer"]=wt,A[ue?"startOffset":"endOffset"]=oo}};N(!0),N();const j=sd.createRng();return j.setStart(A.startContainer,A.startOffset),A.endContainer&&j.setEnd(A.endContainer,A.endOffset),Ls(j)},mc=A=>{switch(A){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},ii=(A,N,j)=>{const ue=j["list-style-type"]?j["list-style-type"]:null;A.setStyle(N,"list-style-type",ue)},ko=(A,N)=>{oa.each(N,(j,ue)=>{A.setAttribute(ue,j)})},li=(A,N,j)=>{ko(N,j["list-attributes"]),oa.each(A.select("li",N),ue=>{ko(ue,j["list-item-attributes"])})},Fi=(A,N,j)=>{ii(A,N,j),li(A,N,j)},rp=(A,N,j)=>{oa.each(j,ue=>A.setStyle(N,ue,""))},Dd=(A,N)=>rt(N)&&!El(N,A.schema.getBlockElements()),Es=(A,N,j,ue)=>{let ge=N[j?"startContainer":"endContainer"];const wt=N[j?"startOffset":"endOffset"];Aa(ge)&&(ge=ge.childNodes[Math.min(wt,ge.childNodes.length-1)]||ge),!j&&yi(ge.nextSibling)&&(ge=ge.nextSibling);const oo=Eo=>{for(;!A.dom.isBlock(Eo)&&Eo.parentNode&&ue!==Eo;)Eo=Eo.parentNode;return Eo},Wo=(Eo,ho)=>{var Qn;const Yr=new da(Eo,oo(Eo)),Wa=ho?"next":"prev";let Rc;for(;Rc=Yr[Wa]();)if(!(Ro(A,Rc)||On(Rc.textContent)||((Qn=Rc.textContent)===null||Qn===void 0?void 0:Qn.length)===0))return ae.some(Rc);return ae.none()};if(j&&gs(ge))if(On(ge.textContent))ge=Wo(ge,!1).getOr(ge);else for(ge.parentNode!==null&&Dd(A,ge.parentNode)&&(ge=ge.parentNode);ge.previousSibling!==null&&(Dd(A,ge.previousSibling)||gs(ge.previousSibling));)ge=ge.previousSibling;if(!j&&gs(ge))if(On(ge.textContent))ge=Wo(ge,!0).getOr(ge);else for(ge.parentNode!==null&&Dd(A,ge.parentNode)&&(ge=ge.parentNode);ge.nextSibling!==null&&(Dd(A,ge.nextSibling)||gs(ge.nextSibling));)ge=ge.nextSibling;for(;ge.parentNode!==ue;){const Eo=ge.parentNode;if(lr(A,ge)||/^(TD|TH)$/.test(Eo.nodeName))return ge;ge=Eo}return ge},Ec=(A,N,j)=>{const ue=[],ge=A.dom,wt=Es(A,N,!0,j),oo=Es(A,N,!1,j);let Wo;const Eo=[];for(let ho=wt;ho&&(Eo.push(ho),ho!==oo);ho=ho.nextSibling);return oa.each(Eo,ho=>{var Qn;if(lr(A,ho)){ue.push(ho),Wo=null;return}if(ge.isBlock(ho)||yi(ho)){yi(ho)&&ge.remove(ho),Wo=null;return}const Yr=ho.nextSibling;if(Pi.isBookmarkNode(ho)&&(Ha(Yr)||lr(A,Yr)||!Yr&&ho.parentNode===j)){Wo=null;return}Wo||(Wo=ge.create("p"),(Qn=ho.parentNode)===null||Qn===void 0||Qn.insertBefore(Wo,ho),ue.push(Wo)),Wo.appendChild(ho)}),ue},pu=(A,N,j)=>{const ue=A.getStyle(N,"list-style-type");let ge=j?j["list-style-type"]:"";return ge=ge===null?"":ge,ue===ge},Or=(A,N)=>{const j=A.selection.getStart(!0),ue=Es(A,N,!0,A.getBody());return nd(yt.fromDom(ue),yt.fromDom(N.commonAncestorContainer))?N.commonAncestorContainer:j},fc=(A,N,j)=>{const ue=A.selection.getRng();let ge="LI";const wt=Va(A,Or(A,ue)),oo=A.dom;if(oo.getContentEditable(A.selection.getNode())==="false")return;N=N.toUpperCase(),N==="DL"&&(ge="DT");const Wo=ul(ue),Eo=O(Ec(A,ue,wt),A.dom.isEditable);oa.each(Eo,ho=>{let Qn;const Yr=ho.previousSibling,Wa=ho.parentNode;ri(Wa)||(Yr&&Ha(Yr)&&Yr.nodeName===N&&pu(oo,Yr,j)?(Qn=Yr,ho=oo.rename(ho,ge),Yr.appendChild(ho)):(Qn=oo.create(N),Wa.insertBefore(Qn,ho),Qn.appendChild(ho),ho=oo.rename(ho,ge)),rp(oo,ho,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Fi(oo,Qn,j),Rl(A.dom,Qn))}),A.selection.setRng(Za(Wo))},Hm=(A,N)=>Ha(A)&&A.nodeName===(N==null?void 0:N.nodeName),Ju=(A,N,j)=>{const ue=A.getStyle(N,"list-style-type",!0),ge=A.getStyle(j,"list-style-type",!0);return ue===ge},rg=(A,N)=>A.className===N.className,Tc=(A,N,j)=>Hm(N,j)&&Ju(A,N,j)&&rg(N,j),Rl=(A,N)=>{let j,ue=N.nextSibling;if(Tc(A,N,ue)){const ge=ue;for(;j=ge.firstChild;)N.appendChild(j);A.remove(ge)}if(ue=N.previousSibling,Tc(A,N,ue)){const ge=ue;for(;j=ge.lastChild;)N.insertBefore(j,N.firstChild);A.remove(ge)}},Oc=(A,N,j,ue)=>{if(N.nodeName!==j){const ge=A.dom.rename(N,j);Fi(A.dom,ge,ue),cu(A,mc(j),ge)}else Fi(A.dom,N,ue),cu(A,mc(j),N)},Ps=(A,N,j,ue)=>{if(N.classList.forEach((ge,wt,oo)=>{ge.startsWith("tox-")&&(oo.remove(ge),oo.length===0&&N.removeAttribute("class"))}),N.nodeName!==j){const ge=A.dom.rename(N,j);Fi(A.dom,ge,ue),cu(A,mc(j),ge)}else Fi(A.dom,N,ue),cu(A,mc(j),N)},Nl=(A,N,j,ue,ge)=>{const wt=Ha(N);if(wt&&N.nodeName===ue&&!ga(ge)&&!Td(N))gu(A);else{fc(A,ue,ge);const oo=ul(A.selection.getRng()),Wo=wt?[N,...j]:j,Eo=wt&&Td(N)?Ps:Oc;oa.each(Wo,ho=>{Eo(A,ho,ue,ge)}),A.selection.setRng(Za(oo))}},ga=A=>"list-style-type"in A,zc=(A,N,j,ue)=>{if(N!==A.getBody())if(N)if(N.nodeName===j&&!ga(ue)&&!Td(N))gu(A);else{const ge=ul(A.selection.getRng());Td(N)&&N.classList.forEach((oo,Wo,Eo)=>{oo.startsWith("tox-")&&(Eo.remove(oo),Eo.length===0&&N.removeAttribute("class"))}),Fi(A.dom,N,ue);const wt=A.dom.rename(N,j);Rl(A.dom,wt),A.selection.setRng(Za(ge)),fc(A,j,ue),cu(A,mc(j),wt)}else fc(A,j,ue),cu(A,mc(j),N)},qa=(A,N,j)=>{const ue=$r(A);if(Od(A,ue))return;const ge=Gu(A),wt=Tt(j)?j:{};ge.length>0?Nl(A,ue,ge,N,wt):zc(A,ue,N,wt)},Xu=nr.DOM,wr=(A,N)=>{const j=N.parentElement;if(j&&j.nodeName==="LI"&&j.firstChild===N){const ue=j.previousSibling;ue&&ue.nodeName==="LI"?(ue.appendChild(N),ai(A,j)&&Xu.remove(j)):Xu.setStyle(j,"listStyleType","none")}if(Ha(j)){const ue=j.previousSibling;ue&&ue.nodeName==="LI"&&ue.appendChild(N)}},sa=(A,N)=>{const j=oa.grep(A.select("ol,ul",N));oa.each(j,ue=>{wr(A,ue)})},Ji=(A,N,j,ue)=>{let ge=N.startContainer;const wt=N.startOffset;if(gs(ge)&&(j?wt<ge.data.length:wt>0))return ge;const oo=A.schema.getNonEmptyElements();Aa(ge)&&(ge=or.getNode(ge,wt));const Wo=new da(ge,ue);j&&Tl(A.dom,ge)&&Wo.next();const Eo=j?Wo.next.bind(Wo):Wo.prev2.bind(Wo);for(;ge=Eo();)if(ge.nodeName==="LI"&&!ge.hasChildNodes()||oo[ge.nodeName]||gs(ge)&&ge.data.length>0)return ge;return null},Xe=(A,N)=>{const j=N.childNodes;return j.length===1&&!Ha(j[0])&&A.isBlock(j[0])},Ui=A=>ae.from(A).map(yt.fromDom).filter(Qt).exists(N=>$l(N)&&!lo(["details"],ws(N))),Vm=(A,N)=>{Xe(A,N)&&Ui(N.firstChild)&&A.remove(N.firstChild,!0)},sr=(A,N,j)=>{let ue;const ge=Xe(A,j)?j.firstChild:j;if(Vm(A,N),!ai(A,N,!0))for(;ue=N.firstChild;)ge.appendChild(ue)},Sa=(A,N,j)=>{let ue;const ge=N.parentNode;if(!Ys(A,N)||!Ys(A,j))return;Ha(j.lastChild)&&(ue=j.lastChild),ge===j.lastChild&&yi(ge.previousSibling)&&A.remove(ge.previousSibling);const wt=j.lastChild;wt&&yi(wt)&&N.hasChildNodes()&&A.remove(wt),ai(A,j,!0)&&Ed(yt.fromDom(j)),sr(A,N,j),ue&&j.appendChild(ue);const Wo=go(yt.fromDom(j),yt.fromDom(N))?A.getParents(N,Ha,j):[];A.remove(N),Je(Wo,Eo=>{ai(A,Eo)&&Eo!==A.getRoot()&&A.remove(Eo)})},Ea=(A,N,j)=>{Ed(yt.fromDom(j)),Sa(A.dom,N,j),A.selection.setCursorLocation(j,0)},Hi=(A,N,j,ue)=>{const ge=A.dom;if(ge.isEmpty(ue))Ea(A,j,ue);else{const wt=ul(N);Sa(ge,j,ue),A.selection.setRng(Za(wt))}},Rd=(A,N,j,ue)=>{const ge=ul(N);Sa(A.dom,j,ue);const wt=Za(ge);A.selection.setRng(wt)},pa=(A,N)=>{const j=A.dom,ue=A.selection,ge=ue.getStart(),wt=Ca(A,ge),oo=j.getParent(ue.getStart(),"LI",wt);if(oo){const Wo=oo.parentElement;if(Wo===A.getBody()&&ai(j,Wo))return!0;const Eo=Ls(ue.getRng()),ho=j.getParent(Ji(A,Eo,N,wt),"LI",wt),Qn=ho&&(N?j.isChildOf(oo,ho):j.isChildOf(ho,oo));if(ho&&ho!==oo&&!Qn)return A.undoManager.transact(()=>{N?Hi(A,Eo,ho,oo):As(oo)?uc(A):Rd(A,Eo,oo,ho)}),!0;if(Qn&&!N&&ho!==oo)return A.undoManager.transact(()=>{if(Eo.commonAncestorContainer.parentElement){const Yr=ul(Eo),Wa=Eo.commonAncestorContainer.parentElement;sr(j,Eo.commonAncestorContainer.parentElement,ho),Wa.remove();const Rc=Za(Yr);A.selection.setRng(Rc)}}),!0;if(!ho&&!N&&Eo.startOffset===0&&Eo.endOffset===0)return A.undoManager.transact(()=>{gu(A)}),!0}return!1},$n=(A,N,j)=>{const ue=A.getParent(N.parentNode,A.isBlock,j);A.remove(N),ue&&A.isEmpty(ue)&&A.remove(ue)},Xi=(A,N)=>{const j=A.dom,ue=A.selection.getStart(),ge=Ca(A,ue),wt=j.getParent(ue,j.isBlock,ge);if(wt&&j.isEmpty(wt)){const oo=Ls(A.selection.getRng()),Wo=j.getParent(Ji(A,oo,N,ge),"LI",ge);if(Wo){const Eo=Wa=>lo(["td","th","caption"],ws(Wa)),ho=Wa=>Wa.dom===ge,Qn=_s(yt.fromDom(Wo),Eo,ho),Yr=_s(yt.fromDom(oo.startContainer),Eo,ho);return Mo(Qn,Yr,nt)?(A.undoManager.transact(()=>{const Wa=Wo.parentNode;$n(j,wt,ge),Rl(j,Wa),A.selection.select(Wo,!0),A.selection.collapse(N)}),!0):!1}}return!1},rd=(A,N)=>pa(A,N)||Xi(A,N),Gr=A=>{const N=A.selection.getStart(),j=Ca(A,N);return A.dom.getParent(N,"LI,DT,DD",j)||Ku(A).length>0},jm=A=>Gr(A)?(A.undoManager.transact(()=>{A.execCommand("Delete"),sa(A.dom,A.getBody())}),!0):!1,el=(A,N)=>{const j=A.selection;return!Od(A,j.getNode())&&(j.isCollapsed()?rd(A,N):jm(A))},ha=A=>{A.on("ExecCommand",N=>{const j=N.command.toLowerCase();(j==="delete"||j==="forwarddelete")&&Gr(A)&&sa(A.dom,A.getBody())}),A.on("keydown",N=>{N.keyCode===rc.BACKSPACE?el(A,!1)&&N.preventDefault():N.keyCode===rc.DELETE&&el(A,!0)&&N.preventDefault()})},Vi=A=>({backspaceDelete:N=>{el(A,N)}}),Te=(A,N)=>{const j=$r(A);j===null||Od(A,j)||A.undoManager.transact(()=>{Tt(N.styles)&&A.dom.setStyles(j,N.styles),Tt(N.attrs)&&Mi(N.attrs,(ue,ge)=>A.dom.setAttrib(j,ge,ue))})},Ta=A=>{const N=tr(Vb(A).split("")),j=_e(N,(ue,ge)=>{const wt=ue.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,ge)*wt});return dt(j,(ue,ge)=>ue+ge,0)},ad=A=>{if(A--,A<0)return"";{const N=A%26,j=Math.floor(A/26),ue=ad(j),ge=String.fromCharCode(65+N);return ue+ge}},gc=A=>/^[A-Z]+$/.test(A),zr=A=>/^[a-z]+$/.test(A),Js=A=>/^[0-9]+$/.test(A),rr=A=>Js(A)?2:gc(A)?0:zr(A)?1:jb(A)?3:4,Fs=A=>{switch(rr(A)){case 2:return ae.some({listStyleType:ae.none(),start:A});case 0:return ae.some({listStyleType:ae.some("upper-alpha"),start:Ta(A).toString()});case 1:return ae.some({listStyleType:ae.some("lower-alpha"),start:Ta(A).toString()});case 3:return ae.some({listStyleType:ae.none(),start:""});case 4:return ae.none()}},em=A=>{const N=parseInt(A.start,10);return hi(A.listStyleType,"upper-alpha")?ad(N):hi(A.listStyleType,"lower-alpha")?ad(N).toLowerCase():A.start},_o=A=>{const N=$r(A);!Ho(N)||Od(A,N)||A.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:em({start:A.dom.getAttrib(N,"start","1"),listStyleType:ae.from(A.dom.getStyle(N,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:j=>{const ue=j.getData();Fs(ue.start).each(ge=>{A.execCommand("mceListUpdate",!1,{attrs:{start:ge.start==="1"?"":ge.start},styles:{"list-style-type":ge.listStyleType.getOr("")}})}),j.close()}})},Kr=(A,N)=>()=>{const j=$r(A);return rt(j)&&j.nodeName===N},Oa=A=>{A.addCommand("mceListProps",()=>{_o(A)})},Hn=A=>{A.on("BeforeExecCommand",N=>{const j=N.command.toLowerCase();j==="indent"?ja(A):j==="outdent"&&uc(A)}),A.addCommand("InsertUnorderedList",(N,j)=>{qa(A,"UL",j)}),A.addCommand("InsertOrderedList",(N,j)=>{qa(A,"OL",j)}),A.addCommand("InsertDefinitionList",(N,j)=>{qa(A,"DL",j)}),A.addCommand("RemoveList",()=>{gu(A)}),Oa(A),A.addCommand("mceListUpdate",(N,j)=>{Tt(j)&&Te(A,j)}),A.addQueryStateHandler("InsertUnorderedList",Kr(A,"UL")),A.addQueryStateHandler("InsertOrderedList",Kr(A,"OL")),A.addQueryStateHandler("InsertDefinitionList",Kr(A,"DL"))};var ra=tinymce.util.Tools.resolve("tinymce.html.Node");const id=A=>A.type===3,Ml=A=>A.length===0,Nd=A=>{const N=(ge,wt)=>{const oo=ra.create("li");Je(ge,Wo=>oo.append(Wo)),wt?A.insert(oo,wt,!0):A.append(oo)},j=(ge,wt)=>id(wt)?[...ge,wt]:!Ml(ge)&&!id(wt)?(N(ge,wt),[]):ge,ue=dt(A.children(),j,[]);Ml(ue)||N(ue)},hu=A=>{A.on("PreInit",()=>{const{parser:N}=A;N.addNodeFilter("ul,ol",j=>Je(j,Nd))})},Dc=A=>{A.on("keydown",N=>{N.keyCode!==rc.TAB||rc.metaKeyPressed(N)||A.undoManager.transact(()=>{(N.shiftKey?uc(A):ja(A))&&N.preventDefault()})})},aa=A=>{Cc(A)&&Dc(A),ha(A)},Ql=(A,N)=>j=>{const ue=ge=>{j.setActive(na(ge.parents,N)),j.setEnabled(!Od(A,ge.element)&&A.selection.isEditable())};return j.setEnabled(A.selection.isEditable()),tp(A,ue)},ld=A=>{const N=j=>()=>A.execCommand(j);A.hasPlugin("advlist")||(A.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:N("InsertOrderedList"),onSetup:Ql(A,"OL")}),A.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:N("InsertUnorderedList"),onSetup:Ql(A,"UL")}))},Il=(A,N)=>j=>tp(A,ge=>j.setEnabled(na(ge.parents,N)&&!Od(A,ge.element))),bu=A=>{const N={text:"List properties...",icon:"ordered-list",onAction:()=>A.execCommand("mceListProps"),onSetup:Il(A,"OL")};A.ui.registry.addMenuItem("listprops",N),A.ui.registry.addContextMenu("lists",{update:j=>{const ue=$r(A,j);return Ho(ue)?["listprops"]:[]}})};var za=()=>{le.add("lists",A=>(vr(A),hu(A),A.hasPlugin("rtc",!0)?Oa(A):(aa(A),Hn(A)),ld(A),bu(A),Vi(A)))};za()})();(function(){var le=tinymce.util.Tools.resolve("tinymce.PluginManager");const De=(x,T,F)=>{var Y;return F(x,T.prototype)?!0:((Y=x.constructor)===null||Y===void 0?void 0:Y.name)===T.name},de=x=>{const T=typeof x;return x===null?"null":T==="object"&&Array.isArray(x)?"array":T==="object"&&De(x,String,(F,Y)=>Y.isPrototypeOf(F))?"string":T},xe=x=>T=>de(T)===x,Le=x=>T=>typeof T===x,ze=x=>T=>x===T,Tt=xe("string"),Oe=xe("array"),Pe=Le("boolean"),je=ze(void 0),rt=x=>x==null,zt=x=>!rt(x),ct=Le("function"),Se=Le("number"),Ue=()=>{},xt=(x,T)=>F=>x(T(F)),so=x=>()=>x,We=x=>x,At=(x,T)=>x===T;function Qe(x,...T){return(...F)=>{const Y=T.concat(F);return x.apply(null,Y)}}const ae=x=>{x()},Lt=so(!1),he=so(!0);class tt{constructor(T,F){this.tag=T,this.value=F}static some(T){return new tt(!0,T)}static none(){return tt.singletonNone}fold(T,F){return this.tag?F(this.value):T()}isSome(){return this.tag}isNone(){return!this.tag}map(T){return this.tag?tt.some(T(this.value)):tt.none()}bind(T){return this.tag?T(this.value):tt.none()}exists(T){return this.tag&&T(this.value)}forall(T){return!this.tag||T(this.value)}filter(T){return!this.tag||T(this.value)?this:tt.none()}getOr(T){return this.tag?this.value:T}or(T){return this.tag?this:T}getOrThunk(T){return this.tag?this.value:T()}orThunk(T){return this.tag?this:T()}getOrDie(T){if(this.tag)return this.value;throw new Error(T??"Called getOrDie on None")}static from(T){return zt(T)?tt.some(T):tt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(T){this.tag&&T(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}tt.singletonNone=new tt(!1);const sn=Object.keys,lo=Object.hasOwnProperty,Vt=(x,T)=>{const F=sn(x);for(let Y=0,ye=F.length;Y<ye;Y++){const Ge=F[Y],Et=x[Ge];T(Et,Ge)}},_e=x=>(T,F)=>{x[F]=T},Je=(x,T,F,Y)=>{Vt(x,(ye,Ge)=>{(T(ye,Ge)?F:Y)(ye,Ge)})},O=(x,T)=>{const F={};return Je(x,T,_e(F),Ue),F},ft=(x,T)=>{const F=[];return Vt(x,(Y,ye)=>{F.push(T(Y,ye))}),F},dt=x=>ft(x,We),Jt=x=>sn(x).length,kn=(x,T)=>ht(x,T)?tt.from(x[T]):tt.none(),ht=(x,T)=>lo.call(x,T),So=(x,T)=>ht(x,T)&&x[T]!==void 0&&x[T]!==null,tr=x=>{for(const T in x)if(lo.call(x,T))return!1;return!0},$t=Array.prototype.indexOf,is=Array.prototype.push,Ct=(x,T)=>$t.call(x,T),Yt=(x,T)=>Ct(x,T)>-1,hi=(x,T)=>{for(let F=0,Y=x.length;F<Y;F++){const ye=x[F];if(T(ye,F))return!0}return!1},Mo=(x,T)=>{const F=[];for(let Y=0;Y<x;Y++)F.push(T(Y));return F},pn=(x,T)=>{const F=x.length,Y=new Array(F);for(let ye=0;ye<F;ye++){const Ge=x[ye];Y[ye]=T(Ge,ye)}return Y},H=(x,T)=>{for(let F=0,Y=x.length;F<Y;F++){const ye=x[F];T(ye,F)}},Un=(x,T)=>{for(let F=x.length-1;F>=0;F--){const Y=x[F];T(Y,F)}},ti=(x,T)=>{const F=[],Y=[];for(let ye=0,Ge=x.length;ye<Ge;ye++){const Et=x[ye];(T(Et,ye)?F:Y).push(Et)}return{pass:F,fail:Y}},qn=(x,T)=>{const F=[];for(let Y=0,ye=x.length;Y<ye;Y++){const Ge=x[Y];T(Ge,Y)&&F.push(Ge)}return F},Ws=(x,T,F)=>(Un(x,(Y,ye)=>{F=T(F,Y,ye)}),F),Al=(x,T,F)=>(H(x,(Y,ye)=>{F=T(F,Y,ye)}),F),Nn=(x,T,F)=>{for(let Y=0,ye=x.length;Y<ye;Y++){const Ge=x[Y];if(T(Ge,Y))return tt.some(Ge);if(F(Ge,Y))break}return tt.none()},ts=(x,T)=>Nn(x,T,Lt),Zo=x=>{const T=[];for(let F=0,Y=x.length;F<Y;++F){if(!Oe(x[F]))throw new Error("Arr.flatten item "+F+" was not an array, input: "+x);is.apply(T,x[F])}return T},ut=(x,T)=>Zo(pn(x,T)),yt=(x,T)=>{for(let F=0,Y=x.length;F<Y;++F){const ye=x[F];if(T(ye,F)!==!0)return!1}return!0},St=(x,T)=>{const F={};for(let Y=0,ye=x.length;Y<ye;Y++){const Ge=x[Y];F[String(Ge)]=T(Ge,Y)}return F},nt=(x,T)=>T>=0&&T<x.length?tt.some(x[T]):tt.none(),go=x=>nt(x,0),rn=x=>nt(x,x.length-1),Bn=(x,T)=>{for(let F=0;F<x.length;F++){const Y=T(x[F],F);if(Y.isSome())return Y}return tt.none()},on=8,La=9,fs=11,ln=1,jr=3,ea=(x,T)=>{const Y=(T||document).createElement("div");if(Y.innerHTML=x,!Y.hasChildNodes()||Y.childNodes.length>1){const ye="HTML does not have a single root node";throw console.error(ye,x),new Error(ye)}return wn(Y.childNodes[0])},Ns=(x,T)=>{const Y=(T||document).createElement(x);return wn(Y)},ws=(x,T)=>{const Y=(T||document).createTextNode(x);return wn(Y)},wn=x=>{if(x==null)throw new Error("Node cannot be null or undefined");return{dom:x}},Jo={fromHtml:ea,fromTag:Ns,fromText:ws,fromDom:wn,fromPoint:(x,T,F)=>tt.from(x.dom.elementFromPoint(T,F)).map(wn)},Qt=(x,T)=>{const F=x.dom;if(F.nodeType!==ln)return!1;{const Y=F;if(Y.matches!==void 0)return Y.matches(T);if(Y.msMatchesSelector!==void 0)return Y.msMatchesSelector(T);if(Y.webkitMatchesSelector!==void 0)return Y.webkitMatchesSelector(T);if(Y.mozMatchesSelector!==void 0)return Y.mozMatchesSelector(T);throw new Error("Browser lacks native selectors")}},uo=x=>x.nodeType!==ln&&x.nodeType!==La&&x.nodeType!==fs||x.childElementCount===0,Cr=(x,T)=>{const F=T===void 0?document:T.dom;return uo(F)?[]:pn(F.querySelectorAll(x),Jo.fromDom)},Pa=(x,T)=>{const F=T===void 0?document:T.dom;return uo(F)?tt.none():tt.from(F.querySelector(x)).map(Jo.fromDom)},vt=(x,T)=>x.dom===T.dom,wa=Qt;typeof window<"u"||Function("return this;")();const An=x=>x.dom.nodeName.toLowerCase(),Fa=x=>x.dom.nodeType,Jn=x=>T=>Fa(T)===x,ed=x=>Fa(x)===on||An(x)==="#comment",Sr=Jn(ln),Cl=Jn(jr),Ki=Jn(La),oi=Jn(fs),cl=x=>T=>Sr(T)&&An(T)===x,hs=x=>Jo.fromDom(x.dom.ownerDocument),Lo=x=>Ki(x)?x:hs(x),ni=x=>tt.from(x.dom.parentNode).map(Jo.fromDom),bi=(x,T)=>{const F=ct(T)?T:Lt;let Y=x.dom;const ye=[];for(;Y.parentNode!==null&&Y.parentNode!==void 0;){const Ge=Y.parentNode,Et=Jo.fromDom(Ge);if(ye.push(Et),F(Et)===!0)break;Y=Ge}return ye},Ni=x=>tt.from(x.dom.previousSibling).map(Jo.fromDom),sc=x=>tt.from(x.dom.nextSibling).map(Jo.fromDom),Ht=x=>pn(x.dom.childNodes,Jo.fromDom),Cd=(x,T)=>{const F=x.dom.childNodes;return tt.from(F[T]).map(Jo.fromDom)},_s=x=>Cd(x,0),ou=x=>oi(x)&&zt(x.dom.host),Ua=ct(Element.prototype.attachShadow)&&ct(Node.prototype.getRootNode)?x=>Jo.fromDom(x.dom.getRootNode()):Lo,$l=x=>{const T=Ua(x);return ou(T)?tt.some(T):tt.none()},_a=x=>Jo.fromDom(x.dom.host),br=x=>{const T=Cl(x)?x.dom.parentNode:x.dom;if(T==null||T.ownerDocument===null)return!1;const F=T.ownerDocument;return $l(Jo.fromDom(T)).fold(()=>F.body.contains(T),xt(br,_a))};var si=(x,T,F,Y,ye)=>x(F,Y)?tt.some(F):ct(ye)&&ye(F)?tt.none():T(F,Y,ye);const nu=(x,T,F)=>{let Y=x.dom;const ye=ct(F)?F:Lt;for(;Y.parentNode;){Y=Y.parentNode;const Ge=Jo.fromDom(Y);if(T(Ge))return tt.some(Ge);if(ye(Ge))break}return tt.none()},dl=(x,T,F)=>si((ye,Ge)=>Ge(ye),nu,x,T,F),Wu=(x,T)=>{const F=ye=>T(Jo.fromDom(ye));return ts(x.dom.childNodes,F).map(Jo.fromDom)},Sl=(x,T,F)=>nu(x,Y=>Qt(Y,T),F),Ed=(x,T)=>Wu(x,F=>Qt(F,T)),Wn=(x,T)=>Pa(T,x),or=(x,T,F)=>si((ye,Ge)=>Qt(ye,Ge),Sl,x,T,F),da=x=>or(x,"[contenteditable]"),rc=(x,T=!1)=>br(x)?x.dom.isContentEditable:da(x).fold(so(T),F=>su(F)==="true"),su=x=>x.dom.contentEditable,ru=x=>x.nodeName.toLowerCase(),Mi=x=>Jo.fromDom(x.getBody()),yr=x=>T=>vt(T,Mi(x)),$u=x=>x?x.replace(/px$/,""):"",os=x=>/^\d+(\.\d+)?$/.test(x)?x+"px":x,ds=x=>Jo.fromDom(x.selection.getStart()),Yi=x=>Jo.fromDom(x.selection.getEnd()),Ii=x=>dl(x,cl("table")).forall(rc),ac=(x,T)=>qn(Ht(x),T),ic=(x,T)=>{let F=[];return H(Ht(x),Y=>{T(Y)&&(F=F.concat([Y])),F=F.concat(ic(Y,T))}),F},Ac=(x,T)=>ac(x,F=>Qt(F,T)),ta=(x,T)=>Cr(T,x),nr=(x,T,F)=>{if(Tt(F)||Pe(F)||Se(F))x.setAttribute(T,F+"");else throw console.error("Invalid call to Attribute.set. Key ",T,":: Value ",F,":: Element ",x),new Error("Attribute value was not simple")},oa=(x,T,F)=>{nr(x.dom,T,F)},ir=(x,T)=>{const F=x.dom;Vt(T,(Y,ye)=>{nr(F,ye,Y)})},Bi=(x,T)=>{const F=x.dom.getAttribute(T);return F===null?void 0:F},gs=(x,T)=>tt.from(Bi(x,T)),Aa=(x,T)=>{x.dom.removeAttribute(T)},Ha=x=>Al(x.dom.attributes,(T,F)=>(T[F.name]=F.value,T),{}),ua=(x,T,F=At)=>x.exists(Y=>F(Y,T)),Ho=x=>{const T=[],F=Y=>{T.push(Y)};for(let Y=0;Y<x.length;Y++)x[Y].each(F);return T},ri=(x,T,F)=>x.isSome()&&T.isSome()?tt.some(F(x.getOrDie(),T.getOrDie())):tt.none(),qr=x=>x.bind(We),Wr=(x,T)=>x?tt.some(T):tt.none(),yi=(x,T)=>x.substring(T),As=(x,T,F)=>T===""||x.length>=T.length&&x.substr(F,F+T.length)===T,lr=(x,T)=>El(x,T)?yi(x,T.length):x,El=(x,T)=>As(x,T,0),Tl=(x=>T=>T.replace(x,""))(/^\s+|\s+$/g),ai=x=>x.length>0,Ys=x=>!ai(x),vi=(x,T=10)=>{const F=parseInt(x,T);return isNaN(F)?tt.none():tt.some(F)},vr=x=>{const T=parseFloat(x);return isNaN(T)?tt.none():tt.some(T)},Cc=x=>x.style!==void 0&&ct(x.style.getPropertyValue),au=(x,T,F)=>{if(!Tt(F))throw console.error("Invalid call to CSS.set. Property ",T,":: Value ",F,":: Element ",x),new Error("CSS value must be a string: "+F);Cc(x)&&x.style.setProperty(T,F)},Ln=(x,T)=>{Cc(x)&&x.style.removeProperty(T)},W=(x,T,F)=>{const Y=x.dom;au(Y,T,F)},fe=(x,T)=>{const F=x.dom,ye=window.getComputedStyle(F).getPropertyValue(T);return ye===""&&!br(x)?Ae(F,T):ye},Ae=(x,T)=>Cc(x)?x.style.getPropertyValue(T):"",Ve=(x,T)=>{const F=x.dom,Y=Ae(F,T);return tt.from(Y).filter(ye=>ye.length>0)},Dt=(x,T)=>{const F=x.dom;Ln(F,T),ua(gs(x,"style").map(Tl),"")&&Aa(x,"style")},yo=(x,T,F=0)=>gs(x,T).map(Y=>parseInt(Y,10)).getOr(F),qo=(x,T)=>Cn(x,T,he),Cn=(x,T,F)=>ut(Ht(x),Y=>Qt(Y,T)?F(Y)?[Y]:[]:Cn(Y,T,F)),_n=["tfoot","thead","tbody","colgroup"],Ls=x=>Yt(_n,x),ns=(x,T)=>({rows:x,columns:T}),vs=(x,T,F)=>({element:x,rowspan:T,colspan:F}),$r=(x,T,F,Y,ye,Ge)=>({element:x,rowspan:T,colspan:F,row:Y,column:ye,isLocked:Ge}),ki=(x,T,F)=>({element:x,cells:T,section:F}),Mn=(x,T,F,Y)=>({startRow:x,startCol:T,finishRow:F,finishCol:Y}),Gu=(x,T,F)=>({element:x,colspan:T,column:F}),lc=(x,T)=>({element:x,columns:T}),Ku=(x,T,F=Lt)=>{if(F(T))return tt.none();if(Yt(x,An(T)))return tt.some(T);const Y=ye=>Qt(ye,"table")||F(ye);return Sl(T,x.join(","),Y)},Yu=(x,T)=>Ku(["td","th"],x,T),Ca=x=>qo(x,"th,td"),lh=x=>Qt(x,"colgroup")?Ac(x,"col"):ut(Jg(x),T=>Ac(T,"col")),Va=(x,T)=>or(x,"table",T),og=x=>qo(x,"tr"),Jg=x=>Va(x).fold(so([]),T=>Ac(T,"colgroup")),Hb=(x,T)=>pn(x,F=>{if(An(F)==="colgroup"){const Y=pn(lh(F),ye=>{const Ge=yo(ye,"span",1);return vs(ye,1,Ge)});return ki(F,Y,"colgroup")}else{const Y=pn(Ca(F),ye=>{const Ge=yo(ye,"rowspan",1),Et=yo(ye,"colspan",1);return vs(ye,Ge,Et)});return ki(F,Y,T(F))}}),Mt=x=>ni(x).map(T=>{const F=An(T);return Ls(F)?F:"tbody"}).getOr("tbody"),iu=x=>{const T=og(x),Y=[...Jg(x),...T];return Hb(Y,Mt)},Xg="data-snooker-locked-cols",Td=x=>gs(x,Xg).bind(T=>tt.from(T.match(/\d+/g))).map(T=>St(T,he)),na=(x,T)=>x+","+T,ep=(x,T,F)=>tt.from(x.access[na(T,F)]),lu=(x,T,F)=>{const Y=Od(x,ye=>F(T,ye.element));return Y.length>0?tt.some(Y[0]):tt.none()},Od=(x,T)=>{const F=ut(x.all,Y=>Y.cells);return qn(F,T)},tp=x=>{const T={};let F=0;return H(x.cells,Y=>{const ye=Y.colspan;Mo(ye,Ge=>{const Et=F+Ge;T[Et]=Gu(Y.element,ye,Et)}),F+=ye}),T},Im=x=>{const T={},F=[],ye=go(x).map(zs=>zs.element).bind(Va).bind(Td).getOr({});let Ge=0,Et=0,Wt=0;const{pass:bo,fail:Xo}=ti(x,zs=>zs.section==="colgroup");H(Xo,zs=>{const ba=[];H(zs.cells,ya=>{let ud=0;for(;T[na(Wt,ud)]!==void 0;)ud++;const Qm=So(ye,ud.toString()),Jm=$r(ya.element,ya.rowspan,ya.colspan,Wt,ud,Qm);for(let Fd=0;Fd<ya.colspan;Fd++)for(let Xm=0;Xm<ya.rowspan;Xm++){const md=Wt+Xm,ef=ud+Fd,lp=na(md,ef);T[lp]=Jm,Et=Math.max(Et,ef+1)}ba.push(Jm)}),Ge++,F.push(ki(zs.element,ba,zs.section)),Wt++});const{columns:Xs,colgroups:dn}=rn(bo).map(zs=>{const ba=tp(zs);return{colgroups:[lc(zs.element,dt(ba))],columns:ba}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:ns(Ge,Et),access:T,all:F,columns:Xs,colgroups:dn}},cc={fromTable:x=>{const T=iu(x);return Im(T)},generate:Im,getAt:ep,findItem:lu,filterItems:Od,justCells:x=>ut(x.all,T=>T.cells),justColumns:x=>dt(x.columns),hasColumns:x=>sn(x.columns).length>0,getColumnAt:(x,T)=>tt.from(x.columns[T])};var ng=tinymce.util.Tools.resolve("tinymce.util.Tools");const du=(x,T,F)=>{const Y=x.select("td,th",T);let ye;for(let Ge=0;Ge<Y.length;Ge++){const Et=x.getStyle(Y[Ge],F);if(je(ye)&&(ye=Et),ye!==Et)return""}return ye},Ol=(x,T,F)=>{ng.each("left center right".split(" "),Y=>{Y!==F&&x.formatter.remove("align"+Y,{},T)}),F&&x.formatter.apply("align"+F,{},T)},Gl=(x,T,F)=>{ng.each("top middle bottom".split(" "),Y=>{Y!==F&&x.formatter.remove("valign"+Y,{},T)}),F&&x.formatter.apply("valign"+F,{},T)},fn=(x,T,F)=>{x.dispatch("TableModified",{...F,table:T})},Bm=(x,T)=>vr(x).getOr(T),ma=(x,T,F)=>Bm(fe(x,T),F),td=(x,T,F,Y)=>{const ye=ma(x,`padding-${F}`,0),Ge=ma(x,`padding-${Y}`,0),Et=ma(x,`border-${F}-width`,0),Wt=ma(x,`border-${Y}-width`,0);return T-ye-Ge-Et-Wt},uu=(x,T)=>{const F=x.dom,Y=F.getBoundingClientRect().width||F.offsetWidth;return T==="border-box"?Y:td(x,Y,"left","right")},kr=x=>uu(x,"content-box");var mu=tinymce.util.Tools.resolve("tinymce.Env");const Lm="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",Er=Mo(5,x=>{const T=`${x+1}px`;return{title:T,value:T}}),dr=pn(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],x=>({title:x,value:x.toLowerCase()})),Cs="100%",Qs=x=>{var T;const F=x.dom,Y=(T=F.getParent(x.selection.getStart(),F.isBlock))!==null&&T!==void 0?T:x.getBody();return kr(Jo.fromDom(Y))+"px"},wi=(x,T)=>np(x)||!zl(x)?T:Sc(x)?{...T,width:Qs(x)}:{...T,width:Cs},Qi=(x,T)=>np(x)||zl(x)?T:Sc(x)?{...T,width:Qs(x)}:{...T,width:Cs},fa=x=>T=>T.options.get(x),ur=x=>{const T=x.options.register;T("table_border_widths",{processor:"object[]",default:Er}),T("table_border_styles",{processor:"object[]",default:dr}),T("table_cell_advtab",{processor:"boolean",default:!0}),T("table_row_advtab",{processor:"boolean",default:!0}),T("table_advtab",{processor:"boolean",default:!0}),T("table_appearance_options",{processor:"boolean",default:!0}),T("table_grid",{processor:"boolean",default:!mu.deviceType.isTouch()}),T("table_cell_class_list",{processor:"object[]",default:[]}),T("table_row_class_list",{processor:"object[]",default:[]}),T("table_class_list",{processor:"object[]",default:[]}),T("table_toolbar",{processor:"string",default:Lm}),T("table_background_color_map",{processor:"object[]",default:[]}),T("table_border_color_map",{processor:"object[]",default:[]})},fu=fa("table_sizing_mode"),mr=fa("table_border_widths"),Tr=fa("table_border_styles"),xr=fa("table_cell_advtab"),od=fa("table_row_advtab"),Ss=fa("table_advtab"),Qu=fa("table_appearance_options"),Pm=fa("table_grid"),zl=fa("table_style_by_css"),un=fa("table_cell_class_list"),Br=fa("table_row_class_list"),zd=fa("table_class_list"),Kl=fa("table_toolbar"),Fm=fa("table_background_color_map"),Yl=fa("table_border_color_map"),Sc=x=>fu(x)==="fixed",np=x=>fu(x)==="responsive",Um=x=>{const T=x.options,F=T.get("table_default_styles");return T.isSet("table_default_styles")?F:wi(x,F)},dc=x=>{const T=x.options,F=T.get("table_default_attributes");return T.isSet("table_default_attributes")?F:Qi(x,F)},sp=(x,T)=>T.column>=x.startCol&&T.column+T.colspan-1<=x.finishCol&&T.row>=x.startRow&&T.row+T.rowspan-1<=x.finishRow,oe=(x,T)=>{let F=!0;const Y=Qe(sp,T);for(let ye=T.startRow;ye<=T.finishRow;ye++)for(let Ge=T.startCol;Ge<=T.finishCol;Ge++)F=F&&cc.getAt(x,ye,Ge).exists(Y);return F?tt.some(T):tt.none()},Dl=(x,T)=>Mn(Math.min(x.row,T.row),Math.min(x.column,T.column),Math.max(x.row+x.rowspan-1,T.row+T.rowspan-1),Math.max(x.column+x.colspan-1,T.column+T.colspan-1)),ja=(x,T,F)=>{const Y=cc.findItem(x,T,vt),ye=cc.findItem(x,F,vt);return Y.bind(Ge=>ye.map(Et=>Dl(Ge,Et)))},uc=(x,T,F)=>ja(x,T,F).bind(Y=>oe(x,Y)),gu=(x,T,F)=>{const Y=sg(x);return uc(Y,T,F)},sg=cc.fromTable,On=(x,T)=>{ni(x).each(Y=>{Y.dom.insertBefore(T.dom,x.dom)})},Li=(x,T)=>{sc(x).fold(()=>{ni(x).each(ye=>{Pi(ye,T)})},Y=>{On(Y,T)})},nd=(x,T)=>{_s(x).fold(()=>{Pi(x,T)},Y=>{x.dom.insertBefore(T.dom,Y.dom)})},Pi=(x,T)=>{x.dom.appendChild(T.dom)},sd=(x,T)=>{On(x,T),Pi(T,x)},ul=(x,T)=>{H(T,(F,Y)=>{const ye=Y===0?x:T[Y-1];Li(ye,F)})},Za=(x,T)=>{H(T,F=>{Pi(x,F)})},mc=x=>{const T=x.dom;T.parentNode!==null&&T.parentNode.removeChild(T)},ii=x=>{const T=Ht(x);T.length>0&&ul(x,T),mc(x)},li=((x,T)=>{const F=Ge=>{if(!x(Ge))throw new Error("Can only get "+T+" value of a "+T+" node");return Y(Ge).getOr("")},Y=Ge=>x(Ge)?tt.from(Ge.dom.nodeValue):tt.none();return{get:F,getOption:Y,set:(Ge,Et)=>{if(!x(Ge))throw new Error("Can only set raw "+T+" value of a "+T+" node");Ge.dom.nodeValue=Et}}})(Cl,"text"),Fi=x=>li.get(x),rp=(x,T)=>li.set(x,T);var Dd=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Es=()=>{const x=Xo=>Jo.fromDom(Xo.dom.cloneNode(!1)),T=Xo=>Lo(Xo).dom,F=Xo=>Sr(Xo)?An(Xo)==="body"?!0:Yt(Dd,An(Xo)):!1,Y=Xo=>Sr(Xo)?Yt(["br","img","hr","input"],An(Xo)):!1,ye=Xo=>Sr(Xo)&&Bi(Xo,"contenteditable")==="false",Ge=(Xo,Xs)=>Xo.dom.compareDocumentPosition(Xs.dom),Et=(Xo,Xs)=>{const dn=Ha(Xo);ir(Xs,dn)},Wt=Xo=>{const Xs=An(Xo);return Yt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Xs)},bo=Xo=>Sr(Xo)?gs(Xo,"lang"):tt.none();return{up:so({selector:Sl,closest:or,predicate:nu,all:bi}),down:so({selector:ta,predicate:ic}),styles:so({get:fe,getRaw:Ve,set:W,remove:Dt}),attrs:so({get:Bi,set:oa,remove:Aa,copyTo:Et}),insert:so({before:On,after:Li,afterAll:ul,append:Pi,appendAll:Za,prepend:nd,wrap:sd}),remove:so({unwrap:ii,remove:mc}),create:so({nu:Jo.fromTag,clone:x,text:Jo.fromText}),query:so({comparePosition:Ge,prevSibling:Ni,nextSibling:sc}),property:so({children:Ht,name:An,parent:ni,document:T,isText:Cl,isComment:ed,isElement:Sr,isSpecial:Wt,getLanguage:bo,getText:Fi,setText:rp,isBoundary:F,isEmptyTag:Y,isNonEditable:ye}),eq:vt,is:wa}};const Ec=(x,T,F,Y)=>{const ye=F[0],Ge=F.slice(1);return Y(x,T,ye,Ge)},pu=(x,T,F)=>F.length>0?Ec(x,T,F,Or):tt.none(),Or=(x,T,F,Y)=>{const ye=T(x,F);return Ws(Y,(Ge,Et)=>{const Wt=T(x,Et);return fc(x,Ge,Wt)},ye)},fc=(x,T,F)=>T.bind(Y=>F.filter(Qe(x.eq,Y))),Hm=pu,Ju=Es(),rg=(x,T)=>Hm(Ju,(F,Y)=>x(Y),T),Tc=x=>Sl(x,"table"),Rl=(x,T)=>{const F=ta(x,T);return F.length>0?tt.some(F):tt.none()},Oc=(x,T,F)=>Wn(x,T).bind(Y=>Wn(x,F).bind(ye=>rg(Tc,[Y,ye]).map(Ge=>({first:Y,last:ye,table:Ge})))),Ps=(x,T)=>Rl(x,T),Nl=(x,T,F)=>Oc(x,T,F).bind(Y=>{const ye=bo=>vt(x,bo),Ge="thead,tfoot,tbody,table",Et=Sl(Y.first,Ge,ye),Wt=Sl(Y.last,Ge,ye);return Et.bind(bo=>Wt.bind(Xo=>vt(bo,Xo)?gu(Y.table,Y.first,Y.last):tt.none()))}),ga=x=>pn(x,Jo.fromDom),zc="data-mce-selected",qa="td["+zc+"],th["+zc+"]",Xu="data-mce-first-selected",wr="td["+Xu+"],th["+Xu+"]",sa="data-mce-last-selected",Ji="td["+sa+"],th["+sa+"]",Xe={selected:zc,selectedSelector:qa,firstSelected:Xu,firstSelectedSelector:wr,lastSelected:sa,lastSelectedSelector:Ji},Ui=x=>Va(x).bind(T=>Ps(T,Xe.firstSelectedSelector)).fold(so(x),T=>T[0]),Vm=x=>(T,F)=>{const Y=An(T),ye=Y==="col"||Y==="colgroup"?Ui(T):T;return or(ye,x,F)},sr=Vm("th,td,caption"),Sa=Vm("th,td"),Ea=x=>ga(x.model.table.getSelectedCells()),Hi=(x,T)=>{const F=Sa(x),Y=F.bind(ye=>Va(ye)).map(ye=>og(ye));return ri(F,Y,(ye,Ge)=>qn(Ge,Et=>hi(ga(Et.dom.cells),Wt=>Bi(Wt,T)==="1"||vt(Wt,ye)))).getOr([])},Rd=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],pa=x=>({value:Gr(x)}),$n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Xi=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rd=x=>$n.test(x)||Xi.test(x),Gr=x=>lr(x,"#").toUpperCase(),jm=x=>rd(x)?tt.some({value:Gr(x)}):tt.none(),el=x=>{const T=x.toString(16);return(T.length===1?"0"+T:T).toUpperCase()},ha=x=>{const T=el(x.red)+el(x.green)+el(x.blue);return pa(T)},Vi=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Te=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Ta=(x,T,F,Y)=>({red:x,green:T,blue:F,alpha:Y}),ad=(x,T,F,Y)=>{const ye=parseInt(x,10),Ge=parseInt(T,10),Et=parseInt(F,10),Wt=parseFloat(Y);return Ta(ye,Ge,Et,Wt)},gc=x=>{if(x==="transparent")return tt.some(Ta(0,0,0,0));const T=Vi.exec(x);if(T!==null)return tt.some(ad(T[1],T[2],T[3],"1"));const F=Te.exec(x);return F!==null?tt.some(ad(F[1],F[2],F[3],F[4])):tt.none()},zr=x=>jm(x).orThunk(()=>gc(x).map(ha)).getOrThunk(()=>{const T=document.createElement("canvas");T.height=1,T.width=1;const F=T.getContext("2d");F.clearRect(0,0,T.width,T.height),F.fillStyle="#FFFFFF",F.fillStyle=x,F.fillRect(0,0,1,1);const Y=F.getImageData(0,0,1,1).data,ye=Y[0],Ge=Y[1],Et=Y[2],Wt=Y[3];return ha(Ta(ye,Ge,Et,Wt))}),Js=x=>gc(x).map(ha).map(T=>"#"+T.value).getOr(x),rr=x=>{let T=x;return{get:()=>T,set:ye=>{T=ye}}},Fs=x=>{const T=rr(tt.none()),F=()=>T.get().each(x);return{clear:()=>{F(),T.set(tt.none())},isSet:()=>T.get().isSome(),get:()=>T.get(),set:Wt=>{F(),T.set(tt.some(Wt))}}},em=()=>Fs(x=>x.unbind()),_o=(x,T,F)=>Y=>{const ye=em(),Ge=Ys(F),Et=()=>{const Wt=Ea(x),bo=Xo=>x.formatter.match(T,{value:F},Xo.dom,Ge);Ge?(Y.setActive(!hi(Wt,bo)),ye.set(x.formatter.formatChanged(T,Xo=>Y.setActive(!Xo),!0))):(Y.setActive(yt(Wt,bo)),ye.set(x.formatter.formatChanged(T,Y.setActive,!1,{value:F})))};return x.initialized?Et():x.on("init",Et),ye.clear},Kr=x=>So(x,"menu"),Oa=x=>pn(x,T=>{const F=T.text||T.title||"";return Kr(T)?{text:F,items:Oa(T.menu)}:{text:F,value:T.value}}),Hn=(x,T,F,Y)=>pn(T,ye=>{const Ge=ye.text||ye.title;return Kr(ye)?{type:"nestedmenuitem",text:Ge,getSubmenuItems:()=>Hn(x,ye.menu,F,Y)}:{text:Ge,type:"togglemenuitem",onAction:()=>Y(ye.value),onSetup:_o(x,F,ye.value)}}),ra=(x,T)=>F=>{x.execCommand("mceTableApplyCellStyle",!1,{[T]:F})},id=x=>ut(x,T=>Kr(T)?[{...T,menu:id(T.menu)}]:ai(T.value)?[T]:[]),Ml=(x,T,F,Y)=>ye=>ye(Hn(x,T,F,Y)),Nd=(x,T,F)=>{const Y=pn(T,ye=>({text:ye.title,value:"#"+zr(ye.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:Y.length>0?Y:void 0,allowCustomColors:!1},onAction:ye=>{const Ge=ye.value==="remove"?"":ye.value;x.execCommand("mceTableApplyCellStyle",!1,{[F]:Ge})}}]},hu=x=>()=>{const F=x.queryCommandValue("mceTableRowType")==="header"?"body":"header";x.execCommand("mceTableRowType",!1,{type:F})},Dc=x=>()=>{const F=x.queryCommandValue("mceTableColType")==="th"?"td":"th";x.execCommand("mceTableColType",!1,{type:F})},aa=x=>{const T=Oa(un(x));return T.length>0?tt.some({name:"class",type:"listbox",label:"Class",items:T}):tt.none()},Ql=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Rd}],ld=x=>Ql.concat(aa(x).toArray()),Il=(x,T)=>{const Y=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Oa(Tr(x)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:T==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(Y):Y}},za={normal:(x,T)=>{const F=x.dom;return{setAttrib:(Et,Wt)=>{F.setAttrib(T,Et,Wt)},setStyle:(Et,Wt)=>{F.setStyle(T,Et,Wt)},setFormat:(Et,Wt)=>{Wt===""?x.formatter.remove(Et,{value:null},T,!0):x.formatter.apply(Et,{value:Wt},T)}}}},A=cl("th"),N=(x,T)=>x&&T?"sectionCells":x?"section":"cells",j=x=>{const T=x.section==="thead",F=ua(ue(x.cells),"th");return x.section==="tfoot"?{type:"footer"}:T||F?{type:"header",subType:N(T,F)}:{type:"body"}},ue=x=>{const T=qn(x,F=>A(F.element));return T.length===0?tt.some("td"):T.length===x.length?tt.some("th"):tt.none()},ge=x=>{const T=pn(x,ye=>j(ye).type),F=Yt(T,"header"),Y=Yt(T,"footer");if(!F&&!Y)return tt.some("body");{const ye=Yt(T,"body");return F&&!ye&&!Y?tt.some("header"):!F&&!ye&&Y?tt.some("footer"):tt.none()}},wt=x=>{let T=!1,F;return(...Y)=>(T||(T=!0,F=x.apply(null,Y)),F)},oo=(x,T)=>Bn(x.all,F=>ts(F.cells,Y=>vt(T,Y.element))),Wo=(x,T,F)=>{const Y=pn(T.selection,Ge=>Yu(Ge).bind(Et=>oo(x,Et)).filter(F)),ye=Ho(Y);return Wr(ye.length>0,ye)},Eo=(x,T)=>T.mergable,ho=(x,T)=>T.unmergable,Qn=(x,T)=>Wo(x,T,he),Yr=(x,T)=>oo(x,T).exists(F=>!F.isLocked),Wa=(x,T)=>yt(T,F=>Yr(x,F)),Rc=(x,T)=>Eo(x,T).filter(F=>Wa(x,F.cells)),$a=(x,T)=>ho(x,T).filter(F=>Wa(x,F));({...{generate:x=>{if(!Oe(x))throw new Error("cases must be an array");if(x.length===0)throw new Error("there must be at least one case");const T=[],F={};return H(x,(Y,ye)=>{const Ge=sn(Y);if(Ge.length!==1)throw new Error("one and only one name per case");const Et=Ge[0],Wt=Y[Et];if(F[Et]!==void 0)throw new Error("duplicate key detected:"+Et);if(Et==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Oe(Wt))throw new Error("case arguments must be an array");T.push(Et),F[Et]=(...bo)=>{const Xo=bo.length;if(Xo!==Wt.length)throw new Error("Wrong number of arguments to case "+Et+". Expected "+Wt.length+" ("+Wt+"), got "+Xo);return{fold:(...dn)=>{if(dn.length!==x.length)throw new Error("Wrong number of arguments to fold. Expected "+x.length+", got "+dn.length);return dn[ye].apply(null,bo)},match:dn=>{const Gn=sn(dn);if(T.length!==Gn.length)throw new Error("Wrong number of arguments to match. Expected: "+T.join(",")+`
Actual: `+Gn.join(","));if(!yt(T,ba=>Yt(Gn,ba)))throw new Error("Not all branches were specified when using match. Specified: "+Gn.join(", ")+`
Required: `+T.join(", "));return dn[Et].apply(null,bo)},log:dn=>{console.log(dn,{constructors:T,constructor:Et,params:bo})}}}}),F}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const ro=(x,T)=>{const F=cc.fromTable(x);return Qn(F,T).bind(ye=>{const Ge=ye[ye.length-1],Et=ye[0].row,Wt=Ge.row+Ge.rowspan,bo=F.all.slice(Et,Wt);return ge(bo)}).getOr("")},_i=x=>El(x,"rgb")?Js(x):x,Ai=x=>{const T=Jo.fromDom(x);return{borderwidth:Ve(T,"border-width").getOr(""),borderstyle:Ve(T,"border-style").getOr(""),bordercolor:Ve(T,"border-color").map(_i).getOr(""),backgroundcolor:Ve(T,"background-color").map(_i).getOr("")}},Jl=x=>{const T=x[0],F=x.slice(1);return H(F,Y=>{H(sn(T),ye=>{Vt(Y,(Ge,Et)=>{const Wt=T[ye];Wt!==""&&ye===Et&&Wt!==Ge&&(T[ye]="")})})}),T},tl=(x,T,F,Y)=>ts(x,ye=>!je(F.formatter.matchNode(Y,T+ye))).getOr(""),Md=Qe(tl,["left","center","right"],"align"),ag=Qe(tl,["top","middle","bottom"],"valign"),ch=(x,T)=>{const F=Um(x),Y=dc(x),ye=()=>({borderstyle:kn(F,"border-style").getOr(""),bordercolor:_i(kn(F,"border-color").getOr("")),backgroundcolor:_i(kn(F,"background-color").getOr(""))}),Ge={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},Et=()=>{const Xs=F["border-width"];return zl(x)&&Xs?{border:Xs}:kn(Y,"border").fold(()=>({}),dn=>({border:dn}))},Wt=T?ye():{},bo=()=>{const Xs=kn(F,"border-spacing").or(kn(Y,"cellspacing")).fold(()=>({}),Gn=>({cellspacing:Gn})),dn=kn(F,"border-padding").or(kn(Y,"cellpadding")).fold(()=>({}),Gn=>({cellpadding:Gn}));return{...Xs,...dn}};return{...Ge,...F,...Y,...Wt,...Et(),...bo()}},Nc=x=>Va(Jo.fromDom(x)).map(T=>{const F={selection:ga(x.cells)};return ro(T,F)}).getOr(""),dh=(x,T,F)=>{const Y=(Wt,bo)=>{const Xo=Ve(Jo.fromDom(bo),"border-width");return zl(x)&&Xo.isSome()?Xo.getOr(""):Wt.getAttrib(bo,"border")||du(x.dom,bo,"border-width")||du(x.dom,bo,"border")||""},ye=x.dom,Ge=zl(x)?ye.getStyle(T,"border-spacing")||ye.getAttrib(T,"cellspacing"):ye.getAttrib(T,"cellspacing")||ye.getStyle(T,"border-spacing"),Et=zl(x)?du(ye,T,"padding")||ye.getAttrib(T,"cellpadding"):ye.getAttrib(T,"cellpadding")||du(ye,T,"padding");return{width:ye.getStyle(T,"width")||ye.getAttrib(T,"width"),height:ye.getStyle(T,"height")||ye.getAttrib(T,"height"),cellspacing:Ge??"",cellpadding:Et??"",border:Y(ye,T),caption:!!ye.select("caption",T)[0],class:ye.getAttrib(T,"class",""),align:Md(x,T),...F?Ai(T):{}}},Mc=(x,T,F)=>{const Y=x.dom;return{height:Y.getStyle(T,"height")||Y.getAttrib(T,"height"),class:Y.getAttrib(T,"class",""),type:Nc(T),align:Md(x,T),...F?Ai(T):{}}},tm=(x,T,F,Y)=>{const ye=x.dom,Ge=Y.getOr(T),Et=(Wt,bo)=>ye.getStyle(Wt,bo)||ye.getAttrib(Wt,bo);return{width:Et(Ge,"width"),height:Et(T,"height"),scope:ye.getAttrib(T,"scope"),celltype:ru(T),class:ye.getAttrib(T,"class",""),halign:Md(x,T),valign:ag(x,T),...F?Ai(T):{}}},Id=(x,T)=>{const F=cc.fromTable(x),Y=cc.justCells(F),ye=qn(Y,Ge=>hi(T,Et=>vt(Ge.element,Et)));return pn(ye,Ge=>({element:Ge.element.dom,column:cc.getColumnAt(F,Ge.column).map(Et=>Et.element.dom)}))},kt=(x,T,F,Y)=>{Y("scope")&&x.setAttrib("scope",F.scope),Y("class")&&x.setAttrib("class",F.class),Y("height")&&x.setStyle("height",os(F.height)),Y("width")&&T.setStyle("width",os(F.width))},qm=(x,T,F)=>{F("backgroundcolor")&&x.setFormat("tablecellbackgroundcolor",T.backgroundcolor),F("bordercolor")&&x.setFormat("tablecellbordercolor",T.bordercolor),F("borderstyle")&&x.setFormat("tablecellborderstyle",T.borderstyle),F("borderwidth")&&x.setFormat("tablecellborderwidth",os(T.borderwidth))},yu=(x,T,F,Y)=>{const ye=T.length===1;H(T,Ge=>{const Et=Ge.element,Wt=ye?he:Y,bo=za.normal(x,Et),Xo=Ge.column.map(Xs=>za.normal(x,Xs)).getOr(bo);kt(bo,Xo,F,Wt),xr(x)&&qm(bo,F,Wt),Y("halign")&&Ol(x,Et,F.halign),Y("valign")&&Gl(x,Et,F.valign)})},Bd=(x,T)=>{x.execCommand("mceTableCellType",!1,{type:T.celltype,no_events:!0})},Ld=(x,T,F,Y)=>{const ye=O(Y,(Ge,Et)=>F[Et]!==Ge);Jt(ye)>0&&T.length>=1&&Va(T[0]).each(Ge=>{const Et=Id(Ge,T),Wt=Jt(O(ye,(Xo,Xs)=>Xs!=="scope"&&Xs!=="celltype"))>0,bo=ht(ye,"celltype");(Wt||ht(ye,"scope"))&&yu(x,Et,Y,Qe(ht,ye)),bo&&Bd(x,Y),fn(x,Ge.dom,{structure:bo,style:Wt})})},ig=(x,T,F,Y)=>{const ye=Y.getData();Y.close(),x.undoManager.transact(()=>{Ld(x,T,F,ye),x.focus()})},fr=(x,T)=>{const F=Va(T[0]).map(Y=>pn(Id(Y,T),ye=>tm(x,ye.element,xr(x),ye.column)));return Jl(F.getOrDie())},Wm=x=>{const T=Ea(x);if(T.length===0)return;const F=fr(x,T),Y={type:"tabpanel",tabs:[{title:"General",name:"general",items:ld(x)},Il(x,"cell")]},ye={type:"panel",items:[{type:"grid",columns:2,items:ld(x)}]};x.windowManager.open({title:"Cell Properties",size:"normal",body:xr(x)?Y:ye,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:F,onSubmit:Qe(ig,x,T,F)})},ml=x=>{const T=Oa(Br(x));return T.length>0?tt.some({name:"class",type:"listbox",label:"Class",items:T}):tt.none()},Ts=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],om=x=>Ts.concat(ml(x).toArray()),Sn=(x,T,F)=>{F("class")&&x.setAttrib("class",T.class),F("height")&&x.setStyle("height",os(T.height))},ao=(x,T,F)=>{F("backgroundcolor")&&x.setStyle("background-color",T.backgroundcolor),F("bordercolor")&&x.setStyle("border-color",T.bordercolor),F("borderstyle")&&x.setStyle("border-style",T.borderstyle)},vu=(x,T,F,Y)=>{const Ge=T.length===1?he:Y;H(T,Et=>{const Wt=za.normal(x,Et);Sn(Wt,F,Ge),od(x)&&ao(Wt,F,Ge),Y("align")&&Ol(x,Et,F.align)})},lg=(x,T)=>{x.execCommand("mceTableRowType",!1,{type:T.type,no_events:!0})},cg=(x,T,F,Y)=>{const ye=O(Y,(Ge,Et)=>F[Et]!==Ge);if(Jt(ye)>0){const Ge=ht(ye,"type"),Et=Ge?Jt(ye)>1:!0;Et&&vu(x,T,Y,Qe(ht,ye)),Ge&&lg(x,Y),Va(Jo.fromDom(T[0])).each(Wt=>fn(x,Wt.dom,{structure:Ge,style:Et}))}},fl=(x,T,F,Y)=>{const ye=Y.getData();Y.close(),x.undoManager.transact(()=>{cg(x,T,F,ye),x.focus()})},hn=x=>{const T=Hi(ds(x),Xe.selected);if(T.length===0)return;const F=pn(T,Et=>Mc(x,Et.dom,od(x))),Y=Jl(F),ye={type:"tabpanel",tabs:[{title:"General",name:"general",items:om(x)},Il(x,"row")]},Ge={type:"panel",items:[{type:"grid",columns:2,items:om(x)}]};x.windowManager.open({title:"Row Properties",size:"normal",body:od(x)?ye:Ge,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Y,onSubmit:Qe(fl,x,pn(T,Et=>Et.dom),Y)})},ku=(x,T,F)=>{const Y=F?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],ye=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Ge=Qu(x)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],Et=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],Wt=T.length>0?[{type:"listbox",name:"class",label:"Class",items:T}]:[];return Y.concat(ye).concat(Ge).concat(Et).concat(Wt)},ap=(x,T,F,Y)=>{if(T.tagName==="TD"||T.tagName==="TH")Tt(F)&&zt(Y)?x.setStyle(T,F,Y):x.setStyles(T,F);else if(T.children)for(let ye=0;ye<T.children.length;ye++)ap(x,T.children[ye],F,Y)},at=(x,T,F,Y)=>{const ye=x.dom,Ge={},Et={},Wt=zl(x),bo=Ss(x);if(je(F.class)||(Ge.class=F.class),Et.height=os(F.height),Wt?Et.width=os(F.width):ye.getAttrib(T,"width")&&(Ge.width=$u(F.width)),Wt?(Et["border-width"]=os(F.border),Et["border-spacing"]=os(F.cellspacing)):(Ge.border=F.border,Ge.cellpadding=F.cellpadding,Ge.cellspacing=F.cellspacing),Wt&&T.children){const Xo={};if(Y.border&&(Xo["border-width"]=os(F.border)),Y.cellpadding&&(Xo.padding=os(F.cellpadding)),bo&&Y.bordercolor&&(Xo["border-color"]=F.bordercolor),!tr(Xo))for(let Xs=0;Xs<T.children.length;Xs++)ap(ye,T.children[Xs],Xo)}if(bo){const Xo=F;Et["background-color"]=Xo.backgroundcolor,Et["border-color"]=Xo.bordercolor,Et["border-style"]=Xo.borderstyle}ye.setStyles(T,{...Um(x),...Et}),ye.setAttribs(T,{...dc(x),...Ge})},$m=(x,T,F,Y)=>{const ye=x.dom,Ge=Y.getData(),Et=O(Ge,(Wt,bo)=>F[bo]!==Wt);Y.close(),Ge.class===""&&delete Ge.class,x.undoManager.transact(()=>{if(!T){const Wt=vi(Ge.cols).getOr(1),bo=vi(Ge.rows).getOr(1);x.execCommand("mceInsertTable",!1,{rows:bo,columns:Wt}),T=Sa(ds(x),yr(x)).bind(Xo=>Va(Xo,yr(x))).map(Xo=>Xo.dom).getOrDie()}if(Jt(Et)>0){const Wt={border:ht(Et,"border"),bordercolor:ht(Et,"bordercolor"),cellpadding:ht(Et,"cellpadding")};at(x,T,Ge,Wt);const bo=ye.select("caption",T)[0];(bo&&!Ge.caption||!bo&&Ge.caption)&&x.execCommand("mceTableToggleCaption"),Ol(x,T,Ge.align)}if(x.focus(),x.addVisual(),Jt(Et)>0){const Wt=ht(Et,"caption"),bo=Wt?Jt(Et)>1:!0;fn(x,T,{structure:Wt,style:bo})}})},xu=(x,T)=>{const F=x.dom;let Y,ye=ch(x,Ss(x));T?(ye.cols="1",ye.rows="1",Ss(x)&&(ye.borderstyle="",ye.bordercolor="",ye.backgroundcolor="")):(Y=F.getParent(x.selection.getStart(),"table",x.getBody()),Y?ye=dh(x,Y,Ss(x)):Ss(x)&&(ye.borderstyle="",ye.bordercolor="",ye.backgroundcolor=""));const Ge=Oa(zd(x));Ge.length>0&&ye.class&&(ye.class=ye.class.replace(/\s*mce\-item\-table\s*/g,""));const Et={type:"grid",columns:2,items:ku(x,Ge,T)},Wt=()=>({type:"panel",items:[Et]}),bo=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[Et]},Il(x,"table")]}),Xo=Ss(x)?bo():Wt();x.windowManager.open({title:"Table Properties",size:"normal",body:Xo,onSubmit:Qe($m,x,Y,ye),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ye})},nm=x=>{const T=F=>{Ii(ds(x))&&F()};Vt({mceTableProps:Qe(xu,x,!1),mceTableRowProps:Qe(hn,x),mceTableCellProps:Qe(Wm,x),mceInsertTableDialog:Qe(xu,x,!0)},(F,Y)=>x.addCommand(Y,()=>T(F)))},uh=(x,T)=>Ed(x,T).isSome(),cd=We,Zb=x=>{const T=(Y,ye)=>gs(Y,ye).exists(Ge=>parseInt(Ge,10)>1),F=Y=>T(Y,"rowspan")||T(Y,"colspan");return x.length>0&&yt(x,F)?tt.some(x):tt.none()},sm=(x,T,F)=>T.length<=1?tt.none():Nl(x,F.firstSelectedSelector,F.lastSelectedSelector).map(Y=>({bounds:Y,cells:T})),Os=x=>({element:x,mergable:tt.none(),unmergable:tt.none(),selection:[x]}),dd=(x,T,F)=>({element:F,mergable:sm(T,x,Xe),unmergable:Zb(x),selection:cd(x)}),qb=x=>{const T=rr(tt.none()),F=rr([]);let Y=tt.none();const ye=cl("caption"),Ge=Vn=>Y.forall(ss=>!ss[Vn]),Et=()=>sr(ds(x),yr(x)),Wt=()=>sr(Yi(x),yr(x)),bo=()=>Et().bind(Vn=>qr(ri(Va(Vn),Wt().bind(Va),(ss,Ci)=>vt(ss,Ci)?ye(Vn)?tt.some(Os(Vn)):tt.some(dd(Ea(x),ss,Vn)):tt.none()))),Xo=Vn=>Va(Vn.element).map(Ci=>{const rs=cc.fromTable(Ci),mh=Qn(rs,Vn).getOr([]),cr=Al(mh,(Ga,pc)=>(pc.isLocked&&(Ga.onAny=!0,pc.column===0?Ga.onFirst=!0:pc.column+pc.colspan>=rs.grid.columns&&(Ga.onLast=!0)),Ga),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Rc(rs,Vn).isSome(),unmergeable:$a(rs,Vn).isSome(),locked:cr}}),Xs=()=>{T.set(wt(bo)()),Y=T.get().bind(Xo),H(F.get(),ae)},dn=Vn=>(Vn(),F.set(F.get().concat([Vn])),()=>{F.set(qn(F.get(),ss=>ss!==Vn))}),Gn=(Vn,ss)=>dn(()=>T.get().fold(()=>{Vn.setEnabled(!1)},Ci=>{Vn.setEnabled(!ss(Ci)&&x.selection.isEditable())})),zs=(Vn,ss,Ci)=>dn(()=>T.get().fold(()=>{Vn.setEnabled(!1),Vn.setActive(!1)},rs=>{Vn.setEnabled(!ss(rs)&&x.selection.isEditable()),Vn.setActive(Ci(rs))})),ba=Vn=>Y.exists(ss=>ss.locked[Vn]),ya=Vn=>Gn(Vn,ss=>!1),ud=Vn=>Gn(Vn,ss=>ye(ss.element)),Qm=Vn=>ss=>Gn(ss,Ci=>ye(Ci.element)||ba(Vn)),Jm=Vn=>ss=>Gn(ss,Ci=>ye(Ci.element)||Vn().isNone()),Fd=(Vn,ss)=>Ci=>Gn(Ci,rs=>ye(rs.element)||Vn().isNone()||ba(ss)),Xm=Vn=>Gn(Vn,ss=>Ge("mergeable")),md=Vn=>Gn(Vn,ss=>Ge("unmergeable")),ef=Vn=>zs(Vn,Lt,ss=>Va(ss.element,yr(x)).exists(rs=>uh(rs,"caption"))),lp=(Vn,ss)=>Ci=>zs(Ci,rs=>ye(rs.element),()=>x.queryCommandValue(Vn)===ss),cp=lp("mceTableRowType","header"),fd=lp("mceTableColType","th");return x.on("NodeChange ExecCommand TableSelectorChange",Xs),{onSetupTable:ya,onSetupCellOrRow:ud,onSetupColumn:Qm,onSetupPasteable:Jm,onSetupPasteableColumn:Fd,onSetupMergeable:Xm,onSetupUnmergeable:md,resetTargets:Xs,onSetupTableWithCaption:ef,onSetupTableRowHeaders:cp,onSetupTableColumnHeaders:fd,targets:T.get}};var ol=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Gm="x-tinymce/dom-table-",gl=Gm+"rows",Km=Gm+"columns",Ic=x=>{var T;const F=(T=ol.read())!==null&&T!==void 0?T:[];return Bn(F,Y=>tt.from(Y.getType(x)))},Pd=()=>Ic(gl),rm=()=>Ic(Km),wu=x=>T=>{const F=()=>{T.setEnabled(x.selection.isEditable())};return x.on("NodeChange",F),F(),()=>{x.off("NodeChange",F)}},am=(x,T)=>{x.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:wu(x),fetch:Wt=>Wt("inserttable | cell row column | advtablesort | tableprops deletetable")});const F=Wt=>()=>x.execCommand(Wt),Y=(Wt,bo)=>{x.queryCommandSupported(bo.command)&&x.ui.registry.addButton(Wt,{...bo,onAction:ct(bo.onAction)?bo.onAction:F(bo.command)})},ye=(Wt,bo)=>{x.queryCommandSupported(bo.command)&&x.ui.registry.addToggleButton(Wt,{...bo,onAction:ct(bo.onAction)?bo.onAction:F(bo.command)})};Y("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:T.onSetupTable}),Y("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:T.onSetupTable}),Y("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:T.onSetupCellOrRow}),Y("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:T.onSetupMergeable}),Y("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:T.onSetupUnmergeable}),Y("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:T.onSetupCellOrRow}),Y("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:T.onSetupCellOrRow}),Y("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:T.onSetupCellOrRow}),Y("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:T.onSetupCellOrRow}),Y("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:T.onSetupColumn("onFirst")}),Y("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:T.onSetupColumn("onLast")}),Y("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:T.onSetupColumn("onAny")}),Y("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:T.onSetupCellOrRow}),Y("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:T.onSetupCellOrRow}),Y("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:T.onSetupPasteable(Pd)}),Y("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:T.onSetupPasteable(Pd)}),Y("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:T.onSetupColumn("onAny")}),Y("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:T.onSetupColumn("onAny")}),Y("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:T.onSetupPasteableColumn(rm,"onFirst")}),Y("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:T.onSetupPasteableColumn(rm,"onLast")}),Y("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:wu(x)});const Ge=id(zd(x));Ge.length!==0&&x.queryCommandSupported("mceTableToggleClass")&&x.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Ml(x,Ge,"tableclass",Wt=>x.execCommand("mceTableToggleClass",!1,Wt)),onSetup:T.onSetupTable});const Et=id(un(x));Et.length!==0&&x.queryCommandSupported("mceTableCellToggleClass")&&x.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Ml(x,Et,"tablecellclass",Wt=>x.execCommand("mceTableCellToggleClass",!1,Wt)),onSetup:T.onSetupCellOrRow}),x.queryCommandSupported("mceTableApplyCellStyle")&&(x.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Ml(x,Rd,"tablecellverticalalign",ra(x,"vertical-align")),onSetup:T.onSetupCellOrRow}),x.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Ml(x,mr(x),"tablecellborderwidth",ra(x,"border-width")),onSetup:T.onSetupCellOrRow}),x.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Ml(x,Tr(x),"tablecellborderstyle",ra(x,"border-style")),onSetup:T.onSetupCellOrRow}),x.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:Wt=>Wt(Nd(x,Fm(x),"background-color")),onSetup:T.onSetupCellOrRow}),x.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:Wt=>Wt(Nd(x,Yl(x),"border-color")),onSetup:T.onSetupCellOrRow})),ye("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:T.onSetupTableWithCaption}),ye("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:hu(x),onSetup:T.onSetupTableRowHeaders}),ye("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Dc(x),onSetup:T.onSetupTableColumnHeaders})},no=x=>{const T=Y=>x.dom.is(Y,"table")&&x.getBody().contains(Y)&&x.dom.isEditable(Y.parentNode),F=Kl(x);F.length>0&&x.ui.registry.addContextToolbar("table",{predicate:T,items:F,scope:"node",position:"node"})},ip=x=>T=>{const F=()=>{T.setEnabled(x.selection.isEditable())};return x.on("NodeChange",F),F(),()=>{x.off("NodeChange",F)}},Ym=(x,T)=>{const F=dn=>()=>x.execCommand(dn),Y=(dn,Gn)=>x.queryCommandSupported(Gn.command)?(x.ui.registry.addMenuItem(dn,{...Gn,onAction:ct(Gn.onAction)?Gn.onAction:F(Gn.command)}),!0):!1,ye=(dn,Gn)=>{x.queryCommandSupported(Gn.command)&&x.ui.registry.addToggleMenuItem(dn,{...Gn,onAction:ct(Gn.onAction)?Gn.onAction:F(Gn.command)})},Ge=dn=>{x.execCommand("mceInsertTable",!1,{rows:dn.numRows,columns:dn.numColumns})},Et=[Y("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:T.onSetupCellOrRow}),Y("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:T.onSetupCellOrRow}),Y("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:T.onSetupCellOrRow}),Y("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:T.onSetupCellOrRow}),Y("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:T.onSetupCellOrRow}),Y("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:T.onSetupCellOrRow}),Y("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:T.onSetupPasteable(Pd)}),Y("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:T.onSetupPasteable(Pd)})],Wt=[Y("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:T.onSetupColumn("onFirst")}),Y("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:T.onSetupColumn("onLast")}),Y("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:T.onSetupColumn("onAny")}),Y("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:T.onSetupColumn("onAny")}),Y("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:T.onSetupColumn("onAny")}),Y("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:T.onSetupPasteableColumn(rm,"onFirst")}),Y("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:T.onSetupPasteableColumn(rm,"onLast")})],bo=[Y("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:T.onSetupCellOrRow}),Y("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:T.onSetupMergeable}),Y("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:T.onSetupUnmergeable})];Pm(x)?x.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Ge}],onSetup:ip(x)}):x.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:F("mceInsertTableDialog"),onSetup:ip(x)}),x.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:F("mceInsertTableDialog"),onSetup:ip(x)}),Y("tableprops",{text:"Table properties",onSetup:T.onSetupTable,command:"mceTableProps"}),Y("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:T.onSetupTable,command:"mceTableDelete"}),Yt(Et,!0)&&x.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:so("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),Yt(Wt,!0)&&x.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:so("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),Yt(bo,!0)&&x.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:so("tablecellprops tablemergecells tablesplitcells")}),x.ui.registry.addContextMenu("table",{update:()=>(T.resetTargets(),T.targets().fold(so(""),dn=>An(dn.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Xo=id(zd(x));Xo.length!==0&&x.queryCommandSupported("mceTableToggleClass")&&x.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Hn(x,Xo,"tableclass",dn=>x.execCommand("mceTableToggleClass",!1,dn)),onSetup:T.onSetupTable});const Xs=id(un(x));Xs.length!==0&&x.queryCommandSupported("mceTableCellToggleClass")&&x.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Hn(x,Xs,"tablecellclass",dn=>x.execCommand("mceTableCellToggleClass",!1,dn)),onSetup:T.onSetupCellOrRow}),x.queryCommandSupported("mceTableApplyCellStyle")&&(x.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Hn(x,Rd,"tablecellverticalalign",ra(x,"vertical-align")),onSetup:T.onSetupCellOrRow}),x.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Hn(x,mr(x),"tablecellborderwidth",ra(x,"border-width")),onSetup:T.onSetupCellOrRow}),x.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Hn(x,Tr(x),"tablecellborderstyle",ra(x,"border-style")),onSetup:T.onSetupCellOrRow}),x.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Nd(x,Fm(x),"background-color"),onSetup:T.onSetupCellOrRow}),x.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Nd(x,Yl(x),"border-color"),onSetup:T.onSetupCellOrRow})),ye("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:T.onSetupTableWithCaption}),ye("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:hu(x),onSetup:T.onSetupTableRowHeaders}),ye("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Dc(x),onSetup:T.onSetupTableRowHeaders})},_u=x=>{const T=qb(x);ur(x),nm(x),Ym(x,T),am(x,T),no(x)};var Wb=()=>{le.add("table",_u)};Wb()})();var OG=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],zG=function(le){return OG.map(function(De){return De.toLowerCase()}).indexOf(le.toLowerCase())!==-1},DG=function(le,De,de){Object.keys(De).filter(zG).forEach(function(xe){var Le=De[xe];typeof Le=="function"&&(xe==="onInit"?Le(le,de):de.on(xe.substring(2),function(ze){return Le(ze,de)}))})},RG=function(le,De,de,xe){var Le=le.modelEvents?le.modelEvents:null,ze=Array.isArray(Le)?Le.join(" "):Le;Qg(xe,function(Tt,Oe){de&&typeof Tt=="string"&&Tt!==Oe&&Tt!==de.getContent({format:le.outputFormat})&&de.setContent(Tt)}),de.on(ze||"change input undo redo",function(){De.emit("update:modelValue",de.getContent({format:le.outputFormat}))})},NG=function(le,De,de,xe,Le,ze){xe.setContent(ze()),de.attrs["onUpdate:modelValue"]&&RG(De,de,xe,Le),DG(le,de.attrs,xe)},uF=0,SF=function(le){var De=Date.now(),de=Math.floor(Math.random()*1e9);return uF++,le+"_"+de+uF+String(De)},MG=function(le){return le!==null&&le.tagName.toLowerCase()==="textarea"},mF=function(le){return typeof le>"u"||le===""?[]:Array.isArray(le)?le:le.split(" ")},IG=function(le,De){return mF(le).concat(mF(De))},BG=function(le){return le==null},fF=function(){return{listeners:[],scriptId:SF("tiny-script"),scriptLoaded:!1}},LG=function(){var le=fF(),De=function(Le,ze,Tt,Oe){var Pe=ze.createElement("script");Pe.referrerPolicy="origin",Pe.type="application/javascript",Pe.id=Le,Pe.src=Tt;var je=function(){Pe.removeEventListener("load",je),Oe()};Pe.addEventListener("load",je),ze.head&&ze.head.appendChild(Pe)},de=function(Le,ze,Tt){le.scriptLoaded?Tt():(le.listeners.push(Tt),Le.getElementById(le.scriptId)||De(le.scriptId,Le,ze,function(){le.listeners.forEach(function(Oe){return Oe()}),le.scriptLoaded=!0}))},xe=function(){le=fF()};return{load:de,reinitialize:xe}},PG=LG(),FG=function(){return typeof window<"u"?window:global},ik=function(){var le=FG();return le&&le.tinymce?le.tinymce:null},UG={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(le){return le==="html"||le==="text"}}},rh=function(){return rh=Object.assign||function(le){for(var De,de=1,xe=arguments.length;de<xe;de++){De=arguments[de];for(var Le in De)Object.prototype.hasOwnProperty.call(De,Le)&&(le[Le]=De[Le])}return le},rh.apply(this,arguments)},HG=function(le,De,de,xe){return le(xe||"div",{id:De,ref:de})},VG=function(le,De,de){return le("textarea",{id:De,visibility:"hidden",ref:de})},jL={selector:void 0,target:void 0},jG=Xr({props:UG,setup:function(le,De){var de=le.init?rh(rh({},le.init),jL):rh({},jL),xe=QW(le),Le=xe.disabled,ze=xe.modelValue,Tt=xe.tagName,Oe=Do(null),Pe=null,je=le.id||SF("tiny-vue"),rt=le.init&&le.init.inline||le.inline,zt=!!De.attrs["onUpdate:modelValue"],ct=!0,Se=le.initialValue?le.initialValue:"",Ue="",xt=function(At){return zt?function(){return ze!=null&&ze.value?ze.value:""}:function(){return At?Se:Ue}},so=function(){var At=xt(ct),Qe=rh(rh({},de),{readonly:le.disabled,target:Oe.value,plugins:IG(de.plugins,le.plugins),toolbar:le.toolbar||de.toolbar,inline:rt,setup:function(ae){Pe=ae,ae.on("init",function(Lt){return NG(Lt,le,De,ae,ze,At)}),typeof de.setup=="function"&&de.setup(ae)}});MG(Oe.value)&&(Oe.value.style.visibility=""),ik().init(Qe),ct=!1};Qg(Le,function(At){var Qe;Pe!==null&&(typeof((Qe=Pe.mode)===null||Qe===void 0?void 0:Qe.set)=="function"?Pe.mode.set(At?"readonly":"design"):Pe.setMode(At?"readonly":"design"))}),Qg(Tt,function(At){var Qe;zt||(Ue=Pe.getContent()),(Qe=ik())===null||Qe===void 0||Qe.remove(Pe),EN(function(){return so()})}),JW(function(){if(ik()!==null)so();else if(Oe.value&&Oe.value.ownerDocument){var At=le.cloudChannel?le.cloudChannel:"6",Qe=le.apiKey?le.apiKey:"no-api-key",ae=BG(le.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(Qe,"/tinymce/").concat(At,"/tinymce.min.js"):le.tinymceScriptSrc;PG.load(Oe.value.ownerDocument,ae,so)}}),XW(function(){ik()!==null&&ik().remove(Pe)}),rt||(e$(function(){ct||so()}),t$(function(){var At;zt||(Ue=Pe.getContent()),(At=ik())===null||At===void 0||At.remove(Pe)}));var We=function(At){var Qe;Ue=Pe.getContent(),(Qe=ik())===null||Qe===void 0||Qe.remove(Pe),de=rh(rh(rh({},de),At),jL),EN(function(){return so()})};return De.expose({rerender:We,getEditor:function(){return Pe}}),function(){return rt?HG(rF,je,Oe,le.tagName):VG(rF,je,Oe)}}});const ZG=["colspan"],qG=ps("strong",null,"E-Mail Content",-1),WG=["innerHTML"],$G=Xr({__name:"Communications",props:{expanded:{type:Boolean,default:!0},hideHistory:{type:Boolean,default:!1},registration:{},showEditor:{type:Boolean}},emits:["close-editor"],setup(le,{emit:De}){const de={license_key:"gpl",content_style:"body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; }"},xe=tg(),Le=Do([]),ze=Do({From:"",Subject:"",HTML:""}),Tt=Do(""),Oe=Do(""),Pe=Do(""),je=Do(!1),rt=Do(le.expanded?["1"]:[]),zt=Do([]),ct=Do([]),Se=Do([{key:"CreatedAt",title:"Date"},{key:"Subject",title:"Subject"},{key:"User.DisplayName",title:"Sender"},{key:"Status",title:"Status"}]),Ue=Do([{key:"CreatedAt",order:"asc"}]);Qg(ze,Qe=>{Pe.value=Qe.From||Pe.value||"",Oe.value=Qe.Subject||Oe.value||"",Tt.value=Qe.HTML||Tt.value||""});const xt=De,so=()=>{xe.getRegistrationEmails(le.registration.RegistrationUUID).then(Qe=>{Qe&&(Qe.forEach(ae=>{ae.CreatedAt=TN(new Date(ae.CreatedAt||"")),ae.Status=D$(ae.Status),ae.User||(ae.User={ID:0,UserUUID:"",DisplayName:"System",Handle:"",Credentials:[],Additional:{FirstName:"",LastName:"",DOB:"",Email:""},Data:"",Groups:[],Tags:[]})}),ct.value=Qe)})};so(),(()=>{xe.getRegistrationEmailTemplates(le.registration.RegistrationUUID).then(Qe=>{Qe&&(Le.value=Qe)})})();const At=({callback:Qe})=>{xe.sendRegistrationEmail(le.registration.RegistrationUUID,Pe.value,Oe.value,Tt.value).then(ae=>{ae?Qe&&(Qe("Email Sent"),so(),setTimeout(()=>{je.value=!1},2e3)):Qe&&Qe("Not sent")}).catch(()=>{Qe&&Qe("Not sent")})};return(Qe,ae)=>($e(),to(xn,null,[Qe.showEditor?($e(),No(ih,{key:0,class:"px-0",style:{"max-width":"calc(100vw - 64px)"}},{default:Ke(()=>[ot(il,null,{default:Ke(()=>[ot(xs,null,{default:Ke(()=>[ot(yF,{items:Le.value,"item-title":"Subject","return-object":"",label:"Template","hide-details":"",modelValue:ze.value,"onUpdate:modelValue":ae[0]||(ae[0]=Lt=>ze.value=Lt),variant:"outlined"},null,8,["items","modelValue"])]),_:1})]),_:1}),ot(il,null,{default:Ke(()=>[ot(xs,{cols:"12"},{default:Ke(()=>[ot(Ub,{modelValue:Pe.value,"onUpdate:modelValue":ae[1]||(ae[1]=Lt=>Pe.value=Lt),label:"From",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),ot(xs,{cols:"12"},{default:Ke(()=>[ot(Ub,{modelValue:Oe.value,"onUpdate:modelValue":ae[2]||(ae[2]=Lt=>Oe.value=Lt),label:"Subject",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),ot(xs,{cols:"12"},{default:Ke(()=>[ot(vo(jG),{modelValue:Tt.value,"onUpdate:modelValue":ae[3]||(ae[3]=Lt=>Tt.value=Lt),"license-key":"gpl",plugins:"advlist code emoticons link lists table",init:de},null,8,["modelValue"])]),_:1})]),_:1}),ot(il,null,{default:Ke(()=>[ot(xs,null,{default:Ke(()=>[ot(iF,{onClick:ae[4]||(ae[4]=Lt=>xt("close-editor")),label:"Close E-mail Editor",color:"secondary","prepend-icon":"mdi:mdi-window-close"})]),_:1}),ot(xs,{class:"text-right"},{default:Ke(()=>[ot(iF,{onClick:At,label:"Send",color:"error"})]),_:1})]),_:1})]),_:1})):Zn("",!0),ct.value.length&&!Qe.hideHistory?($e(),No(r6,{key:1,class:"my-2",multiple:!0,modelValue:rt.value,"onUpdate:modelValue":ae[7]||(ae[7]=Lt=>rt.value=Lt)},{default:Ke(()=>[ot(s6,{value:"1"},{default:Ke(()=>[ot(t6,null,{default:Ke(()=>[jo(" Email History ")]),_:1}),ot(o6,null,{default:Ke(()=>[ot(n6,{items:ct.value,headers:Se.value,"show-expand":!0,"item-value":"EmailUUID",expanded:zt.value,"onUpdate:expanded":ae[5]||(ae[5]=Lt=>zt.value=Lt),"sort-by":Ue.value,"onUpdate:sortBy":ae[6]||(ae[6]=Lt=>Ue.value=Lt)},{"expanded-row":Ke(({columns:Lt,item:he})=>[ps("tr",null,[ps("td",{colspan:Lt.length},[qG,ps("div",{class:"communicationsViewEmailPreview",innerHTML:he.HTML},null,8,WG)],8,ZG)])]),"footer.prepend":Ke(()=>[ot(Vr,{"prepend-icon":"mdi:mdi-refresh",color:"primary",class:"mr-4",onClick:so},{default:Ke(()=>[jo("Refresh")]),_:1})]),_:1},8,["items","headers","expanded","sort-by"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):Zn("",!0)],64))}}),GG=Xr({__name:"Emails",props:{allowSending:{type:Boolean,default:!0},expanded:{type:Boolean,default:!0},hideHistory:{type:Boolean,default:!1},showTitle:{type:Boolean,default:!0},registration:{},textClass:{default:""}},setup(le){const De=Do(!1);return(de,xe)=>($e(),to(xn,null,[ot(e6,null,{default:Ke(()=>[de.showTitle?($e(),No(JL,{key:0},{default:Ke(()=>[ot(zN,null,{default:Ke(()=>[jo(" E-Mails (#"+Uo(de.registration.Reference)+" "+Uo(de.registration.User.DisplayName)+") ",1)]),_:1})]),_:1})):Zn("",!0),ot(XL,{class:__(de.textClass)},{default:Ke(()=>[de.allowSending?($e(),No(il,{key:0},{default:Ke(()=>[ot(xs,{cols:"12"},{default:Ke(()=>[ot(Vr,{"prepend-icon":"mdi:mdi-email",color:"primary",onClick:xe[0]||(xe[0]=Le=>De.value=!0)},{default:Ke(()=>[jo(" Prepare Email ")]),_:1})]),_:1})]),_:1})):Zn("",!0)]),_:1},8,["class"])]),_:1}),ot($G,{registration:de.registration,expanded:de.expanded,"hide-history":de.hideHistory,"show-editor":De.value,onCloseEditor:xe[1]||(xe[1]=Le=>De.value=!1)},null,8,["registration","expanded","hide-history","show-editor"])],64))}}),KG=Xr({__name:"EditNoteCategoryDialog",props:Ri({convention:{},noteCategory:{},title:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:Ri(["update:noteCategory"],["update:modelValue"]),setup(le,{emit:De}){const de=le,{title:xe=""}=de,Le=De,ze=ll(le,"modelValue"),Tt=YL(de,Le,void 0,void 0,"noteCategory"),Oe=Do(eg(Tt.value));Qg(Tt,()=>{Oe.value=eg(Tt.value)});const Pe=()=>{ze.value=!1},je=()=>{Oe.value=eg(Tt.value)},rt=()=>{Tt.value=Oe.value};return(zt,ct)=>($e(),No(A_,{modelValue:ze.value,"onUpdate:modelValue":ct[2]||(ct[2]=Se=>ze.value=Se),onReset:je,onSave:rt,title:vo(xe),color:"primary",persistent:!0,fullscreen:!1,"hide-extension":!0},{default:Ke(()=>[ot(ih,{class:"pa-0",fluid:!0},{default:Ke(()=>[ot(il,null,{default:Ke(()=>[ot(xs,{cols:"12",sm:"6",md:"4"},{default:Ke(()=>[ot(Ub,{modelValue:Oe.value.Name,"onUpdate:modelValue":ct[0]||(ct[0]=Se=>Oe.value.Name=Se),label:"Internal name",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),ot(xs,{cols:"12",sm:"6",md:"4"},{default:Ke(()=>[ot(y$,{modelValue:Oe.value.Groups,"onUpdate:modelValue":ct[1]||(ct[1]=Se=>Oe.value.Groups=Se),convention:zt.convention,label:"Groups",variant:"outlined","hide-details":""},null,8,["modelValue","convention"])]),_:1})]),_:1})]),_:1})]),actions:Ke(()=>[ot(Vr,{color:"blue-darken-1",variant:"text",onClick:Pe},{default:Ke(()=>[jo(" Cancel ")]),_:1}),ot(Vr,{color:"blue-darken-1",variant:"text",onClick:je},{default:Ke(()=>[jo(" Reset ")]),_:1}),ot(C_),ot(Vr,{color:"blue-darken-1",variant:"text",onClick:rt},{default:Ke(()=>[jo(" Save ")]),_:1})]),_:1},8,["modelValue","title"]))}}),YG=()=>{const le=Do(""),De=()=>{const de={x:window.innerWidth,y:window.innerHeight};de.x<600?le.value="xs":de.x>=600&&de.x<960?le.value="sm":de.x>=960&&de.x<1280?le.value="md":de.x>=1280&&de.x<1920?le.value="lg":de.x>=1920&&de.x<2560?le.value="xl":de.x>=2560&&(le.value="xxl")};return window.addEventListener("resize",De),De(),le},QG={style:{"list-style":"none"}},JG=Xr({__name:"NoteCategories",props:{hideHistory:{type:Boolean},convention:{},showEditor:{type:Boolean}},emits:["close"],setup(le,{emit:De}){const de=tg(),xe=De,Le=Do(!1),ze=Do(!1),Tt=Do(""),Oe=Do([]),Pe=Do([{key:"Name",title:"Name"},{key:"Groups",title:"Groups"},{key:"actions",title:"",sortable:!1}]),je=YG();Do([{key:"CreatedAt",order:"asc"}]);const rt=()=>({ID:0,NoteCategoryUUID:zE(),ConventionID:le.convention.ID,ConventionUUID:le.convention.ConventionUUID,Name:"",Groups:[],Notes:[]}),zt=Do(-1),ct=Do(rt()),Se=Do(rt()),Ue=()=>{Se.value.NoteCategoryUUID=zE(),ct.value=Object.assign({},rt()),zt.value=-1,Le.value=!0},xt=he=>{zt.value=Oe.value.indexOf(he),ct.value=Object.assign({},he),Le.value=!0},so=he=>{zt.value=Oe.value.indexOf(he),ct.value=Object.assign({},he),ze.value=!0},We=()=>{de.deleteNoteCategory(ct.value.NoteCategoryUUID).then(he=>{he&&(Oe.value.splice(zt.value,1),Qe())})},At=()=>{Le.value=!1,EN(()=>{ct.value=Object.assign({},Se.value),zt.value=-1})},Qe=()=>{ze.value=!1,EN(()=>{ct.value=Object.assign({},Se.value),zt.value=-1})},ae=()=>{de.saveNoteCategory(ct.value).then(he=>{he&&(zt.value>-1?Object.assign(Oe.value[zt.value],he):Oe.value.push(he),At())})};return(()=>{de.getNoteCategories(le.convention.ConventionUUID).then(he=>{he&&(Oe.value=he)})})(),(he,tt)=>($e(),No(n6,{headers:Pe.value,items:Oe.value,"sort-by":[{key:"calories",order:"asc"}],class:"elevation-1"},{top:Ke(()=>[ot(k$,{color:"primary"},KL({default:Ke(()=>[ot(v$,null,{default:Ke(()=>[jo("Note Categories")]),_:1}),ot(x$,{class:"mx-4 d-none d-sm-inline-flex",inset:!0,vertical:!0}),ot(C_,{class:"d-none d-sm-inline-flex"}),vo(je)!="xs"?($e(),No(Vr,{key:0,dark:"",class:"mb-2","prepend-icon":"mdi:mdi-pencil",onClick:Ue},{default:Ke(()=>[jo(" New Item ")]),_:1})):Zn("",!0),ot(Vr,{dark:"",class:"mb-2",icon:"mdi:mdi-window-close",onClick:tt[0]||(tt[0]=sn=>xe("close"))}),ot(b$,{modelValue:ze.value,"onUpdate:modelValue":tt[1]||(tt[1]=sn=>ze.value=sn),onDelete:We},null,8,["modelValue"])]),_:2},[vo(je)=="xs"?{name:"extension",fn:Ke(()=>[ot(C_),ot(Vr,{dark:"",class:"mb-2","prepend-icon":"mdi:mdi-pencil",onClick:Ue},{default:Ke(()=>[jo(" New Item ")]),_:1})]),key:"0"}:void 0]),1024),Le.value?($e(),No(KG,{key:0,modelValue:Le.value,"onUpdate:modelValue":tt[2]||(tt[2]=sn=>Le.value=sn),"note-category":ct.value,"onUpdate:noteCategory":[tt[3]||(tt[3]=sn=>ct.value=sn),ae],title:Tt.value,convention:he.convention},null,8,["modelValue","note-category","title","convention"])):Zn("",!0)]),"item.Groups":Ke(({item:sn})=>[ps("ul",QG,[($e(!0),to(xn,null,pi(sn.Groups,lo=>($e(),to("li",{key:lo.GroupUUID,class:"py-1"},Uo(lo.Name),1))),128))])]),"item.actions":Ke(({item:sn})=>[ot(I1,{size:"small",class:"me-2",onClick:lo=>xt(sn)},{default:Ke(()=>[jo(" mdi:mdi-pencil ")]),_:2},1032,["onClick"]),ot(I1,{size:"small",onClick:lo=>so(sn)},{default:Ke(()=>[jo(" mdi:mdi-delete ")]),_:2},1032,["onClick"])]),_:1},8,["headers","items"]))}}),XG=Xr({__name:"SelectNoteCategories",props:Ri({convention:{},chips:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},hint:{default:""},label:{},variant:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:Ri(["change"],["update:modelValue"]),setup(le,{emit:De}){const de=ll(le,"modelValue"),xe=De,Le=Do([]),ze=tg(),Tt=Do([]),Oe=Do(""),Pe=Do(0),je=_l(()=>[...Tt.value].map(ct=>({title:ct.Name,value:Le.value.find(Se=>Se.NoteCategoryUUID===ct.NoteCategoryUUID)||ct})));return typeof le.convention=="object"?Oe.value=le.convention.ConventionUUID:Oe.value=le.convention||"",(async()=>{const zt=[];Oe.value&&zt.push(ze.getNoteCategories(Oe.value));const ct=await Promise.all(zt);if(Oe.value&&ct.length==1&&(Tt.value=ct[0].sort((Se,Ue)=>Se.Name.localeCompare(Ue.Name))),Array.isArray(de.value))Pe.value=2,je.value.forEach(Se=>{Array.isArray(de.value)&&de.value.find(xt=>xt.NoteCategoryUUID===Se.value.NoteCategoryUUID)&&Le.value.push(Se.value)});else if(typeof de.value=="string"){Pe.value=1;try{const Se=JSON.parse(de.value);je.value.forEach(Ue=>{Se.find(so=>so.NoteCategoryUUID===Ue.value.NoteCategoryUUID)&&Le.value.push(Ue.value)})}catch{}}})(),Qg(Le,()=>{switch(Pe.value){default:case 2:{de.value=Le.value,xe("change");break}case 1:{de.value=JSON.stringify(Le.value),xe("change");break}}}),(zt,ct)=>($e(),No(yF,{modelValue:Le.value,"onUpdate:modelValue":ct[0]||(ct[0]=Se=>Le.value=Se),chips:zt.chips,multiple:"",label:zt.label||"Tags",variant:zt.variant||"solo",hint:zt.hint,"persistent-hint":!0,clearable:zt.clearable,items:je.value,"item-title":"title","item-value":"value"},null,8,["modelValue","chips","label","variant","hint","clearable","items"]))}}),eK=Xr({__name:"EditNoteDialog",props:Ri({convention:{},note:{},title:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:Ri(["update:note","saved"],["update:modelValue"]),setup(le,{emit:De}){const de=le,{title:xe=""}=de,Le=tg(),ze=De,Tt=ll(le,"modelValue"),Oe=YL(de,ze,void 0,void 0,"note"),Pe=Do(eg(Oe.value));Qg(Oe,()=>{Pe.value=eg(Oe.value)});const je=()=>{Pe.value=eg(Oe.value)},rt=zt=>{Pe.value.NoteCategories===null&&(Pe.value.NoteCategories=[]),Pe.value.CreatedAt=void 0,Pe.value.DeletedAt=void 0,Pe.value.UpdatedAt=void 0,Pe.value.Admin=void 0,Pe.value.AdminID=void 0,Pe.value.AdminUUID=void 0,Le.saveNote(Pe.value).then(ct=>{ct?(Pe.value=eg(ct),zt&&zt("Note Saved"),Oe.value=Pe.value,ze("saved",Oe.value)):zt&&zt("Internal Error Saving Note")}).catch(ct=>{zt&&zt("Error Saving Note:"+ct.ErrorMessage)})};return(zt,ct)=>Pe.value?($e(),No(A_,{key:0,"card-class":"pa-4",modelValue:Tt.value,"onUpdate:modelValue":ct[3]||(ct[3]=Se=>Tt.value=Se),onReset:je,onSave:rt,title:vo(xe),color:"primary",persistent:!0,fullscreen:!1,"hide-extension":!0,"show-close-action":!0,"show-reset-action":!0,"show-save-action":!0},{default:Ke(()=>[ot(ih,{class:"pa-0",fluid:!0},{default:Ke(()=>[ot(il,null,{default:Ke(()=>[ot(xs,{cols:"12"},{default:Ke(()=>[ot(XG,{modelValue:Pe.value.NoteCategories,"onUpdate:modelValue":ct[0]||(ct[0]=Se=>Pe.value.NoteCategories=Se),convention:zt.convention,label:"Categories",variant:"outlined","hide-details":"",chips:!0},null,8,["modelValue","convention"])]),_:1})]),_:1}),ot(il,null,{default:Ke(()=>[ot(xs,{cols:"12"},{default:Ke(()=>[ot(Ub,{modelValue:Pe.value.Subject,"onUpdate:modelValue":ct[1]||(ct[1]=Se=>Pe.value.Subject=Se),label:"Subject",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),ot(xs,{cols:"12"},{default:Ke(()=>[ot(wF,{modelValue:Pe.value.Description,"onUpdate:modelValue":ct[2]||(ct[2]=Se=>Pe.value.Description=Se),label:"Note",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","title"])):Zn("",!0)}}),tK=Xr({__name:"Notes",props:{allowAdding:{type:Boolean,default:!0},cardClass:{default:""},convention:{},expanded:{type:Boolean,default:!0},hideHistory:{type:Boolean},registration:{},showControlPanel:{type:Boolean,default:!0},showEditor:{type:Boolean},showTitle:{type:Boolean,default:!0},textClass:{default:""}},setup(le){const De=tg(),de=()=>({ID:0,NoteUUID:zE(),Description:"",NoteCategories:[],Registration:le.registration,RegistrationID:le.registration.ID,RegistrationUUID:le.registration.RegistrationUUID,Subject:""}),xe=Do(!1),Le=Do(!1),ze=Do([]),Tt=Do([]),Oe=Do(de()),Pe=()=>{Oe.value=de(),xe.value=!0},je=ct=>{Oe.value=ct,xe.value=!0},rt=()=>{De.getRegistrationNotes(le.registration.RegistrationUUID).then(ct=>{ct&&(ct.forEach(Se=>{Se.CreatedAt=TN(new Date(Se.CreatedAt||"")),Se.Admin||(Se.Admin={ID:0,UserUUID:"",DisplayName:"System",Handle:"",Credentials:[],Additional:{FirstName:"",LastName:"",DOB:"",Email:""},Data:"",Groups:[],Tags:[]})}),ze.value=ct,le.expanded&&(Tt.value=ct.map(Se=>Se.NoteUUID)))})},zt=()=>{rt(),setTimeout(()=>{xe.value=!1},2e3)};return rt(),(ct,Se)=>($e(),to(xn,null,[ot(e6,{class:__(ct.cardClass)},{default:Ke(()=>[ot(JL,null,{default:Ke(()=>[ot(zN,null,{default:Ke(()=>[ot(il,{class:"flex-row-reverse"},{default:Ke(()=>[ct.showControlPanel?($e(),No(xs,{key:0,class:"text-right flex-shrink-1 flex-grow-0",style:{"flex-grow":"0 !important"}},{default:Ke(()=>[ot(Vr,{class:"d-sm-none",size:"xs",icon:"mdi:mdi-cog",variant:"text",color:"warning",onClick:Se[0]||(Se[0]=Ue=>Le.value=!0)}),ot(Vr,{class:"d-none d-sm-inline-flex","prepend-icon":"mdi:mdi-cog",variant:"text",color:"warning",onClick:Se[1]||(Se[1]=Ue=>Le.value=!0)},{default:Ke(()=>[jo("Categories")]),_:1})]),_:1})):Zn("",!0),ct.showTitle?($e(),No(xs,{key:1,class:"text-wrap flex-grow-1"},{default:Ke(()=>[jo(" Notes (#"+Uo(ct.registration.Reference)+" "+Uo(ct.registration.User.DisplayName)+") ",1)]),_:1})):Zn("",!0)]),_:1})]),_:1})]),_:1}),ot(XL,{class:__(ct.textClass)},{default:Ke(()=>[ze.value.length===0?($e(),to(xn,{key:0},[jo(" No Notes Recorded ")],64)):($e(),No(r6,{key:1,multiple:!0,variant:"accordion",modelValue:Tt.value,"onUpdate:modelValue":Se[2]||(Se[2]=Ue=>Tt.value=Ue)},{default:Ke(()=>[($e(!0),to(xn,null,pi(ze.value,Ue=>($e(),No(s6,{key:`${Ue.NoteUUID}.${Ue.UpdatedAt}`,value:Ue.NoteUUID},{default:Ke(()=>[ot(t6,{class:"py-0"},{default:Ke(()=>[jo(Uo(Ue.Subject)+" ",1),ot(w$,{class:"ml-4"},{default:Ke(()=>[Ue.NoteCategories.length===0?($e(),No(qL,{key:0},{default:Ke(()=>[jo(" Global ")]),_:1})):Zn("",!0),($e(!0),to(xn,null,pi(Ue.NoteCategories,xt=>($e(),No(qL,{key:xt.NoteCategoryUUID},{default:Ke(()=>[jo(Uo(xt.Name),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),ot(o6,null,{default:Ke(()=>[ot(il,null,{default:Ke(()=>[ot(xs,null,{default:Ke(()=>[jo(Uo(Ue.Description),1)]),_:2},1024)]),_:2},1024),ot(il,null,{default:Ke(()=>[ot(xs,null,{default:Ke(()=>[jo(Uo(vo(ah)(Ue.UpdatedAt||""))+" ",1),Ue&&Ue.Admin&&Ue.Admin.DisplayName?($e(),to(xn,{key:0},[jo(" - "+Uo(Ue.Admin.DisplayName),1)],64)):Zn("",!0)]),_:2},1024),ot(xs,{class:"text-right"},{default:Ke(()=>[ot(Vr,{color:"primary","prepend-icon":"mdi:mdi-pencil",onClick:xt=>je(Ue)},{default:Ke(()=>[jo("Edit")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]))]),_:1},8,["class"]),ct.allowAdding?($e(),No(kF,{key:0},{default:Ke(()=>[ot(Vr,{color:"primary",variant:"flat",onClick:Pe},{default:Ke(()=>[jo("Add Note")]),_:1})]),_:1})):Zn("",!0)]),_:1},8,["class"]),ot(lF,{modelValue:xe.value,"onUpdate:modelValue":Se[5]||(Se[5]=Ue=>xe.value=Ue),title:"Create Note"},{default:Ke(()=>[ot(eK,{modelValue:xe.value,"onUpdate:modelValue":Se[3]||(Se[3]=Ue=>xe.value=Ue),note:Oe.value,"onUpdate:note":Se[4]||(Se[4]=Ue=>Oe.value=Ue),convention:ct.convention,title:"Create Note",onSaved:zt},null,8,["modelValue","note","convention"])]),_:1},8,["modelValue"]),ot(lF,{modelValue:Le.value,"onUpdate:modelValue":Se[7]||(Se[7]=Ue=>Le.value=Ue),title:"Note Configuration"},{default:Ke(()=>[ot(JG,{convention:ct.convention,onClose:Se[6]||(Se[6]=Ue=>Le.value=!1)},null,8,["convention"])]),_:1},8,["modelValue"])],64))}}),oK=Xr({__name:"StripeRefundPayment",props:Ri({paymentTransaction:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:Ri(["refunded"],["update:modelValue"]),setup(le,{emit:De}){const de=ll(le,"modelValue"),xe=De,Le=tg(),ze=Do(!1),Tt=Do("");let Oe=0;if(le.paymentTransaction.Data&&le.paymentTransaction.Data.PaymentIntent&&typeof le.paymentTransaction.Data.PaymentIntent=="object"){const Se=le.paymentTransaction.Data.PaymentIntent;Se&&(Oe=Se.amount)}const Pe=Do({Amount:Oe/100,Description:"",Reason:""}),je=Do([{title:"Duplicate",value:"duplicate"},{title:"Fraudulent",value:"fraudulent"},{title:"Requested By Customer",value:"requested_by_customer"}]),rt=Do(!1);async function zt(Se){Se.preventDefault(),rt.value=!0,Le.refundStripePayment(le.paymentTransaction.PaymentTransactionUUID,Pe.value).then(Ue=>{Ue?xe("refunded",Ue):ct("An unexpected error occurred.")}).catch(Ue=>{ct("An error occurred processing the refund: "+Ue.toString())}),rt.value=!1}const ct=Se=>{Tt.value=Se,ze.value=!0};return(Se,Ue)=>($e(),No(A_,{modelValue:de.value,"onUpdate:modelValue":Ue[7]||(Ue[7]=xt=>de.value=xt),title:"Refund a Stripe Payment",color:"blue-darken-4",persistent:""},{default:Ke(()=>[ot(ih,{class:"pa-0"},{default:Ke(()=>[ot(S$,{ref:"refundForm",id:"refund-form",onSubmit:Ue[4]||(Ue[4]=o$(xt=>zt(xt),["prevent"]))},{default:Ke(()=>[ot(il,null,{default:Ke(()=>[ot(xs,{cols:"12",sm:"6",md:"4",lg:"3",xl:"2"},{default:Ke(()=>[ot(Ub,{modelValue:Pe.value.Amount,"onUpdate:modelValue":Ue[0]||(Ue[0]=xt=>Pe.value.Amount=xt),modelModifiers:{number:!0},label:"Amount",prefix:"£",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),ot(xs,{cols:"12",sm:"6",md:"8",lg:"9",xl:"10"},{default:Ke(()=>[ot(OE,{modelValue:Pe.value.Reason,"onUpdate:modelValue":Ue[1]||(Ue[1]=xt=>Pe.value.Reason=xt),modelModifiers:{number:!0},items:je.value,"item-title":"title","item-value":"value",label:"Stripe Refund Reason",variant:"outlined","hide-details":""},null,8,["modelValue","items"])]),_:1}),ot(xs,{cols:"12"},{default:Ke(()=>[ot(Ub,{modelValue:Pe.value.Description,"onUpdate:modelValue":Ue[2]||(Ue[2]=xt=>Pe.value.Description=xt),modelModifiers:{number:!0},label:"Refund Description",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),ot(il,null,{default:Ke(()=>[ot(xs,{class:"text-right",cols:"12",sm:"3",md:"2",lg:"2",xl:"1"},{default:Ke(()=>[ot(Vr,{color:"error",class:"w-100",onClick:Ue[3]||(Ue[3]=xt=>de.value=!1)},{default:Ke(()=>[jo("Cancel")]),_:1})]),_:1}),ot(C_),ot(xs,{class:"text-left",cols:"12",sm:"3",md:"2",lg:"2",xl:"1"},{default:Ke(()=>[ot(Vr,{type:"submit",color:"success",class:"w-100"},KL({default:Ke(()=>[jo(" Issue Refund ")]),_:2},[rt.value?{name:"prepend",fn:Ke(()=>[ot(bF,{size:"20",indeterminate:""})]),key:"0"}:void 0]),1024)]),_:1})]),_:1})]),_:1},512)]),_:1}),ot(vF,{modelValue:ze.value,"onUpdate:modelValue":Ue[6]||(Ue[6]=xt=>ze.value=xt)},{actions:Ke(()=>[ot(Vr,{variant:"text",onClick:Ue[5]||(Ue[5]=xt=>ze.value=!1)},{default:Ke(()=>[jo(" Close ")]),_:1})]),default:Ke(()=>[jo(Uo(Tt.value)+" ",1)]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]))}}),nK=["colspan"],sK=ps("strong",null,"Details",-1),rK=["innerHTML"],aK=Xr({__name:"PaymentTransactions",props:{canEdit:{type:Boolean},expanded:{type:Boolean},hideHistory:{type:Boolean},updated:{},registration:{},showEditor:{type:Boolean}},emits:["close-editor","change"],setup(le,{emit:De}){const de=le;let{expanded:xe=!0,hideHistory:Le=!1,registration:ze,showEditor:Tt}=de;const Oe=tg(),Pe=Do([]),je=Do(xe?["1"]:[]),rt=Do([]),zt=Do([{key:"CreatedAt",title:"Date"},{key:"Type",title:"Type"},{key:"Source",title:"Source"},{key:"Description",title:"Description"},{key:"Admin",title:"Admin"},{key:"Amount",title:"Amount"},{key:"Controls",title:""}]),ct=Do(!1),Se=Do(),Ue=Do(!1),xt=Do(""),so=Do([{key:"CreatedAt",order:"asc"}]),We=De,At=()=>({PaymentTransactionUUID:zE(),Amount:0,Data:{},Description:"",ID:0,RegistrationID:ze.ID,RegistrationUUID:ze.RegistrationUUID,Source:cF.PAYMENT_TRANSACTION_SOURCE_NULL,Type:dF.PAYMENT_TRANSACTION_TYPE_NULL}),Qe=Do(At()),{convertTransactions:ae,getPaymentTransactionsDisplay:Lt}=C$();Qg(de,()=>{Le=de.hideHistory,ze=de.registration,Tt=de.showEditor,Lt(ze.RegistrationUUID).then(Vt=>{rt.value=Vt})});const he=()=>{Lt(ze.RegistrationUUID).then(Vt=>{rt.value=Vt})};he();const tt=()=>{Oe.saveRegistrationPaymentTransaction(Qe.value).then(Vt=>{Vt&&(ae(Vt.PaymentTransactions),Qe.value=At(),We("close-editor"),We("change"))})},sn=Vt=>{const _e=rt.value.find(Je=>Je.PaymentTransactionUUID===Vt);_e&&(Se.value=_e.PaymentTransaction,ct.value=!0)},lo=Vt=>{if(Vt)try{rt.value=ae(Vt.PaymentTransactions),Se.value=void 0,ct.value=!1,xt.value="Refund Processed",Ue.value=!0,We("change")}catch(_e){console.error(_e)}};return(Vt,_e)=>($e(),to(xn,null,[vo(Tt)?($e(),to(xn,{key:0},[ot(zN,null,{default:Ke(()=>[jo(" Add Transaction ")]),_:1}),ot(il,null,{default:Ke(()=>[ot(xs,{cols:"12",sm:"6"},{default:Ke(()=>[ot(OE,{items:vo(_$),"item-title":"title","item-value":"value",label:"Transaction Type",clearable:!0,"hide-details":"",modelValue:Qe.value.Type,"onUpdate:modelValue":_e[0]||(_e[0]=Je=>Qe.value.Type=Je),variant:"outlined"},null,8,["items","modelValue"])]),_:1}),ot(xs,{cols:"12",sm:"6"},{default:Ke(()=>[ot(OE,{items:vo(A$),"item-title":"title","item-value":"value",label:"Source",clearable:!0,"hide-details":"",modelValue:Qe.value.Source,"onUpdate:modelValue":_e[1]||(_e[1]=Je=>Qe.value.Source=Je),variant:"outlined"},null,8,["items","modelValue"])]),_:1})]),_:1}),ot(il,null,{default:Ke(()=>[ot(xs,{cols:"12",sm:"8",md:"10"},{default:Ke(()=>[ot(Ub,{label:"Description","hide-details":"",modelValue:Qe.value.Description,"onUpdate:modelValue":_e[2]||(_e[2]=Je=>Qe.value.Description=Je),variant:"outlined"},null,8,["modelValue"])]),_:1}),ot(xs,{cols:"12",sm:"4",md:"2"},{default:Ke(()=>[ot(Ub,{label:"Amount","prepend-inner-icon":"mdi:mdi-currency-gbp","hide-details":"",modelValue:Qe.value.Amount,"onUpdate:modelValue":_e[3]||(_e[3]=Je=>Qe.value.Amount=Je),modelModifiers:{number:!0},variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),ot(il,null,{default:Ke(()=>[ot(xs,{cols:"12",sm:"3",md:"2",lg:"1"},{default:Ke(()=>[ot(Vr,{class:"w-100",onClick:_e[4]||(_e[4]=Je=>We("close-editor")),color:"warning"},{default:Ke(()=>[jo("Cancel")]),_:1})]),_:1}),ot(C_),ot(xs,{cols:"12",sm:"6",md:"3",lg:"2",xl:"2"},{default:Ke(()=>[ot(Vr,{class:"w-100",onClick:tt,color:"primary"},{default:Ke(()=>[jo("Submit Transaction")]),_:1})]),_:1})]),_:1})],64)):Zn("",!0),rt.value.length&&!vo(Le)?($e(),No(r6,{key:1,class:"my-2",modelValue:je.value,"onUpdate:modelValue":_e[10]||(_e[10]=Je=>je.value=Je)},{default:Ke(()=>[ot(s6,{value:"1"},{default:Ke(()=>[ot(t6,null,{default:Ke(()=>[jo(" Transaction History ")]),_:1}),ot(o6,null,{default:Ke(()=>[ot(n6,{items:rt.value,headers:zt.value,"show-expand":!1,"item-value":"PaymentTransactionUUID",expanded:Pe.value,"onUpdate:expanded":_e[5]||(_e[5]=Je=>Pe.value=Je),"sort-by":so.value,"onUpdate:sortBy":_e[6]||(_e[6]=Je=>so.value=Je),class:"transactionTable"},{"item.Controls":Ke(({item:Je})=>[Vt.canEdit&&Je.PaymentTransaction&&Je.PaymentTransaction.Source===vo(cF).PAYMENT_TRANSACTION_SOURCE_STRIPE&&Je.PaymentTransaction.Type===vo(dF).PAYMENT_TRANSACTION_TYPE_PAYMENT?($e(),No(Vr,{key:0,icon:"mdi:mdi-credit-card-refund",variant:"text",size:"xs",onClick:O=>sn(Je.PaymentTransactionUUID)},null,8,["onClick"])):Zn("",!0)]),"expanded-row":Ke(({columns:Je,item:O})=>[ps("tr",null,[ps("td",{colspan:Je.length},[sK,ps("div",{innerHTML:O.Data},null,8,rK)],8,nK)])]),"footer.prepend":Ke(()=>[ot(Vr,{"prepend-icon":"mdi:mdi-refresh",color:"primary",class:"mr-4",onClick:he},{default:Ke(()=>[jo("Refresh")]),_:1})]),_:1},8,["items","headers","expanded","sort-by"]),ct.value&&Se.value?($e(),No(oK,{key:0,modelValue:ct.value,"onUpdate:modelValue":_e[7]||(_e[7]=Je=>ct.value=Je),"payment-transaction":Se.value,onRefunded:lo},null,8,["modelValue","payment-transaction"])):Zn("",!0),ot(vF,{modelValue:Ue.value,"onUpdate:modelValue":_e[9]||(_e[9]=Je=>Ue.value=Je)},{actions:Ke(()=>[ot(Vr,{variant:"text",onClick:_e[8]||(_e[8]=Je=>Ue.value=!1)},{default:Ke(()=>[jo(" Close ")]),_:1})]),default:Ke(()=>[jo(Uo(xt.value)+" ",1)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):Zn("",!0)],64))}}),iK=Xr({__name:"DataPanelRegistrationTags",props:Ri({registration:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(le){const De=ll(le,"modelValue"),de=_l(()=>{if(!De.value.Meta.Tags||!Array.isArray(De.value.Meta.Tags))return le.registration.Tags;const Le=De.value.Meta.Tags;return Le.length===0?le.registration.Tags:le.registration.Tags.filter(ze=>Le.includes(ze.TagUUID))}),xe=_l(()=>De.value.Meta.TagColour?De.value.Meta.TagColour:"");return(Le,ze)=>($e(!0),to(xn,null,pi(de.value,Tt=>($e(),No(qL,{key:Tt.TagUUID,color:xe.value,class:"ma-1"},{default:Ke(()=>[jo(Uo(Tt.Title),1)]),_:2},1032,["color"]))),128))}}),lK=$L(iK,[["__scopeId","data-v-644b07d0"]]),cK=ps("span",{class:"font-weight-bold pr-2"},"Status:",-1),dK={key:0,class:"text-green-darken-2"},uK={key:1,class:"text-yellow-darken-4"},mK={key:2,class:"text-red-darken-4"},fK=ps("br",null,null,-1),gK=ps("span",{class:"font-weight-bold pr-2"},"Status:",-1),pK={key:0,class:"text-green-darken-2"},hK={key:1,class:"text-yellow-darken-4"},bK={key:2,class:"text-red-darken-4"},yK=ps("span",null,"Not Checked In",-1),gF=Xr({__name:"DataPanelCheckIn",props:Ri({convention:{},showControls:{type:Boolean,default:!1}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(le){const De=GL.getInstance(),de=ll(le,"modelValue"),xe=tg(),Le=DE(),ze=AF(Le,le.convention),Tt=Do([]),Oe=Do(!1),Pe=Do(!1),je=Do(qu.CHECK_IN_STATUS_PENDING),rt=Do(""),zt=so=>{Oe.value=!0,je.value=so},ct=()=>{Se()},Se=()=>{xe.getCheckInHistory(de.value.RegistrationUUID).then(so=>{so&&(Tt.value=so,Pe.value=!0,so.length&&(de.value.CheckIn=so[0]))}).catch(()=>{})},Ue=so=>{xe.saveCheckIn(de.value.RegistrationUUID,je.value,rt.value).then(We=>{We?(de.value.CheckIn=We,so&&(so("Check In Saved"),setTimeout(()=>{Oe.value=!1,De.emit("checkin-saved")},1e3))):so&&so("Check In Failed")}).catch(()=>{so&&so("Check In Failed")})},xt=_l(()=>{switch(je.value){case qu.CHECK_IN_STATUS_REVOKED:return"yellow-darken-4";case qu.CHECK_IN_STATUS_REJECTED:return"red-darken-4";case qu.CHECK_IN_STATUS_COMPLETED:return"green-darken-2"}return""});return(so,We)=>($e(),to(xn,null,[so.showControls&&vo(ze)?($e(),No(ih,{key:0,class:"px-0"},{default:Ke(()=>[ot(il,null,{default:Ke(()=>[ot(xs,null,{default:Ke(()=>[ot(Vr,{color:"error",class:"w-100","prepend-icon":"mdi:mdi-window-close",onClick:We[0]||(We[0]=At=>zt(vo(qu).CHECK_IN_STATUS_REJECTED))},{default:Ke(()=>[jo(" Reject ")]),_:1})]),_:1}),ot(xs,null,{default:Ke(()=>[ot(Vr,{color:"warning",class:"w-100","prepend-icon":"mdi:mdi-window-close",onClick:We[1]||(We[1]=At=>zt(vo(qu).CHECK_IN_STATUS_REVOKED))},{default:Ke(()=>[jo(" Revoke ")]),_:1})]),_:1}),ot(xs,null,{default:Ke(()=>[ot(Vr,{color:"success",class:"w-100","prepend-icon":"mdi:mdi-check",onClick:We[2]||(We[2]=At=>zt(vo(qu).CHECK_IN_STATUS_COMPLETED))},{default:Ke(()=>[jo(" Approve ")]),_:1})]),_:1})]),_:1}),ot(A_,{modelValue:Oe.value,"onUpdate:modelValue":We[4]||(We[4]=At=>Oe.value=At),color:xt.value,fullscreen:!1,"hide-extension":!0,persistent:!1,scrollable:!1,"show-close-action":!0,"show-save-action":!0,"save-button-label":"Confirm",title:`${vo(ak)(je.value)} Check-In`,onSave:Ue},{default:Ke(()=>[ot(wF,{modelValue:rt.value,"onUpdate:modelValue":We[3]||(We[3]=At=>rt.value=At),label:"Notes",variant:"outlined"},null,8,["modelValue"])]),_:1},8,["modelValue","color","title"])]),_:1})):Zn("",!0),de.value.CheckIn?($e(),No(ih,{key:1,class:"px-0"},{default:Ke(()=>[ot(il,null,{default:Ke(()=>[ot(xs,null,{default:Ke(()=>[cK,de.value.CheckIn.Status===vo(qu).CHECK_IN_STATUS_COMPLETED?($e(),to("span",dK,Uo(vo(ak)(de.value.CheckIn.Status)),1)):de.value.CheckIn.Status===vo(qu).CHECK_IN_STATUS_REVOKED?($e(),to("span",uK,Uo(vo(ak)(de.value.CheckIn.Status)),1)):de.value.CheckIn.Status===vo(qu).CHECK_IN_STATUS_REJECTED?($e(),to("span",mK,Uo(vo(ak)(de.value.CheckIn.Status)),1)):Zn("",!0),fK,ot(Vr,{style:{"font-size":"0.75rem","text-transform":"none"},"append-icon":"mdi:mdi-chevron-down",size:"xs",variant:"text",onClick:ct},{default:Ke(()=>[jo("History")]),_:1})]),_:1}),ot(xs,{class:"text-right"},{default:Ke(()=>{var At;return[ps("small",null,Uo((At=de.value.CheckIn.Admin)==null?void 0:At.DisplayName)+" "+Uo(vo(TN)(de.value.CheckIn.CreatedAt||"")),1)]}),_:1})]),_:1}),ot(A_,{modelValue:Pe.value,"onUpdate:modelValue":We[5]||(We[5]=At=>Pe.value=At),fullscreen:!1,"hide-extension":!0,persistent:!1,scrollable:!0,"show-close-action":!0,"show-save-action":!1,title:"Check-In History"},{default:Ke(()=>[ot(x_,null,{default:Ke(()=>[($e(!0),to(xn,null,pi(Tt.value,At=>($e(),No(w_,{key:At.CheckInUUID},{default:Ke(()=>[ot(ZL,null,{default:Ke(()=>[ot(il,null,{default:Ke(()=>[ot(xs,null,{default:Ke(()=>[gK,At.Status===vo(qu).CHECK_IN_STATUS_COMPLETED?($e(),to("span",pK,Uo(vo(ak)(At.Status)),1)):At.Status===vo(qu).CHECK_IN_STATUS_REVOKED?($e(),to("span",hK,Uo(vo(ak)(At.Status)),1)):At.Status===vo(qu).CHECK_IN_STATUS_REJECTED?($e(),to("span",bK,Uo(vo(ak)(At.Status)),1)):Zn("",!0)]),_:2},1024),ot(xs,{class:"text-right"},{default:Ke(()=>{var Qe;return[ps("small",null,Uo((Qe=At.Admin)==null?void 0:Qe.DisplayName)+" "+Uo(vo(TN)(At.CreatedAt||"")),1)]}),_:2},1024)]),_:2},1024)]),_:2},1024),At.Details?($e(),No(c$,{key:0},{default:Ke(()=>[jo(Uo(At.Details),1)]),_:2},1024)):Zn("",!0)]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1})):($e(),No(ih,{key:2,class:"px-0"},{default:Ke(()=>[yK]),_:1}))],64))}}),vK=Xr({__name:"MetaDataItem",props:Ri({accommodations:{},convention:{},forms:{},interests:{},itemClass:{},tickets:{},venues:{}},{modelValue:{required:!0},modelModifiers:{},registration:{required:!0},registrationModifiers:{}}),emits:Ri(["openActions","showForm"],["update:modelValue","update:registration"]),setup(le,{emit:De}){const de=ll(le,"modelValue"),xe=ll(le,"registration"),Le=De,ze=Oe=>{Le("openActions",Oe)},Tt=(Oe,Pe,je)=>{Le("showForm",Oe,Pe,je)};return(Oe,Pe)=>de.value.MetaField===vo(Wl).META_DATA_SOURCE_ACCOMMODATION_ALLOCATION?($e(),No(_F,{key:0,convention:Oe.convention,tickets:Oe.tickets,accommodations:Oe.accommodations,venues:Oe.venues,registration:xe.value,forms:Oe.forms,modelValue:de.value,"onUpdate:modelValue":Pe[0]||(Pe[0]=je=>de.value=je),data:""},null,8,["convention","tickets","accommodations","venues","registration","forms","modelValue"])):de.value.MetaField===vo(Wl).META_DATA_SOURCE_BADGE_DISPLAY?($e(),No(CF,{key:1,"card-class":Oe.itemClass,convention:Oe.convention,registration:xe.value,"onUpdate:registration":Pe[1]||(Pe[1]=je=>xe.value=je),"show-title":!1,"hide-download":de.value.Meta.HideDownloadButton,"hide-nfc":de.value.Meta.HideNFCButton},null,8,["card-class","convention","registration","hide-download","hide-nfc"])):de.value.MetaField===vo(Wl).META_DATA_SOURCE_EMAILS?($e(),No(GG,{key:2,"allow-sending":!1,expanded:!1,"show-title":!1,registration:xe.value,"text-class":"pa-0 ma-0"},null,8,["registration"])):de.value.MetaField===vo(Wl).META_DATA_SOURCE_NOTES?($e(),No(tK,{key:3,"allow-adding":!0,"card-class":Oe.itemClass,convention:Oe.convention,expanded:!1,registration:xe.value,"show-control-panel":!1,"show-title":!1,"text-class":"pa-0 ma-0"},null,8,["card-class","convention","registration"])):de.value.MetaField===vo(Wl).META_DATA_SOURCE_PAYMENT_STATUS?($e(),No(EG,{key:4,registration:xe.value},null,8,["registration"])):de.value.MetaField===vo(Wl).META_DATA_SOURCE_PAYMENTS?($e(),No(aK,{key:5,registration:xe.value,expanded:!1},null,8,["registration"])):de.value.MetaField===vo(Wl).META_DATA_SOURCE_REGISTRATION_ACTIONS?($e(),No(Vr,{key:6,icon:"mdi:mdi-briefcase",variant:"flat",onClick:Pe[2]||(Pe[2]=je=>ze(xe.value))})):de.value.MetaField===vo(Wl).META_DATA_SOURCE_SUBMISSION_STATUS||de.value.MetaField===vo(Wl).META_DATA_SOURCE_ACCOMMODATION_FORM||de.value.MetaField===vo(Wl).META_DATA_SOURCE_ADMIN_FORM||de.value.MetaField===vo(Wl).META_DATA_SOURCE_DEALER_FORM||de.value.MetaField===vo(Wl).META_DATA_SOURCE_BADGE_FORM||de.value.MetaField===vo(Wl).META_DATA_SOURCE_REGISTRATION_FORM?($e(),No(vG,{key:7,convention:Oe.convention,forms:Oe.forms,registration:xe.value,onShowForm:Tt},null,8,["convention","forms","registration"])):de.value.MetaField===vo(Wl).META_DATA_SOURCE_REGISTRATION_GROUP?($e(),No(hG,{key:8,registration:xe.value},null,8,["registration"])):de.value.MetaField===vo(Wl).META_DATA_SOURCE_REGISTRATION_REFERENCE?($e(),to(xn,{key:9},[jo(Uo(xe.value.Reference),1)],64)):de.value.MetaField===vo(Wl).META_DATA_SOURCE_SUBMISSION_DATE?($e(),No(bG,{key:10,registration:xe.value},null,8,["registration"])):de.value.MetaField===vo(Wl).META_DATA_SOURCE_TAGS?($e(),No(lK,{key:11,registration:xe.value,modelValue:de.value,"onUpdate:modelValue":Pe[3]||(Pe[3]=je=>de.value=je)},null,8,["registration","modelValue"])):de.value.MetaField===vo(Wl).META_DATA_SOURCE_CHECKIN_CONTROL?($e(),No(gF,{key:12,convention:Oe.convention,"show-controls":!0,modelValue:xe.value,"onUpdate:modelValue":Pe[4]||(Pe[4]=je=>xe.value=je)},null,8,["convention","modelValue"])):de.value.MetaField===vo(Wl).META_DATA_SOURCE_CHECKIN_STATUS?($e(),No(gF,{key:13,convention:Oe.convention,"show-controls":!1,modelValue:xe.value,"onUpdate:modelValue":Pe[5]||(Pe[5]=je=>xe.value=je)},null,8,["convention","modelValue"])):($e(),to(xn,{key:14},[jo(" Unhandled Meta Item "+Uo(de.value),1)],64))}}),kK=Xr({__name:"UserDataItem",props:Ri({accommodations:{},convention:{},forms:{},interests:{},itemClass:{},tickets:{},venues:{}},{modelValue:{required:!0},modelModifiers:{},registration:{required:!0},registrationModifiers:{}}),emits:["update:modelValue","update:registration"],setup(le){const De=ll(le,"modelValue"),de=ll(le,"registration"),xe=QL(),Le=_l(()=>xe.GetProfileImageURL(de.value.UserUUID));return(ze,Tt)=>De.value.UserField===vo(lk).USER_DATA_SOURCE_TELEGRAM&&de.value.User.Handle?($e(),to(xn,{key:0},[jo(" @"+Uo(de.value.User.Handle),1)],64)):De.value.UserField===vo(lk).USER_DATA_SOURCE_AVATAR?($e(),No(xF,{key:1,class:"rounded-circle",src:Le.value,height:"32",width:"32"},null,8,["src"])):De.value.UserField===vo(lk).USER_DATA_SOURCE_DATE_OF_BIRTH?($e(),to(xn,{key:2},[jo(Uo(vo(ah)(de.value.User.Additional.DOB,{withYear:!0,withDay:!1})),1)],64)):De.value.UserField===vo(lk).USER_DATA_SOURCE_EMAIL?($e(),to(xn,{key:3},[jo(Uo(de.value.User.Additional.Email),1)],64)):De.value.UserField===vo(lk).USER_DATA_SOURCE_FIRST_NAME?($e(),to(xn,{key:4},[jo(Uo(de.value.User.Additional.FirstName),1)],64)):De.value.UserField===vo(lk).USER_DATA_SOURCE_LAST_NAME?($e(),to(xn,{key:5},[jo(Uo(de.value.User.Additional.LastName),1)],64)):($e(),to(xn,{key:6},[jo(" Unhandled User Field "+Uo(De.value),1)],64))}}),pF=Xr({__name:"PanelItem",props:Ri({accommodations:{},convention:{},extras:{},forms:{},interests:{},itemClass:{},tickets:{},venues:{}},{modelValue:{required:!0},modelModifiers:{},registration:{required:!0},registrationModifiers:{}}),emits:Ri(["openActions","showForm"],["update:modelValue","update:registration"]),setup(le,{emit:De}){const de=ll(le,"modelValue"),xe=ll(le,"registration"),Le=De,ze=Oe=>{Le("openActions",Oe)},Tt=(Oe,Pe,je)=>{Le("showForm",Oe,Pe,je)};return(Oe,Pe)=>de.value.SourceType===vo(SN).LAYOUT_ITEM_SOURCE_FORM?($e(),No(mG,{key:0,accommodations:Oe.accommodations,convention:Oe.convention,extras:Oe.extras,forms:Oe.forms,interests:Oe.interests,"item-class":Oe.itemClass,tickets:Oe.tickets,venues:Oe.venues,modelValue:de.value,"onUpdate:modelValue":Pe[0]||(Pe[0]=je=>de.value=je),registration:xe.value,"onUpdate:registration":Pe[1]||(Pe[1]=je=>xe.value=je)},null,8,["accommodations","convention","extras","forms","interests","item-class","tickets","venues","modelValue","registration"])):de.value.SourceType===vo(SN).LAYOUT_ITEM_SOURCE_META?($e(),No(vK,{key:1,accommodations:Oe.accommodations,convention:Oe.convention,forms:Oe.forms,interests:Oe.interests,"item-class":Oe.itemClass,tickets:Oe.tickets,venues:Oe.venues,modelValue:de.value,"onUpdate:modelValue":Pe[2]||(Pe[2]=je=>de.value=je),registration:xe.value,"onUpdate:registration":Pe[3]||(Pe[3]=je=>xe.value=je),onOpenActions:ze,onShowForm:Tt},null,8,["accommodations","convention","forms","interests","item-class","tickets","venues","modelValue","registration"])):de.value.SourceType===vo(SN).LAYOUT_ITEM_SOURCE_USER?($e(),No(kK,{key:2,accommodations:Oe.accommodations,convention:Oe.convention,forms:Oe.forms,interests:Oe.interests,"item-class":Oe.itemClass,tickets:Oe.tickets,venues:Oe.venues,modelValue:de.value,"onUpdate:modelValue":Pe[4]||(Pe[4]=je=>de.value=je),registration:xe.value,"onUpdate:registration":Pe[5]||(Pe[5]=je=>xe.value=je)},null,8,["accommodations","convention","forms","interests","item-class","tickets","venues","modelValue","registration"])):Zn("",!0)}}),xK=["onClick"],wK=["onClick"],OY=Xr({__name:"PanelLayout",props:Ri({accommodations:{},convention:{},extras:{},forms:{},interests:{},tickets:{},venues:{}},{layout:{required:!0},layoutModifiers:{},modelValue:{required:!0},modelModifiers:{}}),emits:Ri(["openActions","showForm"],["update:layout","update:modelValue"]),setup(le,{emit:De}){const de=n$(),xe=De,Le=GL.getInstance(),ze=ll(le,"layout"),Tt=ll(le,"modelValue"),Oe=Do({});ze.value&&ze.value.Panels&&ze.value.Panels.forEach(Se=>{Oe.value[Se.LayoutPanelUUID]=!1});const Pe=Se=>{xe("openActions",Se)},je=(Se,Ue,xt)=>{xe("showForm",Se,Ue,xt)},rt=Se=>{switch(Se.PanelStyle){case sh.PANEL_STYLE_NAV_BOTTOM:return"bottom";case sh.PANEL_STYLE_NAV_LEFT:return"left";case sh.PANEL_STYLE_NAV_RIGHT:return"right";case sh.PANEL_STYLE_NAV_TOP:return"top"}},zt=(Se,Ue=!1)=>{switch(Se.PanelStyle){case sh.PANEL_STYLE_NAV_BOTTOM:return Ue?"mdi:mdi-chevron-double-down":"mdi:mdi-chevron-double-up";case sh.PANEL_STYLE_NAV_LEFT:return Ue?"mdi:mdi-chevron-double-left":"mdi:mdi-chevron-double-right";case sh.PANEL_STYLE_NAV_RIGHT:return Ue?"mdi:mdi-chevron-double-right":"mdi:mdi-chevron-double-left";case sh.PANEL_STYLE_NAV_TOP:return Ue?"mdi:mdi-chevron-double-up":"mdi:mdi-chevron-double-down"}},ct=()=>{Le.emit("layout_opened",{AdminLayoutUUID:ze.value.AdminLayoutUUID,RegistrationUUID:Tt.value.RegistrationUUID})};return s$(()=>{!ze.value||!ze.value.RunnerLayoutUUID||ze.value.RunnerLayoutUUID==r$||ct()}),a$(()=>{}),(Se,Ue)=>($e(),to(xn,null,[($e(!0),to(xn,null,pi(ze.value.Panels,xt=>($e(),to(xn,{key:xt.LayoutPanelUUID},[rt(xt)!==void 0?($e(),No(T$,{key:0,permanent:!0,location:rt(xt),border:vo(de).smAndDown.value?1:0,rail:vo(de).smAndDown.value&&!Oe.value[xt.LayoutPanelUUID],"rail-width":"30",width:vo(de).smAndDown.value?"100%":256,app:""},{default:Ke(()=>[vo(de).smAndDown.value&&!Oe.value[xt.LayoutPanelUUID]?($e(),to("h3",{key:0,class:__(`bg-secondary fill-height ${rt(xt)==="top"||rt(xt)==="bottom"?"px-3 text-right":"py-3 text-left"}`),style:{cursor:"pointer"},onClick:so=>Oe.value[xt.LayoutPanelUUID]=!0},[ot(I1,{icon:zt(xt,!1)},null,8,["icon"])],10,xK)):($e(),to(xn,{key:1},[ps("h3",{class:"bg-secondary pa-3 d-flex",style:aF(vo(de).smAndDown.value?"cursor: pointer;":""),onClick:so=>Oe.value[xt.LayoutPanelUUID]=!1},[jo(Uo(xt.Name)+" ",1),vo(de).smAndDown.value?($e(),to(xn,{key:0},[ot(C_),ot(Vr,{icon:zt(xt,!0),variant:"plain",size:"sm"},null,8,["icon"])],64)):Zn("",!0)],12,wK),ot(x_,{class:"bg-panel overflow-y-auto",style:{height:"calc(100vh - 116px)"}},{default:Ke(()=>[($e(!0),to(xn,null,pi(xt.Items,(so,We)=>($e(),No(w_,{key:so.LayoutItemUUID},{default:Ke(()=>[xt.Items.length>1?($e(),No(ZL,{key:0,class:"font-weight-bold"},{default:Ke(()=>[jo(Uo(so.Label),1)]),_:2},1024)):Zn("",!0),ot(pF,{accommodations:Se.accommodations,convention:Se.convention,extras:Se.extras,forms:Se.forms,interests:Se.interests,"item-class":"bg-panel border-0",tickets:Se.tickets,venues:Se.venues,modelValue:xt.Items[We],"onUpdate:modelValue":At=>xt.Items[We]=At,registration:Tt.value,"onUpdate:registration":Ue[0]||(Ue[0]=At=>Tt.value=At),onOpenActions:Pe,onShowForm:je},null,8,["accommodations","convention","extras","forms","interests","tickets","venues","modelValue","onUpdate:modelValue","registration"])]),_:2},1024))),128))]),_:2},1024)],64))]),_:2},1032,["location","border","rail","width"])):Zn("",!0)],64))),128)),ot(E$,{class:"py-0"},{default:Ke(()=>[ot(ih,null,{default:Ke(()=>[ot(il,null,{default:Ke(()=>[($e(!0),to(xn,null,pi(ze.value.Panels,xt=>{var so,We,At,Qe,ae,Lt;return $e(),to(xn,{key:xt.LayoutPanelUUID},[xt.PanelStyle===vo(sh).PANEL_STYLE_FLEX?($e(),No(xs,{key:0,cols:((so=xt.Meta&&xt.Meta.cols)==null?void 0:so.toString())||!1,xs:((We=xt.Meta&&xt.Meta.cols_xs)==null?void 0:We.toString())||!1,sm:((At=xt.Meta&&xt.Meta.cols_sm)==null?void 0:At.toString())||!1,md:((Qe=xt.Meta&&xt.Meta.cols_md)==null?void 0:Qe.toString())||!1,lg:((ae=xt.Meta&&xt.Meta.cols_lg)==null?void 0:ae.toString())||!1,xl:((Lt=xt.Meta&&xt.Meta.cols_xl)==null?void 0:Lt.toString())||!1,class:"pa-0 pa-sm-2"},{default:Ke(()=>[ot(ih,{class:"bg-panel",style:aF(vo(de).smAndUp.value?"border-radius: 15px;":"")},{default:Ke(()=>[ps("h3",null,Uo(xt.Name),1),ot(x_,{class:"bg-panel"},{default:Ke(()=>[($e(!0),to(xn,null,pi(xt.Items,(he,tt)=>($e(),No(w_,{key:he.LayoutItemUUID,class:"px-0"},{default:Ke(()=>[xt.Items.length>1?($e(),No(ZL,{key:0,class:"font-weight-bold"},{default:Ke(()=>[jo(Uo(he.Label),1)]),_:2},1024)):Zn("",!0),ot(pF,{accommodations:Se.accommodations,convention:Se.convention,extras:Se.extras,forms:Se.forms,interests:Se.interests,"item-class":"bg-panel border-0",tickets:Se.tickets,venues:Se.venues,modelValue:xt.Items[tt],"onUpdate:modelValue":sn=>xt.Items[tt]=sn,registration:Tt.value,"onUpdate:registration":Ue[1]||(Ue[1]=sn=>Tt.value=sn),onOpenActions:Pe,onShowForm:je},null,8,["accommodations","convention","extras","forms","interests","tickets","venues","modelValue","onUpdate:modelValue","registration"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1032,["style"])]),_:2},1032,["cols","xs","sm","md","lg","xl"])):Zn("",!0)],64)}),128))]),_:1})]),_:1})]),_:1})],64))}});class _K extends i${constructor(de){super();Ad(this,"iAmConnecting",!1);Ad(this,"iAmClosing",!1);Ad(this,"socket");Ad(this,"timer");Ad(this,"router");Ad(this,"wsUri");this.timer={ping:void 0,reconnect:void 0,timeout:void 0},this.router=de.router,this.wsUri=de.wsUri,this.setupSocket()}destroy(){this.closeSocket(),this.clearTimers()}clearTimers(){this.timer&&(this.timer.ping&&clearInterval(this.timer.ping),this.timer.reconnect&&clearInterval(this.timer.reconnect),this.timer.timeout&&clearTimeout(this.timer.timeout))}closeSocket(){var de;if(this.iAmClosing=!0,this.socket){try{(de=this.socket)==null||de.close()}catch{}this.socket=void 0}this.clearTimers()}pingSocket(){if(!this.socket){this.timer&&this.timer.ping&&clearInterval(this.timer.ping);return}this.socket.send(`PING ${new Date().getTime()}`)}send(de){var xe;try{(xe=this.socket)==null||xe.send(de)}catch{this.clearTimers(),this.timer.reconnect=setTimeout(()=>this.setupSocket(),2e3);return}}JSON(de){const xe=JSON.stringify(de);this.send(xe)}setupSocket(){if(!(!this.wsUri||this.iAmConnecting||this.iAmClosing)){if(this.iAmConnecting=!0,this.socket)try{this.socket.close()}catch{}this.socket=void 0;try{this.socket=new WebSocket(this.wsUri)}catch{if(!this.iAmClosing){this.clearTimers(),this.timer.reconnect=setTimeout(()=>this.setupSocket(),2e3);return}}this.socket&&(this.socket.onopen=()=>{this.iAmConnecting=!1,this.emit("open"),this.setConnectionTimeout(),this.timer.ping=setInterval(()=>this.pingSocket(),1e4)},this.socket.onclose=()=>{var de;this.iAmConnecting=!1,this.emit("close");try{(de=this.socket)==null||de.close()}catch{}this.socket=void 0,this.iAmClosing||(this.clearTimers(),this.timer.reconnect=setTimeout(()=>this.setupSocket(),2e3))},this.socket.onerror=()=>{var de;this.iAmConnecting=!1,this.emit("error");try{(de=this.socket)==null||de.close()}catch{}this.socket=void 0,this.clearTimers(),this.timer.reconnect=setTimeout(()=>this.setupSocket(),2e3)},this.socket.onmessage=de=>{var Le;const xe=de.data;if(xe.substring(0,4)==="PING"){(Le=this.socket)==null||Le.send(xe.replace("PING","PONG"));return}if(xe.substring(0,4)==="PONG"){this.setConnectionTimeout(!0);return}if(xe.substring(0,1)==="{")this.router.processJSON(xe);else{const ze=xe.match(/(?:[^\s"]+|"[^"]*")+/g);if(!ze||ze.length<1)throw new Error("invalid command",{cause:{msg:xe,file:"socket.ts",line:113}});const Tt=ze.shift();this.router.processCommand(Tt,...ze.values())}this.emit("message",xe)})}}setConnectionTimeout(de=!0){de&&clearTimeout(this.timer.timeout),this.timer.timeout=setTimeout(()=>{var xe;if(this.socket)try{(xe=this.socket)==null||xe.close()}catch{}},15e3)}}const AK=le=>new _K(le);class hF extends Object{constructor(de){super(de);Ad(this,"body","");Ad(this,"params");Ad(this,"socket");de!=null&&de.body&&this.setBody(de.body),de!=null&&de.params?this.params=de.params:this.params=new Map,this.socket=de.socket}BindJSON(){return JSON.parse(this.body)}setBody(de){this.body=de}get(de){return this.params.get(de)||""}set(de,xe){this.params.set(de,xe)}}class CK extends Object{constructor(de){super(de);Ad(this,"registry",new Map);Ad(this,"socket");de!=null&&de.socket&&(this.socket=de.socket)}COMMAND(de,xe){this.registry.set(de,xe)}JSON(de,xe){this.registry.set(de,xe)}processCommand(de,...xe){const Le=new hF({socket:this.socket});xe.forEach((Tt,Oe)=>{Le.params.set(Oe,Tt)});const ze=this.registry.get(de);ze&&ze(Le)}processJSON(de){const xe=JSON.parse(de);if(!this.registry.has(xe.Command))return;const Le=new hF({socket:this.socket});xe.Data&&Le.setBody(xe.Data),xe.Params&&(Object.getPrototypeOf(xe)!=Map.prototype&&(xe.Params=new Map(Object.entries(xe.Params))),Object.getPrototypeOf(xe.Params)==Map.prototype&&xe.Params.forEach((Tt,Oe)=>{Le.params.set(Oe,Tt)}));const ze=this.registry.get(xe.Command);ze&&ze(Le)}}const zY=le=>{const De=new CK({});De.COMMAND("VALID_AUTH",()=>{var xe;(xe=De.socket)==null||xe.emit("authenticated")}),De.COMMAND("INVALID_AUTH",()=>{var xe;(xe=De.socket)==null||xe.emit("auth_failed")}),De.JSON("BADGE_SERIAL_UPDATE",xe=>{var ze;const Le=xe.BindJSON();(ze=De.socket)==null||ze.emit("badge_serial_update",Le)}),De.JSON("CLOSE",xe=>{var ze;const Le=xe.BindJSON();(ze=De.socket)==null||ze.emit("kicked",Le)}),De.JSON("CONVENTION_DATA",xe=>{var ze;const Le=xe.BindJSON();(ze=De.socket)==null||ze.emit("convention_data",Le)}),De.JSON("ERROR",xe=>{var ze;const Le=xe.BindJSON();(ze=De.socket)==null||ze.emit("error",Le)}),De.JSON("JOINED",()=>{var xe;(xe=De.socket)==null||xe.emit("joined")}),De.JSON("RUNNER_DATA",xe=>{var ze;const Le=xe.BindJSON();(ze=De.socket)==null||ze.emit("runner_data",Le)}),De.JSON("RUNNER_CONNECTED",xe=>{var ze;const Le=xe.BindJSON();(ze=De.socket)==null||ze.emit("runner_connected",Le)}),De.JSON("RUNNER_DISCONNECTED",xe=>{var ze;const Le=xe.BindJSON();(ze=De.socket)==null||ze.emit("runner_disconnected",Le)}),De.JSON("STARTED",()=>{var xe;(xe=De.socket)==null||xe.emit("started")});const de=AK({router:De,wsUri:le.wsUri});return De.socket=de,de},SK=l$.getInstance(),DY=()=>SK;export{O$ as A,W$ as D,AY as L,CY as M,SY as P,EY as U,OY as _,Q$ as a,X$ as b,sG as c,gF as d,aK as e,CF as f,GG as g,tK as h,_Y as i,sh as j,Wl as k,SN as l,zY as m,DY as n,lk as o,TY as u};
