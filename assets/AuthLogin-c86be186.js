import{d as p,W as l,y as h,D as _,o as d,O as f,f as s,G as g,aK as k,F as A}from"./index-181421cc.js";import{S as L}from"./setupLogin-e1262660.js";import{u as P}from"./useGrazeAPI-c1e75c1b.js";import"./userData-887aea4a.js";const B=s("p",null,"Authorising...",-1),z=p({__name:"AuthLogin",setup(R){const n=l(),t=h(n.params.method),r=P(),e=new URL(location.href),c=_(),u=e.searchParams.get("code")||"",i=e.searchParams.get("token")||"",m=e.searchParams.get("state")||"";return r.oAuthLogin(t.value,u,i,m).then(({tokens:o,user:a})=>{L(o,a,c)}),(o,a)=>(d(),f(A,null,[s("p",null,g(k(t.value)),1),B],64))}});export{z as default};
