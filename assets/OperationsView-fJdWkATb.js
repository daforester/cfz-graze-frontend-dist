import{i as H,M as q,N as x,r,c as ue,n as o,q as C,P as j,W as L,k as te,v as e,f as n,D as P,y as A,A as I,C as V,m as De,a1 as Ee,x as N,B as k,Q as fe,F as $,z as ne,V as Me,U as $e}from"./index-ZdxIGjqt.js";import{V as Pe,u as Ae}from"./debounce-4uyNuyYE.js";import{G as ye}from"./group-7fhbY6WJ.js";import{C as Ve}from"./canDo-z6oAT1Q3.js";import{G as _e}from"./userData-_V8cf8vn.js";import{_ as Z}from"./ModelDialog.vue_vue_type_script_setup_true_lang-Au3P16fw.js";import{V as he}from"./VAutocomplete-rLGRnKog.js";import{a as de,V as se}from"./scopeId-PA5FsDVD.js";import{V as z,a as E}from"./VRow-i7TgTdAh.js";import{V as ie}from"./VTextField-4zELBl1_.js";import{V as re}from"./VTextarea-NatgC4j7.js";import{V as Ne}from"./VForm-f1bsnbpM.js";import{V as ke}from"./VFileInput-ILmdWlwC.js";import{V as me}from"./VAvatar-lcgNBTsB.js";import{a as ee,V as Ge}from"./VContainer-mr33kBpk.js";import{a as le,b as oe,c as ae,V as ve}from"./VDataTable-Cw9lQ_qT.js";import{V as Ue,a as Ce,c as Ie,d as ge}from"./VList-_WQf1DUk.js";import{V as Y}from"./VBtn-ka2m1xxL.js";import{h as Te}from"./date-1rFCglLs.js";import{a as Be}from"./VTable-q7TmUWPM.js";import{a as xe,c as we,V as Ye}from"./VWindowItem-0rlZNv6-.js";import{V as qe}from"./VToolbar-Sg9sd8SF.js";import{e as Re}from"./VCard-uv-GdTiJ.js";import"./SaveButton.vue_vue_type_script_setup_true_lang-fElvLrkD.js";import"./forwardRefs-ekS-Bsur.js";import"./VDialog-5SlcI0fX.js";import"./VSelect-X_os-puY.js";import"./VCheckboxBtn-tvXDZN3S.js";import"./VChip-3xq1yDdm.js";import"./createSimpleFunctional-rJyGt2tf.js";import"./VDivider-jCC6UuXr.js";var S=(a=>(a.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE="GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE",a.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE="GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE",a.GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS="GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS",a))(S||{});const J=[{title:"Costume Prop Clearance",value:"GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE"},{title:"Costume Prop Type",value:"GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE"},{title:"Lost and Found Status",value:"GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS"}],Fe=(a,R)=>a===void 0?!1:Ve(a,ye.GROUP_TYPE_CONVENTION,R.ConventionUUID,R).EditProps,be=(a,R)=>a===void 0?!1:Ve(a,ye.GROUP_TYPE_CONVENTION,R.ConventionUUID,R).ConfigureProps,K=H({__name:"UserSelect",props:q({clearable:{type:Boolean,default:!1},convention:{},hideDetails:{type:[Boolean,String]},hint:{default:""},label:{default:""},persistentHint:{type:Boolean,default:!1},variant:{default:"filled"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(a){const R=j(),p=x(a,"modelValue"),t=r([]);R.searchConventionUsers(a.convention.ConventionUUID).then(m=>{m&&(t.value=m.Users)});const d=ue(()=>{const m=t.value.map(i=>{const y=i.Generated&&i.Generated.badge_name?i.Generated.badge_name:i.DisplayName;return{DisplayName:`${i.Registrations&&i.Registrations.length>0&&i.Registrations[0].Reference?`#${i.Registrations[0].Reference}`:""} ${y}`,Reference:i.Registrations&&i.Registrations.length>0&&i.Registrations[0].Reference?i.Registrations[0].Reference:"",UserUUID:i.UserUUID}}).sort((i,y)=>!i.Reference&&y.Reference?1:i.Reference&&!y.Reference||i.Reference.length<y.Reference.length?-1:i.Reference.length>y.Reference.length||i.DisplayName>y.DisplayName?1:i.DisplayName==y.DisplayName?0:-1);return m.unshift({DisplayName:"- Select Owner -",Reference:"",UserUUID:L}),m});return(m,i)=>(o(),C(he,{label:m.label,items:d.value,"item-title":"DisplayName","item-value":"UserUUID",variant:m.variant,"hide-details":m.hideDetails,"persistent-hint":m.persistentHint,modelValue:p.value,"onUpdate:modelValue":i[0]||(i[0]=y=>p.value=y),hint:m.hint,clearable:m.clearable},null,8,["label","items","variant","hide-details","persistent-hint","modelValue","hint","clearable"]))}}),Oe=H({__name:"GenericEnumSelect",props:q({category:{},convention:{},label:{default:""},variant:{default:"filled"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(a){const R=j(),p=r([]),t=x(a,"modelValue");R.getConventionGenericEnums(a.convention.ConventionUUID,a.category).then(m=>{m&&(p.value=m)});const d=ue(()=>{const m=p.value.map(i=>i).sort((i,y)=>i.Title>y.Title?1:i.Title==y.Title?0:-1);return m.unshift({ID:0,GenericEnumUUID:L,ConventionID:0,ConventionUUID:L,Category:a.category,Name:"",Title:`- Select ${a.label} -`,Description:""}),m});return(m,i)=>(o(),C(he,{label:m.label,items:d.value,"item-title":"Title","item-value":"GenericEnumUUID",variant:m.variant,"hide-details":"",modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=y=>t.value=y)},null,8,["label","items","variant","modelValue"]))}}),ze=["innerHTML"],He=["innerHTML"],je=H({__name:"EditCostumeProp",props:q({convention:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{},costumeProp:{required:!0},costumePropModifiers:{}}),emits:q(["new","update:costumeProp"],["update:modelValue","update:costumeProp"]),setup(a,{emit:R}){const p=x(a,"modelValue"),t=x(a,"costumeProp"),d=j(),m=de(),i=R,y=r(te(t.value)),G=r(`${m.GetCostumePropImageURL(t.value.CostumePropUUID)}?${new Date().getTime()}`),O=r(),g=r(),u=r([]),v=r([]);d.getConventionGenericEnums(a.convention.ConventionUUID,S.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE).then(F=>{F&&(u.value=F)}),d.getConventionGenericEnums(a.convention.ConventionUUID,S.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE).then(F=>{F&&(v.value=F)});const s=()=>{},f=()=>{t.value=te(y.value)},T=F=>{d.saveCostumeProp(t.value).then(w=>{w?(F&&F("Saved Costume Prop"),t.value.CostumePropUUID!=w.CostumePropUUID&&i("new",w),t.value=w,i("update:costumeProp",w),G.value?U(w.CostumePropUUID).then(()=>{setTimeout(()=>{p.value=!1},1e3)}).catch(()=>{F("Failed to Save Image")}):setTimeout(()=>{p.value=!1},1e3)):F&&F("Failed to Save Costume Prop")}).catch(()=>{F&&F("Failed to Save Costume Prop")})},B=ue(()=>!1),h=()=>{G.value=URL.createObjectURL(O.value.files[0])},U=async F=>{var b;const w=new FormData((b=g.value)==null?void 0:b.$el);if(w.get("Image")&&w.get("Image").size>0)return w.set("ConventionUUID",a.convention.ConventionUUID),w.set("CostumePropUUID",F),await m.SaveCostumePropImage(w)},_=F=>{if(!F)return"";let w=F;return w=w.replaceAll(`
`,"<br>"),w=w.replaceAll(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),w=w.replaceAll(/\[i](.*?)\[\/i]/g,"<em>$1</em>"),w};return(F,w)=>(o(),C(Z,De({modelValue:p.value,"onUpdate:modelValue":w[5]||(w[5]=b=>p.value=b),title:"Add Costume Prop","show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!1,"hide-extension":!0,fullscreen:!0,persistent:!0,scrollable:!0,onReset:f,onSave:T},{[Ee(B.value&&"delete")]:s}),{default:e(()=>[n(ee,null,{default:e(()=>[n(z,null,{default:e(()=>[t.value.AddedBy?(o(),C(E,{key:0,cols:"12"},{default:e(()=>[P("strong",null,"Added By: "+A(t.value.AddedBy.DisplayName),1)]),_:1})):I("",!0),n(E,{cols:"12"},{default:e(()=>[n(K,{modelValue:t.value.OwnerUUID,"onUpdate:modelValue":w[0]||(w[0]=b=>t.value.OwnerUUID=b),convention:F.convention,label:"Owner",variant:"outlined","aria-required":"true",clearable:!0},null,8,["modelValue","convention"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(Oe,{modelValue:t.value.TypeUUID,"onUpdate:modelValue":w[1]||(w[1]=b=>t.value.TypeUUID=b),category:V(S).GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE,convention:F.convention,label:"Type",variant:"outlined"},null,8,["modelValue","category","convention"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(ie,{modelValue:t.value.Description,"onUpdate:modelValue":w[2]||(w[2]=b=>t.value.Description=b),label:"Description",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(Oe,{modelValue:t.value.ClearanceUUID,"onUpdate:modelValue":w[3]||(w[3]=b=>t.value.ClearanceUUID=b),category:V(S).GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE,convention:F.convention,label:"Clearance",variant:"outlined"},null,8,["modelValue","category","convention"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(re,{modelValue:t.value.Remarks,"onUpdate:modelValue":w[4]||(w[4]=b=>t.value.Remarks=b),label:"Remarks / Information",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(Ne,{ref_key:"propImageForm",ref:g,enctype:"multipart/form-data"},{default:e(()=>[n(ke,{label:"Photograph",name:"Image",variant:"outlined",ref_key:"imageFileInput",ref:O,"prepend-icon":"mdi:mdi-camera",capture:"environment",accept:"image/avif, image/bmp, image/gif, image/jpeg, image/png, image/webp",onChange:h},null,512)]),_:1},512),G.value?(o(),C(me,{key:0,src:G.value,class:"border profileImage my-0 mx-auto","max-height":"400","max-width":"400",ref:"imageDisplay",cover:!1},null,8,["src"])):I("",!0)]),_:1}),t.value.ClearanceUUID!==""&&t.value.ClearanceUUID!==V(L)?(o(),C(E,{key:1,cols:"12"},{default:e(()=>{var b,Q;return[P("div",null,[P("strong",null,A((b=u.value.find(X=>X.GenericEnumUUID===t.value.ClearanceUUID))==null?void 0:b.Title),1)]),P("div",{innerHTML:_((Q=u.value.find(X=>X.GenericEnumUUID===t.value.ClearanceUUID))==null?void 0:Q.Description)},null,8,ze)]}),_:1})):I("",!0),t.value.TypeUUID!==""&&t.value.TypeUUID!==V(L)?(o(),C(E,{key:2,cols:"12"},{default:e(()=>{var b;return[P("div",{innerHTML:_((b=v.value.find(Q=>Q.GenericEnumUUID===t.value.TypeUUID))==null?void 0:b.Description)},null,8,He)]}),_:1})):I("",!0)]),_:1})]),_:1})]),_:1},16,["modelValue"]))}}),We=P("br",null,null,-1),Ke=P("p",null,[P("strong",null,"Description Formatting Guidance")],-1),Qe=P("dl",null,[P("dt",{class:"float-left mr-2"}," ** "),P("dd",null,[N(" Surround text with double asterisk to make text bold. E.g. **this is bold** = "),P("strong",null,"this is bold")]),P("dt",{class:"float-left mr-2"}," [i] "),P("dd",null,[N(" Surround text with [i] and [/i] to make text italic. E.g. [i]italic emphasis[/i] = "),P("em",null,"italic emphasis")])],-1),Se=H({__name:"EditGenericEnum",props:q({convention:{},title:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{},genericEnum:{required:!0},genericEnumModifiers:{}}),emits:q(["delete:genericEnum","new","update:genericEnum"],["update:modelValue","update:genericEnum"]),setup(a,{emit:R}){const p=x(a,"modelValue"),t=x(a,"genericEnum"),d=r(te(t.value)),m=j(),i=R,y=r([]),G=r([]),O=s=>{m.deleteGenericEnum(d.value.GenericEnumUUID).then(f=>{var T,B;f?(s&&s(`Deleted ${(T=J.find(h=>h.value==d.value.Category))==null?void 0:T.title}`),i("delete:genericEnum",d.value),setTimeout(()=>{p.value=!1},1e3)):s&&s(`Failed to Delete ${(B=J.find(h=>h.value==d.value.Category))==null?void 0:B.title}`)}).catch(()=>{var f;s&&s(`Failed to Delete ${(f=J.find(T=>T.value==d.value.Category))==null?void 0:f.title}`)})},g=ue(()=>d.value.GenericEnumUUID!=L),u=s=>{m.saveGenericEnum(d.value).then(f=>{var T,B;f?(s&&s(`Saved ${(T=J.find(h=>h.value==d.value.Category))==null?void 0:T.title}`),i("update:genericEnum",f),setTimeout(()=>{p.value=!1},1e3)):s&&s(`Failed to Save ${(B=J.find(h=>h.value==d.value.Category))==null?void 0:B.title}`)}).catch(()=>{var f;s&&s(`Failed to Save ${(f=J.find(T=>T.value==d.value.Category))==null?void 0:f.title}`)})},v=()=>{d.value=te(t.value)};return m.getConventionGenericEnums(a.convention.ConventionUUID,S.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE).then(s=>{s&&(y.value=s)}).catch(()=>{}),m.getConventionGenericEnums(a.convention.ConventionUUID,S.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE).then(s=>{s&&(G.value=s)}).catch(()=>{}),(s,f)=>(o(),C(Z,De({modelValue:p.value,"onUpdate:modelValue":f[3]||(f[3]=T=>p.value=T),title:s.title,"show-reset-action":!1,"show-save-action":!0,"show-delete-action":!1,"show-close-action":!0,"hide-extension":!0,fullscreen:!1,persistent:!0,scrollable:!0,onReset:v,onSave:u},{[Ee(g.value&&"delete")]:O}),{default:e(()=>[n(ee,null,{default:e(()=>[n(z,null,{default:e(()=>[n(E,{cols:"12"},{default:e(()=>[n(ie,{modelValue:d.value.Name,"onUpdate:modelValue":f[0]||(f[0]=T=>d.value.Name=T),label:"Internal Name",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(ie,{modelValue:d.value.Title,"onUpdate:modelValue":f[1]||(f[1]=T=>d.value.Title=T),label:"Display Title",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(re,{modelValue:d.value.Description,"onUpdate:modelValue":f[2]||(f[2]=T=>d.value.Description=T),label:"Description",variant:"outlined"},null,8,["modelValue"]),We,Ke,Qe]),_:1})]),_:1})]),_:1})]),_:1},16,["modelValue","title"]))}}),Je=H({__name:"ConfigCostumeProps",props:q({convention:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(a){const R=x(a,"modelValue"),p=j(),t=r(),d=r([]),m=r(!1),i=r([]),y=u=>{const v=()=>({ID:0,GenericEnumUUID:L,ConventionID:a.convention.ID,ConventionUUID:a.convention.ConventionUUID,Category:u,Name:"",Title:"",Description:""});t.value=v(),m.value=!0},G=u=>{t.value=u,m.value=!0},O=u=>{let v;switch(u.Category){case S.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE:v=d.value.findIndex(s=>s.GenericEnumUUID==u.GenericEnumUUID),v>=0&&d.value.splice(v,1);break;case S.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE:v=i.value.findIndex(s=>s.GenericEnumUUID==u.GenericEnumUUID),v>=0&&i.value.splice(v,1);break}},g=u=>{let v;switch(u.Category){case S.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE:v=d.value.findIndex(s=>s.GenericEnumUUID==u.GenericEnumUUID),v>=0?d.value.splice(v,1,u):d.value.push(t.value);break;case S.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE:v=i.value.findIndex(s=>s.GenericEnumUUID==u.GenericEnumUUID),v>=0?i.value.splice(v,1,u):i.value.push(t.value);break}};return p.getConventionGenericEnums(a.convention.ConventionUUID,S.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE).then(u=>{u&&(d.value=u)}),p.getConventionGenericEnums(a.convention.ConventionUUID,S.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE).then(u=>{u&&(i.value=u)}),(u,v)=>(o(),C(Z,{modelValue:R.value,"onUpdate:modelValue":v[4]||(v[4]=s=>R.value=s),title:"Configure Costume Props","show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!0,"hide-extension":!0,fullscreen:!0,persistent:!0,scrollable:!0},{default:e(()=>{var s;return[n(ve,null,{default:e(()=>[n(le,null,{default:e(()=>[n(oe,{color:"primary"},{default:e(()=>[N(" Clearance Options ")]),_:1}),n(ae,null,{default:e(()=>[n(Ue,null,{default:e(()=>[(o(!0),k($,null,fe(d.value,f=>(o(),C(Ce,{key:f.GenericEnumUUID},{append:e(()=>[n(Y,{icon:"mdi:mdi-pencil-outline",color:"warning",size:"x-small",onClick:T=>G(f)},null,8,["onClick"])]),default:e(()=>[n(Ie,null,{default:e(()=>[P("strong",null,A(f.Name)+" - "+A(f.Title),1)]),_:2},1024),n(ge,null,{default:e(()=>[N(A(f.Description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),n(z,null,{default:e(()=>[n(E,{class:"text-right"},{default:e(()=>[n(Y,{color:"success","prepend-icon":"mdi:mdi-plus",onClick:v[0]||(v[0]=f=>y(V(S).GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE))},{default:e(()=>[N(" Add Item ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),n(le,null,{default:e(()=>[n(oe,{color:"primary"},{default:e(()=>[N(" Item Types ")]),_:1}),n(ae,null,{default:e(()=>[n(Ue,null,{default:e(()=>[(o(!0),k($,null,fe(i.value,f=>(o(),C(Ce,{key:f.GenericEnumUUID},{append:e(()=>[n(Y,{icon:"mdi:mdi-pencil-outline",color:"warning",size:"x-small",onClick:T=>G(f)},null,8,["onClick"])]),default:e(()=>[n(Ie,null,{default:e(()=>[P("strong",null,A(f.Name)+" - "+A(f.Title),1)]),_:2},1024),n(ge,null,{default:e(()=>[N(A(f.Description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),n(z,null,{default:e(()=>[n(E,{class:"text-right"},{default:e(()=>[n(Y,{color:"success","prepend-icon":"mdi:mdi-plus",onClick:v[1]||(v[1]=f=>y(V(S).GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE))},{default:e(()=>[N(" Add Item ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),m.value&&t.value?(o(),C(Se,{key:0,convention:u.convention,title:`Edit ${(s=V(J).find(f=>{var T;return f.value==((T=t.value)==null?void 0:T.Category)}))==null?void 0:s.title}`,modelValue:m.value,"onUpdate:modelValue":v[2]||(v[2]=f=>m.value=f),"generic-enum":t.value,"onUpdate:genericEnum":[v[3]||(v[3]=f=>t.value=f),g],"onDelete:genericEnum":O},null,8,["convention","title","modelValue","generic-enum"])):I("",!0)]}),_:1},8,["modelValue"]))}}),Xe=["href"],Ze=["innerHTML"],en=["innerHTML"],nn=H({__name:"ViewCostumeProp",props:q({convention:{},title:{default:"View Costume Prop"}},{modelValue:{type:Boolean,required:!0},modelModifiers:{},costumeProp:{required:!0},costumePropModifiers:{}}),emits:["update:modelValue","update:costumeProp"],setup(a){const R=x(a,"modelValue"),p=x(a,"costumeProp"),t=j(),d=de(),m=r(`${d.GetCostumePropImageURL(p.value.CostumePropUUID)}?${new Date().getTime()}`),i=r([]),y=r([]);t.getConventionGenericEnums(a.convention.ConventionUUID,S.GENERIC_ENUM_CATEGORY_COSTUME_PROP_CLEARANCE).then(O=>{O&&(i.value=O)}),t.getConventionGenericEnums(a.convention.ConventionUUID,S.GENERIC_ENUM_CATEGORY_COSTUME_PROP_TYPE).then(O=>{O&&(y.value=O)});const G=O=>{if(!O)return"";let g=O;return g=g.replaceAll(`
`,"<br>"),g=g.replaceAll(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),g=g.replaceAll(/\[i](.*?)\[\/i]/g,"<em>$1</em>"),g};return(O,g)=>(o(),C(Z,{modelValue:R.value,"onUpdate:modelValue":g[0]||(g[0]=u=>R.value=u),title:O.title,"show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!1,"hide-extension":!0,fullscreen:!1,persistent:!1,scrollable:!0},{default:e(()=>[n(ee,null,{default:e(()=>[n(z,null,{default:e(()=>[n(E,{cols:"12"},{default:e(()=>[m.value?(o(),k("a",{key:0,href:m.value,target:"_blank",style:{cursor:"zoom-in"}},[n(me,{src:m.value,class:"border my-0 mx-auto","max-height":"400","max-width":"400",ref:"imageDisplay",cover:!1},null,8,["src"])],8,Xe)):I("",!0)]),_:1}),n(E,{cols:"12"},{default:e(()=>[N(A(p.value.Remarks),1)]),_:1}),p.value.AddedBy?(o(),C(E,{key:0,class:"text-right",cols:"12"},{default:e(()=>[P("small",null,"Added By: "+A(p.value.AddedBy.DisplayName),1)]),_:1})):I("",!0),p.value.ClearanceUUID!==""&&p.value.ClearanceUUID!==V(L)?(o(),C(E,{key:1,cols:"12"},{default:e(()=>{var u,v;return[P("div",null,[P("strong",null,A((u=i.value.find(s=>s.GenericEnumUUID===p.value.ClearanceUUID))==null?void 0:u.Title),1)]),P("div",{innerHTML:G((v=i.value.find(s=>s.GenericEnumUUID===p.value.ClearanceUUID))==null?void 0:v.Description)},null,8,Ze)]}),_:1})):I("",!0),p.value.TypeUUID!==""&&p.value.TypeUUID!==V(L)?(o(),C(E,{key:2,cols:"12"},{default:e(()=>{var u;return[P("div",{innerHTML:G((u=y.value.find(v=>v.GenericEnumUUID===p.value.TypeUUID))==null?void 0:u.Description)},null,8,en)]}),_:1})):I("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue","title"]))}}),Le=(a,R)=>a===void 0?!1:Ve(a,ye.GROUP_TYPE_CONVENTION,R.ConventionUUID,R).ViewProps,tn=P("br",null,null,-1),ln=H({__name:"CostumePropsView",props:{convention:{}},setup(a){const R=j(),p=_e(),t=r(),d=r([]),m=r(1),i=r([]),y=r(!0),G=r(10),O=r(0),g=r([]),u=r(""),v=r(Le(p,a.convention)),s=r(Fe(p,a.convention)),f=r(be(p,a.convention)),T=r(!1),B=r(!1),h=r(!1),U=r({}),_=Ae(()=>{u.value=Date.now().toString()}),F=()=>{t.value={ID:0,CostumePropUUID:L,ConventionID:a.convention.ID,ConventionUUID:a.convention.ConventionUUID,Description:"",HasPhoto:!1,Remarks:""},T.value=!0},w=c=>{t.value=c,T.value=!0},b=c=>{t.value=c,h.value=!0},Q=()=>{B.value=!0},X=r([{key:"owner",title:"Attendee",sortable:!1},{key:"type",title:"Type",sortable:!1},{key:"Clearance.Title",title:"Clearance",sortable:!1},{key:"actions",title:"",sortable:!1}]),ce=({page:c,itemsPerPage:l,sortBy:D})=>{y.value=!0,m.value=c,i.value=D;try{U.value.Limit=l,U.value.Offset=(c-1)*l;const W=u.value;R.searchConventionCostumeProps(a.convention.ConventionUUID,U.value).then(pe=>{pe&&W===u.value&&(O.value=pe.Total,d.value=pe.CostumeProps,y.value=!1)})}catch(W){console.error(W)}},M=c=>{const l=d.value.findIndex(D=>c.CostumePropUUID==D.CostumePropUUID);l>=0&&d.value.splice(l,1,c)};return(c,l)=>c.convention?(o(),k($,{key:0},[n(ee,{fluid:!0,class:"px-1"},{default:e(()=>[s.value||f.value?(o(),C(z,{key:0},{default:e(()=>[f.value?(o(),C(E,{key:0,class:"flex-shrink-1 flex-grow-0"},{default:e(()=>[n(Y,{color:"primary","prepend-icon":"mdi:mdi-cog",onClick:Q},{default:e(()=>[N(" Config ")]),_:1})]),_:1})):I("",!0),n(se),s.value?(o(),C(E,{key:1,class:"flex-shrink-1 flex-grow-0"},{default:e(()=>[n(Y,{color:"success","prepend-icon":"mdi:mdi-plus",onClick:F},{default:e(()=>[N(" Record New Item ")]),_:1})]),_:1})):I("",!0)]),_:1})):I("",!0)]),_:1}),v.value||s.value?(o(),C(Pe,{key:0,page:m.value,"onUpdate:page":l[4]||(l[4]=D=>m.value=D),"items-per-page":G.value,"onUpdate:itemsPerPage":l[5]||(l[5]=D=>G.value=D),"sort-by":g.value,"onUpdate:sortBy":l[6]||(l[6]=D=>g.value=D),headers:X.value,"items-length":O.value,items:d.value,"item-value":"key",loading:y.value,search:u.value,"onUpdate:options":ce},{top:e(()=>[n(ve,{class:"mb-3"},{default:e(()=>[n(le,null,{default:e(()=>[n(oe,{color:"secondary",class:"font-weight-bold pb-0 pt-0"},{default:e(()=>[n(E,{class:"pa-0"},{default:e(()=>[N(" Search Criteria "),n(Ge,{class:"pl-5",icon:"mdi:mdi-credit-card-search-outline"})]),_:1}),n(E,{class:"d-none d-sm-block pa-0",cols:"0"},{default:e(()=>[n(K,{convention:c.convention,label:"Owner",clearable:!0,"hide-details":"",variant:"plain",modelValue:U.value.OwnerUUID,"onUpdate:modelValue":[l[0]||(l[0]=D=>U.value.OwnerUUID=D),V(_)],onClick:l[1]||(l[1]=ne(()=>{},["stop"])),"onClick:clear":V(_),onInput:V(_)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1}),n(se),n(E,{class:"d-none d-md-block pa-0"})]),_:1}),n(ae,{class:"pt-2"},{default:e(()=>[n(z,null,{default:e(()=>[n(E,{cols:"12",lg:"6"},{default:e(()=>[n(K,{convention:c.convention,label:"Owner",clearable:!0,"hide-details":"",variant:"outlined",modelValue:U.value.OwnerUUID,"onUpdate:modelValue":[l[2]||(l[2]=D=>U.value.OwnerUUID=D),V(_)],onClick:l[3]||(l[3]=ne(()=>{},["stop"])),"onClick:clear":V(_),onInput:V(_)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),"item.owner":e(({item:D})=>[D.Owner?(o(),k($,{key:0},[D.Owner.Registrations&&D.Owner.Registrations.length>0?(o(),k($,{key:0},[N(" #"+A(D.Owner.Registrations[0].Reference),1)],64)):I("",!0),D.Owner.Generated&&D.Owner.Generated.badge_name?(o(),k($,{key:1},[N("  "+A(D.Owner.Generated.badge_name),1)],64)):(o(),k($,{key:2},[N("  "+A(D.Owner.DisplayName),1)],64))],64)):I("",!0)]),"item.type":e(({item:D})=>[D.Type?(o(),k($,{key:0},[N(A(D.Type.Title)+" ",1),tn],64)):I("",!0),P("small",null,A(D.Description),1)]),"item.actions":e(({item:D})=>[v.value?(o(),C(Y,{key:0,icon:"mdi:mdi-magnify",size:"x-small",color:"success",onClick:W=>b(D),class:"mr-2"},null,8,["onClick"])):I("",!0),s.value?(o(),C(Y,{key:1,icon:"mdi:mdi-pencil",size:"x-small",color:"warning",onClick:W=>w(D)},null,8,["onClick"])):I("",!0)]),_:1},8,["page","items-per-page","sort-by","headers","items-length","items","loading","search"])):I("",!0),T.value&&t.value?(o(),C(je,{key:1,convention:c.convention,modelValue:T.value,"onUpdate:modelValue":l[7]||(l[7]=D=>T.value=D),"costume-prop":t.value,"onUpdate:costumeProp":[l[8]||(l[8]=D=>t.value=D),M],onNew:V(_)},null,8,["convention","modelValue","costume-prop","onNew"])):I("",!0),h.value&&t.value?(o(),C(nn,{key:2,convention:c.convention,title:t.value.Description,modelValue:h.value,"onUpdate:modelValue":l[9]||(l[9]=D=>h.value=D),"costume-prop":t.value,"onUpdate:costumeProp":l[10]||(l[10]=D=>t.value=D)},null,8,["convention","title","modelValue","costume-prop"])):I("",!0),B.value?(o(),C(Je,{key:3,convention:c.convention,modelValue:B.value,"onUpdate:modelValue":l[11]||(l[11]=D=>B.value=D)},null,8,["convention","modelValue"])):I("",!0)],64)):I("",!0)}}),on=P("strong",null,"Added By:",-1),an=P("strong",null,"Status:",-1),un={key:0,class:"text-success"},sn={key:1,class:"text-warning"},rn={key:2,class:"text-error"},dn={key:3,class:"text-error"},mn=H({__name:"EditLostAndFound",props:q({convention:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{},lostAndFound:{required:!0},lostAndFoundModifiers:{}}),emits:q(["new","update:lostAndFound"],["update:modelValue","update:lostAndFound"]),setup(a,{emit:R}){const p=x(a,"modelValue"),t=x(a,"lostAndFound"),d=j(),m=de(),i=R,y=r(te(t.value)),G=r(`${m.GetLostAndFoundImageURL(t.value.LostAndFoundUUID)}?${new Date().getTime()}`),O=r(),g=r(),u=()=>{},v=()=>{t.value=te(y.value)},s=h=>{d.saveLostAndFound(t.value).then(U=>{U?(h&&h("Saved Costume Prop"),t.value.LostAndFoundUUID!=U.LostAndFoundUUID&&i("new",U),t.value=U,i("update:lostAndFound",U),G.value?B(U.LostAndFoundUUID).then(()=>{setTimeout(()=>{p.value=!1},1e3)}).catch(()=>{h("Failed to Save Image")}):setTimeout(()=>{p.value=!1},1e3)):h&&h("Failed to Save Costume Prop")}).catch(()=>{h&&h("Failed to Save Costume Prop")})},f=ue(()=>!1),T=()=>{G.value=URL.createObjectURL(O.value.files[0])},B=async h=>{var _;const U=new FormData((_=g.value)==null?void 0:_.$el);if(U.get("Image")&&U.get("Image").size>0)return U.set("ConventionUUID",a.convention.ConventionUUID),U.set("LostAndFoundUUID",h),await m.SaveLostAndFoundImage(U)};return(h,U)=>(o(),C(Z,De({modelValue:p.value,"onUpdate:modelValue":U[5]||(U[5]=_=>p.value=_),title:"Report Lost & Found","show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!1,"hide-extension":!0,fullscreen:!0,persistent:!0,scrollable:!0,onReset:v,onSave:s},{[Ee(f.value&&"delete")]:u}),{default:e(()=>[n(ee,null,{default:e(()=>[n(z,null,{default:e(()=>[t.value.AddedBy?(o(),C(E,{key:0,cols:"12"},{default:e(()=>[on,N(" "+A(t.value.AddedBy.DisplayName),1)]),_:1})):I("",!0),t.value.AddedBy?(o(),C(E,{key:1,cols:"12"},{default:e(()=>[an,t.value.FoundByUUID&&t.value.OwnerUUID&&t.value.FoundByUUID!==V(L)&&t.value.OwnerUUID!==V(L)?(o(),k("span",un," Returned ")):t.value.FoundByUUID&&t.value.FoundByUUID!==V(L)?(o(),k("span",sn," Found ")):t.value.OwnerUUID&&t.value.OwnerUUID!==V(L)?(o(),k("span",rn," Lost ")):(o(),k("span",dn," Unknown "))]),_:1})):I("",!0),n(E,{cols:"12"},{default:e(()=>[n(K,{modelValue:t.value.FoundByUUID,"onUpdate:modelValue":U[0]||(U[0]=_=>t.value.FoundByUUID=_),convention:h.convention,label:"Found By",variant:"outlined","persistent-hint":!0,hint:"If unknown enter yourself",clearable:!0},null,8,["modelValue","convention"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(K,{modelValue:t.value.OwnerUUID,"onUpdate:modelValue":U[1]||(U[1]=_=>t.value.OwnerUUID=_),convention:h.convention,label:"Claimant (Owner)",variant:"outlined","persistent-hint":!0,hint:"The person either reporting item missing or claiming it",clearable:!0},null,8,["modelValue","convention"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(ie,{modelValue:t.value.Title,"onUpdate:modelValue":U[2]||(U[2]=_=>t.value.Title=_),label:"Title",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(re,{modelValue:t.value.Description,"onUpdate:modelValue":U[3]||(U[3]=_=>t.value.Description=_),label:"Description",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(re,{modelValue:t.value.Comments,"onUpdate:modelValue":U[4]||(U[4]=_=>t.value.Comments=_),label:"Comments",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),n(E,{cols:"12"},{default:e(()=>[n(Ne,{ref_key:"propImageForm",ref:g,enctype:"multipart/form-data"},{default:e(()=>[n(ke,{label:"Photograph",name:"Image",variant:"outlined",ref_key:"imageFileInput",ref:O,"prepend-icon":"mdi:mdi-camera",capture:"environment",accept:"image/avif, image/bmp, image/gif, image/jpeg, image/png, image/webp",onChange:T},null,512)]),_:1},512),G.value?(o(),C(me,{key:0,src:G.value,class:"border profileImage my-0 mx-auto","max-height":"400","max-width":"400",ref:"imageDisplay",cover:!1},null,8,["src"])):I("",!0)]),_:1})]),_:1})]),_:1})]),_:1},16,["modelValue"]))}}),vn=H({__name:"ConfigLostAndFound",props:q({convention:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(a){const R=x(a,"modelValue"),p=j(),t=r(),d=r([]),m=r(!1),i=g=>{const u=()=>({ID:0,GenericEnumUUID:L,ConventionID:a.convention.ID,ConventionUUID:a.convention.ConventionUUID,Category:g,Name:"",Title:"",Description:""});t.value=u(),m.value=!0},y=g=>{t.value=g,m.value=!0},G=g=>{let u;switch(g.Category){case S.GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS:u=d.value.findIndex(v=>v.GenericEnumUUID==g.GenericEnumUUID),u>=0&&d.value.splice(u,1);break}},O=g=>{let u;switch(g.Category){case S.GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS:u=d.value.findIndex(v=>v.GenericEnumUUID==g.GenericEnumUUID),u>=0?d.value.splice(u,1,g):d.value.push(t.value);break}};return p.getConventionGenericEnums(a.convention.ConventionUUID,S.GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS).then(g=>{g&&(d.value=g)}),(g,u)=>(o(),C(Z,{modelValue:R.value,"onUpdate:modelValue":u[3]||(u[3]=v=>R.value=v),title:"Configure Costume Props","show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!0,"hide-extension":!0,fullscreen:!0,persistent:!0,scrollable:!0},{default:e(()=>{var v;return[n(ve,null,{default:e(()=>[n(le,null,{default:e(()=>[n(oe,{color:"primary"},{default:e(()=>[N(" Item Status ")]),_:1}),n(ae,null,{default:e(()=>[n(Ue,null,{default:e(()=>[(o(!0),k($,null,fe(d.value,s=>(o(),C(Ce,{key:s.GenericEnumUUID},{append:e(()=>[n(Y,{icon:"mdi:mdi-pencil-outline",color:"warning",size:"x-small",onClick:f=>y(s)},null,8,["onClick"])]),default:e(()=>[n(Ie,null,{default:e(()=>[P("strong",null,A(s.Name)+" - "+A(s.Title),1)]),_:2},1024),n(ge,null,{default:e(()=>[N(A(s.Description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),n(z,null,{default:e(()=>[n(E,{class:"text-right"},{default:e(()=>[n(Y,{color:"success","prepend-icon":"mdi:mdi-plus",onClick:u[0]||(u[0]=s=>i(V(S).GENERIC_ENUM_CATEGORY_LOST_AND_FOUND_STATUS))},{default:e(()=>[N(" Add Item ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),m.value&&t.value?(o(),C(Se,{key:0,convention:g.convention,title:`Edit ${(v=V(J).find(s=>{var f;return s.value==((f=t.value)==null?void 0:f.Category)}))==null?void 0:v.title}`,modelValue:m.value,"onUpdate:modelValue":u[1]||(u[1]=s=>m.value=s),"generic-enum":t.value,"onUpdate:genericEnum":[u[2]||(u[2]=s=>t.value=s),O],"onDelete:genericEnum":G},null,8,["convention","title","modelValue","generic-enum"])):I("",!0)]}),_:1},8,["modelValue"]))}}),cn=["href"],pn=H({__name:"ViewLostAndFound",props:q({title:{default:"View Costume Prop"}},{modelValue:{type:Boolean,required:!0},modelModifiers:{},lostAndFound:{required:!0},lostAndFoundModifiers:{}}),emits:["update:modelValue","update:lostAndFound"],setup(a){const R=x(a,"modelValue"),p=x(a,"lostAndFound"),t=de(),d=r(`${t.GetLostAndFoundImageURL(p.value.LostAndFoundUUID)}?${new Date().getTime()}`);return(m,i)=>(o(),C(Z,{modelValue:R.value,"onUpdate:modelValue":i[0]||(i[0]=y=>R.value=y),title:m.title,"show-reset-action":!1,"show-save-action":!1,"show-delete-action":!1,"show-close-action":!1,"hide-extension":!0,fullscreen:!1,persistent:!1,scrollable:!0},{default:e(()=>[n(ee,null,{default:e(()=>[n(z,null,{default:e(()=>[n(E,{cols:"12"},{default:e(()=>[d.value?(o(),k("a",{key:0,href:d.value,target:"_blank",style:{cursor:"zoom-in"}},[n(me,{src:d.value,class:"border my-0 mx-auto","max-height":"400","max-width":"400",ref:"imageDisplay",cover:!1},null,8,["src"])],8,cn)):I("",!0)]),_:1}),n(E,{cols:"12"},{default:e(()=>[N(A(p.value.Description),1)]),_:1}),n(E,{cols:"12"},{default:e(()=>[N(A(p.value.Comments),1)]),_:1}),p.value.AddedBy?(o(),C(E,{key:0,class:"text-right",cols:"12"},{default:e(()=>[P("small",null,"Added By: "+A(p.value.AddedBy.DisplayName),1)]),_:1})):I("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue","title"]))}}),fn=P("strong",null,"Reported:",-1),Un=P("br",null,null,-1),Cn=P("strong",null,"Updated:",-1),In=P("br",null,null,-1),gn={key:0,class:"text-success"},Dn={key:1,class:"text-warning"},En={key:2,class:"text-error"},yn={key:3,class:"text-error"},Vn=H({__name:"LostAndFoundView",props:{convention:{}},setup(a){const R=j(),p=_e(),t=r(),d=r([]),m=r(1),i=r([]),y=r(!0),G=r(10),O=r(0),g=r([]),u=r(""),v=r(Le(p,a.convention)),s=r(Fe(p,a.convention)),f=r(be(p,a.convention)),T=r(!1),B=r(!1),h=r(!1),U=r({}),_=Ae(()=>{u.value=Date.now().toString()}),F=()=>{t.value={ID:0,LostAndFoundUUID:L,ConventionID:a.convention.ID,ConventionUUID:a.convention.ConventionUUID,Title:"",Description:"",HasPhoto:!1,Comments:""},T.value=!0},w=M=>{t.value=M,T.value=!0},b=M=>{t.value=M,h.value=!0},Q=r([{key:"owner",title:"Owner",sortable:!1},{key:"finder",title:"Found By",sortable:!1},{key:"title",title:"Title",sortable:!1},{key:"status",title:"Status",sortable:!1},{key:"timestamps",title:"Date",sortable:!1},{key:"actions",title:"",sortable:!1}]),X=({page:M,itemsPerPage:c,sortBy:l})=>{y.value=!0,m.value=M,i.value=l;try{U.value.Limit=c,U.value.Offset=(M-1)*c;const D=u.value;R.searchConventionLostAndFound(a.convention.ConventionUUID,U.value).then(W=>{W&&D===u.value&&(O.value=W.Total,d.value=W.LostAndFound,y.value=!1)})}catch(D){console.error(D)}},ce=M=>{const c=d.value.findIndex(l=>M.LostAndFoundUUID==l.LostAndFoundUUID);c>=0&&d.value.splice(c,1,M)};return(M,c)=>M.convention?(o(),k($,{key:0},[n(ee,{fluid:!0,class:"px-1"},{default:e(()=>[s.value||f.value?(o(),C(z,{key:0},{default:e(()=>[n(se),s.value?(o(),C(E,{key:0,class:"flex-shrink-1 flex-grow-0"},{default:e(()=>[n(Y,{color:"success","prepend-icon":"mdi:mdi-plus",onClick:F},{default:e(()=>[N(" Record New Item ")]),_:1})]),_:1})):I("",!0)]),_:1})):I("",!0)]),_:1}),v.value||s.value?(o(),C(Pe,{key:0,page:m.value,"onUpdate:page":c[8]||(c[8]=l=>m.value=l),"items-per-page":G.value,"onUpdate:itemsPerPage":c[9]||(c[9]=l=>G.value=l),"sort-by":g.value,"onUpdate:sortBy":c[10]||(c[10]=l=>g.value=l),headers:Q.value,"items-length":O.value,items:d.value,"item-value":"key",loading:y.value,search:u.value,"onUpdate:options":X},{top:e(()=>[n(ve,{class:"mb-3"},{default:e(()=>[n(le,null,{default:e(()=>[n(oe,{color:"secondary",class:"font-weight-bold pb-0 pt-0"},{default:e(()=>[n(E,{class:"pa-0"},{default:e(()=>[N(" Search Criteria "),n(Ge,{class:"pl-5",icon:"mdi:mdi-credit-card-search-outline"})]),_:1}),n(E,{class:"d-none d-sm-block pa-0 pr-4",cols:"0"},{default:e(()=>[n(K,{convention:M.convention,label:"Owner",clearable:!0,"hide-details":"",variant:"plain",modelValue:U.value.OwnerUUID,"onUpdate:modelValue":[c[0]||(c[0]=l=>U.value.OwnerUUID=l),V(_)],onClick:c[1]||(c[1]=ne(()=>{},["stop"])),"onClick:clear":V(_),onInput:V(_)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1}),n(E,{class:"d-none d-sm-block pa-0 pr-4",cols:"0"},{default:e(()=>[n(K,{convention:M.convention,label:"Finder",clearable:!0,"hide-details":"",variant:"plain",modelValue:U.value.FoundByUUID,"onUpdate:modelValue":[c[2]||(c[2]=l=>U.value.FoundByUUID=l),V(_)],onClick:c[3]||(c[3]=ne(()=>{},["stop"])),"onClick:clear":V(_),onInput:V(_)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1}),n(se),n(E,{class:"d-none d-md-block pa-0"})]),_:1}),n(ae,{class:"pt-2"},{default:e(()=>[n(z,null,{default:e(()=>[n(E,{cols:"12",lg:"6"},{default:e(()=>[n(K,{convention:M.convention,label:"Owner",clearable:!0,"hide-details":"",variant:"outlined",modelValue:U.value.OwnerUUID,"onUpdate:modelValue":[c[4]||(c[4]=l=>U.value.OwnerUUID=l),V(_)],onClick:c[5]||(c[5]=ne(()=>{},["stop"])),"onClick:clear":V(_),onInput:V(_)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1}),n(E,{cols:"12",lg:"6"},{default:e(()=>[n(K,{convention:M.convention,label:"Finder",clearable:!0,"hide-details":"",variant:"outlined",modelValue:U.value.FoundByUUID,"onUpdate:modelValue":[c[6]||(c[6]=l=>U.value.FoundByUUID=l),V(_)],onClick:c[7]||(c[7]=ne(()=>{},["stop"])),"onClick:clear":V(_),onInput:V(_)},null,8,["convention","modelValue","onClick:clear","onInput","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),"item.finder":e(({item:l})=>[l.FoundBy?(o(),k($,{key:0},[l.FoundBy.Registrations&&l.FoundBy.Registrations.length>0?(o(),k($,{key:0},[N(" #"+A(l.FoundBy.Registrations[0].Reference),1)],64)):I("",!0),l.FoundBy.Generated&&l.FoundBy.Generated.badge_name?(o(),k($,{key:1},[N("  "+A(l.FoundBy.Generated.badge_name),1)],64)):(o(),k($,{key:2},[N("  "+A(l.FoundBy.DisplayName),1)],64))],64)):I("",!0)]),"item.owner":e(({item:l})=>[l.Owner?(o(),k($,{key:0},[l.Owner.Registrations&&l.Owner.Registrations.length>0?(o(),k($,{key:0},[N(" #"+A(l.Owner.Registrations[0].Reference),1)],64)):I("",!0),l.Owner.Generated&&l.Owner.Generated.badge_name?(o(),k($,{key:1},[N("  "+A(l.Owner.Generated.badge_name),1)],64)):(o(),k($,{key:2},[N("  "+A(l.Owner.DisplayName),1)],64))],64)):I("",!0)]),"item.timestamps":e(({item:l})=>[fn,N(" "+A(V(Te)(l.CreatedAt,{withTime:!0,withYear:!0}))+" ",1),l.UpdatedAt!=l.CreatedAt?(o(),k($,{key:0},[Un,Cn,N(" "+A(V(Te)(l.UpdatedAt,{withTime:!0,withYear:!0})),1)],64)):I("",!0)]),"item.title":e(({item:l})=>[P("strong",null,A(l.Title),1),In,P("small",null,A(l.Description),1)]),"item.status":e(({item:l})=>[l.FoundByUUID&&l.OwnerUUID&&l.FoundByUUID!==V(L)&&l.OwnerUUID!==V(L)?(o(),k("span",gn," Returned ")):l.FoundByUUID&&l.FoundByUUID!==V(L)?(o(),k("span",Dn," Found ")):l.OwnerUUID&&l.OwnerUUID!==V(L)?(o(),k("span",En," Lost ")):(o(),k("span",yn," Unknown "))]),"item.actions":e(({item:l})=>[v.value?(o(),C(Y,{key:0,icon:"mdi:mdi-magnify",size:"x-small",color:"success",onClick:D=>b(l),class:"mr-2"},null,8,["onClick"])):I("",!0),s.value?(o(),C(Y,{key:1,icon:"mdi:mdi-pencil",size:"x-small",color:"warning",onClick:D=>w(l)},null,8,["onClick"])):I("",!0)]),_:1},8,["page","items-per-page","sort-by","headers","items-length","items","loading","search"])):I("",!0),T.value&&t.value?(o(),C(mn,{key:1,convention:M.convention,modelValue:T.value,"onUpdate:modelValue":c[11]||(c[11]=l=>T.value=l),"lost-and-found":t.value,"onUpdate:lostAndFound":[c[12]||(c[12]=l=>t.value=l),ce],onNew:V(_)},null,8,["convention","modelValue","lost-and-found","onNew"])):I("",!0),h.value&&t.value?(o(),C(pn,{key:2,title:t.value.Title,modelValue:h.value,"onUpdate:modelValue":c[13]||(c[13]=l=>h.value=l),"lost-and-found":t.value,"onUpdate:lostAndFound":c[14]||(c[14]=l=>t.value=l)},null,8,["title","modelValue","lost-and-found"])):I("",!0),B.value?(o(),C(vn,{key:3,convention:M.convention,modelValue:B.value,"onUpdate:modelValue":c[15]||(c[15]=l=>B.value=l)},null,8,["convention","modelValue"])):I("",!0)],64)):I("",!0)}}),nt=H({__name:"OperationsView",emits:["pageTitle"],setup(a,{emit:R}){var g;const p=j(),t=R,d=Me(),m=$e();_e(),t("pageTitle","Operations");const i=r(),y=r(["Costume Props","Lost and Found"]);let G=((g=d.params.convention)==null?void 0:g.toString())||"";const O=r();return G?p.getConvention(G).then(u=>{u&&(O.value=u)}).catch(()=>{m.push("/")}):m.push("/"),(u,v)=>(o(),C(Be,null,{default:e(()=>[n(qe,{color:"blue-darken-4"},{default:e(()=>[n(xe,{modelValue:i.value,"onUpdate:modelValue":v[0]||(v[0]=s=>i.value=s),items:y.value,"show-arrows":""},null,8,["modelValue","items"])]),_:1}),n(Ye,{modelValue:i.value,"onUpdate:modelValue":v[1]||(v[1]=s=>i.value=s),disabled:!0,touch:!1},{default:e(()=>[n(we,{value:"Costume Props"},{default:e(()=>[i.value=="Costume Props"?(o(),C(Re,{key:0,class:"pa-2"},{default:e(()=>[O.value?(o(),C(ln,{key:0,convention:O.value},null,8,["convention"])):I("",!0)]),_:1})):I("",!0)]),_:1}),n(we,{value:"Lost and Found"},{default:e(()=>[i.value=="Lost and Found"?(o(),C(Re,{key:0,class:"pa-2"},{default:e(()=>[O.value?(o(),C(Vn,{key:0,convention:O.value},null,8,["convention"])):I("",!0)]),_:1})):I("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{nt as default};
