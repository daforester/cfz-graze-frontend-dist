import{m as X,f as Y,g as Z,h as $,i as ee,j as ae,k as te,u as oe,p as re,l as le,n as se,o as de,q as ue,r as ne,s as ie,t as D,v as V,w as x}from"./VDataTable-FAab5pDz.js";import{p as ce,d as me,c as m,t as o,ab as ge,a9 as pe,f as r,F as ve,m as g}from"./index-QYGKSzZx.js";import{V as w}from"./VTable-oUXPvDVA.js";import{u as be}from"./VContainer-tgjwRGXu.js";const Pe=ce({itemsLength:{type:[Number,String],required:!0},...X(),...Y(),...Z()},"VDataTableServer"),he=me()({name:"VDataTableServer",props:Pe(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,B){let{attrs:I,slots:a}=B;const{groupBy:d}=$(e),{sortBy:l,multiSort:k,mustSort:F}=ee(e),{page:u,itemsPerPage:i}=ae(e),G=m(()=>parseInt(e.itemsLength,10)),{columns:p,headers:R}=te(e,{groupBy:d,showSelect:o(e,"showSelect"),showExpand:o(e,"showExpand")}),{items:n}=oe(e,p),{toggleSort:v}=re({sortBy:l,multiSort:k,mustSort:F,page:u}),{opened:E,isGroupOpen:H,toggleGroup:N,extractRows:_}=le({groupBy:d,sortBy:l}),{pageCount:C,setItemsPerPage:L}=se({page:u,itemsPerPage:i,itemsLength:G}),{flatItems:b}=de(n,d,E),{isSelected:q,select:O,selectAll:j,toggleSelect:A,someSelected:W,allSelected:z}=ue(e,{allItems:n,currentPage:n}),{isExpanded:J,toggleExpand:K}=ne(e),P=m(()=>_(n.value));ie({page:u,itemsPerPage:i,sortBy:l,groupBy:d,search:o(e,"search")}),ge("v-data-table",{toggleSort:v,sortBy:l}),pe({VDataTableRows:{hideNoData:o(e,"hideNoData"),noDataText:o(e,"noDataText"),loading:o(e,"loading"),loadingText:o(e,"loadingText")}});const t=m(()=>({page:u.value,itemsPerPage:i.value,sortBy:l.value,pageCount:C.value,toggleSort:v,setItemsPerPage:L,someSelected:W.value,allSelected:z.value,isSelected:q,select:O,selectAll:j,toggleSelect:A,isExpanded:J,toggleExpand:K,isGroupOpen:H,toggleGroup:N,items:P.value.map(c=>c.raw),internalItems:P.value,groupedItems:b.value,columns:p.value,headers:R.value}));be(()=>{const c=D.filterProps(e),M=V.filterProps(e),Q=x.filterProps(e),U=w.filterProps(e);return r(w,g({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},U),{top:()=>{var s;return(s=a.top)==null?void 0:s.call(a,t.value)},default:()=>{var s,y,T,f,S,h;return a.default?a.default(t.value):r(ve,null,[(s=a.colgroup)==null?void 0:s.call(a,t.value),r("thead",{class:"v-data-table__thead",role:"rowgroup"},[r(V,g(M,{sticky:e.fixedHeader}),a)]),(y=a.thead)==null?void 0:y.call(a,t.value),r("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(T=a["body.prepend"])==null?void 0:T.call(a,t.value),a.body?a.body(t.value):r(x,g(I,Q,{items:b.value}),a),(f=a["body.append"])==null?void 0:f.call(a,t.value)]),(S=a.tbody)==null?void 0:S.call(a,t.value),(h=a.tfoot)==null?void 0:h.call(a,t.value)])},bottom:()=>a.bottom?a.bottom(t.value):r(D,c,{prepend:a["footer.prepend"]})})})}});export{he as V};
