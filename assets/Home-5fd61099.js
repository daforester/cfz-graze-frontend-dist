import{I as v,r as C,J as I,K as n,L as s,M as t,Q as m,v as i,N as _,O as p,S as f,_ as k,R as d,Z as U,H as y,$ as R}from"./index-96688d16.js";import{G as D}from"./userData-297f3f84.js";import{_ as L}from"./LoginView.vue_vue_type_script_setup_true_lang-cd3b4b95.js";import{s as g}from"./index-71069b21.js";import{F as h}from"./form-aee596e2.js";import{u as S}from"./useStoreAPI-81a59398.js";import{a as N,V as O}from"./VAvatar-1ceafa44.js";import{V as $,a as b,b as A,c as F,d as G,e as B}from"./VCard-27e6f9b9.js";import{V,n as P}from"./VContainer-dfb741a9.js";import{V as w,a as E}from"./VRow-95c7b2e3.js";import"./emailFormVariant-e5e0aad4.js";import"./LoginButton-ed815a0a.js";import"./index-f469acc5.js";const M=v({__name:"OpenConvention",props:{convention:{},forms:{default:()=>[]}},setup(u){const o=S(),a=C(o.GetConventionLogoURL(u.convention.ConventionUUID));return(e,l)=>{const r=I("RouterLink");return n(),s(B,null,{default:t(()=>[a.value?(n(),s(N,{key:0,src:a.value,title:e.convention.Name},null,8,["src","title"])):m("",!0),i(A,null,{default:t(()=>[e.convention.Name?(n(),s($,{key:0},{default:t(()=>[_(p(e.convention.Name),1)]),_:1})):m("",!0),e.convention.Description?(n(),s(b,{key:1},{default:t(()=>[_(p(e.convention.Description),1)]),_:1})):m("",!0)]),_:1}),i(F),i(G,null,{default:t(()=>[e.convention.DetailLink?(n(),s(V,{key:0,color:"orange",href:e.convention.DetailLink},{default:t(()=>[_(p(f(g).buttonDetails),1)]),_:1},8,["href"])):m("",!0),i(O),e.forms.find(c=>c.Type===f(h).FORM_TYPE_REGISTRATION)?(n(),s(r,{key:1,to:`/register/${e.convention.Slug}`},{default:t(()=>[i(V,{color:"primary"},{default:t(()=>[_(p(f(g).buttonRegister),1)]),_:1})]),_:1},8,["to"])):m("",!0)]),_:1})]),_:1})}}});const x=k(M,[["__scopeId","data-v-f51eed63"]]),H=v({__name:"Conventions",setup(u){const o=R(),a=C([]),e=C([]);return o.getOpenConventionsList().then(l=>{l&&(a.value=[...a.value,...l],o.getAvailableConventionForms(a.value.map(r=>r.ConventionUUID)).then(r=>{e.value=[...e.value,...r]}).catch(r=>{console.error(r)}))}),(l,r)=>(n(),s(P,null,{default:t(()=>[i(E,null,{default:t(()=>[(n(!0),d(y,null,U(a.value,c=>(n(),s(w,{key:c.ConventionUUID},{default:t(()=>[i(x,{convention:c,forms:e.value.filter(T=>T.ConventionUUID===c.ConventionUUID)},null,8,["convention","forms"])]),_:2},1024))),128))]),_:1})]),_:1}))}}),z={};function J(u,o){return n(),d("div")}const K=k(z,[["render",J]]),Q=v({__name:"MainView",emits:["pageTitle"],setup(u,{emit:o}){return o("pageTitle","Scotiacon Registration System"),(a,e)=>(n(),d(y,null,[i(H),i(K)],64))}}),ie=v({__name:"Home",emits:["pageTitle"],setup(u,{emit:o}){const a=D();return o("pageTitle","Telegram Login"),(e,l)=>(n(),d("div",null,[f(a)?(n(),s(Q,{key:0,onPageTitle:l[0]||(l[0]=r=>o("pageTitle",r))})):(n(),s(L,{key:1}))]))}});export{ie as default};
