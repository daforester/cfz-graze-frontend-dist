import{c as g}from"./FormRenderer.vue_vue_type_script_setup_true_lang-8e2f91cc.js";import{I as d,a3 as D,a4 as _,r as s,K as R,L as T,Q as h}from"./index-839cb292.js";import{G as x}from"./userData-d01c2035.js";import"./VCheckbox-6dcd38a4.js";import"./VCheckboxBtn-05422de0.js";import"./VContainer-d782aef4.js";import"./VTextField-d65b4c0c.js";import"./index-6e7f979e.js";import"./index-71069b21.js";import"./VList-1042f362.js";import"./VAvatar-941ae123.js";import"./VRow-328dda39.js";import"./VSelect-262ce05c.js";import"./VChip-21c7975b.js";import"./scopeId-f5c5f613.js";import"./filter-f313da07.js";import"./v4-a960c1f4.js";import"./VForm-1c0c31d3.js";const q=d({__name:"RegisterView",emits:["pageTitle"],setup(V,{emit:l}){const C=D(),o=_.getInstance(),e=s(),n=s(),v=s(),m=s(!1);return o==null||o.getConvention(C.params.convention.toString()).then(a=>{var i;e.value=a||e.value,o==null||o.getConventionExtras((a==null?void 0:a.ConventionUUID)||"").then(r=>(e.value||{Extras:[]}).Extras=r),o.getAvailableConventionForms(((i=e.value)==null?void 0:i.ConventionUUID)||"",!0).then(r=>{var u,p,U;if(n.value=r.find(t=>t.Type==="REGISTRATION"),n.value){const t=x();t!=null&&t.UserUUID&&((u=e.value)!=null&&u.ConventionUUID)&&o.getUserConventionSubmissions((t==null?void 0:t.UserUUID)||"",((p=e.value)==null?void 0:p.ConventionUUID)||"").then(c=>{c&&(v.value=c.find(I=>{var f;return I.FormUUID===((f=n.value)==null?void 0:f.FormUUID)})),m.value=!0}).catch(()=>{m.value=!0}),l("pageTitle",`Convention Registration - ${((U=e.value)==null?void 0:U.Name)||"New Convention"}`)}})}),l("pageTitle","Convention Registration"),(a,i)=>m.value&&n.value&&e.value?(R(),T(g,{key:0,modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=r=>n.value=r),convention:e.value,data:v.value},null,8,["modelValue","convention","data"])):h("",!0)}});export{q as default};
