import{s as fe}from"./index-OKsbKlsK.js";import{i as le,r as P,n as O,q as M,v as g,f as i,x as R,C as me,P as Pe,M as j,N as Be,c as I,w as ne,B as ee,F as K,A as F,y as he,Q as Ne,z as ge,Y as ye,p as W,R as je,d as G,s as E,m as te,a6 as be,a7 as Ke,K as De,a8 as qe,a9 as Je,aa as Qe,a as Ze,u as _e,t as A,a1 as et,L as ae,ab as tt,ac as $e,I as at,J as lt,ad as nt,a0 as ot,ae as ze,af as st,ag as it,ah as ut,X as rt}from"./index-EEtx7Vrm.js";import{v as ct}from"./v4-yQnnJER4.js";import{u as Te}from"./nil-rxyd0N8M.js";import{V as D,m as vt,b as dt,c as Oe,u as Se,d as ft,e as mt}from"./VBtn-Sbp5vS44.js";import{V as Y,a as ht,j as gt,u as N,m as oe,e as se,k as yt,l as bt,f as Tt}from"./VContainer-JlpwwXyg.js";import{a as Ee,V as pe}from"./VToolbar-uAvDC6ck.js";import{V as Re}from"./scopeId-yKB9fHyC.js";import{V as Ae}from"./VToolbarItems-gaOKKBvd.js";import{V as St,a as Ve}from"./VRow-YDG6XXxI.js";import{V as xe}from"./VTextField-Vd7g3yoi.js";import{c as Me,e as He}from"./VCard-dBb5CPLZ.js";import{a as Vt,u as xt}from"./VList-pit2wmzO.js";import{V as Ct}from"./VDivider-b9Uv_N1N.js";import{V as It}from"./VAutocomplete-_0XIW6G6.js";import{V as kt}from"./VDialog-0gqYdAGs.js";import{s as Ce,a as wt,m as Ut}from"./FormRenderer.vue_vue_type_style_index_0_lang-pT_-ykLx.js";import{V as Pt,a as Bt,b as Dt,c as $t}from"./VDataTable-Vnl6p62_.js";import{a as zt,s as Ot,b as Ie}from"./forwardRefs-27fZV326.js";import{c as Et,u as pt}from"./SaveButton.vue_vue_type_script_setup_true_lang-fYnHThMU.js";import{M as Rt}from"./VAvatar-xxVHRvdu.js";const At=le({__name:"AddTag",props:{convention:{},organisation:{}},emits:["save","close"],setup(e,{emit:n}){const t=P(""),a=P("");typeof e.convention=="object"?(t.value=e.convention.ConventionUUID,a.value=e.convention.OrganisationUUID):t.value=e.convention||"",typeof e.organisation=="object"?a.value=e.organisation.OrganisationUUID:a.value.length===0&&(a.value=e.organisation||"");const c=n,r=P({ID:0,TagUUID:ct(),ConventionID:0,ConventionUUID:t.value||Te,OrganisationID:0,OrganisationUUID:a.value||Te,Title:"",Key:""}),l=Pe(),v=()=>{l.saveTag(r.value).then(o=>{o&&(r.value=o,c("save",o),c("close"))})};return(o,u)=>(O(),M(He,null,{default:g(()=>[i(pe,{dark:"",color:"primary"},{default:g(()=>[i(D,{icon:"",dark:"",onClick:u[0]||(u[0]=s=>c("close"))},{default:g(()=>[i(Y,null,{default:g(()=>[R("mdi:mdi-close")]),_:1})]),_:1}),i(Ee,null,{default:g(()=>[R("Add Tag")]),_:1}),i(Re),i(Ae,null,{default:g(()=>[i(D,{variant:"text",onClick:v},{default:g(()=>[R(" Save ")]),_:1})]),_:1})]),_:1}),i(Me,null,{default:g(()=>[i(ht,{fluid:!0},{default:g(()=>[i(St,null,{default:g(()=>[i(Ve,{cols:"12"},{default:g(()=>[i(xe,{label:me(fe).formLabelDisplayName,type:"text",variant:"outlined",modelValue:r.value.Title,"onUpdate:modelValue":u[1]||(u[1]=s=>r.value.Title=s)},null,8,["label","modelValue"])]),_:1}),i(Ve,{cols:"12"},{default:g(()=>[i(xe,{label:me(fe).formLabelTagKey,type:"text",variant:"outlined",modelValue:r.value.Key,"onUpdate:modelValue":u[2]||(u[2]=s=>r.value.Key=s)},null,8,["label","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),Sa=le({__name:"SelectTags",props:j({convention:{},organisation:{},chips:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},hint:{default:""},label:{},variant:{},showKey:{type:Boolean,default:!1},showUuid:{type:Boolean,default:!1}},{modelValue:{required:!0},modelModifiers:{}}),emits:j(["change"],["update:modelValue"]),setup(e,{emit:n}){const t=Be(e,"modelValue"),a=n,c=P([]),r=Pe(),l=P([]),v=P([]),o=P(""),u=P(""),s=P(0),m=I(()=>[...l.value,...v.value].map(T=>({title:`${T.Title}${e.showKey?` [ ${T.Key} ]`:""}${e.showUuid?` (${T.TagUUID})`:""}`,value:c.value.find(h=>h.TagUUID===T.TagUUID)||T})));typeof e.convention=="object"?(o.value=e.convention.ConventionUUID,u.value=e.convention.OrganisationUUID):o.value=e.convention||"",typeof e.organisation=="object"?u.value=e.organisation.OrganisationUUID:u.value.length===0&&(u.value=e.organisation||""),(async()=>{const b=[];o.value&&b.push(r.getConventionTags(o.value)),u.value&&b.push(r.getOrganisationTags(u.value));const T=await Promise.all(b);if(o.value&&u.value?(v.value=T[0].sort((h,x)=>h.Title.localeCompare(x.Title)),l.value=T[1].sort((h,x)=>h.Title.localeCompare(x.Title))):o.value&&T.length==1?v.value=T[0].sort((h,x)=>h.Title.localeCompare(x.Title)):u.value&&T.length==1&&(l.value=T[0].sort((h,x)=>h.Title.localeCompare(x.Title))),Array.isArray(t.value))s.value=2,m.value.forEach(h=>{Array.isArray(t.value)&&t.value.find(S=>S.TagUUID===h.value.TagUUID)&&c.value.push(h.value)});else if(typeof t.value=="string"){s.value=1;try{const h=JSON.parse(t.value);m.value.forEach(x=>{h.find(C=>C.TagUUID===x.value.TagUUID)&&c.value.push(x.value)})}catch{}}})();const y=P(!1),k=()=>{y.value=!0},f=b=>{b.ConventionUUID.length>0?v.value.push(b):b.OrganisationUUID.length>0&&l.value.push(b),c.value.push(b),w()},w=()=>{switch(s.value){default:case 2:{t.value=c.value,a("change");break}case 1:{t.value=JSON.stringify(c.value),a("change");break}}};return ne(c,w),(b,T)=>(O(),ee(K,null,[i(It,{modelValue:c.value,"onUpdate:modelValue":T[1]||(T[1]=h=>c.value=h),chips:b.chips,multiple:"",label:b.label||"Tags",variant:b.variant||"solo",hint:b.hint,"persistent-hint":!0,clearable:b.clearable,items:m.value,"item-title":"title","item-value":"value"},{"prepend-item":g(()=>[i(Vt,{title:"New Tag",onClick:T[0]||(T[0]=h=>k())},{prepend:g(()=>[i(Y,{icon:"mdi:mdi-plus"})]),_:1}),i(Ct,{class:"mt-2"})]),_:1},8,["modelValue","chips","label","variant","hint","clearable","items"]),i(kt,{modelValue:y.value,"onUpdate:modelValue":T[3]||(T[3]=h=>y.value=h),scrollable:!0},{default:g(()=>[i(At,{convention:b.convention,organisation:b.organisation,onClose:T[2]||(T[2]=h=>y.value=!1),onSave:f},null,8,["convention","organisation"])]),_:1},8,["modelValue"])],64))}}),Va=le({__name:"EditOrderedItems",props:j({closeable:{type:Boolean,default:!1},showDelete:{type:Boolean,default:!0},hasOrder:{type:Boolean,default:!0},newItem:{type:[Function,Boolean]},label:{default:"Name"},labelParent:{default:""},title:{default:"Edit Ordered Items"},showSave:{type:Boolean,default:!1},slotNamePrefix:{default:"item"}},{modelValue:{required:!0},modelModifiers:{}}),emits:j(["add","save","close"],["update:modelValue"]),setup(e,{emit:n}){const t=n,a=Be(e,"modelValue"),c=()=>{t("save"),t("close")},r=()=>{if(e.newItem){let s;e.hasOrder?(s=e.newItem(),s.Order=a.value.length+1):s=e.newItem(),a.value.push(s)}else e.hasOrder?a.value.push({ID:0,Order:a.value.length+1}):a.value.push({ID:0})},l=s=>{a.value.splice(s,1)},v=s=>{wt(s,a.value)},o=s=>{Ut(s,a.value)},u=s=>e.labelParent&&s[e.labelParent]?s[e.labelParent][e.label]:s[e.label];return a.value.find(s=>s.Order===0)&&Ce(a.value),a.value.find(s=>a.value.find(m=>m.Order===s.Order&&m!==s))&&Ce(a.value),(s,m)=>(O(),M(He,null,{default:g(()=>[i(pe,{dark:"",color:"primary"},{default:g(()=>[s.closeable?(O(),M(D,{key:0,icon:"",dark:"",onClick:m[0]||(m[0]=y=>t("close"))},{default:g(()=>[i(Y,null,{default:g(()=>[R("mdi:mdi-close")]),_:1})]),_:1})):F("",!0),i(Ee,null,{default:g(()=>[R(he(s.title),1)]),_:1}),i(Re),i(Ae,null,{default:g(()=>[s.newItem!==void 0?(O(),M(D,{key:0,variant:"text",onClick:r},{default:g(()=>[R(" Add ")]),_:1})):F("",!0),s.showSave?(O(),M(D,{key:1,variant:"text",onClick:c},{default:g(()=>[R(" Save ")]),_:1})):F("",!0)]),_:1})]),_:1}),i(Me,{class:"pa-0"},{default:g(()=>[i(Pt,null,{default:g(()=>[(O(!0),ee(K,null,Ne(a.value,(y,k)=>(O(),M(Bt,{key:y.ID,class:"mt-0"},{default:g(()=>[i(Dt,null,{actions:g(({expanded:f})=>[s.showDelete?(O(),M(D,{key:0,icon:"mdi:mdi-close",size:"x-small",color:"red",class:"mr-1",onClick:w=>l(k)},null,8,["onClick"])):F("",!0),i(Y,{class:"align-self-center text-h5",icon:f?"mdi:mdi-chevron-up":"mdi:mdi-chevron-down",variant:"flat",size:"x-small"},null,8,["icon"])]),default:g(()=>[s.hasOrder?(O(),ee(K,{key:0},[i(D,{icon:"mdi:mdi-menu-up",size:"x-small",color:"primary",class:"mr-1",onClick:ge(f=>o(y),["stop"])},null,8,["onClick"]),i(D,{icon:"mdi:mdi-menu-down",size:"x-small",color:"secondary",class:"mr-4",onClick:ge(f=>v(y),["stop"])},null,8,["onClick"])],64)):F("",!0),ye(s.$slots,`${s.slotNamePrefix}_${k}_title`,{},()=>[R(he(u(y)),1)])]),_:2},1024),i($t,{class:"px-0"},{default:g(()=>[ye(s.$slots,`${s.slotNamePrefix}_${k}`)]),_:2},1024)]),_:2},1024))),128))]),_:3})]),_:3})]),_:3}))}}),Le=Symbol.for("vuetify:v-tabs"),Mt=W({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...je(vt({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),Ht=G()({name:"VTab",props:Mt(),setup(e,n){let{slots:t,attrs:a}=n;const{textColorClasses:c,textColorStyles:r}=gt(e,"sliderColor"),l=I(()=>e.direction==="horizontal"),v=E(!1),o=P(),u=P();function s(m){var k,f;let{value:y}=m;if(v.value=y,y){const w=(f=(k=o.value)==null?void 0:k.$el.parentElement)==null?void 0:f.querySelector(".v-tab--selected .v-tab__slider"),b=u.value;if(!w||!b)return;const T=getComputedStyle(w).color,h=w.getBoundingClientRect(),x=b.getBoundingClientRect(),S=l.value?"x":"y",C=l.value?"X":"Y",U=l.value?"right":"bottom",$=l.value?"width":"height",q=h[S],H=x[S],p=q>H?h[U]-x[U]:h[S]-x[S],J=Math.sign(p)>0?l.value?"right":"bottom":Math.sign(p)<0?l.value?"left":"top":"center",Q=(Math.abs(p)+(Math.sign(p)<0?h[$]:x[$]))/Math.max(h[$],x[$])||0,B=h[$]/x[$]||0,L=1.5;zt(b,{backgroundColor:[T,"currentcolor"],transform:[`translate${C}(${p}px) scale${C}(${B})`,`translate${C}(${p/L}px) scale${C}(${(Q-1)/L+1})`,"none"],transformOrigin:Array(3).fill(J)},{duration:225,easing:Ot})}}return N(()=>{const m=D.filterProps(e);return i(D,te({symbol:Le,ref:o,class:["v-tab",e.class],style:e.style,tabindex:v.value?0:-1,role:"tab","aria-selected":String(v.value),active:!1},m,a,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":s}),{...t,default:()=>{var y;return i(K,null,[((y=t.default)==null?void 0:y.call(t))??e.text,!e.hideSlider&&i("div",{ref:u,class:["v-tab__slider",c.value],style:r.value},null)])}})}),{}}});function ke(e){const t=Math.abs(e);return Math.sign(e)*(t/((1/.501-2)*(1-t)+1))}function we(e){let{selectedElement:n,containerSize:t,contentSize:a,isRtl:c,currentScrollOffset:r,isHorizontal:l}=e;const v=l?n.clientWidth:n.clientHeight,o=l?n.offsetLeft:n.offsetTop,u=c&&l?a-o-v:o,s=t+r,m=v+u,y=v*.4;return u<=r?r=Math.max(u-y,0):s<=m&&(r=Math.min(r-(s-m-y),a-t)),r}function Lt(e){let{selectedElement:n,containerSize:t,contentSize:a,isRtl:c,isHorizontal:r}=e;const l=r?n.clientWidth:n.clientHeight,v=r?n.offsetLeft:n.offsetTop,o=c&&r?a-v-l/2-t/2:v+l/2-t/2;return Math.min(a-t,Math.max(0,o))}const Xt=Symbol.for("vuetify:v-slide-group"),Xe=W({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:Xt},nextIcon:{type:be,default:"$next"},prevIcon:{type:be,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...oe(),...Ke(),...se(),...dt({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Ue=G()({name:"VSlideGroup",props:Xe(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const{isRtl:a}=De(),{displayClasses:c,mobile:r}=qe(e),l=Oe(e,e.symbol),v=E(!1),o=E(0),u=E(0),s=E(0),m=I(()=>e.direction==="horizontal"),{resizeRef:y,contentRect:k}=Se(),{resizeRef:f,contentRect:w}=Se(),b=I(()=>l.selected.value.length?l.items.value.findIndex(d=>d.id===l.selected.value[0]):-1),T=I(()=>l.selected.value.length?l.items.value.findIndex(d=>d.id===l.selected.value[l.selected.value.length-1]):-1);if(Je){let d=-1;ne(()=>[l.selected.value,k.value,w.value,m.value],()=>{cancelAnimationFrame(d),d=requestAnimationFrame(()=>{if(k.value&&w.value){const V=m.value?"width":"height";u.value=k.value[V],s.value=w.value[V],v.value=u.value+1<s.value}if(b.value>=0&&f.value){const V=f.value.children[T.value];b.value===0||!v.value?o.value=0:e.centerActive?o.value=Lt({selectedElement:V,containerSize:u.value,contentSize:s.value,isRtl:a.value,isHorizontal:m.value}):v.value&&(o.value=we({selectedElement:V,containerSize:u.value,contentSize:s.value,isRtl:a.value,currentScrollOffset:o.value,isHorizontal:m.value}))}})})}const h=E(!1);let x=0,S=0;function C(d){const V=m.value?"clientX":"clientY";S=(a.value&&m.value?-1:1)*o.value,x=d.touches[0][V],h.value=!0}function U(d){if(!v.value)return;const V=m.value?"clientX":"clientY",z=a.value&&m.value?-1:1;o.value=z*(S+x-d.touches[0][V])}function $(d){const V=s.value-u.value;o.value<0||!v.value?o.value=0:o.value>=V&&(o.value=V),h.value=!1}function q(){y.value&&(y.value[m.value?"scrollLeft":"scrollTop"]=0)}const H=E(!1);function p(d){if(H.value=!0,!(!v.value||!f.value)){for(const V of d.composedPath())for(const z of f.value.children)if(z===V){o.value=we({selectedElement:z,containerSize:u.value,contentSize:s.value,isRtl:a.value,currentScrollOffset:o.value,isHorizontal:m.value});return}}}function J(d){H.value=!1}function ie(d){var V;!H.value&&!(d.relatedTarget&&((V=f.value)!=null&&V.contains(d.relatedTarget)))&&B()}function Q(d){f.value&&(m.value?d.key==="ArrowRight"?B(a.value?"prev":"next"):d.key==="ArrowLeft"&&B(a.value?"next":"prev"):d.key==="ArrowDown"?B("next"):d.key==="ArrowUp"&&B("prev"),d.key==="Home"?B("first"):d.key==="End"&&B("last"))}function B(d){var V,z,ce,ve,de;if(f.value)if(!d)(V=Qe(f.value)[0])==null||V.focus();else if(d==="next"){const X=(z=f.value.querySelector(":focus"))==null?void 0:z.nextElementSibling;X?X.focus():B("first")}else if(d==="prev"){const X=(ce=f.value.querySelector(":focus"))==null?void 0:ce.previousElementSibling;X?X.focus():B("last")}else d==="first"?(ve=f.value.firstElementChild)==null||ve.focus():d==="last"&&((de=f.value.lastElementChild)==null||de.focus())}function L(d){const V=o.value+(d==="prev"?-1:1)*u.value;o.value=Ze(V,0,s.value-u.value)}const Ge=I(()=>{let d=o.value>s.value-u.value?-(s.value-u.value)+ke(s.value-u.value-o.value):-o.value;o.value<=0&&(d=ke(-o.value));const V=a.value&&m.value?-1:1;return{transform:`translate${m.value?"X":"Y"}(${V*d}px)`,transition:h.value?"none":"",willChange:h.value?"transform":""}}),Z=I(()=>({next:l.next,prev:l.prev,select:l.select,isSelected:l.isSelected})),_=I(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!r.value;case!0:return v.value||Math.abs(o.value)>0;case"mobile":return r.value||v.value||Math.abs(o.value)>0;default:return!r.value&&(v.value||Math.abs(o.value)>0)}}),ue=I(()=>Math.abs(o.value)>0),re=I(()=>s.value>Math.abs(o.value)+u.value);return N(()=>i(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!m.value,"v-slide-group--has-affixes":_.value,"v-slide-group--is-overflowing":v.value},c.value,e.class],style:e.style,tabindex:H.value||l.selected.value.length?-1:0,onFocus:ie},{default:()=>{var d,V,z;return[_.value&&i("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!ue.value}],onClick:()=>ue.value&&L("prev")},[((d=t.prev)==null?void 0:d.call(t,Z.value))??i(Ie,null,{default:()=>[i(Y,{icon:a.value?e.nextIcon:e.prevIcon},null)]})]),i("div",{key:"container",ref:y,class:"v-slide-group__container",onScroll:q},[i("div",{ref:f,class:"v-slide-group__content",style:Ge.value,onTouchstartPassive:C,onTouchmovePassive:U,onTouchendPassive:$,onFocusin:p,onFocusout:J,onKeydown:Q},[(V=t.default)==null?void 0:V.call(t,Z.value)])]),_.value&&i("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!re.value}],onClick:()=>re.value&&L("next")},[((z=t.next)==null?void 0:z.call(t,Z.value))??i(Ie,null,{default:()=>[i(Y,{icon:a.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:l.selected,scrollTo:L,scrollOffset:o,focus:B}}});function Yt(e){return e?e.map(n=>tt(n)?n:{text:n,value:n}):[]}const Ft=W({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Xe({mandatory:"force"}),...yt(),...se()},"VTabs"),xa=G()({name:"VTabs",props:Ft(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const a=_e(e,"modelValue"),c=I(()=>Yt(e.items)),{densityClasses:r}=bt(e),{backgroundColorClasses:l,backgroundColorStyles:v}=Tt(A(e,"bgColor"));return et({VTab:{color:A(e,"color"),direction:A(e,"direction"),stacked:A(e,"stacked"),fixed:A(e,"fixedTabs"),sliderColor:A(e,"sliderColor"),hideSlider:A(e,"hideSlider")}}),N(()=>{const o=Ue.filterProps(e);return i(Ue,te(o,{modelValue:a.value,"onUpdate:modelValue":u=>a.value=u,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},r.value,l.value,e.class],style:[{"--v-tabs-height":ae(e.height)},v.value,e.style],role:"tablist",symbol:Le}),{default:()=>[t.default?t.default():c.value.map(u=>i(Ht,te(u,{key:u.text}),null))]})}),{}}}),Wt=e=>{const{touchstartX:n,touchendX:t,touchstartY:a,touchendY:c}=e,r=.5,l=16;e.offsetX=t-n,e.offsetY=c-a,Math.abs(e.offsetY)<r*Math.abs(e.offsetX)&&(e.left&&t<n-l&&e.left(e),e.right&&t>n+l&&e.right(e)),Math.abs(e.offsetX)<r*Math.abs(e.offsetY)&&(e.up&&c<a-l&&e.up(e),e.down&&c>a+l&&e.down(e))};function Gt(e,n){var a;const t=e.changedTouches[0];n.touchstartX=t.clientX,n.touchstartY=t.clientY,(a=n.start)==null||a.call(n,{originalEvent:e,...n})}function Nt(e,n){var a;const t=e.changedTouches[0];n.touchendX=t.clientX,n.touchendY=t.clientY,(a=n.end)==null||a.call(n,{originalEvent:e,...n}),Wt(n)}function jt(e,n){var a;const t=e.changedTouches[0];n.touchmoveX=t.clientX,n.touchmoveY=t.clientY,(a=n.move)==null||a.call(n,{originalEvent:e,...n})}function Kt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:t=>Gt(t,n),touchend:t=>Nt(t,n),touchmove:t=>jt(t,n)}}function qt(e,n){var v;const t=n.value,a=t!=null&&t.parent?e.parentElement:e,c=(t==null?void 0:t.options)??{passive:!0},r=(v=n.instance)==null?void 0:v.$.uid;if(!a||!r)return;const l=Kt(n.value);a._touchHandlers=a._touchHandlers??Object.create(null),a._touchHandlers[r]=l,$e(l).forEach(o=>{a.addEventListener(o,l[o],c)})}function Jt(e,n){var r,l;const t=(r=n.value)!=null&&r.parent?e.parentElement:e,a=(l=n.instance)==null?void 0:l.$.uid;if(!(t!=null&&t._touchHandlers)||!a)return;const c=t._touchHandlers[a];$e(c).forEach(v=>{t.removeEventListener(v,c[v])}),delete t._touchHandlers[a]}const Ye={mounted:qt,unmounted:Jt},Fe=Symbol.for("vuetify:v-window"),We=Symbol.for("vuetify:v-window-group"),Qt=W({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...oe(),...se(),...at()},"VWindow"),Ca=G()({name:"VWindow",directives:{Touch:Ye},props:Qt(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const{themeClasses:a}=lt(e),{isRtl:c}=De(),{t:r}=nt(),l=Oe(e,We),v=P(),o=I(()=>c.value?!e.reverse:e.reverse),u=E(!1),s=I(()=>{const S=e.direction==="vertical"?"y":"x",U=(o.value?!u.value:u.value)?"-reverse":"";return`v-window-${S}${U}-transition`}),m=E(0),y=P(void 0),k=I(()=>l.items.value.findIndex(S=>l.selected.value.includes(S.id)));ne(k,(S,C)=>{const U=l.items.value.length,$=U-1;U<=2?u.value=S<C:S===$&&C===0?u.value=!0:S===0&&C===$?u.value=!1:u.value=S<C}),ot(Fe,{transition:s,isReversed:u,transitionCount:m,transitionHeight:y,rootRef:v});const f=I(()=>e.continuous||k.value!==0),w=I(()=>e.continuous||k.value!==l.items.value.length-1);function b(){f.value&&l.prev()}function T(){w.value&&l.next()}const h=I(()=>{const S=[],C={icon:c.value?e.nextIcon:e.prevIcon,class:`v-window__${o.value?"right":"left"}`,onClick:l.prev,ariaLabel:r("$vuetify.carousel.prev")};S.push(f.value?t.prev?t.prev({props:C}):i(D,C,null):i("div",null,null));const U={icon:c.value?e.prevIcon:e.nextIcon,class:`v-window__${o.value?"left":"right"}`,onClick:l.next,ariaLabel:r("$vuetify.carousel.next")};return S.push(w.value?t.next?t.next({props:U}):i(D,U,null):i("div",null,null)),S}),x=I(()=>e.touch===!1?e.touch:{...{left:()=>{o.value?b():T()},right:()=>{o.value?T():b()},start:C=>{let{originalEvent:U}=C;U.stopPropagation()}},...e.touch===!0?{}:e.touch});return N(()=>ze(i(e.tag,{ref:v,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},a.value,e.class],style:e.style},{default:()=>{var S,C;return[i("div",{class:"v-window__container",style:{height:y.value}},[(S=t.default)==null?void 0:S.call(t,{group:l}),e.showArrows!==!1&&i("div",{class:"v-window__controls"},[h.value])]),(C=t.additional)==null?void 0:C.call(t,{group:l})]}}),[[st("touch"),x.value]])),{group:l}}}),Zt=W({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...oe(),...ft(),...Et()},"VWindowItem"),Ia=G()({name:"VWindowItem",directives:{Touch:Ye},props:Zt(),emits:{"group:selected":e=>!0},setup(e,n){let{slots:t}=n;const a=it(Fe),c=mt(e,We),{isBooted:r}=xt();if(!a||!c)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const l=E(!1),v=I(()=>r.value&&(a.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function o(){!l.value||!a||(l.value=!1,a.transitionCount.value>0&&(a.transitionCount.value-=1,a.transitionCount.value===0&&(a.transitionHeight.value=void 0)))}function u(){var f;l.value||!a||(l.value=!0,a.transitionCount.value===0&&(a.transitionHeight.value=ae((f=a.rootRef.value)==null?void 0:f.clientHeight)),a.transitionCount.value+=1)}function s(){o()}function m(f){l.value&&rt(()=>{!v.value||!l.value||!a||(a.transitionHeight.value=ae(f.clientHeight))})}const y=I(()=>{const f=a.isReversed.value?e.reverseTransition:e.transition;return v.value?{name:typeof f!="string"?a.transition.value:f,onBeforeEnter:u,onAfterEnter:o,onEnterCancelled:s,onBeforeLeave:u,onAfterLeave:o,onLeaveCancelled:s,onEnter:m}:!1}),{hasContent:k}=pt(e,c.isSelected);return N(()=>i(Rt,{transition:y.value,disabled:!r.value},{default:()=>{var f;return[ze(i("div",{class:["v-window-item",c.selectedClass.value,e.class],style:e.style},[k.value&&((f=t.default)==null?void 0:f.call(t))]),[[ut,c.isSelected.value]])]}})),{groupItem:c}}});export{Ca as V,Sa as _,Va as a,xa as b,Ht as c,Ia as d};
