import{i as ve,M as te,N as fe,V as Me,r as w,w as ne,c as Oe,n as t,B as q,D as K,y as j,f as i,v as n,F as J,Q as le,m as be,q as D,A as _,x as W,C as c,k as ye,z as Xe,a0 as Ve,P as $e,E as Ze,b as Ne,ap as el,_ as ll,p as Je,d as Fe,a8 as tl,a9 as Re,au as al,u as nl,aM as sl,l as ol,aN as xe}from"./index-BHMo7JG6.js";import{F as se}from"./form-0fJbSFPv.js";import{S as ul}from"./submission-WqULzQVB.js";import{u as Le}from"./useModel-VSrlGuy1.js";import{s as Ie}from"./index-2XRRB2DS.js";import{V as me,b as We,a as de,c as ke,d as Ue}from"./VList-sx6Etsyj.js";import{V as z,a as G}from"./VRow-R32SpNZc.js";import{V as ge}from"./VCheckbox-foh8IMU7.js";import{a as Ee,V as _e}from"./VAutocomplete-DSKt_XAJ.js";import{T as il}from"./ticket-hqexX1_U.js";import{b as Ce,V as Q,n as rl,u as Ke,c as dl}from"./VContainer-RWP7tWq8.js";import{c as vl}from"./copyToClipboard-aCoRGJiH.js";import{a as cl,l as ce,_ as qe}from"./SaveButton.vue_vue_type_script_setup_true_lang-wk8gq_Nv.js";import{u as ze}from"./useStoreAPI-bkNJGBvr.js";import{V as Pe}from"./forwardRefs-GcCKLiyx.js";import{a as Ae,V as De,m as ml,b as fl}from"./VTextField-eYheqCcP.js";import{V as Be}from"./VTooltip-MOaK6sC8.js";import{V as pl}from"./VFileInput-jo3BIN0h.js";import{V as je}from"./VForm-q99bhFcj.js";import{V as hl}from"./VTextarea-vI8zl31f.js";import{m as gl,a as Qe,b as bl,c as yl}from"./VCheckboxBtn-Gi49F8c1.js";import{G as Ul}from"./userData-JekN6juj.js";import{v as Se}from"./v4-yQnnJER4.js";import{e as Il,a as Dl,b as Tl,c as kl}from"./VCard-cPkJINSu.js";var ae=(a=>(a.ACCOMMODATION="ACCOMMODATION",a.AGE="AGE",a.BADGE_IMAGE="BADGE_IMAGE",a.CHECKBOX="CHECKBOX",a.DATE="DATE",a.EXTRAS="EXTRAS",a.HTML="HTML",a.INTERESTS="INTERESTS",a.RADIO="RADIO",a.SELECT="SELECT",a.TEXT="TEXT",a.TEXTAREA="TEXTAREA",a.TICKET="TICKET",a.NUMBER="NUMBER",a))(ae||{});const Gt=[{title:"Accommodation",value:"ACCOMMODATION"},{title:"Additional Purchase",value:"EXTRAS"},{title:"Age Check",value:"AGE"},{title:"Badge Image",value:"BADGE_IMAGE"},{title:"Button",value:"RADIO"},{title:"Checkbox",value:"CHECKBOX"},{title:"Date",value:"DATE"},{title:"Dropdown",value:"SELECT"},{title:"HTML",value:"HTML"},{title:"Interests",value:"INTERESTS"},{title:"Text",value:"TEXT"},{title:"Textarea",value:"TEXTAREA"},{title:"Ticket",value:"TICKET"},{title:"Number",value:"NUMBER"}],Te=a=>{a.sort((T,p)=>(T.Order?T.Order:0)-(p.Order?p.Order:0)),a.forEach((T,p)=>{T.Order=p})},Yt=(a,T)=>{const p=T.indexOf(a);if(p===0)return;const O=a.Order;a.Order=T[p-1].Order,T[p-1].Order=O,Te(T)},Xt=(a,T)=>{const p=T.indexOf(a);if(p>=T.length-1)return;const O=a.Order;a.Order=T[p+1].Order,T[p+1].Order=O,Te(T)},Vl={class:"extrasList"},Cl=ve({__name:"Extras",props:te({admin:{type:Boolean},convention:{},disabled:{type:Boolean},hint:{},label:{},name:{},items:{},persistentHint:{type:Boolean},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change"],["update:modelValue"]),setup(a,{emit:T}){const p=a,{admin:O=!1,convention:$,disabled:m=!1}=p,S=fe(a,"modelValue"),b=T,P=Me.getInstance(),R=w({});try{R.value=JSON.parse(S.value)}catch{}const y=w([]),l=w([]);ne(p,()=>{L()}),ne(R.value,d=>{for(const C in d)if(d[C].checked){const s=y.value.map(u=>{var f;return(f=u.Options)==null?void 0:f.find(v=>v.OptionUUID===C)});if(s&&s.length>0)try{const u=s[0];d[C].choiceId===""&&u&&u.Choices&&u.Choices.length>0&&(d[C].choiceId=u.Choices[0].TagUUID),d[C].price=u==null?void 0:u.Price}catch{}}else d[C].choiceId="",d[C].price=0;S.value=JSON.stringify(d),r()});const g=Oe({get:()=>y.value.map(d=>d.ExtraUUID),set:()=>{}}),L=()=>{var C;const d=((C=p.items.find(s=>s.Title==="SelectedExtras"))==null?void 0:C.Value)||"[]";try{const s=JSON.parse(d);y.value=l.value.filter(u=>s.find(f=>f===u.ExtraUUID))||[],g.value=[...y.value.map(u=>u.ExtraUUID)],y.value.forEach(u=>{var f;(f=u.Options)==null||f.forEach(v=>{R.value[v.OptionUUID]||(R.value[v.OptionUUID]={choiceId:"",checked:!1})})})}catch{}};"Extras"in $&&$.Extras.length?(l.value=$.Extras,L()):"ConventionUUID"in $&&(O?P==null||P.getConventionExtras($.ConventionUUID).then(d=>{d&&(l.value=d,L())}):P==null||P.getAvailableConventionExtras($.ConventionUUID).then(d=>{d&&(l.value=d,L())}));const r=(d=void 0)=>{setTimeout(()=>b("change",d),100)};return(d,C)=>(t(),q("div",Vl,[K("h4",null,j(d.label),1),i(me,{opened:g.value,"onUpdate:opened":C[0]||(C[0]=s=>g.value=s)},{default:n(()=>[(t(!0),q(J,null,le(y.value,s=>(t(),D(We,{key:s.ExtraUUID,value:s.ExtraUUID},{activator:n(({props:u})=>[i(de,be({"prepend-icon":"mdi:mdi-group","append-icon":""},u),{default:n(()=>[s.Name?(t(),D(ke,{key:0},{default:n(()=>[K("strong",null,j(s.Name),1)]),_:2},1024)):_("",!0),s.Description?(t(),D(Ue,{key:1,class:"mt-2 d-inline"},{default:n(()=>[W(j(s.Description),1)]),_:2},1024)):_("",!0)]),_:2},1040)]),default:n(()=>[s.Options?(t(!0),q(J,{key:0},le(s.Options,u=>(t(),D(de,{key:u.OptionUUID,class:"override-pl"},{default:n(()=>[i(z,null,{default:n(()=>[i(G,{cols:"12",sm:"6"},{default:n(()=>[i(ge,{label:`${u.Name} ${u.Price&&u.Price!==0?`(${c(Ie).currencySymbol}${u.Price})`:""}`,modelValue:R.value[u.OptionUUID].checked,"onUpdate:modelValue":f=>R.value[u.OptionUUID].checked=f,disabled:c(m),"hide-details":"",onChange:r},null,8,["label","modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),u.Choices&&u.Choices.length>1&&R.value[u.OptionUUID].checked?(t(),D(G,{key:0,cols:"12",sm:"6"},{default:n(()=>[i(Ee,{items:u.Choices.sort((f,v)=>f.Title.localeCompare(v.Title)).map(f=>({value:f.TagUUID,title:f.Title})),modelValue:R.value[u.OptionUUID].choiceId,"onUpdate:modelValue":f=>R.value[u.OptionUUID].choiceId=f,"item-value":"value","item-title":"title",variant:"outlined",disabled:c(m),"hide-details":"",onChange:r},null,8,["items","modelValue","onUpdate:modelValue","disabled"])]),_:2},1024)):_("",!0)]),_:2},1024)]),_:2},1024))),128)):_("",!0)]),_:2},1032,["value"]))),128))]),_:1},8,["opened"])]))}}),Sl=["innerHTML"],wl=ve({__name:"HTML",props:{data:{}},setup(a){const T=a,p=w({html:""}),O=()=>{try{const $=JSON.parse(T.data);$&&(p.value=$)}catch{}};return O(),ne(T,()=>{O()}),($,m)=>(t(),q("div",{innerHTML:p.value.html},null,8,Sl))}}),El={class:"interestList"},Al=ve({__name:"Interests",props:te({admin:{type:Boolean},convention:{},disabled:{type:Boolean},hint:{},label:{},name:{},items:{},persistentHint:{type:Boolean},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change"],["update:modelValue"]),setup(a,{emit:T}){const p=a,{admin:O=!1,convention:$,disabled:m=!1}=p,S=fe(a,"modelValue"),b=T,P=Me.getInstance(),R=w({});try{R.value=JSON.parse(S.value)}catch{}const y=w([]),l=w([]);ne(R.value,d=>{S.value=JSON.stringify(d)});const g=w([]),L=()=>{var C;const d=((C=p.items.find(s=>s.Title==="SelectedInterests"))==null?void 0:C.Value)||"[]";try{const s=JSON.parse(d);y.value=l.value.filter(u=>s.find(f=>f===u.InterestUUID))||[],g.value=[...y.value.map(u=>u.InterestUUID)]}catch{}};"ConventionUUID"in $&&(O?P==null||P.getConventionInterests($.ConventionUUID).then(d=>{d&&(l.value=d,L())}):P==null||P.getConventionInterests($.ConventionUUID).then(d=>{d&&(l.value=d,L())})),ne(p,()=>{L()});const r=(d=void 0)=>{setTimeout(()=>b("change",d),100)};return(d,C)=>(t(),q("div",El,[K("h4",null,j(d.label),1),i(me,{opened:g.value,"onUpdate:opened":C[0]||(C[0]=s=>g.value=s)},{default:n(()=>[(t(!0),q(J,null,le(y.value.sort((s,u)=>s.Order>u.Order?1:s.Order==u.Order?0:-1),s=>(t(),D(de,{key:s.InterestUUID},{default:n(()=>[i(z,null,{default:n(()=>[i(G,null,{default:n(()=>[i(ge,{label:`${s.Name} ${s.Price&&s.Price>0?`(${c(Ie).currencySymbol}${s.Price})`:""}`,modelValue:R.value[s.InterestUUID],"onUpdate:modelValue":u=>R.value[s.InterestUUID]=u,disabled:c(m),messages:s.Description,onChange:r},null,8,["label","modelValue","onUpdate:modelValue","disabled","messages"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["opened"])]))}}),He=(a,T,p)=>{if(p>=a.length){let O=p-a.length+1;for(;O--;)a.push(void 0)}a.splice(p,0,a.splice(T,1)[0])},we=a=>(Te(a),a),Jt=a=>(T,p)=>T[a]<p[a]?-1:T[a]>p[a]?1:0,Ml={class:"ticketList"},Ol={key:0,class:"text-orange-darken-1"},$l=ve({__name:"Tickets",props:te({admin:{type:Boolean},convention:{},disabled:{type:Boolean},hint:{},label:{},name:{},items:{},persistentHint:{type:Boolean},registrationGroup:{},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change"],["update:modelValue"]),setup(a,{emit:T}){const p=a,{admin:O=!1,convention:$,disabled:m=!1,registrationGroup:S=void 0}=p,b=fe(a,"modelValue"),P=T,R=Me.getInstance(),y=w({Ticket:[],AddonsChecked:[],ComponentsChecked:[]});try{y.value=JSON.parse(b.value),"ticket"in y.value&&(y.value.Ticket=y.value.ticket),"addonsChecked"in y.value&&(y.value.AddonsChecked=y.value.addonsChecked),"componentsChecked"in y.value&&(y.value.ComponentsChecked=y.value.componentsChecked)}catch{}const l=w([]),g=w([]),L=w([]),r=w({required:(f,v=void 0)=>()=>{if(m||!(S!=null&&S.Registration.Leader))return!0;if(v==null){if(y.value.Ticket.length===0&&p.required)return"Must select at least one ticket option.";if(f&&f.ComponentsRequired>0&&y.value.Ticket.includes(f.TicketUUID||"")){let H=0;if(f.TicketComponents.forEach(X=>{y.value.ComponentsChecked.forEach(F=>{X.TicketUUID===F&&(H+=1)})}),H<f.ComponentsRequired)return`Must select ticket ${f.ComponentsRequired} component${f.ComponentsRequired===1?"":"s"}`}}return!0}}),d=()=>{var v;const f=((v=p.items.find(H=>H.Title==="SelectedTickets"))==null?void 0:v.Value)||"[]";try{const H=JSON.parse(f);l.value=g.value.filter(X=>X.Type==="TICKET_TYPE_GROUP"&&H.find(F=>F===X.TicketUUID))||[],L.value=[...l.value.filter(X=>X.Type==="TICKET_TYPE_GROUP").map(X=>X.TicketUUID)]}catch{}};if("ConventionUUID"in $)if(O)R==null||R.getConventionTickets($.ConventionUUID).then(f=>{f&&(g.value=f,d())});else{const f=p.items.find(v=>v.Title==="SelectedTickets");f&&(R==null||R.getFieldTickets(f.FieldUUID).then(v=>{v&&(g.value=v,d())}))}ne(p,()=>{d()});const C=f=>{y.value.Ticket.length>1&&y.value.Ticket.shift(),y.value.ComponentsChecked=[];const v=[];l.value.forEach(H=>{(y.value.Ticket.includes(H.TicketUUID)||y.value.ComponentsChecked.includes(H.TicketUUID))&&v.push(...H.AddonTickets.map(X=>X.TicketUUID))}),y.value.AddonsChecked=y.value.AddonsChecked.filter(H=>v.includes(H)),u(f)},s=f=>{const v=g.value.find(H=>H.TicketUUID===y.value.Ticket[0]);if(v)for(;y.value.ComponentsChecked.length>v.ComponentsRequired;)y.value.ComponentsChecked.shift();u(f)},u=(f=void 0)=>{b.value=JSON.stringify(y.value),setTimeout(()=>P("change",f),100)};try{S!=null&&S.TicketData&&(y.value=JSON.parse(S.TicketData),"ticket"in y.value&&(y.value.Ticket=y.value.ticket),"addonsChecked"in y.value&&(y.value.AddonsChecked=y.value.addonsChecked),"componentsChecked"in y.value&&(y.value.ComponentsChecked=y.value.componentsChecked),u())}catch{}return(f,v)=>{var H;return t(),q("div",Ml,[K("h4",null,[W(j(f.label)+" ",1),(H=c(S))!=null&&H.Registration.Leader?_("",!0):(t(),q("small",Ol,"(controlled by group leader)"))]),i(me,{opened:L.value,"onUpdate:opened":v[4]||(v[4]=X=>L.value=X)},{default:n(()=>[(t(!0),q(J,null,le(c(we)(l.value.filter(X=>X.Type===c(il).TICKET_TYPE_GROUP)),X=>(t(),q(J,{key:X.TicketUUID},[X.Tickets.length>0?(t(),D(We,{key:0,value:X.TicketUUID},{activator:n(({props:F})=>[i(de,be(F,{"prepend-icon":"mdi:mdi-group"}),{default:n(()=>[i(ke,null,{default:n(()=>[K("strong",null,j(X.Name),1)]),_:2},1024),i(Ue,{class:"d-inline"},{default:n(()=>[W(j(X.Description),1)]),_:2},1024)]),_:2},1040)]),default:n(()=>[(t(!0),q(J,null,le(X.Tickets,F=>(t(),D(de,{key:F.TicketUUID,class:"override-pl"},{default:n(()=>{var V;return[i(Ue,{class:"d-inline"},{default:n(()=>[W(j(F.Description),1)]),_:2},1024),i(ge,{modelValue:y.value.Ticket,"onUpdate:modelValue":v[0]||(v[0]=U=>y.value.Ticket=U),value:F.TicketUUID,onChange:C,rules:[r.value.required(F)],"validate-on":"submit",disabled:c(m)||!((V=c(S))!=null&&V.Registration.Leader)},{label:n(()=>[i(Ce,{icon:F.RequiresAccommodation?"mdi:mdi-home":F.ComponentsRequired>0?"mdi:mdi-ticket-confirmation":"mdi:mdi-ticket",class:"mx-2"},null,8,["icon"]),W(" "+j(`${F.Name} ${F.Price>0?`(${c(Ie).currencySymbol}${F.Price})`:""}`),1)]),_:2},1032,["modelValue","value","rules","disabled"]),y.value.Ticket.length>0&&F.TicketUUID===y.value.Ticket[0]?(t(),q(J,{key:0},[F.AddonTickets.length?(t(),D(me,{key:0},{default:n(()=>[(t(!0),q(J,null,le(c(we)(F.AddonTickets),U=>(t(),q(J,{key:U==null?void 0:U.TicketUUID},[U?(t(),D(de,{key:0},{default:n(()=>[i(ke,null,{default:n(()=>{var E;return[i(ge,{modelValue:y.value.AddonsChecked,"onUpdate:modelValue":v[1]||(v[1]=k=>y.value.AddonsChecked=k),value:U.TicketUUID,onChange:v[2]||(v[2]=k=>{y.value.ComponentsChecked=[],u(k)}),disabled:c(m)||!((E=c(S))!=null&&E.Registration.Leader)},{label:n(()=>[i(Ce,{icon:U.RequiresAccommodation?"mdi:mdi-home-plus":U.ComponentsRequired>0?"mdi:mdi-ticket-confirmation":"mdi:mdi-ticket",class:"mx-2"},null,8,["icon"]),W(" "+j(`${U.Name} ${U.Price>0?`(${c(Ie).currencySymbol}${U.Price})`:""}`),1)]),_:2},1032,["modelValue","value","disabled"])]}),_:2},1024),i(Ue,{class:"d-inline"},{default:n(()=>[W(j(U.Description),1)]),_:2},1024)]),_:2},1024)):_("",!0)],64))),128))]),_:2},1024)):_("",!0),F.TicketComponents.length?(t(),D(me,{key:1},{default:n(()=>[(t(!0),q(J,null,le(c(we)(F.TicketComponents),U=>(t(),q(J,{key:U==null?void 0:U.TicketUUID},[U?(t(),D(de,{key:0},{default:n(()=>[i(ke,null,{default:n(()=>{var E;return[i(ge,{modelValue:y.value.ComponentsChecked,"onUpdate:modelValue":v[3]||(v[3]=k=>y.value.ComponentsChecked=k),value:U.TicketUUID,onChange:s,rules:[r.value.required(F,U)],"validate-on":"submit",disabled:c(m)||!((E=c(S))!=null&&E.Registration.Leader)},{label:n(()=>[i(Ce,{icon:U.RequiresAccommodation?"mdi:mdi-home-plus":U.ComponentsRequired>0?"mdi:mdi-ticket-confirmation":"mdi:mdi-ticket",class:"mx-2"},null,8,["icon"]),W(" "+j(`${U.Name} ${U.Price>0?`(${c(Ie).currencySymbol}${U.Price})`:""}`),1)]),_:2},1032,["modelValue","value","rules","disabled"])]}),_:2},1024),i(Ue,null,{default:n(()=>[W(j(U.Description),1)]),_:2},1024)]),_:2},1024)):_("",!0)],64))),128))]),_:2},1024)):_("",!0)],64)):_("",!0)]}),_:2},1024))),128))]),_:2},1032,["value"])):_("",!0)],64))),128))]),_:1},8,["opened"])])}}}),Ll={key:0},Rl=K("strong",null,"Your Sharing Group",-1),xl={class:"d-flex flex-wrap my-2"},_l=K("dt",{class:"v-col-12 v-col-sm-2 v-col-md-1 font-weight-bold pa-1 pt-4"}," Leader: ",-1),ql={class:"v-col-12 v-col-sm-10 v-col-md-11 pa-1 align-content-center"},Pl={class:"d-inline-block position-relative ml-4",style:{top:"-5px"}},Bl=K("dt",{class:"v-col-12 v-col-sm-2 v-col-md-1 pa-1 pt-4"}," Member: ",-1),Hl={class:"v-col-12 v-col-sm-10 v-col-md-11 pa-1"},Gl={class:"d-inline-block position-relative ml-4",style:{top:"-5px"}},Yl=["href"],Xl=K("br",null,null,-1),Jl=K("small",null,"Link will be copied to clipboard for you to paste (ctrl+v) in to message or email",-1),Fl=K("strong",null,"Your Groups Accommodation",-1),Wl=K("br",null,null,-1),Kl=K("small",null,"(in order of preference, controlled by group leader)",-1),zl=K("strong",null,"Accommodation Options",-1),jl=K("br",null,null,-1),Ql=K("strong",null,"Your Chosen Accommodation",-1),Zl=K("small",null,"(in order of preference)",-1),Nl=ve({__name:"Accommodation",props:te({admin:{type:Boolean},convention:{},data:{},disabled:{type:Boolean},hint:{},items:{},label:{},name:{},persistentHint:{type:Boolean},registrationGroup:{},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change","update:items"],["update:modelValue"]),setup(a,{emit:T}){const p=a,{admin:O=!1,convention:$,disabled:m}=p,S=T,b=fe(a,"modelValue"),P=Le(p,S,void 0,void 0,"items"),R=$e(),y=ze(),l=Ze.getInstance(),g=w(ye(b.value)),L=w([]),r=w(),d=w({sharing:!1}),C=()=>{try{const o=JSON.parse(p.data);o&&(d.value=o)}catch{}};C(),ne(p,()=>{C(),p.registrationGroup&&(L.value=p.registrationGroup.Members,r.value=p.registrationGroup.Registration)}),ne(g,o=>{b.value=ye(o)},{deep:!0});const s=w(""),u=w(!1),f=()=>{var o;(o=r.value)!=null&&o.Leader&&R.getRegistrationInvite($.ConventionUUID).then(x=>{if(x){const oe=new URL(location.href);oe.searchParams.set("token",x),s.value=oe.toString()}})},v=()=>{vl(s.value),f(),u.value=!0,setTimeout(()=>u.value=!1,2200)},H=(o=void 0)=>{setTimeout(()=>S("change",o),100)},X=w({required:o=>!p.required||o.length>0||"Selections Required"}),F=o=>o?`${o.Reference?`#${o.Reference}`:"(not registered)"} ${o.Name}`:"",V=()=>{var o;l.emit("registration.group.leave",(o=r.value)==null?void 0:o.RegistrationUUID)},U=o=>{l.emit("registration.group.remove.member",o)},E=w([]);ne(P,()=>{k()});const k=()=>{O?R.getConventionAccommodation($.ConventionUUID).then(o=>{E.value=o.filter(x=>!!(P!=null&&P.value.find(oe=>oe.Value===x.AccommodationUUID)))||[]}):P.value.length>0&&R.getFieldAccommodation(P.value[0].FieldUUID).then(o=>{E.value=o.filter(x=>!!(P!=null&&P.value.find(oe=>oe.Value===x.AccommodationUUID)))||[]})};k(),(()=>{var o;if(p.registrationGroup)if(L.value=p.registrationGroup.Members,r.value=p.registrationGroup.Registration,(o=r.value)!=null&&o.Leader)f();else try{g.value=JSON.parse(p.registrationGroup.AccommodationData),H()}catch{}})();const Y=w({column:0,id:""}),ue=()=>{!m&&!g.value.includes(Y.value.id)&&(Y.value.column===0&&Y.value.id!==""&&g.value.push(Y.value.id),H())},ie=()=>{const o=g.value.findIndex(x=>x===Y.value.id);!m&&o>=0&&(g.value.splice(o,1),H())},pe=()=>{if(m||Y.value.column!==1)return;const o=g.value.findIndex(x=>x===Y.value.id);o<=0||(He(g.value,o,o-1),H())},Z=()=>{if(m||Y.value.column!==1)return;const o=g.value.findIndex(x=>x===Y.value.id);o>=g.value.length-1||(He(g.value,o,o+1),H())};return(o,x)=>{var oe;return t(),q(J,null,[K("h4",null,j(o.label),1),i(z,null,{default:n(()=>[i(G,{cols:"12"},{default:n(()=>{var B,ee;return[L.value&&r.value&&d.value.sharing?(t(),q("div",Ll,[Rl,!c(m)&&((B=L.value.find(N=>N.IsLeader))==null?void 0:B.UUID)!==r.value.RegistrationUUID?(t(),D(Q,{key:0,color:"red",variant:"text",onClick:V},{default:n(()=>[W("(leave group)")]),_:1})):_("",!0),K("dl",xl,[_l,K("dd",ql,[i(Pe,{class:"rounded-circle d-inline-block",src:c(y).GetProfileImageURL(((ee=L.value.find(N=>N.IsLeader))==null?void 0:ee.UserUUID)||""),height:"32",width:"32"},null,8,["src"]),K("div",Pl,j(F(L.value.find(N=>N.IsLeader))),1)]),(t(!0),q(J,null,le(L.value,N=>(t(),q(J,{key:N.UUID},[N.IsLeader?_("",!0):(t(),q(J,{key:0},[Bl,K("dd",Hl,[i(Pe,{class:"rounded-circle d-inline-block",src:c(y).GetProfileImageURL(N.UserUUID),height:"32",width:"32"},null,8,["src"]),K("div",Gl,[W(j(F(N))+" ",1),r.value.Leader?(t(),D(Q,{key:0,variant:"text",class:"ml-4",icon:"mdi:mdi-close-circle",color:"red",size:"xs",title:"Remove Member",onClick:e=>U(N.UUID),disabled:c(m)},null,8,["onClick","disabled"])):_("",!0)])])],64))],64))),128))]),i(cl,{modelValue:u.value,"onUpdate:modelValue":x[0]||(x[0]=N=>u.value=N),message:"Invite Link Copied",timeout:2e3},null,8,["modelValue"]),s.value&&r.value.Leader&&!c(m)?(t(),q(J,{key:1},[K("a",{href:s.value,onClick:Xe(v,["prevent"]),class:"text-white text-decoration-none"},[i(Q,{color:"blue",class:"mb-2"},{default:n(()=>[W("Get Invite Link")]),_:1})],8,Yl),Xl,Jl],64)):_("",!0)])):_("",!0)]}),_:1})]),_:1}),r.value&&!r.value.Leader?(t(),D(z,{key:0},{default:n(()=>[i(G,{cols:"10",md:"5"},{default:n(()=>[Fl,Wl,Kl,i(me,null,{default:n(()=>[(t(!0),q(J,null,le(g.value.map(B=>E.value.find(ee=>ee.AccommodationUUID==B)).filter(B=>B!==void 0),(B,ee)=>(t(),q(J,null,[B?(t(),D(de,{key:B.AccommodationUUID,title:`${ee+1}. ${B.Name}`,class:Ve(Y.value.column===1&&Y.value.id===B.AccommodationUUID?"bg-blue-accent-3":"border-dashed border")},null,8,["title","class"])):_("",!0)],64))),256))]),_:1})]),_:1})]),_:1})):(t(),D(z,{key:1},{default:n(()=>[i(G,{cols:"12",md:"5"},{default:n(()=>[zl,jl,i(me,null,{default:n(()=>[(t(!0),q(J,null,le(E.value,B=>(t(),D(de,{key:B.AccommodationUUID,title:B.Name,class:Ve(Y.value.column===0&&Y.value.id===B.AccommodationUUID?"bg-blue-accent-3":"border-dashed border"),onClick:ee=>Y.value={column:0,id:B.AccommodationUUID},"append-icon":c(m)?"":"mdi:mdi-gesture-tap",onDblclick:x[1]||(x[1]=ee=>ue())},null,8,["title","class","onClick","append-icon"]))),128))]),_:1})]),_:1}),c(m)?_("",!0):(t(),D(G,{key:0,cols:"12",md:"1"},{default:n(()=>[i(z,{class:"d-md-none"},{default:n(()=>[i(G,{cols:"12",class:"text-center"},{default:n(()=>[i(Q,{icon:"mdi:mdi-arrow-down",size:"small",onClick:x[2]||(x[2]=B=>ue()),color:"primary",title:"Select"}),W("   "),i(Q,{icon:"mdi:mdi-arrow-up",size:"small",onClick:x[3]||(x[3]=B=>ie()),color:"secondary",title:"Remove"})]),_:1})]),_:1}),i(z,{class:"d-none d-md-flex h-100 align-content-center"},{default:n(()=>[i(G,{cols:"12"},{default:n(()=>[i(Q,{icon:"mdi:mdi-arrow-right",size:"small",onClick:x[4]||(x[4]=B=>ue()),color:"primary",title:"Select"})]),_:1}),i(G,{cols:"12"},{default:n(()=>[i(Q,{icon:"mdi:mdi-arrow-left",size:"small",onClick:x[5]||(x[5]=B=>ie()),color:"secondary",title:"Remove"})]),_:1})]),_:1})]),_:1})),i(G,{cols:"10",md:"5"},{default:n(()=>[Ql,i(me,null,{default:n(()=>[(t(!0),q(J,null,le(g.value.map(B=>E.value.find(ee=>ee.AccommodationUUID==B)).filter(B=>B!==void 0),(B,ee)=>(t(),q(J,null,[B?(t(),D(de,{key:B.AccommodationUUID,title:`${ee+1}. ${B.Name}`,class:Ve(Y.value.column===1&&Y.value.id===B.AccommodationUUID?"bg-blue-accent-3":"border-dashed border"),onClick:N=>Y.value={column:1,id:(B==null?void 0:B.AccommodationUUID)||""},"append-icon":c(m)?"":"mdi:mdi-gesture-tap",onDblclick:x[6]||(x[6]=N=>ie())},null,8,["title","class","onClick","append-icon"])):_("",!0)],64))),256))]),_:1}),Zl]),_:1}),c(m)?_("",!0):(t(),D(G,{key:1,cols:"2",md:"1"},{default:n(()=>[i(z,{class:"d-flex h-100 align-content-center mt-3"},{default:n(()=>[i(G,{cols:"12"},{default:n(()=>[i(Q,{icon:"mdi:mdi-arrow-up",size:"small",onClick:x[7]||(x[7]=B=>pe()),color:"primary",title:"Higher Priority"})]),_:1}),i(G,{cols:"12"},{default:n(()=>[i(Q,{icon:"mdi:mdi-arrow-down",size:"small",onClick:x[8]||(x[8]=B=>Z()),color:"secondary",title:"Lower Priority"})]),_:1})]),_:1})]),_:1}))]),_:1})),(oe=r.value)!=null&&oe.Leader?(t(),D(Ae,{key:2,modelValue:b.value,"onUpdate:modelValue":x[9]||(x[9]=B=>b.value=B),disabled:c(m)||!1,"persistent-hint":o.persistentHint||!1,"error-messages":o.errorMessages||"",rules:[X.value.required],class:"accommodation-field-warning"},null,8,["modelValue","disabled","persistent-hint","error-messages","rules"])):_("",!0)],64)}}}),et=ve({__name:"AgeCheck",props:te({disabled:{type:Boolean},hint:{},label:{},name:{},items:{},persistentHint:{type:Boolean},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["blur","change","update:items"],["update:modelValue"]),setup(a,{emit:T}){const p=T,O=a,$=Le(O,p,void 0,void 0,"items"),m=fe(a,"modelValue"),S=w({required:l=>!O.required||!!l||"Required.",min:l=>{var f,v;const g=new Date,L=g.getFullYear(),r=(g.getMonth()+1).toLocaleString("en-US",{minimumIntegerDigits:2}),d=g.getDate().toLocaleString("en-US",{minimumIntegerDigits:2}),C=((f=$.value.find(H=>H.Title=="MIN_AGE"))==null?void 0:f.Value)||"18",s=((v=$.value.find(H=>H.Title=="BEFORE_DATE"))==null?void 0:v.Value)||`${L}-${r}-${d}`,u=R(s);return P(l,s,parseInt(C))||`You must be at least ${C} years old by ${u.toLocaleDateString(navigator.language,{timeZone:"UTC"})}.`}}),b=()=>(p("blur"),!(S.value.min(m.value||"")!==!0||S.value.required(m.value||"")!==!0)),P=(l,g,L)=>{if(l>=g)return!1;const r=R(l),C=R(g).getTime()-r.getTime(),s=1e3*60*60*24*365.25;return C/s>=L},R=l=>{const[g,L,r]=l.split("-");return new Date(parseInt(g),parseInt(L)-1,parseInt(r))},y=(l=void 0)=>{setTimeout(()=>p("change",l),100)};return(l,g)=>(t(),D(De,{modelValue:m.value,"onUpdate:modelValue":g[0]||(g[0]=L=>m.value=L),type:"date",hint:l.hint||"",label:l.label||"",name:l.name||"",variant:"outlined",disabled:l.disabled||!1,"persistent-hint":l.persistentHint||!1,"error-messages":l.errorMessages||"",rules:[S.value.required,S.value.min],onBlur:b,onChange:y},null,8,["modelValue","hint","label","name","disabled","persistent-hint","error-messages","rules"]))}});function Ge(a){const T=JSON.parse(a),p={charge:0,free:0,height:0,label:!1,maximum:0,tags:[],width:0};return T&&(T.charge&&ce.isNumber(T.charge)&&(p.charge=T.charge),T.free&&ce.isNumber(T.free)&&(p.free=T.free),T.height&&ce.isNumber(T.height)&&(p.height=T.height),T.label&&ce.isBoolean(T.label)&&(p.label=T.label),T.maximum&&ce.isNumber(T.maximum)&&(p.maximum=T.maximum),T.tags&&Array.isArray(T.tags)&&(p.tags=T.tags),T.width&&ce.isNumber(T.width)&&(p.width=T.width)),p}const lt={class:"text-center"},tt={key:0},at={key:0,class:"image-progress my-auto mx-auto"},nt=["onMousemove","onMousedown","onMouseup","onTouchstart","onTouchmove","onTouchend"],st=["src","onLoad","onDragstart","onKeydown","onKeyup"],ot={key:0},ut={key:1},it=ve({__name:"BadgeImage",props:te({disabled:{type:Boolean},hint:{},field:{},label:{},name:{},items:{},persistentHint:{type:Boolean},registration:{},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["blur","change","update:items"],["update:modelValue"]),setup(a,{emit:T}){var N;const p=T,O=a,$=fe(a,"modelValue"),m=w([]),S=w({charge:0,free:0,height:0,label:!1,maximum:0,tags:[],width:0}),b=w(1),P=$e(),R=ze(),y=w([]),l=w(""),g=w([]),L=w(),r=w([]),d=w([]),C=w([]),s=w(0),u=w(),f=w({imageNo:0,imageX:0,imageY:0,mouseDown:!1,mouseX:0,mouseY:0}),v=w(280),H=w(280),X=e=>{e+1>r.value.length||r.value[e]&&(m.value[e].left=parseInt(getComputedStyle(r.value[e]).left),m.value[e].top=parseInt(getComputedStyle(r.value[e]).top),m.value[e].height=r.value[e].height,m.value[e].width=r.value[e].width,$.value=JSON.stringify(m.value))},F=Oe(()=>({"--preview-width":`${H.value}px`,"--preview-height":`${v.value}px`})),V=w([!1]);try{m.value=JSON.parse($.value||"[]"),ce.isArray(m.value)||(ce.isObject(m.value)?m.value=[m.value]:m.value=[]),m.value.forEach((e,A)=>{e.fileUUID&&(d.value[A]=R.GetBadgeImageURL(e.fileUUID))}),b.value=m.value.length,O.field&&"Data"in O.field&&(S.value=Ge(((N=O.field)==null?void 0:N.Data)||"")),b.value===0&&S.value.maximum===1&&(b.value=1)}catch{}O.registration&&P.getConBadgeDisplayName(O.registration.RegistrationUUID).then(e=>{e&&(l.value=e)}).catch(()=>{});const U=(e,A)=>{r.value[e]=A},E=e=>{var A;try{e.field&&"Data"in e.field&&(S.value=Ge(((A=e.field)==null?void 0:A.Data)||"")),S.value.height&&(v.value=S.value.height),S.value.width&&(H.value=S.value.width)}catch{}k()},k=()=>{if(b.value>m.value.length)for(let e=0;e<b.value-m.value.length;e+=1)m.value.push({fileUUID:"",height:0,label:"",left:0,top:0,width:0});else b.value<m.value.length&&b.value>=0&&(m.value=m.value.slice(0,b.value));if(b.value>g.value.length){const e=g.value.length;for(let A=0;A<b.value-e;A+=1)g.value.push(!0)}else b.value<g.value.length&&b.value>=0&&(g.value=g.value.slice(0,b.value));if(b.value>d.value.length){const e=d.value.length;for(let A=0;A<b.value-e;A+=1)d.value.push("")}else b.value<d.value.length&&b.value>=0&&(d.value=d.value.slice(0,b.value));if(b.value>C.value.length){const e=C.value.length;for(let A=0;A<b.value-e;A+=1)C.value.push(!1)}else b.value<C.value.length&&b.value>=0&&(C.value=C.value.slice(0,b.value));if(b.value>V.value.length){const e=V.value.length;for(let A=0;A<b.value-e;A+=1)V.value.push(!1)}else b.value<V.value.length&&b.value>=0&&(V.value=V.value.slice(0,b.value));$.value=JSON.stringify(m.value)};ne(O,e=>{E(e)}),E(O),ne(b,()=>{k()});const M=w({required:e=>!O.required||!!e||"Required.",saved:e=>!g.value[e]||"File not uploaded."}),Y=()=>(p("blur"),M.value.required($.value||"")!==!0),ue=(e,A=void 0)=>{m.value[e].top=0,m.value[e].left=0,m.value[e].width=0,m.value[e].height=0,pe(e).then(()=>{setTimeout(()=>{ie(e)},100),setTimeout(()=>p("change",A),200)}).catch(()=>{})},ie=e=>{L.value[e].files.length>0&&(d.value[e]=URL.createObjectURL(L.value[e].files[0]))},pe=async e=>{if(!y.value[e])return;const A=new FormData(y.value[e].$el);g.value[e]=!1,C.value[e]=!0;const I=await R.SaveFormFile(A);I.Saved&&(C.value[e]=!1,g.value[e]=!0,m.value[e].fileUUID=I.FileUUID,V.value[e]=!0)},Z=(e,A)=>{const I=A.target;I.style.left="0px",I.style.top="0px",I.width>I.height?I.width=H.value*(I.width/I.height):I.width=H.value,I.classList.remove("d-none"),e>=0&&e<b.value&&X(e)},o=(e,A,I=0,h=void 0)=>{if(h&&h.type)switch(h.type){case"touchstart":case"touchend":h.preventDefault();break}let re=500;if(!s.value)s.value=Date.now();else{const he=Date.now()-s.value;he>=3e3?re=1:he>=2500?re=2:he>=2e3?re=5:he>=1500?re=12:he>=1e3?re=25:he>=500?re=50:he>=250&&(re=100)}switch(I!==re&&(clearInterval(u.value),u.value=setInterval(()=>{o(e,A,re)},re)),A){case 0:s.value=0,clearInterval(u.value),X(e);break;case 6:r.value[e].width-=1;break;case 5:r.value[e].width+=1;break;case 1:r.value[e].style.top=`${(parseInt(getComputedStyle(r.value[e]).top)||0)-1}px`;break;case 2:r.value[e].style.left=`${(parseInt(getComputedStyle(r.value[e]).left)||0)+1}px`;break;case 3:r.value[e].style.top=`${(parseInt(getComputedStyle(r.value[e]).top)||0)+1}px`;break;case 4:r.value[e].style.left=`${(parseInt(getComputedStyle(r.value[e]).left)||0)-1}px`;break}oe(e)},x=(e,A)=>{switch(e===-1&&(e=f.value.imageNo),A.type){case"touchstart":A.preventDefault(),f.value.imageX=parseInt(getComputedStyle(r.value[e]).left),f.value.imageY=parseInt(getComputedStyle(r.value[e]).top),f.value.mouseX=A.touches[0].clientX,f.value.mouseY=A.touches[0].clientY,f.value.mouseDown=!0;break;case"mousedown":f.value.imageNo=e,f.value.imageX=parseInt(getComputedStyle(r.value[e]).left),f.value.imageY=parseInt(getComputedStyle(r.value[e]).top),f.value.mouseX=A.clientX,f.value.mouseY=A.clientY,f.value.mouseDown=!0;break;case"touchend":A.preventDefault();case"mouseup":f.value.mouseDown=!1,X(e);break;case"touchmove":if(!f.value.mouseDown)return;r.value[e].style.left=`${f.value.imageX+(A.touches[0].clientX-f.value.mouseX)}px`,r.value[e].style.top=`${f.value.imageY+(A.touches[0].clientY-f.value.mouseY)}px`;break;case"mousemove":if(!f.value.mouseDown)return;r.value[e].style.left=`${f.value.imageX+(A.clientX-f.value.mouseX)}px`,r.value[e].style.top=`${f.value.imageY+(A.clientY-f.value.mouseY)}px`;break;case"dragstart":A.preventDefault();break;case"keydown":switch(A.key){case"ArrowUp":A.preventDefault(),o(e,1);break;case"ArrowRight":A.preventDefault(),o(e,2);break;case"ArrowDown":A.preventDefault(),o(e,3);break;case"ArrowLeft":A.preventDefault(),o(e,4);break;case"+":A.preventDefault(),o(e,5);break;case"-":A.preventDefault(),o(e,6);break}break;case"keyup":o(e,0),X(e);break}oe(e)},oe=e=>{if(!(e+1>r.value.length)){if(r.value[e].width<H.value&&(r.value[e].width=H.value),r.value[e].height<v.value){const A=v.value-r.value[e].height,I=r.value[e].width/r.value[e].height;r.value[e].width+=Math.ceil(A*I)}(parseInt(getComputedStyle(r.value[e]).left)||0)>0&&(r.value[e].style.left="0px"),(parseInt(getComputedStyle(r.value[e]).top)||0)>0&&(r.value[e].style.top="0px"),(parseInt(getComputedStyle(r.value[e]).left)||0)<0-(r.value[e].width-H.value)&&(r.value[e].style.left=`${0-(r.value[e].width-H.value)}px`),(parseInt(getComputedStyle(r.value[e]).top)||0)<0-(r.value[e].height-v.value)&&(r.value[e].style.top=`${0-(r.value[e].height-v.value)}px`)}},B=()=>{try{clearInterval(u.value)}catch{}f.value.mouseDown=!1,s.value=0,f.value.imageNo&&X(f.value.imageNo)},ee=e=>{x(-1,e)};return window.addEventListener("mouseup",B),window.addEventListener("mousemove",ee),window.addEventListener("touchend",B),window.addEventListener("touchmove",ee),Ne(()=>{window.removeEventListener("mouseup",B),window.removeEventListener("mousemove",ee),window.removeEventListener("touchend",B),window.removeEventListener("touchmove",ee)}),(e,A)=>(t(),q("div",null,[(t(!0),q(J,null,le(b.value,I=>(t(),q("div",{style:el(F.value),key:I},[i(je,{ref_for:!0,ref_key:"badgeImageForm",ref:y,enctype:"multipart/form-data"},{default:n(()=>[i(z,null,{default:n(()=>[i(G,null,{default:n(()=>[i(pl,{label:e.label||"",hint:e.hint||"",name:e.name?"name":"badgeFile",variant:"outlined",ref_for:!0,ref_key:"imageFileInput",ref:L,accept:"image/avif, image/bmp, image/gif, image/jpeg, image/png, image/webp",rules:[M.value.required],"error-messages":e.errorMessages||"","persistent-hint":e.persistentHint||!1,disabled:!g.value[I-1]||e.disabled||!1,"hide-details":"",onChange:h=>ue(I-1,h),onBlur:Y},null,8,["label","hint","name","rules","error-messages","persistent-hint","disabled","onChange"]),K("p",lt,[g.value[I-1]?_("",!0):(t(),q("small",tt,"File Uploading"))])]),_:2},1024)]),_:2},1024),S.value.label?(t(),D(z,{key:0},{default:n(()=>[i(G,null,{default:n(()=>[i(De,{label:"Display Name",variant:"outlined","prepend-icon":"mdi:mdi-label-outline",modelValue:m.value[I-1].label,"onUpdate:modelValue":h=>m.value[I-1].label=h,onInput:h=>X(I-1),onChange:h=>X(I-1)},null,8,["modelValue","onUpdate:modelValue","onInput","onChange"])]),_:2},1024)]),_:2},1024)):_("",!0),i(z,{class:"justify-center scale-down"},{default:n(()=>[i(G,{cols:"12",class:"text-center"},{default:n(()=>[W(" Preview "),C.value[I-1]?(t(),q("div",at,[i(rl,{indeterminate:"",color:"primary",size:128,width:10},{default:n(()=>[W("Uploading")]),_:1})])):(t(),q(J,{key:1},[K("div",{class:"image-preview my-auto mx-auto",onMousemove:h=>x(I-1,h),onMousedown:h=>x(I-1,h),onMouseup:h=>x(I-1,h),onTouchstart:h=>x(I-1,h),onTouchmove:h=>x(I-1,h),onTouchend:h=>x(I-1,h)},[K("img",{src:d.value[I-1],ref_for:!0,ref:h=>U(I-1,h),alt:"Your badge image",onLoad:h=>Z(I-1,h),onDragstart:h=>x(I-1,h),onKeydown:h=>x(I-1,h),onKeyup:h=>x(I-1,h),tabindex:"0",class:"d-none"},null,40,st)],40,nt),S.value.label?(t(),q("h3",ot,j(m.value[I-1].label),1)):(t(),q("h3",ut,j(l.value),1))],64))]),_:2},1024),V.value[I-1]?(t(),D(G,{key:0,cols:"12",class:"d-flex justify-space-between",style:{"max-width":"280px"}},{default:n(()=>[i(Q,{icon:"mdi:mdi-arrow-left",color:"primary",onMousedown:h=>o(I-1,4,0,h),onMouseup:h=>o(I-1,0,0,h),onTouchstart:h=>o(I-1,4,0,h),onTouchend:h=>o(I-1,0,0,h)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"]),i(Q,{icon:"mdi:mdi-arrow-up",color:"secondary",onMousedown:h=>o(I-1,1,0,h),onMouseup:h=>o(I-1,0,0,h),onTouchstart:h=>o(I-1,1,0,h),onTouchend:h=>o(I-1,0,0,h)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"]),i(Q,{icon:"mdi:mdi-arrow-down",color:"secondary",onMousedown:h=>o(I-1,3,0,h),onMouseup:h=>o(I-1,0,0,h),onTouchstart:h=>o(I-1,3,0,h),onTouchend:h=>o(I-1,0,0,h)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"]),i(Q,{icon:"mdi:mdi-arrow-right",color:"primary",onMousedown:h=>o(I-1,2,0,h),onMouseup:h=>o(I-1,0,0,h),onTouchstart:h=>o(I-1,2,0,h),onTouchend:h=>o(I-1,0,0,h)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"])]),_:2},1024)):_("",!0)]),_:2},1024),V.value[I-1]?(t(),D(z,{key:1,class:"justify-center scale-down"},{default:n(()=>[i(G,{cols:"12",class:"d-flex justify-space-between",style:{"max-width":"280px"}},{default:n(()=>[i(Q,{icon:"mdi:mdi-plus",color:"primary",onMousedown:h=>o(I-1,5,0,h),onMouseup:h=>o(I-1,0,0,h),onTouchstart:h=>o(I-1,5,0,h),onTouchend:h=>o(I-1,0,0,h)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"]),i(Q,{icon:"mdi:mdi-minus",color:"secondary",onMousedown:h=>o(I-1,6,0,h),onMouseup:h=>o(I-1,0,0,h),onTouchstart:h=>o(I-1,6,0,h),onTouchend:h=>o(I-1,0,0,h)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"])]),_:2},1024)]),_:2},1024)):_("",!0)]),_:2},1536)],4))),128)),S.value.maximum===0||S.value.maximum>1?(t(),D(z,{key:0},{default:n(()=>[i(G,{class:"text-right"},{default:n(()=>[i(Be,{text:"Add Badge",location:"top"},{activator:n(({props:I})=>[i(Q,be({color:"success",icon:"mdi:mdi-plus",size:"xs",variant:"flat",disabled:e.disabled||b.value>=S.value.maximum&&S.value.maximum>0||!1},I,{onClick:A[0]||(A[0]=h=>b.value<S.value.maximum||S.value.maximum===0?b.value+=1:null)}),null,16,["disabled"])]),_:1})]),_:1}),i(G,null,{default:n(()=>[i(Be,{text:"Remove Badge",location:"top"},{activator:n(({props:I})=>[i(Q,be({color:"error",icon:"mdi:mdi-minus",size:"xs",variant:"flat",disabled:e.disabled||b.value==0||!1},I,{onClick:A[1]||(A[1]=h=>b.value>=1?b.value-=1:null)}),null,16,["disabled"])]),_:1})]),_:1})]),_:1})):_("",!0)]))}}),rt=ll(it,[["__scopeId","data-v-f261df9b"]]),dt=Je({...gl({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),vt=Fe()({name:"VRadio",props:dt(),setup(a,T){let{slots:p}=T;return Ke(()=>i(Qe,be(a,{class:["v-radio",a.class],style:a.style,type:"radio"}),p)),{}}}),ct=Je({height:{type:[Number,String],default:"auto"},...ml(),...tl(bl(),["multiple"]),trueIcon:{type:Re,default:"$radioOn"},falseIcon:{type:Re,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),mt=Fe()({name:"VRadioGroup",inheritAttrs:!1,props:ct(),emits:{"update:modelValue":a=>!0},setup(a,T){let{attrs:p,slots:O}=T;const $=al(),m=Oe(()=>a.id||`radio-group-${$}`),S=nl(a,"modelValue");return Ke(()=>{const[b,P]=sl(p),R=Ae.filterProps(a),y=Qe.filterProps(a),l=O.label?O.label({label:a.label,props:{for:m.value}}):a.label;return i(Ae,be({class:["v-radio-group",a.class],style:a.style},b,R,{modelValue:S.value,"onUpdate:modelValue":g=>S.value=g,id:m.value}),{...O,default:g=>{let{id:L,messagesId:r,isDisabled:d,isReadonly:C}=g;return i(J,null,[l&&i(fl,{id:L.value},{default:()=>[l]}),i(yl,be(y,{id:L.value,"aria-describedby":r.value,defaultsTarget:"VRadio",trueIcon:a.trueIcon,falseIcon:a.falseIcon,type:a.type,disabled:d.value,readonly:C.value,"aria-labelledby":l?L.value:void 0,multiple:!1},P,{modelValue:S.value,"onUpdate:modelValue":s=>S.value=s}),O)])}})}),{}}}),Ye=ve({__name:"FormField",props:te({admin:{type:Boolean},convention:{},name:{},field:{},disabled:{type:Boolean},maxLength:{},minLength:{},persistentHint:{type:Boolean},registrationGroup:{},required:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change","input","update:field"],["update:modelValue"]),setup(a,{emit:T}){const p=a,{admin:O=!1,disabled:$=!1,persistentHint:m=!1,required:S=!1}=p,b=w(""),P=fe(a,"modelValue"),R=T,y=Le(p,R,void 0,void 0,"field"),l=w(ye(y.value)),g=w({maxlength:s=>!p.maxLength||s.length<=p.maxLength||`Maximum length is ${p.maxLength} characters. (Current length: ${s.length})`,minlength:s=>!p.minLength||s.length>=p.minLength||`Minimum length is ${p.minLength} characters. (Current length: ${s.length})`,required:s=>!p.required||!!s.replace(/\s/g,"")||"Required field."}),L=w(!1),r=w([]),d=w("");try{const s=JSON.parse(P.value);Array.isArray(s)?r.value=s:r.value=[],typeof s=="boolean"?L.value=s:L.value=!1,d.value=P.value}catch{L.value=!1,r.value=[],d.value=P.value}ne(L,()=>{P.value=JSON.stringify(L.value),R("input"),R("change")}),ne(r,()=>{P.value=JSON.stringify(r.value),R("input"),R("change")},{deep:!0}),ne(d,()=>{P.value=d.value,R("input"),R("change")}),ne(y.value,()=>{l.value.Type!==y.value.Type?(l.value=ye(y.value),L.value=!1,r.value=[],d.value=""):l.value=ye(y.value)});const C=(s=void 0)=>{R("change",s)};return(s,u)=>{var f;return l.value.Type===c(ae).TEXT?(t(),D(De,{key:0,modelValue:d.value,"onUpdate:modelValue":u[0]||(u[0]=v=>d.value=v),name:s.name||"",hint:l.value.Hint,label:`${l.value.Label}${c(S)?"*":""}`,placeholder:l.value.Placeholder,variant:"outlined",disabled:c($)||!1,"persistent-hint":c(m)||!1,"error-messages":b.value,rules:[g.value.maxlength,g.value.minlength,g.value.required],onChange:C,autocomplete:"off"},null,8,["modelValue","name","hint","label","placeholder","disabled","persistent-hint","error-messages","rules"])):l.value.Type===c(ae).DATE?(t(),D(De,{key:1,modelValue:d.value,"onUpdate:modelValue":u[1]||(u[1]=v=>d.value=v),type:"date",name:s.name||"",hint:l.value.Hint,label:l.value.Label,placeholder:l.value.Placeholder,variant:"outlined",disabled:c($)||!1,"persistent-hint":c(m)||!1,"error-messages":b.value,rules:[g.value.maxlength,g.value.minlength,g.value.required],onChange:C,autocomplete:"off"},null,8,["modelValue","name","hint","label","placeholder","disabled","persistent-hint","error-messages","rules"])):l.value.Type===c(ae).NUMBER?(t(),D(De,{key:2,modelValue:d.value,"onUpdate:modelValue":u[2]||(u[2]=v=>d.value=v),type:"number",name:s.name||"",hint:l.value.Hint,label:l.value.Label,placeholder:l.value.Placeholder,variant:"outlined",disabled:c($)||!1,"persistent-hint":c(m)||!1,"error-messages":b.value,rules:[g.value.maxlength,g.value.minlength,g.value.required],onChange:C,autocomplete:"off"},null,8,["modelValue","name","hint","label","placeholder","disabled","persistent-hint","error-messages","rules"])):l.value.Type===c(ae).TEXTAREA?(t(),D(hl,{key:3,modelValue:d.value,"onUpdate:modelValue":u[3]||(u[3]=v=>d.value=v),name:s.name||"",hint:l.value.Hint,label:l.value.Label,placeholder:l.value.Placeholder,variant:"outlined",disabled:c($)||!1,"persistent-hint":c(m)||!1,"error-messages":b.value,rules:[g.value.maxlength,g.value.minlength,g.value.required],onChange:C,autocomplete:"off"},null,8,["modelValue","name","hint","label","placeholder","disabled","persistent-hint","error-messages","rules"])):l.value.Type===c(ae).CHECKBOX?(t(),q(J,{key:4},[l.value.Multiple?(t(!0),q(J,{key:0},le(l.value.Values,v=>(t(),D(ge,{key:v.ID,modelValue:r.value,"onUpdate:modelValue":u[4]||(u[4]=H=>r.value=H),name:s.name||"",hint:l.value.Hint,label:v.Title,value:v.Value,disabled:c($)||!1,"persistent-hint":c(m),"error-messages":b.value,rules:[g.value.required],onChange:C},null,8,["modelValue","name","hint","label","value","disabled","persistent-hint","error-messages","rules"]))),128)):(t(),D(ge,{key:1,modelValue:L.value,"onUpdate:modelValue":u[5]||(u[5]=v=>L.value=v),name:s.name||"",hint:l.value.Hint,label:l.value.Label,disabled:c($)||!1,"persistent-hint":c(m),"error-messages":b.value,required:c(S),rules:[v=>!c(S)||!!v||"You must tick to continue!"],onChange:C},null,8,["modelValue","name","hint","label","disabled","persistent-hint","error-messages","required","rules"]))],64)):l.value.Type===c(ae).SELECT?(t(),q(J,{key:5},[!l.value.Autofill&&l.value.Multiple?(t(),D(Ee,{key:0,modelValue:r.value,"onUpdate:modelValue":u[6]||(u[6]=v=>r.value=v),name:s.name||"",hint:l.value.Hint,label:l.value.Label,multiple:"",items:l.value.Values,"item-title":"Title","item-value":"Value",variant:"outlined",disabled:c($)||!1,"persistent-hint":c(m)||!1,"error-messages":b.value,rules:[g.value.required]},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages","rules"])):l.value.Autofill&&l.value.Multiple?(t(),D(_e,{key:1,modelValue:r.value,"onUpdate:modelValue":u[7]||(u[7]=v=>r.value=v),name:s.name||"",hint:l.value.Hint,label:l.value.Label,multiple:"",items:l.value.Values,"item-title":"Title","item-value":"Value",variant:"outlined",disabled:c($)||!1,"persistent-hint":c(m)||!1,"error-messages":b.value,rules:[g.value.required]},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages","rules"])):l.value.Autofill?l.value.Autofill?(t(),D(_e,{key:3,modelValue:d.value,"onUpdate:modelValue":u[9]||(u[9]=v=>d.value=v),name:s.name||"",hint:l.value.Hint,label:l.value.Label,items:l.value.Values,"item-title":"Title","item-value":"Value",variant:"outlined",disabled:c($)||!1,"persistent-hint":c(m)||!1,"error-messages":b.value,rules:[g.value.required]},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages","rules"])):_("",!0):(t(),D(Ee,{key:2,modelValue:d.value,"onUpdate:modelValue":u[8]||(u[8]=v=>d.value=v),name:s.name||"",hint:l.value.Hint,label:l.value.Label,items:l.value.Values,"item-title":"Title","item-value":"Value",variant:"outlined",disabled:c($)||!1,"persistent-hint":c(m)||!1,"error-messages":b.value,rules:[g.value.required]},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages","rules"]))],64)):l.value.Type===c(ae).RADIO?(t(),D(mt,{key:6,modelValue:d.value,"onUpdate:modelValue":u[10]||(u[10]=v=>d.value=v),name:s.name||"",hint:l.value.Hint,label:l.value.Label,disabled:c($)||!1,"persistent-hint":c(m),"error-messages":b.value,rules:[g.value.required],onChange:C},{default:n(()=>[(t(!0),q(J,null,le(l.value.Values,v=>(t(),D(vt,{key:v.Value,label:v.Title,value:v.Value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","name","hint","label","disabled","persistent-hint","error-messages","rules"])):l.value.Type===c(ae).ACCOMMODATION?(t(),D(Nl,{key:7,modelValue:r.value,"onUpdate:modelValue":u[11]||(u[11]=v=>r.value=v),name:s.name,admin:c(O),convention:s.convention,"registration-group":s.registrationGroup,data:s.field.Data,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:c($)||!1,"persistent-hint":c(m),"error-messages":b.value,required:c(S),onChange:C},null,8,["modelValue","name","admin","convention","registration-group","data","hint","label","items","disabled","persistent-hint","error-messages","required"])):l.value.Type===c(ae).AGE?(t(),D(et,{key:8,modelValue:d.value,"onUpdate:modelValue":u[12]||(u[12]=v=>d.value=v),name:s.name,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:c($)||!1,"persistent-hint":c(m),"error-messages":b.value,onChange:C},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages"])):l.value.Type===c(ae).BADGE_IMAGE?(t(),D(rt,{key:9,modelValue:d.value,"onUpdate:modelValue":u[13]||(u[13]=v=>d.value=v),name:s.name,field:l.value,registration:(f=s.registrationGroup)==null?void 0:f.Registration,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:c($)||!1,"persistent-hint":c(m),"error-messages":b.value,onChange:C},null,8,["modelValue","name","field","registration","hint","label","items","disabled","persistent-hint","error-messages"])):l.value.Type===c(ae).EXTRAS?(t(),D(Cl,{key:10,modelValue:d.value,"onUpdate:modelValue":u[14]||(u[14]=v=>d.value=v),admin:c(O),convention:s.convention,name:s.name,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:c($)||!1,"persistent-hint":c(m),"error-messages":b.value,required:c(S),onChange:C},null,8,["modelValue","admin","convention","name","hint","label","items","disabled","persistent-hint","error-messages","required"])):l.value.Type===c(ae).INTERESTS?(t(),D(Al,{key:11,modelValue:d.value,"onUpdate:modelValue":u[15]||(u[15]=v=>d.value=v),admin:c(O),convention:s.convention,name:s.name,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:c($)||!1,"persistent-hint":c(m),"error-messages":b.value,required:c(S),onChange:C},null,8,["modelValue","admin","convention","name","hint","label","items","disabled","persistent-hint","error-messages","required"])):l.value.Type===c(ae).TICKET?(t(),D($l,{key:12,modelValue:d.value,"onUpdate:modelValue":u[16]||(u[16]=v=>d.value=v),admin:c(O),convention:s.convention,name:s.name,"registration-group":s.registrationGroup,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:c($)||!1,"persistent-hint":c(m),"error-messages":b.value,required:c(S),onChange:C},null,8,["modelValue","admin","convention","name","registration-group","hint","label","items","disabled","persistent-hint","error-messages","required"])):l.value.Type===c(ae).HTML?(t(),D(wl,{key:13,data:s.field.Data},null,8,["data"])):_("",!0)}}}),ft={key:0,class:"my-2 text-white text-center"},pt={key:1,class:"admin-header my-2 text-white text-center"},ht=["innerHTML"],gt=["innerHTML"],Ft=ve({__name:"FormRenderer",props:te({admin:{type:Boolean},convention:{},data:{},editable:{type:Boolean},preview:{type:Boolean},registrationGroup:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["close"],["update:modelValue"]),setup(a,{emit:T}){const p=T,O=fe(a,"modelValue");Te(O.value.Sections),O.value.Sections.forEach(V=>{V.Fields&&Te(V.Fields)});const $=w(),m=Ul(),S=$e(),b=w(!1),P=w(!1),R=w(!1),y=w(!1),l=w(!1),g=w(!1),L=w(!1),r=w(!1),d=w(!1),C=w(!1),s=w(!1),u=w((()=>{if(a.data!==void 0){const U=ye(a.data);return O.value.Sections.forEach(E=>{E.Fields&&E.Fields.forEach(k=>{const M=a.data.Data.find(Y=>Y.SectionFieldUUID===k.SectionFieldUUID&&Y.SectionFieldUUID==k.SectionFieldUUID);if(M)k.Value=M.Data;else{const Y={ID:0,SubmissionDataUUID:Se(),SubmissionID:a.data.ID,SubmissionUUID:a.data.SubmissionUUID,SectionID:E.ID,SectionUUID:E.SectionUUID,SectionFieldID:k.ID,SectionFieldUUID:k.SectionFieldUUID,Data:k.Value,CreatedAt:"",DeletedAt:"",UpdatedAt:""};U.Data.push(Y),k.Value=""}})}),U}const V={ID:0,SubmissionUUID:Se(),FormID:O.value.ID,FormUUID:O.value.FormUUID,UserID:(m==null?void 0:m.ID)||0,UserUUID:(m==null?void 0:m.UserUUID)||"",Data:[],Status:ul.SUBMISSION_STATUS_OPEN};return V.Data=O.value.Sections.map(U=>U.Fields?U.Fields.map(E=>({ID:0,SubmissionDataUUID:Se(),SubmissionID:V.ID,SubmissionUUID:V.SubmissionUUID,SectionID:U.ID,SectionUUID:U.SectionUUID,SectionFieldID:E.ID,SectionFieldUUID:E.SectionFieldUUID,Data:""})):[]).flat(),V})()),f=(V,U,E)=>{const k=u.value.Data.find(M=>M.SectionUUID===V&&M.SectionFieldUUID===U);k&&(k.Data=E)},v=(V,U,E,k,M)=>V!=null&&V.State.Independent?"/":V&&V.Type===se.FORM_TYPE_REGISTRATION?U&&!U.State.Independent&&(U.State.New||U.State.Edit)?`/register/${a.convention.Slug||a.convention.ConventionUUID}/accommodation`:E&&!E.State.Independent&&(E.State.New||E.State.Edit)?`/register/${a.convention.Slug||a.convention.ConventionUUID}/dealer`:k&&!k.State.Independent&&(k.State.New||k.State.Edit)?`/register/${a.convention.Slug||a.convention.ConventionUUID}/badge`:M&&!M.State.Independent&&(M.State.New||M.State.Edit)?`/register/${a.convention.Slug||a.convention.ConventionUUID}/additional`:"/":V&&V.Type===se.FORM_TYPE_ACCOMMODATION?E&&!E.State.Independent&&(E.State.New||E.State.Edit)?`/register/${a.convention.Slug||a.convention.ConventionUUID}/dealer`:k&&!k.State.Independent&&(k.State.New||k.State.Edit)?`/register/${a.convention.Slug||a.convention.ConventionUUID}/badge`:M&&!M.State.Independent&&(M.State.New||M.State.Edit)?`/register/${a.convention.Slug||a.convention.ConventionUUID}/additional`:"/":V&&V.Type===se.FORM_TYPE_DEALER?k&&!k.State.Independent&&(k.State.New||k.State.Edit)?`/register/${a.convention.Slug||a.convention.ConventionUUID}/badge`:M&&!M.State.Independent&&(M.State.New||M.State.Edit)?`/register/${a.convention.Slug||a.convention.ConventionUUID}/additional`:"/":V&&V.Type===se.FORM_TYPE_BADGE?M&&!M.State.Independent&&(M.State.New||M.State.Edit)?`/register/${a.convention.Slug||a.convention.ConventionUUID}/additional`:"/":(V&&V.Type===se.FORM_TYPE_ADDITIONAL,"/"),H=({callback:V})=>{S.getRegistrationByConvention(a.convention.ConventionUUID).then(U=>{V&&V("Loading"),S.getAvailableConventionForms(a.convention.ConventionUUID).then(E=>{U.Submissions.forEach((Z,o)=>{Z.Form||(U.Submissions[o].Form=E.find(x=>x.FormUUID===Z.FormUUID))});const k=U.Submissions.find(Z=>Z.FormUUID===u.value.FormUUID),M=U.Submissions.find(Z=>{var o;return((o=Z.Form)==null?void 0:o.Type)===se.FORM_TYPE_ACCOMMODATION}),Y=U.Submissions.find(Z=>{var o;return((o=Z.Form)==null?void 0:o.Type)===se.FORM_TYPE_ADDITIONAL}),ue=U.Submissions.find(Z=>{var o;return((o=Z.Form)==null?void 0:o.Type)===se.FORM_TYPE_DEALER}),ie=U.Submissions.find(Z=>{var o;return((o=Z.Form)==null?void 0:o.Type)===se.FORM_TYPE_BADGE}),pe=v(k==null?void 0:k.Form,M==null?void 0:M.Form,ue==null?void 0:ue.Form,ie==null?void 0:ie.Form,Y==null?void 0:Y.Form);xe.push(pe)})})},X=({callback:V})=>{var U;(U=$.value)==null||U.validate().then(E=>{E.valid?S.saveSubmission(u.value).then(k=>{k?setTimeout(()=>{F(k,V,1)},1e3):V&&V("Failed to process request")}).catch(()=>{V&&V("Failed to process request")}):V&&V("Errors in form detected, please review and try again.")})},F=(V,U,E=1)=>{S.checkSubmission(V).then(k=>{if(k)if(k.Ready&&k.Submission){if(b.value=!1,u.value=k.Submission,U&&U("Saved"),a.admin)p("close");else if(k.Forms&&k.Forms.length>0){const M=k.Forms.find(o=>o.FormUUID===u.value.FormUUID),Y=k.Forms.find(o=>o.Type===se.FORM_TYPE_ACCOMMODATION),ue=k.Forms.find(o=>o.Type===se.FORM_TYPE_DEALER),ie=k.Forms.find(o=>o.Type===se.FORM_TYPE_BADGE),pe=k.Forms.find(o=>o.Type===se.FORM_TYPE_ADDITIONAL),Z=v(M,Y,ue,ie,pe);xe.push(Z)}}else{if(E>5&&(b.value=!0),E>10&&(P.value=!0),E>20&&(R.value=!0),E>30&&(y.value=!0),E>40&&(l.value=!0),E>50&&(g.value=!0),E>60&&(L.value=!0),E>70&&(r.value=!0),E>80&&(d.value=!0),E>90&&(C.value=!0),E>100&&(s.value=!0),E>200){U&&(b.value=!1,P.value=!1,R.value=!1,y.value=!1,l.value=!1,g.value=!1,L.value=!1,r.value=!1,d.value=!1,C.value=!1,s.value=!1,U("A problem was encountered during saving, please check form and try again."));return}setTimeout(()=>{F(V,U,E+1)},E<20?1e3*E:2e4)}else U&&(b.value=!1,P.value=!1,R.value=!1,y.value=!1,l.value=!1,g.value=!1,L.value=!1,r.value=!1,d.value=!1,C.value=!1,s.value=!1,U("A problem was encountered during saving, please check form and try again."))}).catch(()=>{U&&(b.value=!1,P.value=!1,R.value=!1,y.value=!1,l.value=!1,g.value=!1,L.value=!1,r.value=!1,d.value=!1,C.value=!1,s.value=!1,U("A problem was encountered during saving, please check form and try again."))})};return(V,U)=>{const E=ol("router-link");return t(),D(dl,null,{default:n(()=>[i(je,{ref_key:"formValidator",ref:$,autocomplete:"off",onSubmit:U[1]||(U[1]=Xe(()=>{},["prevent"]))},{default:n(()=>[O.value.Heading?(t(),q("h1",ft,j(O.value.Heading),1)):_("",!0),V.admin?(t(),q("h2",pt," (Admin Mode) ")):_("",!0),O.value.Description?(t(),q("div",{key:2,class:"my-2 form-description-container pa-5 border rounded-lg text-black",innerHTML:O.value.Description},null,8,ht)):_("",!0),(t(!0),q(J,null,le(O.value.Sections,k=>(t(),D(Il,{key:`section_${O.value.ID}.${k.ID}`,class:"my-4 section-container rounded-lg",elevation:"4"},{default:n(()=>[k.Heading?(t(),D(Dl,{key:0},{default:n(()=>[W(j(k.Heading),1)]),_:2},1024)):_("",!0),k.Description?(t(),D(Tl,{key:1,class:"text-wrap"},{default:n(()=>[K("div",{innerHTML:k.Description},null,8,gt)]),_:2},1024)):_("",!0),k.Fields?(t(),D(kl,{key:2},{default:n(()=>[(t(!0),q(J,null,le(k.Fields,M=>(t(),q(J,{key:`field_${O.value.ID}.${k.ID}.${M.ID}`},[M.Field?(t(),D(z,{key:0},{default:n(()=>[i(G,null,{default:n(()=>[V.editable?(t(),D(Ye,{key:0,name:M.SectionFieldUUID,field:M.Field,modelValue:M.Value,"onUpdate:modelValue":Y=>M.Value=Y,admin:V.admin,convention:V.convention,"registration-group":V.registrationGroup,required:M.Required,"min-length":M.MinLength,"max-length":M.MaxLength,"persistent-hint":!0,onChange:Y=>f(k.SectionUUID,M.SectionFieldUUID,M.Value)},null,8,["name","field","modelValue","onUpdate:modelValue","admin","convention","registration-group","required","min-length","max-length","onChange"])):(t(),D(Ye,{key:1,name:M.SectionFieldUUID,field:M.Field,modelValue:M.Value,"onUpdate:modelValue":Y=>M.Value=Y,admin:V.admin,convention:V.convention,"registration-group":V.registrationGroup,required:M.Required,"min-length":M.MinLength,"max-length":M.MaxLength,"persistent-hint":!0,disabled:"",onChange:Y=>f(k.SectionUUID,M.SectionFieldUUID,M.Value)},null,8,["name","field","modelValue","onUpdate:modelValue","admin","convention","registration-group","required","min-length","max-length","onChange"]))]),_:2},1024)]),_:2},1024)):_("",!0)],64))),128))]),_:2},1024)):_("",!0)]),_:2},1024))),128)),V.preview?_("",!0):(t(),q(J,{key:3},[i(z,null,{default:n(()=>[V.admin?(t(),D(G,{key:1,class:"text-right"},{default:n(()=>[i(Q,{color:"red",onClick:U[0]||(U[0]=k=>p("close"))},{default:n(()=>[W("Cancel")]),_:1})]),_:1})):(t(),D(G,{key:0,class:"text-right"},{default:n(()=>[i(E,{to:{name:"Home"},class:"text-decoration-none text-white"},{default:n(()=>[i(Q,{color:"red"},{default:n(()=>[W("Close")]),_:1})]),_:1})]),_:1})),V.admin||V.editable?(t(),D(G,{key:2,class:"text-left"},{default:n(()=>[i(qe,{onClick:X,type:"submit"})]),_:1})):(t(),D(G,{key:3,class:"text-left"},{default:n(()=>[i(qe,{onClick:H,type:"submit",label:"Next",color:"green"})]),_:1}))]),_:1}),b.value?(t(),D(z,{key:0},{default:n(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:n(()=>[W(" Your request is currently queued for processing. We have received your data, you do not need to resubmit it or refresh. The next page will load once the system has processed your details. Please be patient as this may take a while. ")]),_:1})]),_:1})):_("",!0),P.value?(t(),D(z,{key:1},{default:n(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:n(()=>[W(" Honestly! It really is being handled by our systems, the web browser window will continue, to monitor progress whilst it remains open. ")]),_:1})]),_:1})):_("",!0),R.value?(t(),D(z,{key:2},{default:n(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:n(()=>[W(" There seems to be a bit of Jam, don't worry because we have a fine selection of Jams at breakfast. Keep holding on in there, we'll get you on your way soon. ")]),_:1})]),_:1})):_("",!0),y.value?(t(),D(z,{key:3},{default:n(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:n(()=>[W(" Reticulating splines ")]),_:1})]),_:1})):_("",!0),l.value?(t(),D(z,{key:4},{default:n(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:n(()=>[W(" Downloading more RAM to process your registration. ")]),_:1})]),_:1})):_("",!0),g.value?(t(),D(z,{key:5},{default:n(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:n(()=>[W(" Ever seen a loading screen with a jump scare? ")]),_:1})]),_:1})):_("",!0),L.value?(t(),D(z,{key:6},{default:n(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:n(()=>[W(" We are not liable for any broken screens as a result of waiting. ")]),_:1})]),_:1})):_("",!0),r.value?(t(),D(z,{key:7},{default:n(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:n(()=>[W(" Let's have a race, see if you can inflate a pool toy by mouth before we finish. NB. Inflating your toys in this fashion is not recommended for many reasons. ")]),_:1})]),_:1})):_("",!0),d.value?(t(),D(z,{key:8},{default:n(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:n(()=>[W(" Apparently there were just under 1,000 of you at Scotiacon 2023, so where did the other 4,000 appear from? ")]),_:1})]),_:1})):_("",!0),C.value?(t(),D(z,{key:9},{default:n(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:n(()=>[W(" Jesus titty fucking christ! Why are there so many of you, this is ridiculous. We're still working on your request, please don't panic. ")]),_:1})]),_:1})):_("",!0),s.value?(t(),D(z,{key:10},{default:n(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:n(()=>[W(" We've run out of silly things to say, but if the save button is still spinning then the registration request is still queued for processing. ")]),_:1})]),_:1})):_("",!0)],64))]),_:1},512)]),_:1})}}});export{Gt as F,Ye as _,Xt as a,ae as b,Ft as c,Jt as d,Yt as m,Ge as p,Te as s};
