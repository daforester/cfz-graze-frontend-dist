import{i as de,M as te,N as me,V as Ae,r as S,w as ae,c as Me,n as l,B as q,D as K,y as j,f as i,v as n,F as J,Q as ee,m as ge,q as D,A as _,x as W,C as c,k as be,z as Ge,a0 as ke,P as Oe,E as je,b as Qe,ap as Ze,_ as Ne,p as Ye,d as Xe,a8 as et,a9 as Le,au as tt,u as lt,aM as at,l as nt,aN as Re}from"./index-uf-W6DN6.js";import{F as ne}from"./form-0fJbSFPv.js";import{S as st}from"./submission-WqULzQVB.js";import{u as $e}from"./useModel-mffGx9TW.js";import{s as Ue}from"./index-2XRRB2DS.js";import{V as ce,b as Je,a as re,c as Te,d as ye}from"./VList-oZAXx34_.js";import{V as z,a as G}from"./VRow-eLkatwpR.js";import{V as he}from"./VCheckbox-vR7-FBDw.js";import{a as we,V as xe}from"./VAutocomplete-DZZEIYSr.js";import{T as ot}from"./ticket-hqexX1_U.js";import{b as Ve,V as Q,n as ut,u as Fe,c as it}from"./VContainer-2sy_nEr4.js";import{c as rt}from"./copyToClipboard-aCoRGJiH.js";import{a as dt,l as ve,_ as _e}from"./SaveButton.vue_vue_type_script_setup_true_lang-5rk4mYxD.js";import{u as We}from"./useStoreAPI-r2R3yZ56.js";import{V as qe}from"./forwardRefs-w-N7tpJJ.js";import{a as Ee,V as Ie,m as vt,b as ct}from"./VTextField-ZJGYhGyo.js";import{V as Pe}from"./VTooltip-tRiDkQiz.js";import{V as mt}from"./VFileInput-FO2Jn3rD.js";import{V as Ke}from"./VForm-4asAxsry.js";import{V as ft}from"./VTextarea-NonEK3Vr.js";import{m as pt,a as ze,b as ht,c as gt}from"./VCheckboxBtn-gdpCWtVp.js";import{G as bt}from"./userData-oM0nVGaY.js";import{v as Ce}from"./v4-yQnnJER4.js";import{e as yt,a as Ut,b as It,c as Dt}from"./VCard-t8wSoW0W.js";var le=(a=>(a.ACCOMMODATION="ACCOMMODATION",a.AGE="AGE",a.BADGE_IMAGE="BADGE_IMAGE",a.CHECKBOX="CHECKBOX",a.DATE="DATE",a.EXTRAS="EXTRAS",a.HTML="HTML",a.INTERESTS="INTERESTS",a.RADIO="RADIO",a.SELECT="SELECT",a.TEXT="TEXT",a.TEXTAREA="TEXTAREA",a.TICKET="TICKET",a.NUMBER="NUMBER",a))(le||{});const Hl=[{title:"Accommodation",value:"ACCOMMODATION"},{title:"Additional Purchase",value:"EXTRAS"},{title:"Age Check",value:"AGE"},{title:"Badge Image",value:"BADGE_IMAGE"},{title:"Button",value:"RADIO"},{title:"Checkbox",value:"CHECKBOX"},{title:"Date",value:"DATE"},{title:"Dropdown",value:"SELECT"},{title:"HTML",value:"HTML"},{title:"Interests",value:"INTERESTS"},{title:"Text",value:"TEXT"},{title:"Textarea",value:"TEXTAREA"},{title:"Ticket",value:"TICKET"},{title:"Number",value:"NUMBER"}],De=a=>{a.sort((T,p)=>(T.Order?T.Order:0)-(p.Order?p.Order:0)),a.forEach((T,p)=>{T.Order=p})},Gl=(a,T)=>{const p=T.indexOf(a);if(p===0)return;const L=a.Order;a.Order=T[p-1].Order,T[p-1].Order=L,De(T)},Yl=(a,T)=>{const p=T.indexOf(a);if(p>=T.length-1)return;const L=a.Order;a.Order=T[p+1].Order,T[p+1].Order=L,De(T)},Tt={class:"extrasList"},kt=de({__name:"Extras",props:te({admin:{type:Boolean},convention:{},disabled:{type:Boolean},hint:{},label:{},name:{},items:{},persistentHint:{type:Boolean},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change"],["update:modelValue"]),setup(a,{emit:T}){const p=a,{admin:L=!1,convention:O,disabled:m=!1}=p,w=me(a,"modelValue"),b=T,P=Ae.getInstance(),R=S({});try{R.value=JSON.parse(w.value)}catch{}const y=S([]),t=S([]);ae(p,()=>{$()}),ae(R.value,d=>{for(const C in d)if(d[C].checked){const s=y.value.map(u=>{var f;return(f=u.Options)==null?void 0:f.find(v=>v.OptionUUID===C)});if(s&&s.length>0)try{const u=s[0];d[C].choiceId===""&&u&&u.Choices&&u.Choices.length>0&&(d[C].choiceId=u.Choices[0].TagUUID),d[C].price=u==null?void 0:u.Price}catch{}}else d[C].choiceId="",d[C].price=0;w.value=JSON.stringify(d),r()});const g=Me({get:()=>y.value.map(d=>d.ExtraUUID),set:()=>{}}),$=()=>{var C;const d=((C=p.items.find(s=>s.Title==="SelectedExtras"))==null?void 0:C.Value)||"[]";try{const s=JSON.parse(d);y.value=t.value.filter(u=>s.find(f=>f===u.ExtraUUID))||[],g.value=[...y.value.map(u=>u.ExtraUUID)],y.value.forEach(u=>{var f;(f=u.Options)==null||f.forEach(v=>{R.value[v.OptionUUID]||(R.value[v.OptionUUID]={choiceId:"",checked:!1})})})}catch{}};"Extras"in O&&O.Extras.length?(t.value=O.Extras,$()):"ConventionUUID"in O&&(L?P==null||P.getConventionExtras(O.ConventionUUID).then(d=>{d&&(t.value=d,$())}):P==null||P.getAvailableConventionExtras(O.ConventionUUID).then(d=>{d&&(t.value=d,$())}));const r=(d=void 0)=>{setTimeout(()=>b("change",d),100)};return(d,C)=>(l(),q("div",Tt,[K("h4",null,j(d.label),1),i(ce,{opened:g.value,"onUpdate:opened":C[0]||(C[0]=s=>g.value=s)},{default:n(()=>[(l(!0),q(J,null,ee(y.value,s=>(l(),D(Je,{key:s.ExtraUUID,value:s.ExtraUUID},{activator:n(({props:u})=>[i(re,ge({"prepend-icon":"mdi:mdi-group","append-icon":""},u),{default:n(()=>[s.Name?(l(),D(Te,{key:0},{default:n(()=>[K("strong",null,j(s.Name),1)]),_:2},1024)):_("",!0),s.Description?(l(),D(ye,{key:1,class:"mt-2 d-inline"},{default:n(()=>[W(j(s.Description),1)]),_:2},1024)):_("",!0)]),_:2},1040)]),default:n(()=>[s.Options?(l(!0),q(J,{key:0},ee(s.Options,u=>(l(),D(re,{key:u.OptionUUID,class:"override-pl"},{default:n(()=>[i(z,null,{default:n(()=>[i(G,{cols:"12",sm:"6"},{default:n(()=>[i(he,{label:`${u.Name} ${u.Price&&u.Price!==0?`(${c(Ue).currencySymbol}${u.Price})`:""}`,modelValue:R.value[u.OptionUUID].checked,"onUpdate:modelValue":f=>R.value[u.OptionUUID].checked=f,disabled:c(m),"hide-details":"",onChange:r},null,8,["label","modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),u.Choices&&u.Choices.length>1&&R.value[u.OptionUUID].checked?(l(),D(G,{key:0,cols:"12",sm:"6"},{default:n(()=>[i(we,{items:u.Choices.sort((f,v)=>f.Title.localeCompare(v.Title)).map(f=>({value:f.TagUUID,title:f.Title})),modelValue:R.value[u.OptionUUID].choiceId,"onUpdate:modelValue":f=>R.value[u.OptionUUID].choiceId=f,"item-value":"value","item-title":"title",variant:"outlined",disabled:c(m),"hide-details":"",onChange:r},null,8,["items","modelValue","onUpdate:modelValue","disabled"])]),_:2},1024)):_("",!0)]),_:2},1024)]),_:2},1024))),128)):_("",!0)]),_:2},1032,["value"]))),128))]),_:1},8,["opened"])]))}}),Vt=["innerHTML"],Ct=de({__name:"HTML",props:{data:{}},setup(a){const T=a,p=S({html:""}),L=()=>{try{const O=JSON.parse(T.data);O&&(p.value=O)}catch{}};return L(),ae(T,()=>{L()}),(O,m)=>(l(),q("div",{innerHTML:p.value.html},null,8,Vt))}}),St={class:"interestList"},wt=de({__name:"Interests",props:te({admin:{type:Boolean},convention:{},disabled:{type:Boolean},hint:{},label:{},name:{},items:{},persistentHint:{type:Boolean},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change"],["update:modelValue"]),setup(a,{emit:T}){const p=a,{admin:L=!1,convention:O,disabled:m=!1}=p,w=me(a,"modelValue"),b=T,P=Ae.getInstance(),R=S({});try{R.value=JSON.parse(w.value)}catch{}const y=S([]),t=S([]);ae(R.value,d=>{w.value=JSON.stringify(d)});const g=S([]),$=()=>{var C;const d=((C=p.items.find(s=>s.Title==="SelectedInterests"))==null?void 0:C.Value)||"[]";try{const s=JSON.parse(d);y.value=t.value.filter(u=>s.find(f=>f===u.InterestUUID))||[],g.value=[...y.value.map(u=>u.InterestUUID)]}catch{}};"ConventionUUID"in O&&(L?P==null||P.getConventionInterests(O.ConventionUUID).then(d=>{d&&(t.value=d,$())}):P==null||P.getConventionInterests(O.ConventionUUID).then(d=>{d&&(t.value=d,$())})),ae(p,()=>{$()});const r=(d=void 0)=>{setTimeout(()=>b("change",d),100)};return(d,C)=>(l(),q("div",St,[K("h4",null,j(d.label),1),i(ce,{opened:g.value,"onUpdate:opened":C[0]||(C[0]=s=>g.value=s)},{default:n(()=>[(l(!0),q(J,null,ee(y.value.sort((s,u)=>s.Order>u.Order?1:s.Order==u.Order?0:-1),s=>(l(),D(re,{key:s.InterestUUID},{default:n(()=>[i(z,null,{default:n(()=>[i(G,null,{default:n(()=>[i(he,{label:`${s.Name} ${s.Price&&s.Price>0?`(${c(Ue).currencySymbol}${s.Price})`:""}`,modelValue:R.value[s.InterestUUID],"onUpdate:modelValue":u=>R.value[s.InterestUUID]=u,disabled:c(m),messages:s.Description,onChange:r},null,8,["label","modelValue","onUpdate:modelValue","disabled","messages"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["opened"])]))}}),Be=(a,T,p)=>{if(p>=a.length){let L=p-a.length+1;for(;L--;)a.push(void 0)}a.splice(p,0,a.splice(T,1)[0])},Se=a=>(De(a),a),Xl=a=>(T,p)=>T[a]<p[a]?-1:T[a]>p[a]?1:0,Et={class:"ticketList"},At={key:0,class:"text-orange-darken-1"},Mt=de({__name:"Tickets",props:te({admin:{type:Boolean},convention:{},disabled:{type:Boolean},hint:{},label:{},name:{},items:{},persistentHint:{type:Boolean},registrationGroup:{},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change"],["update:modelValue"]),setup(a,{emit:T}){const p=a,{admin:L=!1,convention:O,disabled:m=!1,registrationGroup:w=void 0}=p,b=me(a,"modelValue"),P=T,R=Ae.getInstance(),y=S({Ticket:[],AddonsChecked:[],ComponentsChecked:[]});try{y.value=JSON.parse(b.value),"ticket"in y.value&&(y.value.Ticket=y.value.ticket),"addonsChecked"in y.value&&(y.value.AddonsChecked=y.value.addonsChecked),"componentsChecked"in y.value&&(y.value.ComponentsChecked=y.value.componentsChecked)}catch{}const t=S([]),g=S([]),$=S([]),r=S({required:(f,v=void 0)=>()=>{if(m||!(w!=null&&w.Registration.Leader))return!0;if(v==null){if(y.value.Ticket.length===0&&p.required)return"Must select at least one ticket option.";if(f&&f.ComponentsRequired>0&&y.value.Ticket.includes(f.TicketUUID||"")){let H=0;if(f.TicketComponents.forEach(X=>{y.value.ComponentsChecked.forEach(F=>{X.TicketUUID===F&&(H+=1)})}),H<f.ComponentsRequired)return`Must select ticket ${f.ComponentsRequired} component${f.ComponentsRequired===1?"":"s"}`}}return!0}}),d=()=>{var v;const f=((v=p.items.find(H=>H.Title==="SelectedTickets"))==null?void 0:v.Value)||"[]";try{const H=JSON.parse(f);t.value=g.value.filter(X=>X.Type==="TICKET_TYPE_GROUP"&&H.find(F=>F===X.TicketUUID))||[],$.value=[...t.value.filter(X=>X.Type==="TICKET_TYPE_GROUP").map(X=>X.TicketUUID)]}catch{}};if("ConventionUUID"in O)if(L)R==null||R.getConventionTickets(O.ConventionUUID).then(f=>{f&&(g.value=f,d())});else{const f=p.items.find(v=>v.Title==="SelectedTickets");f&&(R==null||R.getFieldTickets(f.FieldUUID).then(v=>{v&&(g.value=v,d())}))}ae(p,()=>{d()});const C=f=>{y.value.Ticket.length>1&&y.value.Ticket.shift(),y.value.ComponentsChecked=[];const v=[];t.value.forEach(H=>{(y.value.Ticket.includes(H.TicketUUID)||y.value.ComponentsChecked.includes(H.TicketUUID))&&v.push(...H.AddonTickets.map(X=>X.TicketUUID))}),y.value.AddonsChecked=y.value.AddonsChecked.filter(H=>v.includes(H)),u(f)},s=f=>{const v=g.value.find(H=>H.TicketUUID===y.value.Ticket[0]);if(v)for(;y.value.ComponentsChecked.length>v.ComponentsRequired;)y.value.ComponentsChecked.shift();u(f)},u=(f=void 0)=>{b.value=JSON.stringify(y.value),setTimeout(()=>P("change",f),100)};try{w!=null&&w.TicketData&&(y.value=JSON.parse(w.TicketData),"ticket"in y.value&&(y.value.Ticket=y.value.ticket),"addonsChecked"in y.value&&(y.value.AddonsChecked=y.value.addonsChecked),"componentsChecked"in y.value&&(y.value.ComponentsChecked=y.value.componentsChecked),u())}catch{}return(f,v)=>{var H;return l(),q("div",Et,[K("h4",null,[W(j(f.label)+" ",1),(H=c(w))!=null&&H.Registration.Leader?_("",!0):(l(),q("small",At,"(controlled by group leader)"))]),i(ce,{opened:$.value,"onUpdate:opened":v[4]||(v[4]=X=>$.value=X)},{default:n(()=>[(l(!0),q(J,null,ee(c(Se)(t.value.filter(X=>X.Type===c(ot).TICKET_TYPE_GROUP)),X=>(l(),q(J,{key:X.TicketUUID},[X.Tickets.length>0?(l(),D(Je,{key:0,value:X.TicketUUID},{activator:n(({props:F})=>[i(re,ge(F,{"prepend-icon":"mdi:mdi-group"}),{default:n(()=>[i(Te,null,{default:n(()=>[K("strong",null,j(X.Name),1)]),_:2},1024),i(ye,{class:"d-inline"},{default:n(()=>[W(j(X.Description),1)]),_:2},1024)]),_:2},1040)]),default:n(()=>[(l(!0),q(J,null,ee(X.Tickets,F=>(l(),D(re,{key:F.TicketUUID,class:"override-pl"},{default:n(()=>{var V;return[i(ye,{class:"d-inline"},{default:n(()=>[W(j(F.Description),1)]),_:2},1024),i(he,{modelValue:y.value.Ticket,"onUpdate:modelValue":v[0]||(v[0]=U=>y.value.Ticket=U),value:F.TicketUUID,onChange:C,rules:[r.value.required(F)],"validate-on":"submit",disabled:c(m)||!((V=c(w))!=null&&V.Registration.Leader)},{label:n(()=>[i(Ve,{icon:F.RequiresAccommodation?"mdi:mdi-home":F.ComponentsRequired>0?"mdi:mdi-ticket-confirmation":"mdi:mdi-ticket",class:"mx-2"},null,8,["icon"]),W(" "+j(`${F.Name} ${F.Price>0?`(${c(Ue).currencySymbol}${F.Price})`:""}`),1)]),_:2},1032,["modelValue","value","rules","disabled"]),y.value.Ticket.length>0&&F.TicketUUID===y.value.Ticket[0]?(l(),q(J,{key:0},[F.AddonTickets.length?(l(),D(ce,{key:0},{default:n(()=>[(l(!0),q(J,null,ee(c(Se)(F.AddonTickets),U=>(l(),q(J,{key:U==null?void 0:U.TicketUUID},[U?(l(),D(re,{key:0},{default:n(()=>[i(Te,null,{default:n(()=>{var E;return[i(he,{modelValue:y.value.AddonsChecked,"onUpdate:modelValue":v[1]||(v[1]=k=>y.value.AddonsChecked=k),value:U.TicketUUID,onChange:v[2]||(v[2]=k=>{y.value.ComponentsChecked=[],u(k)}),disabled:c(m)||!((E=c(w))!=null&&E.Registration.Leader)},{label:n(()=>[i(Ve,{icon:U.RequiresAccommodation?"mdi:mdi-home-plus":U.ComponentsRequired>0?"mdi:mdi-ticket-confirmation":"mdi:mdi-ticket",class:"mx-2"},null,8,["icon"]),W(" "+j(`${U.Name} ${U.Price>0?`(${c(Ue).currencySymbol}${U.Price})`:""}`),1)]),_:2},1032,["modelValue","value","disabled"])]}),_:2},1024),i(ye,{class:"d-inline"},{default:n(()=>[W(j(U.Description),1)]),_:2},1024)]),_:2},1024)):_("",!0)],64))),128))]),_:2},1024)):_("",!0),F.TicketComponents.length?(l(),D(ce,{key:1},{default:n(()=>[(l(!0),q(J,null,ee(c(Se)(F.TicketComponents),U=>(l(),q(J,{key:U==null?void 0:U.TicketUUID},[U?(l(),D(re,{key:0},{default:n(()=>[i(Te,null,{default:n(()=>{var E;return[i(he,{modelValue:y.value.ComponentsChecked,"onUpdate:modelValue":v[3]||(v[3]=k=>y.value.ComponentsChecked=k),value:U.TicketUUID,onChange:s,rules:[r.value.required(F,U)],"validate-on":"submit",disabled:c(m)||!((E=c(w))!=null&&E.Registration.Leader)},{label:n(()=>[i(Ve,{icon:U.RequiresAccommodation?"mdi:mdi-home-plus":U.ComponentsRequired>0?"mdi:mdi-ticket-confirmation":"mdi:mdi-ticket",class:"mx-2"},null,8,["icon"]),W(" "+j(`${U.Name} ${U.Price>0?`(${c(Ue).currencySymbol}${U.Price})`:""}`),1)]),_:2},1032,["modelValue","value","rules","disabled"])]}),_:2},1024),i(ye,null,{default:n(()=>[W(j(U.Description),1)]),_:2},1024)]),_:2},1024)):_("",!0)],64))),128))]),_:2},1024)):_("",!0)],64)):_("",!0)]}),_:2},1024))),128))]),_:2},1032,["value"])):_("",!0)],64))),128))]),_:1},8,["opened"])])}}}),Ot={key:0},$t=K("strong",null,"Your Sharing Group",-1),Lt={class:"d-flex flex-wrap my-2"},Rt=K("dt",{class:"v-col-12 v-col-sm-2 v-col-md-1 font-weight-bold pa-1 pt-4"}," Leader: ",-1),xt={class:"v-col-12 v-col-sm-10 v-col-md-11 pa-1 align-content-center"},_t={class:"d-inline-block position-relative ml-4",style:{top:"-5px"}},qt=K("dt",{class:"v-col-12 v-col-sm-2 v-col-md-1 pa-1 pt-4"}," Member: ",-1),Pt={class:"v-col-12 v-col-sm-10 v-col-md-11 pa-1"},Bt={class:"d-inline-block position-relative ml-4",style:{top:"-5px"}},Ht=["href"],Gt=K("br",null,null,-1),Yt=K("small",null,"Link will be copied to clipboard for you to paste (ctrl+v) in to message or email",-1),Xt=K("strong",null,"Your Groups Accommodation",-1),Jt=K("br",null,null,-1),Ft=K("small",null,"(in order of preference, controlled by group leader)",-1),Wt=K("strong",null,"Accommodation Options",-1),Kt=K("br",null,null,-1),zt=K("strong",null,"Your Chosen Accommodation",-1),jt=K("small",null,"(in order of preference)",-1),Qt=de({__name:"Accommodation",props:te({admin:{type:Boolean},convention:{},data:{},disabled:{type:Boolean},hint:{},items:{},label:{},name:{},persistentHint:{type:Boolean},registrationGroup:{},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change","update:items"],["update:modelValue"]),setup(a,{emit:T}){const p=a,{admin:L=!1,convention:O,disabled:m}=p,w=T,b=me(a,"modelValue"),P=$e(p,w,void 0,void 0,"items"),R=Oe(),y=We(),t=je.getInstance(),g=S(be(b.value)),$=S([]),r=S(),d=S({sharing:!1}),C=()=>{try{const o=JSON.parse(p.data);o&&(d.value=o)}catch{}};C(),ae(p,()=>{C(),p.registrationGroup&&($.value=p.registrationGroup.Members,r.value=p.registrationGroup.Registration)}),ae(g,o=>{b.value=be(o)},{deep:!0});const s=S(""),u=S(!1),f=()=>{var o;(o=r.value)!=null&&o.Leader&&R.getRegistrationInvite(O.ConventionUUID).then(x=>{if(x){const se=new URL(location.href);se.searchParams.set("token",x),s.value=se.toString()}})},v=()=>{rt(s.value),f(),u.value=!0,setTimeout(()=>u.value=!1,2200)},H=(o=void 0)=>{setTimeout(()=>w("change",o),100)},X=S({required:o=>!p.required||o.length>0||"Selections Required"}),F=o=>o?`${o.Reference?`#${o.Reference}`:"(not registered)"} ${o.Name}`:"",V=()=>{var o;t.emit("registration.group.leave",(o=r.value)==null?void 0:o.RegistrationUUID)},U=o=>{t.emit("registration.group.remove.member",o)},E=S([]);ae(P,()=>{k()});const k=()=>{L?R.getConventionAccommodation(O.ConventionUUID).then(o=>{E.value=o.filter(x=>!!(P!=null&&P.value.find(se=>se.Value===x.AccommodationUUID)))||[]}):P.value.length>0&&R.getFieldAccommodation(P.value[0].FieldUUID).then(o=>{E.value=o.filter(x=>!!(P!=null&&P.value.find(se=>se.Value===x.AccommodationUUID)))||[]})};k(),(()=>{var o;if(p.registrationGroup)if($.value=p.registrationGroup.Members,r.value=p.registrationGroup.Registration,(o=r.value)!=null&&o.Leader)f();else try{g.value=JSON.parse(p.registrationGroup.AccommodationData),H()}catch{}})();const Y=S({column:0,id:""}),oe=()=>{!m&&!g.value.includes(Y.value.id)&&(Y.value.column===0&&Y.value.id!==""&&g.value.push(Y.value.id),H())},ue=()=>{const o=g.value.findIndex(x=>x===Y.value.id);!m&&o>=0&&(g.value.splice(o,1),H())},fe=()=>{if(m||Y.value.column!==1)return;const o=g.value.findIndex(x=>x===Y.value.id);o<=0||(Be(g.value,o,o-1),H())},Z=()=>{if(m||Y.value.column!==1)return;const o=g.value.findIndex(x=>x===Y.value.id);o>=g.value.length-1||(Be(g.value,o,o+1),H())};return(o,x)=>{var se;return l(),q(J,null,[K("h4",null,j(o.label),1),i(z,null,{default:n(()=>[i(G,{cols:"12"},{default:n(()=>{var B,N;return[$.value&&r.value&&d.value.sharing?(l(),q("div",Ot,[$t,!c(m)&&((B=$.value.find(e=>e.IsLeader))==null?void 0:B.UUID)!==r.value.RegistrationUUID?(l(),D(Q,{key:0,color:"red",variant:"text",onClick:V},{default:n(()=>[W("(leave group)")]),_:1})):_("",!0),K("dl",Lt,[Rt,K("dd",xt,[i(qe,{class:"rounded-circle d-inline-block",src:c(y).GetProfileImageURL(((N=$.value.find(e=>e.IsLeader))==null?void 0:N.UserUUID)||""),height:"32",width:"32"},null,8,["src"]),K("div",_t,j(F($.value.find(e=>e.IsLeader))),1)]),(l(!0),q(J,null,ee($.value,e=>(l(),q(J,{key:e.UUID},[e.IsLeader?_("",!0):(l(),q(J,{key:0},[qt,K("dd",Pt,[i(qe,{class:"rounded-circle d-inline-block",src:c(y).GetProfileImageURL(e.UserUUID),height:"32",width:"32"},null,8,["src"]),K("div",Bt,[W(j(F(e))+" ",1),r.value.Leader?(l(),D(Q,{key:0,variant:"text",class:"ml-4",icon:"mdi:mdi-close-circle",color:"red",size:"xs",title:"Remove Member",onClick:A=>U(e.UUID),disabled:c(m)},null,8,["onClick","disabled"])):_("",!0)])])],64))],64))),128))]),i(dt,{modelValue:u.value,"onUpdate:modelValue":x[0]||(x[0]=e=>u.value=e),message:"Invite Link Copied",timeout:2e3},null,8,["modelValue"]),s.value&&r.value.Leader&&!c(m)?(l(),q(J,{key:1},[K("a",{href:s.value,onClick:Ge(v,["prevent"]),class:"text-white text-decoration-none"},[i(Q,{color:"blue",class:"mb-2"},{default:n(()=>[W("Get Invite Link")]),_:1})],8,Ht),Gt,Yt],64)):_("",!0)])):_("",!0)]}),_:1})]),_:1}),r.value&&!r.value.Leader?(l(),D(z,{key:0},{default:n(()=>[i(G,{cols:"10",md:"5"},{default:n(()=>[Xt,Jt,Ft,i(ce,null,{default:n(()=>[(l(!0),q(J,null,ee(g.value.map(B=>E.value.find(N=>N.AccommodationUUID==B)).filter(B=>B!==void 0),(B,N)=>(l(),q(J,null,[B?(l(),D(re,{key:B.AccommodationUUID,title:`${N+1}. ${B.Name}`,class:ke(Y.value.column===1&&Y.value.id===B.AccommodationUUID?"bg-blue-accent-3":"border-dashed border")},null,8,["title","class"])):_("",!0)],64))),256))]),_:1})]),_:1})]),_:1})):(l(),D(z,{key:1},{default:n(()=>[i(G,{cols:"12",md:"5"},{default:n(()=>[Wt,Kt,i(ce,null,{default:n(()=>[(l(!0),q(J,null,ee(E.value,B=>(l(),D(re,{key:B.AccommodationUUID,title:B.Name,class:ke(Y.value.column===0&&Y.value.id===B.AccommodationUUID?"bg-blue-accent-3":"border-dashed border"),onClick:N=>Y.value={column:0,id:B.AccommodationUUID},"append-icon":c(m)?"":"mdi:mdi-gesture-tap",onDblclick:x[1]||(x[1]=N=>oe())},null,8,["title","class","onClick","append-icon"]))),128))]),_:1})]),_:1}),c(m)?_("",!0):(l(),D(G,{key:0,cols:"12",md:"1"},{default:n(()=>[i(z,{class:"d-md-none"},{default:n(()=>[i(G,{cols:"12",class:"text-center"},{default:n(()=>[i(Q,{icon:"mdi:mdi-arrow-down",size:"small",onClick:x[2]||(x[2]=B=>oe()),color:"primary",title:"Select"}),W(" Â  "),i(Q,{icon:"mdi:mdi-arrow-up",size:"small",onClick:x[3]||(x[3]=B=>ue()),color:"secondary",title:"Remove"})]),_:1})]),_:1}),i(z,{class:"d-none d-md-flex h-100 align-content-center"},{default:n(()=>[i(G,{cols:"12"},{default:n(()=>[i(Q,{icon:"mdi:mdi-arrow-right",size:"small",onClick:x[4]||(x[4]=B=>oe()),color:"primary",title:"Select"})]),_:1}),i(G,{cols:"12"},{default:n(()=>[i(Q,{icon:"mdi:mdi-arrow-left",size:"small",onClick:x[5]||(x[5]=B=>ue()),color:"secondary",title:"Remove"})]),_:1})]),_:1})]),_:1})),i(G,{cols:"10",md:"5"},{default:n(()=>[zt,i(ce,null,{default:n(()=>[(l(!0),q(J,null,ee(g.value.map(B=>E.value.find(N=>N.AccommodationUUID==B)).filter(B=>B!==void 0),(B,N)=>(l(),q(J,null,[B?(l(),D(re,{key:B.AccommodationUUID,title:`${N+1}. ${B.Name}`,class:ke(Y.value.column===1&&Y.value.id===B.AccommodationUUID?"bg-blue-accent-3":"border-dashed border"),onClick:e=>Y.value={column:1,id:(B==null?void 0:B.AccommodationUUID)||""},"append-icon":c(m)?"":"mdi:mdi-gesture-tap",onDblclick:x[6]||(x[6]=e=>ue())},null,8,["title","class","onClick","append-icon"])):_("",!0)],64))),256))]),_:1}),jt]),_:1}),c(m)?_("",!0):(l(),D(G,{key:1,cols:"2",md:"1"},{default:n(()=>[i(z,{class:"d-flex h-100 align-content-center mt-3"},{default:n(()=>[i(G,{cols:"12"},{default:n(()=>[i(Q,{icon:"mdi:mdi-arrow-up",size:"small",onClick:x[7]||(x[7]=B=>fe()),color:"primary",title:"Higher Priority"})]),_:1}),i(G,{cols:"12"},{default:n(()=>[i(Q,{icon:"mdi:mdi-arrow-down",size:"small",onClick:x[8]||(x[8]=B=>Z()),color:"secondary",title:"Lower Priority"})]),_:1})]),_:1})]),_:1}))]),_:1})),(se=r.value)!=null&&se.Leader?(l(),D(Ee,{key:2,modelValue:b.value,"onUpdate:modelValue":x[9]||(x[9]=B=>b.value=B),disabled:c(m)||!1,"persistent-hint":o.persistentHint||!1,"error-messages":o.errorMessages||"",rules:[X.value.required],class:"accommodation-field-warning"},null,8,["modelValue","disabled","persistent-hint","error-messages","rules"])):_("",!0)],64)}}}),Zt=de({__name:"AgeCheck",props:te({disabled:{type:Boolean},hint:{},label:{},name:{},items:{},persistentHint:{type:Boolean},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["blur","change","update:items"],["update:modelValue"]),setup(a,{emit:T}){const p=T,L=a,O=$e(L,p,void 0,void 0,"items"),m=me(a,"modelValue"),w=S({required:t=>!L.required||!!t||"Required.",min:t=>{var f,v;const g=new Date,$=g.getFullYear(),r=(g.getMonth()+1).toLocaleString("en-US",{minimumIntegerDigits:2}),d=g.getDate().toLocaleString("en-US",{minimumIntegerDigits:2}),C=((f=O.value.find(H=>H.Title=="MIN_AGE"))==null?void 0:f.Value)||"18",s=((v=O.value.find(H=>H.Title=="BEFORE_DATE"))==null?void 0:v.Value)||`${$}-${r}-${d}`,u=R(s);return P(t,s,parseInt(C))||`You must be at least ${C} years old by ${u.toLocaleDateString(navigator.language,{timeZone:"UTC"})}.`}}),b=()=>(p("blur"),!(w.value.min(m.value||"")!==!0||w.value.required(m.value||"")!==!0)),P=(t,g,$)=>{if(t>=g)return!1;const r=R(t),C=R(g).getTime()-r.getTime(),s=1e3*60*60*24*365.25;return C/s>=$},R=t=>{const[g,$,r]=t.split("-");return new Date(parseInt(g),parseInt($)-1,parseInt(r))},y=(t=void 0)=>{setTimeout(()=>p("change",t),100)};return(t,g)=>(l(),D(Ie,{modelValue:m.value,"onUpdate:modelValue":g[0]||(g[0]=$=>m.value=$),type:"date",hint:t.hint||"",label:t.label||"",name:t.name||"",variant:"outlined",disabled:t.disabled||!1,"persistent-hint":t.persistentHint||!1,"error-messages":t.errorMessages||"",rules:[w.value.required,w.value.min],onBlur:b,onChange:y},null,8,["modelValue","hint","label","name","disabled","persistent-hint","error-messages","rules"]))}});function Nt(a){const T=JSON.parse(a),p={charge:0,free:0,height:0,label:!1,maximum:0,tags:[],width:0};return T&&(T.charge&&ve.isNumber(T.charge)&&(p.charge=T.charge),T.free&&ve.isNumber(T.free)&&(p.free=T.free),T.height&&ve.isNumber(T.height)&&(p.height=T.height),T.label&&ve.isBoolean(T.label)&&(p.label=T.label),T.maximum&&ve.isNumber(T.maximum)&&(p.maximum=T.maximum),T.tags&&Array.isArray(T.tags)&&(p.tags=T.tags),T.width&&ve.isNumber(T.width)&&(p.width=T.width)),p}const el={class:"text-center"},tl={key:0},ll={key:0,class:"image-progress my-auto mx-auto"},al=["onMousemove","onMousedown","onMouseup","onTouchstart","onTouchmove","onTouchend"],nl=["src","onLoad","onDragstart","onKeydown","onKeyup"],sl={key:0},ol={key:1},ul=de({__name:"BadgeImage",props:te({disabled:{type:Boolean},hint:{},field:{},label:{},name:{},items:{},persistentHint:{type:Boolean},registration:{},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["blur","change","update:items"],["update:modelValue"]),setup(a,{emit:T}){const p=T,L=a,O=me(a,"modelValue"),m=S([]),w=S({charge:0,free:0,height:0,label:!1,maximum:0,tags:[],width:0}),b=S(1),P=Oe(),R=We(),y=S([]),t=S(""),g=S([]),$=S(),r=S([]),d=S([]),C=S([]),s=S(0),u=S(),f=S({imageNo:0,imageX:0,imageY:0,mouseDown:!1,mouseX:0,mouseY:0}),v=S(280),H=S(280),X=e=>{e+1>r.value.length||r.value[e]&&(m.value[e].left=parseInt(getComputedStyle(r.value[e]).left),m.value[e].top=parseInt(getComputedStyle(r.value[e]).top),m.value[e].height=r.value[e].height,m.value[e].width=r.value[e].width,O.value=JSON.stringify(m.value))},F=Me(()=>({"--preview-width":`${H.value}px`,"--preview-height":`${v.value}px`})),V=S([!1]);try{m.value=JSON.parse(O.value||"[]"),ve.isArray(m.value)||(ve.isObject(m.value)?m.value=[m.value]:m.value=[]),m.value.forEach((e,A)=>{e.fileUUID&&(d.value[A]=R.GetBadgeImageURL(e.fileUUID))}),b.value=m.value.length,b.value===0&&w.value.maximum===1&&(b.value=1)}catch{}L.registration&&P.getConBadgeDisplayName(L.registration.RegistrationUUID).then(e=>{e&&(t.value=e)}).catch(()=>{});const U=(e,A)=>{r.value[e]=A},E=e=>{var A;try{e.field&&"Data"in e.field&&(w.value=Nt(((A=e.field)==null?void 0:A.Data)||"")),w.value.height&&(v.value=w.value.height),w.value.width&&(H.value=w.value.width)}catch{}k()},k=()=>{if(b.value>m.value.length)for(let e=0;e<b.value-m.value.length;e+=1)m.value.push({fileUUID:"",height:0,label:"",left:0,top:0,width:0});else b.value<m.value.length&&b.value>=0&&(m.value=m.value.slice(0,b.value));if(b.value>g.value.length){const e=g.value.length;for(let A=0;A<b.value-e;A+=1)g.value.push(!0)}else b.value<g.value.length&&b.value>=0&&(g.value=g.value.slice(0,b.value));if(b.value>d.value.length){const e=d.value.length;for(let A=0;A<b.value-e;A+=1)d.value.push("")}else b.value<d.value.length&&b.value>=0&&(d.value=d.value.slice(0,b.value));if(b.value>C.value.length){const e=C.value.length;for(let A=0;A<b.value-e;A+=1)C.value.push(!1)}else b.value<C.value.length&&b.value>=0&&(C.value=C.value.slice(0,b.value));if(b.value>V.value.length){const e=V.value.length;for(let A=0;A<b.value-e;A+=1)V.value.push(!1)}else b.value<V.value.length&&b.value>=0&&(V.value=V.value.slice(0,b.value));O.value=JSON.stringify(m.value)};ae(L,e=>{E(e)}),E(L),ae(b,()=>{k()});const M=S({required:e=>!L.required||!!e||"Required.",saved:e=>!g.value[e]||"File not uploaded."}),Y=()=>(p("blur"),M.value.required(O.value||"")!==!0),oe=(e,A=void 0)=>{m.value[e].top=0,m.value[e].left=0,m.value[e].width=0,m.value[e].height=0,fe(e).then(()=>{setTimeout(()=>{ue(e)},100),setTimeout(()=>p("change",A),200)}).catch(()=>{})},ue=e=>{$.value[e].files.length>0&&(d.value[e]=URL.createObjectURL($.value[e].files[0]))},fe=async e=>{if(!y.value[e])return;const A=new FormData(y.value[e].$el);g.value[e]=!1,C.value[e]=!0;const I=await R.SaveFormFile(A);I.Saved&&(C.value[e]=!1,g.value[e]=!0,m.value[e].fileUUID=I.FileUUID,V.value[e]=!0)},Z=(e,A)=>{const I=A.target;I.style.left="0px",I.style.top="0px",I.width>I.height?I.width=H.value*(I.width/I.height):I.width=H.value,I.classList.remove("d-none"),e>=0&&e<b.value&&X(e)},o=(e,A,I=0,h=void 0)=>{if(h&&h.type)switch(h.type){case"touchstart":case"touchend":h.preventDefault();break}let ie=500;if(!s.value)s.value=Date.now();else{const pe=Date.now()-s.value;pe>=3e3?ie=1:pe>=2500?ie=2:pe>=2e3?ie=5:pe>=1500?ie=12:pe>=1e3?ie=25:pe>=500?ie=50:pe>=250&&(ie=100)}switch(I!==ie&&(clearInterval(u.value),u.value=setInterval(()=>{o(e,A,ie)},ie)),A){case 0:s.value=0,clearInterval(u.value),X(e);break;case 6:r.value[e].width-=1;break;case 5:r.value[e].width+=1;break;case 1:r.value[e].style.top=`${(parseInt(getComputedStyle(r.value[e]).top)||0)-1}px`;break;case 2:r.value[e].style.left=`${(parseInt(getComputedStyle(r.value[e]).left)||0)+1}px`;break;case 3:r.value[e].style.top=`${(parseInt(getComputedStyle(r.value[e]).top)||0)+1}px`;break;case 4:r.value[e].style.left=`${(parseInt(getComputedStyle(r.value[e]).left)||0)-1}px`;break}se(e)},x=(e,A)=>{switch(e===-1&&(e=f.value.imageNo),A.type){case"touchstart":A.preventDefault(),f.value.imageX=parseInt(getComputedStyle(r.value[e]).left),f.value.imageY=parseInt(getComputedStyle(r.value[e]).top),f.value.mouseX=A.touches[0].clientX,f.value.mouseY=A.touches[0].clientY,f.value.mouseDown=!0;break;case"mousedown":f.value.imageNo=e,f.value.imageX=parseInt(getComputedStyle(r.value[e]).left),f.value.imageY=parseInt(getComputedStyle(r.value[e]).top),f.value.mouseX=A.clientX,f.value.mouseY=A.clientY,f.value.mouseDown=!0;break;case"touchend":A.preventDefault();case"mouseup":f.value.mouseDown=!1,X(e);break;case"touchmove":if(!f.value.mouseDown)return;r.value[e].style.left=`${f.value.imageX+(A.touches[0].clientX-f.value.mouseX)}px`,r.value[e].style.top=`${f.value.imageY+(A.touches[0].clientY-f.value.mouseY)}px`;break;case"mousemove":if(!f.value.mouseDown)return;r.value[e].style.left=`${f.value.imageX+(A.clientX-f.value.mouseX)}px`,r.value[e].style.top=`${f.value.imageY+(A.clientY-f.value.mouseY)}px`;break;case"dragstart":A.preventDefault();break;case"keydown":switch(A.key){case"ArrowUp":A.preventDefault(),o(e,1);break;case"ArrowRight":A.preventDefault(),o(e,2);break;case"ArrowDown":A.preventDefault(),o(e,3);break;case"ArrowLeft":A.preventDefault(),o(e,4);break;case"+":A.preventDefault(),o(e,5);break;case"-":A.preventDefault(),o(e,6);break}break;case"keyup":o(e,0),X(e);break}se(e)},se=e=>{if(!(e+1>r.value.length)){if(r.value[e].width<H.value&&(r.value[e].width=H.value),r.value[e].height<v.value){const A=v.value-r.value[e].height,I=r.value[e].width/r.value[e].height;r.value[e].width+=Math.ceil(A*I)}(parseInt(getComputedStyle(r.value[e]).left)||0)>0&&(r.value[e].style.left="0px"),(parseInt(getComputedStyle(r.value[e]).top)||0)>0&&(r.value[e].style.top="0px"),(parseInt(getComputedStyle(r.value[e]).left)||0)<0-(r.value[e].width-H.value)&&(r.value[e].style.left=`${0-(r.value[e].width-H.value)}px`),(parseInt(getComputedStyle(r.value[e]).top)||0)<0-(r.value[e].height-v.value)&&(r.value[e].style.top=`${0-(r.value[e].height-v.value)}px`)}},B=()=>{try{clearInterval(u.value)}catch{}f.value.mouseDown=!1,s.value=0,f.value.imageNo&&X(f.value.imageNo)},N=e=>{x(-1,e)};return window.addEventListener("mouseup",B),window.addEventListener("mousemove",N),window.addEventListener("touchend",B),window.addEventListener("touchmove",N),Qe(()=>{window.removeEventListener("mouseup",B),window.removeEventListener("mousemove",N),window.removeEventListener("touchend",B),window.removeEventListener("touchmove",N)}),(e,A)=>(l(),q("div",null,[(l(!0),q(J,null,ee(b.value,I=>(l(),q("div",{style:Ze(F.value),key:I},[i(Ke,{ref_for:!0,ref_key:"badgeImageForm",ref:y,enctype:"multipart/form-data"},{default:n(()=>[i(z,null,{default:n(()=>[i(G,null,{default:n(()=>[i(mt,{label:e.label||"",hint:e.hint||"",name:e.name?"name":"badgeFile",variant:"outlined",ref_for:!0,ref_key:"imageFileInput",ref:$,accept:"image/avif, image/bmp, image/gif, image/jpeg, image/png, image/webp",rules:[M.value.required],"error-messages":e.errorMessages||"","persistent-hint":e.persistentHint||!1,disabled:!g.value[I-1]||e.disabled||!1,"hide-details":"",onChange:h=>oe(I-1,h),onBlur:Y},null,8,["label","hint","name","rules","error-messages","persistent-hint","disabled","onChange"]),K("p",el,[g.value[I-1]?_("",!0):(l(),q("small",tl,"File Uploading"))])]),_:2},1024)]),_:2},1024),w.value.label?(l(),D(z,{key:0},{default:n(()=>[i(G,null,{default:n(()=>[i(Ie,{label:"Display Name",variant:"outlined","prepend-icon":"mdi:mdi-label-outline",modelValue:m.value[I-1].label,"onUpdate:modelValue":h=>m.value[I-1].label=h,onInput:h=>X(I-1),onChange:h=>X(I-1)},null,8,["modelValue","onUpdate:modelValue","onInput","onChange"])]),_:2},1024)]),_:2},1024)):_("",!0),i(z,{class:"justify-center scale-down"},{default:n(()=>[i(G,{cols:"12",class:"text-center"},{default:n(()=>[W(" Preview "),C.value[I-1]?(l(),q("div",ll,[i(ut,{indeterminate:"",color:"primary",size:128,width:10},{default:n(()=>[W("Uploading")]),_:1})])):(l(),q(J,{key:1},[K("div",{class:"image-preview my-auto mx-auto",onMousemove:h=>x(I-1,h),onMousedown:h=>x(I-1,h),onMouseup:h=>x(I-1,h),onTouchstart:h=>x(I-1,h),onTouchmove:h=>x(I-1,h),onTouchend:h=>x(I-1,h)},[K("img",{src:d.value[I-1],ref_for:!0,ref:h=>U(I-1,h),alt:"Your badge image",onLoad:h=>Z(I-1,h),onDragstart:h=>x(I-1,h),onKeydown:h=>x(I-1,h),onKeyup:h=>x(I-1,h),tabindex:"0",class:"d-none"},null,40,nl)],40,al),w.value.label?(l(),q("h3",sl,j(m.value[I-1].label),1)):(l(),q("h3",ol,j(t.value),1))],64))]),_:2},1024),V.value[I-1]?(l(),D(G,{key:0,cols:"12",class:"d-flex justify-space-between",style:{"max-width":"280px"}},{default:n(()=>[i(Q,{icon:"mdi:mdi-arrow-left",color:"primary",onMousedown:h=>o(I-1,4,0,h),onMouseup:h=>o(I-1,0,0,h),onTouchstart:h=>o(I-1,4,0,h),onTouchend:h=>o(I-1,0,0,h)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"]),i(Q,{icon:"mdi:mdi-arrow-up",color:"secondary",onMousedown:h=>o(I-1,1,0,h),onMouseup:h=>o(I-1,0,0,h),onTouchstart:h=>o(I-1,1,0,h),onTouchend:h=>o(I-1,0,0,h)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"]),i(Q,{icon:"mdi:mdi-arrow-down",color:"secondary",onMousedown:h=>o(I-1,3,0,h),onMouseup:h=>o(I-1,0,0,h),onTouchstart:h=>o(I-1,3,0,h),onTouchend:h=>o(I-1,0,0,h)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"]),i(Q,{icon:"mdi:mdi-arrow-right",color:"primary",onMousedown:h=>o(I-1,2,0,h),onMouseup:h=>o(I-1,0,0,h),onTouchstart:h=>o(I-1,2,0,h),onTouchend:h=>o(I-1,0,0,h)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"])]),_:2},1024)):_("",!0)]),_:2},1024),V.value[I-1]?(l(),D(z,{key:1,class:"justify-center scale-down"},{default:n(()=>[i(G,{cols:"12",class:"d-flex justify-space-between",style:{"max-width":"280px"}},{default:n(()=>[i(Q,{icon:"mdi:mdi-plus",color:"primary",onMousedown:h=>o(I-1,5,0,h),onMouseup:h=>o(I-1,0,0,h),onTouchstart:h=>o(I-1,5,0,h),onTouchend:h=>o(I-1,0,0,h)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"]),i(Q,{icon:"mdi:mdi-minus",color:"secondary",onMousedown:h=>o(I-1,6,0,h),onMouseup:h=>o(I-1,0,0,h),onTouchstart:h=>o(I-1,6,0,h),onTouchend:h=>o(I-1,0,0,h)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"])]),_:2},1024)]),_:2},1024)):_("",!0)]),_:2},1536)],4))),128)),w.value.maximum===0||w.value.maximum>1?(l(),D(z,{key:0},{default:n(()=>[i(G,{class:"text-right"},{default:n(()=>[i(Pe,{text:"Add Badge",location:"top"},{activator:n(({props:I})=>[i(Q,ge({color:"success",icon:"mdi:mdi-plus",size:"xs",variant:"flat",disabled:e.disabled||b.value>=w.value.maximum&&w.value.maximum>0||!1},I,{onClick:A[0]||(A[0]=h=>b.value<w.value.maximum||w.value.maximum===0?b.value+=1:null)}),null,16,["disabled"])]),_:1})]),_:1}),i(G,null,{default:n(()=>[i(Pe,{text:"Remove Badge",location:"top"},{activator:n(({props:I})=>[i(Q,ge({color:"error",icon:"mdi:mdi-minus",size:"xs",variant:"flat",disabled:e.disabled||b.value==0||!1},I,{onClick:A[1]||(A[1]=h=>b.value>=1?b.value-=1:null)}),null,16,["disabled"])]),_:1})]),_:1})]),_:1})):_("",!0)]))}}),il=Ne(ul,[["__scopeId","data-v-34c980c7"]]),rl=Ye({...pt({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),dl=Xe()({name:"VRadio",props:rl(),setup(a,T){let{slots:p}=T;return Fe(()=>i(ze,ge(a,{class:["v-radio",a.class],style:a.style,type:"radio"}),p)),{}}}),vl=Ye({height:{type:[Number,String],default:"auto"},...vt(),...et(ht(),["multiple"]),trueIcon:{type:Le,default:"$radioOn"},falseIcon:{type:Le,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),cl=Xe()({name:"VRadioGroup",inheritAttrs:!1,props:vl(),emits:{"update:modelValue":a=>!0},setup(a,T){let{attrs:p,slots:L}=T;const O=tt(),m=Me(()=>a.id||`radio-group-${O}`),w=lt(a,"modelValue");return Fe(()=>{const[b,P]=at(p),R=Ee.filterProps(a),y=ze.filterProps(a),t=L.label?L.label({label:a.label,props:{for:m.value}}):a.label;return i(Ee,ge({class:["v-radio-group",a.class],style:a.style},b,R,{modelValue:w.value,"onUpdate:modelValue":g=>w.value=g,id:m.value}),{...L,default:g=>{let{id:$,messagesId:r,isDisabled:d,isReadonly:C}=g;return i(J,null,[t&&i(ct,{id:$.value},{default:()=>[t]}),i(gt,ge(y,{id:$.value,"aria-describedby":r.value,defaultsTarget:"VRadio",trueIcon:a.trueIcon,falseIcon:a.falseIcon,type:a.type,disabled:d.value,readonly:C.value,"aria-labelledby":t?$.value:void 0,multiple:!1},P,{modelValue:w.value,"onUpdate:modelValue":s=>w.value=s}),L)])}})}),{}}}),He=de({__name:"FormField",props:te({admin:{type:Boolean},convention:{},name:{},field:{},disabled:{type:Boolean},maxLength:{},minLength:{},persistentHint:{type:Boolean},registrationGroup:{},required:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change","input","update:field"],["update:modelValue"]),setup(a,{emit:T}){const p=a,{admin:L=!1,disabled:O=!1,persistentHint:m=!1,required:w=!1}=p,b=S(""),P=me(a,"modelValue"),R=T,y=$e(p,R,void 0,void 0,"field"),t=S(be(y.value)),g=S({maxlength:s=>!p.maxLength||s.length<=p.maxLength||`Maximum length is ${p.maxLength} characters. (Current length: ${s.length})`,minlength:s=>!p.minLength||s.length>=p.minLength||`Minimum length is ${p.minLength} characters. (Current length: ${s.length})`,required:s=>!p.required||!!s.replace(/\s/g,"")||"Required field."}),$=S(!1),r=S([]),d=S("");try{const s=JSON.parse(P.value);Array.isArray(s)?r.value=s:r.value=[],typeof s=="boolean"?$.value=s:$.value=!1,d.value=P.value}catch{$.value=!1,r.value=[],d.value=P.value}ae($,()=>{P.value=JSON.stringify($.value),R("input"),R("change")}),ae(r,()=>{P.value=JSON.stringify(r.value),R("input"),R("change")},{deep:!0}),ae(d,()=>{P.value=d.value,R("input"),R("change")}),ae(y.value,()=>{t.value.Type!==y.value.Type?(t.value=be(y.value),$.value=!1,r.value=[],d.value=""):t.value=be(y.value)});const C=(s=void 0)=>{R("change",s)};return(s,u)=>{var f;return t.value.Type===c(le).TEXT?(l(),D(Ie,{key:0,modelValue:d.value,"onUpdate:modelValue":u[0]||(u[0]=v=>d.value=v),name:s.name||"",hint:t.value.Hint,label:`${t.value.Label}${c(w)?"*":""}`,placeholder:t.value.Placeholder,variant:"outlined",disabled:c(O)||!1,"persistent-hint":c(m)||!1,"error-messages":b.value,rules:[g.value.maxlength,g.value.minlength,g.value.required],onChange:C,autocomplete:"off"},null,8,["modelValue","name","hint","label","placeholder","disabled","persistent-hint","error-messages","rules"])):t.value.Type===c(le).DATE?(l(),D(Ie,{key:1,modelValue:d.value,"onUpdate:modelValue":u[1]||(u[1]=v=>d.value=v),type:"date",name:s.name||"",hint:t.value.Hint,label:t.value.Label,placeholder:t.value.Placeholder,variant:"outlined",disabled:c(O)||!1,"persistent-hint":c(m)||!1,"error-messages":b.value,rules:[g.value.maxlength,g.value.minlength,g.value.required],onChange:C,autocomplete:"off"},null,8,["modelValue","name","hint","label","placeholder","disabled","persistent-hint","error-messages","rules"])):t.value.Type===c(le).NUMBER?(l(),D(Ie,{key:2,modelValue:d.value,"onUpdate:modelValue":u[2]||(u[2]=v=>d.value=v),type:"number",name:s.name||"",hint:t.value.Hint,label:t.value.Label,placeholder:t.value.Placeholder,variant:"outlined",disabled:c(O)||!1,"persistent-hint":c(m)||!1,"error-messages":b.value,rules:[g.value.maxlength,g.value.minlength,g.value.required],onChange:C,autocomplete:"off"},null,8,["modelValue","name","hint","label","placeholder","disabled","persistent-hint","error-messages","rules"])):t.value.Type===c(le).TEXTAREA?(l(),D(ft,{key:3,modelValue:d.value,"onUpdate:modelValue":u[3]||(u[3]=v=>d.value=v),name:s.name||"",hint:t.value.Hint,label:t.value.Label,placeholder:t.value.Placeholder,variant:"outlined",disabled:c(O)||!1,"persistent-hint":c(m)||!1,"error-messages":b.value,rules:[g.value.maxlength,g.value.minlength,g.value.required],onChange:C,autocomplete:"off"},null,8,["modelValue","name","hint","label","placeholder","disabled","persistent-hint","error-messages","rules"])):t.value.Type===c(le).CHECKBOX?(l(),q(J,{key:4},[t.value.Multiple?(l(!0),q(J,{key:0},ee(t.value.Values,v=>(l(),D(he,{key:v.ID,modelValue:r.value,"onUpdate:modelValue":u[4]||(u[4]=H=>r.value=H),name:s.name||"",hint:t.value.Hint,label:v.Title,value:v.Value,disabled:c(O)||!1,"persistent-hint":c(m),"error-messages":b.value,rules:[g.value.required],onChange:C},null,8,["modelValue","name","hint","label","value","disabled","persistent-hint","error-messages","rules"]))),128)):(l(),D(he,{key:1,modelValue:$.value,"onUpdate:modelValue":u[5]||(u[5]=v=>$.value=v),name:s.name||"",hint:t.value.Hint,label:t.value.Label,disabled:c(O)||!1,"persistent-hint":c(m),"error-messages":b.value,required:c(w),rules:[v=>!c(w)||!!v||"You must tick to continue!"],onChange:C},null,8,["modelValue","name","hint","label","disabled","persistent-hint","error-messages","required","rules"]))],64)):t.value.Type===c(le).SELECT?(l(),q(J,{key:5},[!t.value.Autofill&&t.value.Multiple?(l(),D(we,{key:0,modelValue:r.value,"onUpdate:modelValue":u[6]||(u[6]=v=>r.value=v),name:s.name||"",hint:t.value.Hint,label:t.value.Label,multiple:"",items:t.value.Values,"item-title":"Title","item-value":"Value",variant:"outlined",disabled:c(O)||!1,"persistent-hint":c(m)||!1,"error-messages":b.value,rules:[g.value.required]},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages","rules"])):t.value.Autofill&&t.value.Multiple?(l(),D(xe,{key:1,modelValue:r.value,"onUpdate:modelValue":u[7]||(u[7]=v=>r.value=v),name:s.name||"",hint:t.value.Hint,label:t.value.Label,multiple:"",items:t.value.Values,"item-title":"Title","item-value":"Value",variant:"outlined",disabled:c(O)||!1,"persistent-hint":c(m)||!1,"error-messages":b.value,rules:[g.value.required]},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages","rules"])):t.value.Autofill?t.value.Autofill?(l(),D(xe,{key:3,modelValue:d.value,"onUpdate:modelValue":u[9]||(u[9]=v=>d.value=v),name:s.name||"",hint:t.value.Hint,label:t.value.Label,items:t.value.Values,"item-title":"Title","item-value":"Value",variant:"outlined",disabled:c(O)||!1,"persistent-hint":c(m)||!1,"error-messages":b.value,rules:[g.value.required]},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages","rules"])):_("",!0):(l(),D(we,{key:2,modelValue:d.value,"onUpdate:modelValue":u[8]||(u[8]=v=>d.value=v),name:s.name||"",hint:t.value.Hint,label:t.value.Label,items:t.value.Values,"item-title":"Title","item-value":"Value",variant:"outlined",disabled:c(O)||!1,"persistent-hint":c(m)||!1,"error-messages":b.value,rules:[g.value.required]},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages","rules"]))],64)):t.value.Type===c(le).RADIO?(l(),D(cl,{key:6,modelValue:d.value,"onUpdate:modelValue":u[10]||(u[10]=v=>d.value=v),name:s.name||"",hint:t.value.Hint,label:t.value.Label,disabled:c(O)||!1,"persistent-hint":c(m),"error-messages":b.value,rules:[g.value.required],onChange:C},{default:n(()=>[(l(!0),q(J,null,ee(t.value.Values,v=>(l(),D(dl,{key:v.Value,label:v.Title,value:v.Value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","name","hint","label","disabled","persistent-hint","error-messages","rules"])):t.value.Type===c(le).ACCOMMODATION?(l(),D(Qt,{key:7,modelValue:r.value,"onUpdate:modelValue":u[11]||(u[11]=v=>r.value=v),name:s.name,admin:c(L),convention:s.convention,"registration-group":s.registrationGroup,data:s.field.Data,hint:t.value.Hint,label:t.value.Label,items:t.value.Values,disabled:c(O)||!1,"persistent-hint":c(m),"error-messages":b.value,required:c(w),onChange:C},null,8,["modelValue","name","admin","convention","registration-group","data","hint","label","items","disabled","persistent-hint","error-messages","required"])):t.value.Type===c(le).AGE?(l(),D(Zt,{key:8,modelValue:d.value,"onUpdate:modelValue":u[12]||(u[12]=v=>d.value=v),name:s.name,hint:t.value.Hint,label:t.value.Label,items:t.value.Values,disabled:c(O)||!1,"persistent-hint":c(m),"error-messages":b.value,onChange:C},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages"])):t.value.Type===c(le).BADGE_IMAGE?(l(),D(il,{key:9,modelValue:d.value,"onUpdate:modelValue":u[13]||(u[13]=v=>d.value=v),name:s.name,field:t.value,registration:(f=s.registrationGroup)==null?void 0:f.Registration,hint:t.value.Hint,label:t.value.Label,items:t.value.Values,disabled:c(O)||!1,"persistent-hint":c(m),"error-messages":b.value,onChange:C},null,8,["modelValue","name","field","registration","hint","label","items","disabled","persistent-hint","error-messages"])):t.value.Type===c(le).EXTRAS?(l(),D(kt,{key:10,modelValue:d.value,"onUpdate:modelValue":u[14]||(u[14]=v=>d.value=v),admin:c(L),convention:s.convention,name:s.name,hint:t.value.Hint,label:t.value.Label,items:t.value.Values,disabled:c(O)||!1,"persistent-hint":c(m),"error-messages":b.value,required:c(w),onChange:C},null,8,["modelValue","admin","convention","name","hint","label","items","disabled","persistent-hint","error-messages","required"])):t.value.Type===c(le).INTERESTS?(l(),D(wt,{key:11,modelValue:d.value,"onUpdate:modelValue":u[15]||(u[15]=v=>d.value=v),admin:c(L),convention:s.convention,name:s.name,hint:t.value.Hint,label:t.value.Label,items:t.value.Values,disabled:c(O)||!1,"persistent-hint":c(m),"error-messages":b.value,required:c(w),onChange:C},null,8,["modelValue","admin","convention","name","hint","label","items","disabled","persistent-hint","error-messages","required"])):t.value.Type===c(le).TICKET?(l(),D(Mt,{key:12,modelValue:d.value,"onUpdate:modelValue":u[16]||(u[16]=v=>d.value=v),admin:c(L),convention:s.convention,name:s.name,"registration-group":s.registrationGroup,hint:t.value.Hint,label:t.value.Label,items:t.value.Values,disabled:c(O)||!1,"persistent-hint":c(m),"error-messages":b.value,required:c(w),onChange:C},null,8,["modelValue","admin","convention","name","registration-group","hint","label","items","disabled","persistent-hint","error-messages","required"])):t.value.Type===c(le).HTML?(l(),D(Ct,{key:13,data:s.field.Data},null,8,["data"])):_("",!0)}}}),ml={key:0,class:"my-2 text-white text-center"},fl={key:1,class:"admin-header my-2 text-white text-center"},pl=["innerHTML"],hl=["innerHTML"],Jl=de({__name:"FormRenderer",props:te({admin:{type:Boolean},convention:{},data:{},editable:{type:Boolean},preview:{type:Boolean},registrationGroup:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["close"],["update:modelValue"]),setup(a,{emit:T}){const p=T,L=me(a,"modelValue");De(L.value.Sections),L.value.Sections.forEach(V=>{V.Fields&&De(V.Fields)});const O=S(),m=bt(),w=Oe(),b=S(!1),P=S(!1),R=S(!1),y=S(!1),t=S(!1),g=S(!1),$=S(!1),r=S(!1),d=S(!1),C=S(!1),s=S(!1),u=S((()=>{if(a.data!==void 0){const U=be(a.data);return L.value.Sections.forEach(E=>{E.Fields&&E.Fields.forEach(k=>{const M=a.data.Data.find(Y=>Y.SectionFieldUUID===k.SectionFieldUUID&&Y.SectionFieldUUID==k.SectionFieldUUID);if(M)k.Value=M.Data;else{const Y={ID:0,SubmissionDataUUID:Ce(),SubmissionID:a.data.ID,SubmissionUUID:a.data.SubmissionUUID,SectionID:E.ID,SectionUUID:E.SectionUUID,SectionFieldID:k.ID,SectionFieldUUID:k.SectionFieldUUID,Data:k.Value,CreatedAt:"",DeletedAt:"",UpdatedAt:""};U.Data.push(Y),k.Value=""}})}),U}const V={ID:0,SubmissionUUID:Ce(),FormID:L.value.ID,FormUUID:L.value.FormUUID,UserID:(m==null?void 0:m.ID)||0,UserUUID:(m==null?void 0:m.UserUUID)||"",Data:[],Status:st.SUBMISSION_STATUS_OPEN};return V.Data=L.value.Sections.map(U=>U.Fields?U.Fields.map(E=>({ID:0,SubmissionDataUUID:Ce(),SubmissionID:V.ID,SubmissionUUID:V.SubmissionUUID,SectionID:U.ID,SectionUUID:U.SectionUUID,SectionFieldID:E.ID,SectionFieldUUID:E.SectionFieldUUID,Data:""})):[]).flat(),V})()),f=(V,U,E)=>{const k=u.value.Data.find(M=>M.SectionUUID===V&&M.SectionFieldUUID===U);k&&(k.Data=E)},v=(V,U,E,k,M)=>V!=null&&V.State.Independent?"/":V&&V.Type===ne.FORM_TYPE_REGISTRATION?U&&!U.State.Independent&&(U.State.New||U.State.Edit)?`/register/${a.convention.Slug||a.convention.ConventionUUID}/accommodation`:E&&!E.State.Independent&&(E.State.New||E.State.Edit)?`/register/${a.convention.Slug||a.convention.ConventionUUID}/dealer`:k&&!k.State.Independent&&(k.State.New||k.State.Edit)?`/register/${a.convention.Slug||a.convention.ConventionUUID}/badge`:M&&!M.State.Independent&&(M.State.New||M.State.Edit)?`/register/${a.convention.Slug||a.convention.ConventionUUID}/additional`:"/":V&&V.Type===ne.FORM_TYPE_ACCOMMODATION?E&&!E.State.Independent&&(E.State.New||E.State.Edit)?`/register/${a.convention.Slug||a.convention.ConventionUUID}/dealer`:k&&!k.State.Independent&&(k.State.New||k.State.Edit)?`/register/${a.convention.Slug||a.convention.ConventionUUID}/badge`:M&&!M.State.Independent&&(M.State.New||M.State.Edit)?`/register/${a.convention.Slug||a.convention.ConventionUUID}/additional`:"/":V&&V.Type===ne.FORM_TYPE_DEALER?k&&!k.State.Independent&&(k.State.New||k.State.Edit)?`/register/${a.convention.Slug||a.convention.ConventionUUID}/badge`:M&&!M.State.Independent&&(M.State.New||M.State.Edit)?`/register/${a.convention.Slug||a.convention.ConventionUUID}/additional`:"/":V&&V.Type===ne.FORM_TYPE_BADGE?M&&!M.State.Independent&&(M.State.New||M.State.Edit)?`/register/${a.convention.Slug||a.convention.ConventionUUID}/additional`:"/":(V&&V.Type===ne.FORM_TYPE_ADDITIONAL,"/"),H=({callback:V})=>{w.getRegistrationByConvention(a.convention.ConventionUUID).then(U=>{V&&V("Loading"),w.getAvailableConventionForms(a.convention.ConventionUUID).then(E=>{U.Submissions.forEach((Z,o)=>{Z.Form||(U.Submissions[o].Form=E.find(x=>x.FormUUID===Z.FormUUID))});const k=U.Submissions.find(Z=>Z.FormUUID===u.value.FormUUID),M=U.Submissions.find(Z=>{var o;return((o=Z.Form)==null?void 0:o.Type)===ne.FORM_TYPE_ACCOMMODATION}),Y=U.Submissions.find(Z=>{var o;return((o=Z.Form)==null?void 0:o.Type)===ne.FORM_TYPE_ADDITIONAL}),oe=U.Submissions.find(Z=>{var o;return((o=Z.Form)==null?void 0:o.Type)===ne.FORM_TYPE_DEALER}),ue=U.Submissions.find(Z=>{var o;return((o=Z.Form)==null?void 0:o.Type)===ne.FORM_TYPE_BADGE}),fe=v(k==null?void 0:k.Form,M==null?void 0:M.Form,oe==null?void 0:oe.Form,ue==null?void 0:ue.Form,Y==null?void 0:Y.Form);Re.push(fe)})})},X=({callback:V})=>{var U;(U=O.value)==null||U.validate().then(E=>{E.valid?w.saveSubmission(u.value).then(k=>{k?setTimeout(()=>{F(k,V,1)},1e3):V&&V("Failed to process request")}).catch(()=>{V&&V("Failed to process request")}):V&&V("Errors in form detected, please review and try again.")})},F=(V,U,E=1)=>{w.checkSubmission(V).then(k=>{if(k)if(k.Ready&&k.Submission){if(b.value=!1,u.value=k.Submission,U&&U("Saved"),a.admin)p("close");else if(k.Forms&&k.Forms.length>0){const M=k.Forms.find(o=>o.FormUUID===u.value.FormUUID),Y=k.Forms.find(o=>o.Type===ne.FORM_TYPE_ACCOMMODATION),oe=k.Forms.find(o=>o.Type===ne.FORM_TYPE_DEALER),ue=k.Forms.find(o=>o.Type===ne.FORM_TYPE_BADGE),fe=k.Forms.find(o=>o.Type===ne.FORM_TYPE_ADDITIONAL),Z=v(M,Y,oe,ue,fe);Re.push(Z)}}else{if(E>5&&(b.value=!0),E>10&&(P.value=!0),E>20&&(R.value=!0),E>30&&(y.value=!0),E>40&&(t.value=!0),E>50&&(g.value=!0),E>60&&($.value=!0),E>70&&(r.value=!0),E>80&&(d.value=!0),E>90&&(C.value=!0),E>100&&(s.value=!0),E>200){U&&(b.value=!1,P.value=!1,R.value=!1,y.value=!1,t.value=!1,g.value=!1,$.value=!1,r.value=!1,d.value=!1,C.value=!1,s.value=!1,U("A problem was encountered during saving, please check form and try again."));return}setTimeout(()=>{F(V,U,E+1)},E<20?1e3*E:2e4)}else U&&(b.value=!1,P.value=!1,R.value=!1,y.value=!1,t.value=!1,g.value=!1,$.value=!1,r.value=!1,d.value=!1,C.value=!1,s.value=!1,U("A problem was encountered during saving, please check form and try again."))}).catch(()=>{U&&(b.value=!1,P.value=!1,R.value=!1,y.value=!1,t.value=!1,g.value=!1,$.value=!1,r.value=!1,d.value=!1,C.value=!1,s.value=!1,U("A problem was encountered during saving, please check form and try again."))})};return(V,U)=>{const E=nt("router-link");return l(),D(it,null,{default:n(()=>[i(Ke,{ref_key:"formValidator",ref:O,autocomplete:"off",onSubmit:U[1]||(U[1]=Ge(()=>{},["prevent"]))},{default:n(()=>[L.value.Heading?(l(),q("h1",ml,j(L.value.Heading),1)):_("",!0),V.admin?(l(),q("h2",fl," (Admin Mode) ")):_("",!0),L.value.Description?(l(),q("div",{key:2,class:"my-2 form-description-container pa-5 border rounded-lg text-black",innerHTML:L.value.Description},null,8,pl)):_("",!0),(l(!0),q(J,null,ee(L.value.Sections,k=>(l(),D(yt,{key:`section_${L.value.ID}.${k.ID}`,class:"my-4 section-container rounded-lg",elevation:"4"},{default:n(()=>[k.Heading?(l(),D(Ut,{key:0},{default:n(()=>[W(j(k.Heading),1)]),_:2},1024)):_("",!0),k.Description?(l(),D(It,{key:1,class:"text-wrap"},{default:n(()=>[K("div",{innerHTML:k.Description},null,8,hl)]),_:2},1024)):_("",!0),k.Fields?(l(),D(Dt,{key:2},{default:n(()=>[(l(!0),q(J,null,ee(k.Fields,M=>(l(),q(J,{key:`field_${L.value.ID}.${k.ID}.${M.ID}`},[M.Field?(l(),D(z,{key:0},{default:n(()=>[i(G,null,{default:n(()=>[V.editable?(l(),D(He,{key:0,name:M.SectionFieldUUID,field:M.Field,modelValue:M.Value,"onUpdate:modelValue":Y=>M.Value=Y,admin:V.admin,convention:V.convention,"registration-group":V.registrationGroup,required:M.Required,"min-length":M.MinLength,"max-length":M.MaxLength,"persistent-hint":!0,onChange:Y=>f(k.SectionUUID,M.SectionFieldUUID,M.Value)},null,8,["name","field","modelValue","onUpdate:modelValue","admin","convention","registration-group","required","min-length","max-length","onChange"])):(l(),D(He,{key:1,name:M.SectionFieldUUID,field:M.Field,modelValue:M.Value,"onUpdate:modelValue":Y=>M.Value=Y,admin:V.admin,convention:V.convention,"registration-group":V.registrationGroup,required:M.Required,"min-length":M.MinLength,"max-length":M.MaxLength,"persistent-hint":!0,disabled:"",onChange:Y=>f(k.SectionUUID,M.SectionFieldUUID,M.Value)},null,8,["name","field","modelValue","onUpdate:modelValue","admin","convention","registration-group","required","min-length","max-length","onChange"]))]),_:2},1024)]),_:2},1024)):_("",!0)],64))),128))]),_:2},1024)):_("",!0)]),_:2},1024))),128)),V.preview?_("",!0):(l(),q(J,{key:3},[i(z,null,{default:n(()=>[V.admin?(l(),D(G,{key:1,class:"text-right"},{default:n(()=>[i(Q,{color:"red",onClick:U[0]||(U[0]=k=>p("close"))},{default:n(()=>[W("Cancel")]),_:1})]),_:1})):(l(),D(G,{key:0,class:"text-right"},{default:n(()=>[i(E,{to:{name:"Home"},class:"text-decoration-none text-white"},{default:n(()=>[i(Q,{color:"red"},{default:n(()=>[W("Close")]),_:1})]),_:1})]),_:1})),V.admin||V.editable?(l(),D(G,{key:2,class:"text-left"},{default:n(()=>[i(_e,{onClick:X,type:"submit"})]),_:1})):(l(),D(G,{key:3,class:"text-left"},{default:n(()=>[i(_e,{onClick:H,type:"submit",label:"Next",color:"green"})]),_:1}))]),_:1}),b.value?(l(),D(z,{key:0},{default:n(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:n(()=>[W(" Your request is currently queued for processing. We have received your data, you do not need to resubmit it or refresh. The next page will load once the system has processed your details. Please be patient as this may take a while. ")]),_:1})]),_:1})):_("",!0),P.value?(l(),D(z,{key:1},{default:n(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:n(()=>[W(" Honestly! It really is being handled by our systems, the web browser window will continue, to monitor progress whilst it remains open. ")]),_:1})]),_:1})):_("",!0),R.value?(l(),D(z,{key:2},{default:n(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:n(()=>[W(" There seems to be a bit of Jam, don't worry because we have a fine selection of Jams at breakfast. Keep holding on in there, we'll get you on your way soon. ")]),_:1})]),_:1})):_("",!0),y.value?(l(),D(z,{key:3},{default:n(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:n(()=>[W(" Reticulating splines ")]),_:1})]),_:1})):_("",!0),t.value?(l(),D(z,{key:4},{default:n(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:n(()=>[W(" Downloading more RAM to process your registration. ")]),_:1})]),_:1})):_("",!0),g.value?(l(),D(z,{key:5},{default:n(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:n(()=>[W(" Ever seen a loading screen with a jump scare? ")]),_:1})]),_:1})):_("",!0),$.value?(l(),D(z,{key:6},{default:n(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:n(()=>[W(" We are not liable for any broken screens as a result of waiting. ")]),_:1})]),_:1})):_("",!0),r.value?(l(),D(z,{key:7},{default:n(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:n(()=>[W(" Let's have a race, see if you can inflate a pool toy by mouth before we finish. NB. Inflating your toys in this fashion is not recommended for many reasons. ")]),_:1})]),_:1})):_("",!0),d.value?(l(),D(z,{key:8},{default:n(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:n(()=>[W(" Apparently there were just under 1,000 of you at Scotiacon 2023, so where did the other 4,000 appear from? ")]),_:1})]),_:1})):_("",!0),C.value?(l(),D(z,{key:9},{default:n(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:n(()=>[W(" Jesus titty fucking christ! Why are there so many of you, this is ridiculous. We're still working on your request, please don't panic. ")]),_:1})]),_:1})):_("",!0),s.value?(l(),D(z,{key:10},{default:n(()=>[i(G,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:n(()=>[W(" We've run out of silly things to say, but if the save button is still spinning then the registration request is still queued for processing. ")]),_:1})]),_:1})):_("",!0)],64))]),_:1},512)]),_:1})}}});export{Hl as F,He as _,Yl as a,le as b,Jl as c,Xl as d,Gl as m,Nt as p,De as s};
