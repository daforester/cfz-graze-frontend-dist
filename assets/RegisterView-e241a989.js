import{_ as g}from"./FormRenderer.vue_vue_type_script_setup_true_lang-53a947cf.js";import{d as I,W as _,X as D,y as m,o as R,b as T,L as h}from"./index-181421cc.js";import{G as x}from"./userData-887aea4a.js";import"./FormField.vue_vue_type_script_setup_true_lang-b659c27f.js";import"./VCheckbox-e128d928.js";import"./VSelect-b81109c3.js";import"./VTextField-0c9ac203.js";import"./index-266f4b76.js";import"./rounded-1ea7487a.js";import"./index-517d66df.js";import"./VBtn-99c3a21a.js";import"./VList-f901a01c.js";import"./ssrBoot-e334900c.js";import"./createSimpleFunctional-0e7b9320.js";import"./VAvatar-925d3504.js";import"./VImg-cb210a93.js";import"./SaveButton.vue_vue_type_script_setup_true_lang-ae6005f8.js";import"./scopeId-dd91c5f8.js";import"./VChip-54ec485a.js";import"./index-71069b21.js";import"./VRow-507c8708.js";import"./VContainer-c8b4685d.js";import"./VAutocomplete-83904932.js";import"./VTextarea-5d8731c6.js";import"./useGrazeAPI-c1e75c1b.js";import"./v4-a960c1f4.js";import"./VForm-9d287271.js";const oo=I({__name:"RegisterView",emits:["pageTitle"],setup(V,{emit:p}){const C=_(),e=D.getInstance(),o=m(),n=m(),v=m(),s=m(!1);return e==null||e.getConvention(C.params.convention.toString()).then(i=>{var r;o.value=i||o.value,e==null||e.getConventionExtras((i==null?void 0:i.ConventionUUID)||"").then(a=>(o.value||{Extras:[]}).Extras=a),e.getConventionForms(((r=o.value)==null?void 0:r.ConventionUUID)||"").then(a=>{var l,u,U;if(n.value=a.find(t=>t.Type==="REGISTRATION"),n.value){const t=x();t!=null&&t.UserUUID&&((l=o.value)!=null&&l.ConventionUUID)&&e.getUserConventionSubmissions((t==null?void 0:t.UserUUID)||"",((u=o.value)==null?void 0:u.ConventionUUID)||"").then(c=>{c&&(v.value=c.find(d=>{var f;return d.FormUUID===((f=n.value)==null?void 0:f.FormUUID)})),s.value=!0}).catch(()=>{s.value=!0}),p("pageTitle",`Convention Registration - ${((U=o.value)==null?void 0:U.Name)||"New Convention"}`)}})}),p("pageTitle","Convention Registration"),(i,r)=>s.value&&n.value&&o.value?(R(),T(g,{key:0,modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=a=>n.value=a),convention:o.value,data:v.value},null,8,["modelValue","convention","data"])):h("",!0)}});export{oo as default};
