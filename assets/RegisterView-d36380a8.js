import{c as g}from"./FormRenderer.vue_vue_type_script_setup_true_lang-1c0d99be.js";import{I as d,a3 as D,a4 as _,r as s,K as R,L as T,Q as h}from"./index-b4ed8091.js";import{G as x}from"./userData-6708daee.js";import"./VCheckbox-f168e1fd.js";import"./VCheckboxBtn-c749bbe6.js";import"./VContainer-d055e06d.js";import"./VTextField-27a029d5.js";import"./index-7fb159ee.js";import"./index-71069b21.js";import"./VList-38ac82e4.js";import"./VAvatar-f16d5161.js";import"./VRow-184203f4.js";import"./VSelect-53e88be5.js";import"./VChip-c1be6573.js";import"./scopeId-ed5a3d54.js";import"./filter-7b5281ea.js";import"./v4-a960c1f4.js";import"./VForm-739155d1.js";const q=d({__name:"RegisterView",emits:["pageTitle"],setup(V,{emit:v}){const C=D(),o=_.getInstance(),e=s(),n=s(),l=s(),m=s(!1);return o==null||o.getConvention(C.params.convention.toString()).then(a=>{var i;e.value=a||e.value,o==null||o.getConventionExtras((a==null?void 0:a.ConventionUUID)||"").then(r=>(e.value||{Extras:[]}).Extras=r),o.getConventionForms(((i=e.value)==null?void 0:i.ConventionUUID)||"").then(r=>{var u,p,U;if(n.value=r.find(t=>t.Type==="REGISTRATION"),n.value){const t=x();t!=null&&t.UserUUID&&((u=e.value)!=null&&u.ConventionUUID)&&o.getUserConventionSubmissions((t==null?void 0:t.UserUUID)||"",((p=e.value)==null?void 0:p.ConventionUUID)||"").then(c=>{c&&(l.value=c.find(I=>{var f;return I.FormUUID===((f=n.value)==null?void 0:f.FormUUID)})),m.value=!0}).catch(()=>{m.value=!0}),v("pageTitle",`Convention Registration - ${((U=e.value)==null?void 0:U.Name)||"New Convention"}`)}})}),v("pageTitle","Convention Registration"),(a,i)=>m.value&&n.value&&e.value?(R(),T(g,{key:0,modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=r=>n.value=r),convention:e.value,data:l.value},null,8,["modelValue","convention","data"])):h("",!0)}});export{q as default};
