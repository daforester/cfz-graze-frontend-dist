import{s as Ne}from"./index-26b71cef.js";import{I as pe,r as I,M as z,N as Y,O as P,v as c,P as M,W as Fe,a3 as Ee,a0 as le,a1 as Be,e as k,w as ne,V as Ce,H as K,p as C,z as nt,n as A,B as ot,G as xe,t as B,i as L,ak as Se,al as st,ag as oe,am as ut,c as J,u as Z,y as it,m as ye,ah as ke,an as _t,x as se,j as H,ai as Me,ao as He,ap as De,aq as he,ar as Wt,R as be,as as de,b as Xt,at as Yt,S as ce,Q as Le,a4 as Kt,a9 as je,a5 as qt,s as F,A as rt,D as Jt,au as Qt,av as Zt,aw as ct,E as ea}from"./index-a13ce8de.js";import{v as ta}from"./v4-a960c1f4.js";import{u as _e}from"./nil-d01db1aa.js";import{V as $,b as dt,c as $e,d as vt,e as ft,m as aa,u as We}from"./VBtn-7ab2e771.js";import{V as q,j as la,m as ee,a as fe,u as G,R as na,f as we,c as oa,d as sa,g as ua,h as ia,o as ra,p as ca,L as da,q as va,k as fa,r as ma}from"./VContainer-0c059b3f.js";import{a as mt,V as gt}from"./VToolbar-006434ff.js";import{V as ht}from"./scopeId-c1a4fedb.js";import{V as yt}from"./VToolbarItems-b4dc981f.js";import{V as ga,a as Xe}from"./VRow-2cb2b821.js";import{V as Ye}from"./VTextField-10836387.js";import{c as bt,e as pt}from"./VCard-c97fb22d.js";import{V as xt,f as ha,u as ya,s as Ke,a as ba,m as pa}from"./FormRenderer.vue_vue_type_style_index_0_lang-5177f51c.js";import{V as xa}from"./VDialog-b17bbb4c.js";import{a as Sa,u as ka}from"./VList-b2cb02cf.js";import{V as wa}from"./VDivider-9b43062a.js";import{V as Ta}from"./copyToClipboard-da064ef6.js";import{a as Ue}from"./VCheckbox-a0248995.js";import{m as Pa,V as qe}from"./VTable-1546b86c.js";import{a as Va,b as Ia,s as Ca,c as Je}from"./forwardRefs-fbcb17e9.js";import{b as Oe,u as St}from"./SaveButton.vue_vue_type_script_setup_true_lang-8be1309b.js";import{M as Da}from"./VAvatar-eeb24497.js";const Ea=pe({__name:"AddTag",props:{convention:{},organisation:{}},emits:["save","close"],setup(e,{emit:l}){const a=I(""),t=I("");typeof e.convention=="object"?(a.value=e.convention.ConventionUUID,t.value=e.convention.OrganisationUUID):a.value=e.convention||"",typeof e.organisation=="object"?t.value=e.organisation.OrganisationUUID:t.value.length===0&&(t.value=e.organisation||"");const u=I({ID:0,TagUUID:ta(),ConventionID:0,ConventionUUID:a.value||_e,OrganisationID:0,OrganisationUUID:t.value||_e,Title:"",Key:""}),r=Ee(),n=()=>{r.saveTag(u.value).then(o=>{o&&(u.value=o,l("save",o),l("close"))})};return(o,i)=>(z(),Y(pt,null,{default:P(()=>[c(gt,{dark:"",color:"primary"},{default:P(()=>[c($,{icon:"",dark:"",onClick:i[0]||(i[0]=s=>l("close"))},{default:P(()=>[c(q,null,{default:P(()=>[M("mdi:mdi-close")]),_:1})]),_:1}),c(mt,null,{default:P(()=>[M("Add Tag")]),_:1}),c(ht),c(yt,null,{default:P(()=>[c($,{variant:"text",onClick:n},{default:P(()=>[M(" Save ")]),_:1})]),_:1})]),_:1}),c(bt,null,{default:P(()=>[c(la,{fluid:!0},{default:P(()=>[c(ga,null,{default:P(()=>[c(Xe,{cols:"12"},{default:P(()=>[c(Ye,{label:Fe(Ne).formLabelDisplayName,type:"text",variant:"outlined",modelValue:u.value.Title,"onUpdate:modelValue":i[1]||(i[1]=s=>u.value.Title=s)},null,8,["label","modelValue"])]),_:1}),c(Xe,{cols:"12"},{default:P(()=>[c(Ye,{label:Fe(Ne).formLabelTagKey,type:"text",variant:"outlined",modelValue:u.value.Key,"onUpdate:modelValue":i[2]||(i[2]=s=>u.value.Key=s)},null,8,["label","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),en=pe({__name:"SelectTags",props:le({convention:{},organisation:{},chips:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},hint:{default:""},label:{},variant:{},showKey:{type:Boolean,default:!1},showUuid:{type:Boolean,default:!1}},{modelValue:{required:!0}}),emits:le(["change"],["update:modelValue"]),setup(e,{emit:l}){const a=Be(e,"modelValue"),t=I([]),u=Ee(),r=I([]),n=I([]),o=I(""),i=I(""),s=I(0),d=k(()=>[...r.value,...n.value].map(v=>({title:`${v.Title}${e.showKey?` [ ${v.Key} ]`:""}${e.showUuid?` (${v.TagUUID})`:""}`,value:t.value.find(y=>y.TagUUID===v.TagUUID)||v})));typeof e.convention=="object"?(o.value=e.convention.ConventionUUID,i.value=e.convention.OrganisationUUID):o.value=e.convention||"",typeof e.organisation=="object"?i.value=e.organisation.OrganisationUUID:i.value.length===0&&(i.value=e.organisation||""),(async()=>{const b=[];o.value&&b.push(u.getConventionTags(o.value)),i.value&&b.push(u.getOrganisationTags(i.value));const v=await Promise.all(b);if(o.value&&i.value?(n.value=v[0].sort((y,x)=>y.Title.localeCompare(x.Title)),r.value=v[1].sort((y,x)=>y.Title.localeCompare(x.Title))):o.value&&v.length==1?n.value=v[0].sort((y,x)=>y.Title.localeCompare(x.Title)):i.value&&v.length==1&&(r.value=v[0].sort((y,x)=>y.Title.localeCompare(x.Title))),Array.isArray(a.value))s.value=2,d.value.forEach(y=>{Array.isArray(a.value)&&a.value.find(V=>V.TagUUID===y.value.TagUUID)&&t.value.push(y.value)});else if(typeof a.value=="string"){s.value=1;try{const y=JSON.parse(a.value);d.value.forEach(x=>{y.find(S=>S.TagUUID===x.value.TagUUID)&&t.value.push(x.value)})}catch{}}})();const h=I(!1),f=()=>{h.value=!0},m=b=>{b.ConventionUUID.length>0?n.value.push(b):b.OrganisationUUID.length>0&&r.value.push(b),t.value.push(b),g()},g=()=>{switch(s.value){default:case 2:{a.value=t.value,l("change");break}case 1:{a.value=JSON.stringify(t.value),l("change");break}}};return ne(t,g),(b,v)=>(z(),Ce(K,null,[c(xt,{modelValue:t.value,"onUpdate:modelValue":v[1]||(v[1]=y=>t.value=y),chips:b.chips,multiple:"",label:b.label||"Tags",variant:b.variant||"solo",hint:b.hint,"persistent-hint":!0,clearable:b.clearable,items:d.value,"item-title":"title","item-value":"value"},{"prepend-item":P(()=>[c(Sa,{title:"New Tag",onClick:v[0]||(v[0]=y=>f())},{prepend:P(()=>[c(q,{icon:"mdi:mdi-plus"})]),_:1}),c(wa,{class:"mt-2"})]),_:1},8,["modelValue","chips","label","variant","hint","clearable","items"]),c(xa,{modelValue:h.value,"onUpdate:modelValue":v[3]||(v[3]=y=>h.value=y),scrollable:!0},{default:P(()=>[c(Ea,{convention:b.convention,organisation:b.organisation,onClose:v[2]||(v[2]=y=>h.value=!1),onSave:m},null,8,["convention","organisation"])]),_:1},8,["modelValue"])],64))}}),tn=pe({__name:"SelectGroups",props:le({convention:{},organisation:{},chips:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},hint:{default:""},label:{},variant:{}},{modelValue:{required:!0}}),emits:le(["change"],["update:modelValue"]),setup(e,{emit:l}){const a=Be(e,"modelValue"),t=I([]),u=Ee(),r=I([]),n=I([]),o=I(""),i=I(""),s=I(0),d=k(()=>[...r.value,...n.value].map(m=>({title:m.Name,value:t.value.find(g=>g.GroupUUID===m.GroupUUID)||m})));return typeof e.convention=="object"?(o.value=e.convention.ConventionUUID,i.value=e.convention.OrganisationUUID):o.value=e.convention||"",typeof e.organisation=="object"?i.value=e.organisation.OrganisationUUID:i.value.length===0&&(i.value=e.organisation||""),(async()=>{const f=[];o.value&&f.push(u.getConventionGroups(o.value)),i.value&&f.push(u.getOrganisationGroups(i.value));const m=await Promise.all(f);if(o.value&&i.value?(n.value=m[0].sort((g,b)=>g.Name.localeCompare(b.Name)),r.value=m[1].sort((g,b)=>g.Name.localeCompare(b.Name))):o.value&&m.length==1?n.value=m[0].sort((g,b)=>g.Name.localeCompare(b.Name)):i.value&&m.length==1&&(r.value=m[0].sort((g,b)=>g.Name.localeCompare(b.Name))),Array.isArray(a.value))s.value=2,d.value.forEach(g=>{Array.isArray(a.value)&&a.value.find(v=>v.GroupUUID===g.value.GroupUUID)&&t.value.push(g.value)});else if(typeof a.value=="string"){s.value=1;try{const g=JSON.parse(a.value);d.value.forEach(b=>{g.find(y=>y.GroupUUID===b.value.GroupUUID)&&t.value.push(b.value)})}catch{}}})(),ne(t,()=>{switch(s.value){default:case 2:{a.value=t.value,l("change");break}case 1:{a.value=JSON.stringify(t.value),l("change");break}}}),(f,m)=>(z(),Y(xt,{modelValue:t.value,"onUpdate:modelValue":m[0]||(m[0]=g=>t.value=g),chips:f.chips,multiple:"",label:f.label||"Tags",variant:f.variant||"solo",hint:f.hint,"persistent-hint":!0,clearable:f.clearable,items:d.value,"item-title":"title","item-value":"value"},null,8,["modelValue","chips","label","variant","hint","clearable","items"]))}});const ve=Symbol.for("vuetify:v-expansion-panel"),Ba=["default","accordion","inset","popout"],$a=C({color:String,variant:{type:String,default:"default",validator:e=>Ba.includes(e)},readonly:Boolean,...ee(),...dt(),...fe(),...nt()},"VExpansionPanels"),Ua=A()({name:"VExpansionPanels",props:$a(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:a}=l;$e(e,ve);const{themeClasses:t}=ot(e),u=k(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return xe({VExpansionPanel:{color:B(e,"color")},VExpansionPanelTitle:{readonly:B(e,"readonly")}}),G(()=>c(e.tag,{class:["v-expansion-panels",t.value,u.value,e.class],style:e.style},a)),{}}}),Oa=C({...ee(),...Oe()},"VExpansionPanelText"),kt=A()({name:"VExpansionPanelText",props:Oa(),setup(e,l){let{slots:a}=l;const t=L(ve);if(!t)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:u,onAfterLeave:r}=St(e,t.isSelected);return G(()=>c(Va,{onAfterLeave:r},{default:()=>{var n;return[Se(c("div",{class:["v-expansion-panel-text",e.class],style:e.style},[a.default&&u.value&&c("div",{class:"v-expansion-panel-text__wrapper"},[(n=a.default)==null?void 0:n.call(a)])]),[[st,t.isSelected.value]])]}})),{}}}),wt=C({color:String,expandIcon:{type:oe,default:"$expand"},collapseIcon:{type:oe,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...ee()},"VExpansionPanelTitle"),Tt=A()({name:"VExpansionPanelTitle",directives:{Ripple:na},props:wt(),setup(e,l){let{slots:a}=l;const t=L(ve);if(!t)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:u,backgroundColorStyles:r}=we(e,"color"),n=k(()=>({collapseIcon:e.collapseIcon,disabled:t.disabled.value,expanded:t.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly}));return G(()=>{var o;return Se(c("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":t.isSelected.value},u.value,e.class],style:[r.value,e.style],type:"button",tabindex:t.disabled.value?-1:void 0,disabled:t.disabled.value,"aria-expanded":t.isSelected.value,onClick:e.readonly?void 0:t.toggle},[c("span",{class:"v-expansion-panel-title__overlay"},null),(o=a.default)==null?void 0:o.call(a,n.value),!e.hideActions&&c("span",{class:"v-expansion-panel-title__icon"},[a.actions?a.actions(n.value):c(q,{icon:t.isSelected.value?e.collapseIcon:e.expandIcon},null)])]),[[ut("ripple"),e.ripple]])}),{}}}),Aa=C({title:String,text:String,bgColor:String,...ee(),...oa(),...vt(),...Oe(),...sa(),...fe(),...wt()},"VExpansionPanel"),Ra=A()({name:"VExpansionPanel",props:Aa(),emits:{"group:selected":e=>!0},setup(e,l){let{slots:a}=l;const t=ft(e,ve),{backgroundColorClasses:u,backgroundColorStyles:r}=we(e,"bgColor"),{elevationClasses:n}=ua(e),{roundedClasses:o}=ia(e),i=k(()=>(t==null?void 0:t.disabled.value)||e.disabled),s=k(()=>t.group.items.value.reduce((f,m,g)=>(t.group.selected.value.includes(m.id)&&f.push(g),f),[])),d=k(()=>{const f=t.group.items.value.findIndex(m=>m.id===t.id);return!t.isSelected.value&&s.value.some(m=>m-f===1)}),h=k(()=>{const f=t.group.items.value.findIndex(m=>m.id===t.id);return!t.isSelected.value&&s.value.some(m=>m-f===-1)});return J(ve,t),xe({VExpansionPanelText:{eager:B(e,"eager")}}),G(()=>{const f=!!(a.text||e.text),m=!!(a.title||e.title);return c(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":t.isSelected.value,"v-expansion-panel--before-active":d.value,"v-expansion-panel--after-active":h.value,"v-expansion-panel--disabled":i.value},o.value,u.value,e.class],style:[r.value,e.style]},{default:()=>{var g;return[c("div",{class:["v-expansion-panel__shadow",...n.value]},null),m&&c(Tt,{key:"title",collapseIcon:e.collapseIcon,color:e.color,expandIcon:e.expandIcon,hideActions:e.hideActions,ripple:e.ripple},{default:()=>[a.title?a.title():e.title]}),f&&c(kt,{key:"text"},{default:()=>[a.text?a.text():e.text]}),(g=a.default)==null?void 0:g.call(a)]}})}),{}}});const Ga=C({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Pt=Symbol.for("vuetify:data-table-pagination");function za(e){const l=Z(e,"page",void 0,t=>+(t??1)),a=Z(e,"itemsPerPage",void 0,t=>+(t??10));return{page:l,itemsPerPage:a}}function Na(e){const{page:l,itemsPerPage:a,itemsLength:t}=e,u=k(()=>a.value===-1?0:a.value*(l.value-1)),r=k(()=>a.value===-1?t.value:Math.min(t.value,u.value+a.value)),n=k(()=>a.value===-1||t.value===0?1:Math.ceil(t.value/a.value));it(()=>{l.value>n.value&&(l.value=n.value)});function o(f){a.value=f,l.value=1}function i(){l.value=ye(l.value+1,1,n.value)}function s(){l.value=ye(l.value-1,1,n.value)}function d(f){l.value=ye(f,1,n.value)}const h={page:l,itemsPerPage:a,startIndex:u,stopIndex:r,pageCount:n,itemsLength:t,nextPage:i,prevPage:s,setPage:d,setItemsPerPage:o};return J(Pt,h),h}function Fa(){const e=L(Pt);if(!e)throw new Error("Missing pagination!");return e}function Ma(e){const{items:l,startIndex:a,stopIndex:t,itemsPerPage:u}=e;return{paginatedItems:k(()=>u.value<=0?l.value:l.value.slice(a.value,t.value))}}const Vt=C({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Qe=A()({name:"VDataTableFooter",props:Vt(),setup(e,l){let{slots:a}=l;const{t}=ke(),{page:u,pageCount:r,startIndex:n,stopIndex:o,itemsLength:i,itemsPerPage:s,setItemsPerPage:d}=Fa(),h=k(()=>e.itemsPerPageOptions.map(f=>({...f,title:t(f.title)})));return()=>{var f;return c("div",{class:"v-data-table-footer"},[(f=a.prepend)==null?void 0:f.call(a),c("div",{class:"v-data-table-footer__items-per-page"},[c("span",null,[t(e.itemsPerPageText)]),c(Ta,{items:h.value,modelValue:s.value,"onUpdate:modelValue":m=>d(Number(m)),density:"compact",variant:"outlined","hide-details":!0},null)]),c("div",{class:"v-data-table-footer__info"},[c("div",null,[t(e.pageText,i.value?n.value+1:0,o.value,i.value)])]),c("div",{class:"v-data-table-footer__pagination"},[c($,{icon:e.firstIcon,variant:"plain",onClick:()=>u.value=1,disabled:u.value===1,"aria-label":t(e.firstPageLabel)},null),c($,{icon:e.prevIcon,variant:"plain",onClick:()=>u.value=Math.max(1,u.value-1),disabled:u.value===1,"aria-label":t(e.prevPageLabel)},null),e.showCurrentPage&&c("span",{key:"page",class:"v-data-table-footer__page"},[u.value]),c($,{icon:e.nextIcon,variant:"plain",onClick:()=>u.value=Math.min(r.value,u.value+1),disabled:u.value===r.value,"aria-label":t(e.nextPageLabel)},null),c($,{icon:e.lastIcon,variant:"plain",onClick:()=>u.value=r.value,disabled:u.value===r.value,"aria-label":t(e.lastPageLabel)},null)])])}}}),Ae=_t({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(e,l)=>{let{slots:a,attrs:t}=l;const u=e.tag??"td";return c(u,se({class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding},`v-data-table-column--align-${e.align}`],style:{height:H(e.height),width:H(e.width),left:H(e.fixedOffset||null)}},t),{default:()=>{var r;return[(r=a.default)==null?void 0:r.call(a)]}})}),Ha=C({headers:{type:Array,default:()=>[]}},"DataTable-header"),It=Symbol.for("vuetify:data-table-headers");function La(e,l){const a=I([]),t=I([]);it(()=>{var m,g,b;const r=e.headers.length?Array.isArray(e.headers[0])?e.headers:[e.headers]:[],n=r.flatMap((v,y)=>v.map(x=>({column:x,row:y}))),o=r.length,i={title:"",sortable:!1},s={...i,width:48};if((m=l==null?void 0:l.groupBy)!=null&&m.value.length){const v=n.findIndex(y=>{let{column:x}=y;return x.key==="data-table-group"});v<0?n.unshift({column:{...i,key:"data-table-group",title:"Group",rowspan:o},row:0}):n.splice(v,1,{column:{...i,...n[v].column},row:n[v].row})}if((g=l==null?void 0:l.showSelect)!=null&&g.value){const v=n.findIndex(y=>{let{column:x}=y;return x.key==="data-table-select"});v<0?n.unshift({column:{...s,key:"data-table-select",rowspan:o},row:0}):n.splice(v,1,{column:{...s,...n[v].column},row:n[v].row})}if((b=l==null?void 0:l.showExpand)!=null&&b.value){const v=n.findIndex(y=>{let{column:x}=y;return x.key==="data-table-expand"});v<0?n.push({column:{...s,key:"data-table-expand",rowspan:o},row:0}):n.splice(v,1,{column:{...s,...n[v].column},row:n[v].row})}const d=Me(o).map(()=>[]),h=Me(o).fill(0);n.forEach(v=>{let{column:y,row:x}=v,V=y.key;V==null&&(V="");for(let S=x;S<=x+(y.rowspan??1)-1;S++)d[S].push({...y,key:V,fixedOffset:h[S],sortable:y.sortable??!!y.key}),h[S]+=Number(y.width??0)}),d.forEach(v=>{for(let y=v.length;y--;y>=0)if(v[y].fixed){v[y].lastFixed=!0;return}});const f=new Set;a.value=d.map(v=>{const y=[];for(const x of v)f.has(x.key)||(f.add(x.key),y.push(x));return y}),t.value=d.at(-1)??[]});const u={headers:a,columns:t};return J(It,u),u}function Te(){const e=L(It);if(!e)throw new Error("Missing headers!");return e}const ja={showSelectAll:!1,allSelected:()=>[],select:e=>{var t;let{items:l,value:a}=e;return new Set(a?[(t=l[0])==null?void 0:t.value]:[])},selectAll:e=>{let{selected:l}=e;return l}},Ct={showSelectAll:!0,allSelected:e=>{let{currentPage:l}=e;return l},select:e=>{let{items:l,value:a,selected:t}=e;for(const u of l)a?t.add(u.value):t.delete(u.value);return t},selectAll:e=>{let{value:l,currentPage:a,selected:t}=e;return Ct.select({items:a,value:l,selected:t})}},Dt={showSelectAll:!0,allSelected:e=>{let{allItems:l}=e;return l},select:e=>{let{items:l,value:a,selected:t}=e;for(const u of l)a?t.add(u.value):t.delete(u.value);return t},selectAll:e=>{let{value:l,allItems:a,selected:t}=e;return Dt.select({items:a,value:l,selected:t})}},_a=C({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]}},"DataTable-select"),Et=Symbol.for("vuetify:data-table-selection");function Wa(e,l){let{allItems:a,currentPage:t}=l;const u=Z(e,"modelValue",e.modelValue,v=>new Set(v),v=>[...v.values()]),r=k(()=>a.value.filter(v=>v.selectable)),n=k(()=>t.value.filter(v=>v.selectable)),o=k(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return ja;case"all":return Dt;case"page":default:return Ct}});function i(v){return He(v).every(y=>u.value.has(y.value))}function s(v){return He(v).some(y=>u.value.has(y.value))}function d(v,y){const x=o.value.select({items:v,value:y,selected:new Set(u.value)});u.value=x}function h(v){d([v],!i([v]))}function f(v){const y=o.value.selectAll({value:v,allItems:r.value,currentPage:n.value,selected:new Set(u.value)});u.value=y}const m=k(()=>u.value.size>0),g=k(()=>{const v=o.value.allSelected({allItems:r.value,currentPage:n.value});return i(v)}),b={toggleSelect:h,select:d,selectAll:f,isSelected:i,isSomeSelected:s,someSelected:m,allSelected:g,showSelectAll:o.value.showSelectAll};return J(Et,b),b}function Pe(){const e=L(Et);if(!e)throw new Error("Missing selection!");return e}const Xa=C({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Bt=Symbol.for("vuetify:data-table-sort");function Ya(e){const l=Z(e,"sortBy"),a=B(e,"mustSort"),t=B(e,"multiSort");return{sortBy:l,mustSort:a,multiSort:t}}function Ka(e){const{sortBy:l,mustSort:a,multiSort:t,page:u}=e,r=i=>{let s=l.value.map(h=>({...h}))??[];const d=s.find(h=>h.key===i.key);d?d.order==="desc"?a.value?d.order="asc":s=s.filter(h=>h.key!==i.key):d.order="desc":t.value?s=[...s,{key:i.key,order:"asc"}]:s=[{key:i.key,order:"asc"}],l.value=s,u&&(u.value=1)};function n(i){return!!l.value.find(s=>s.key===i.key)}const o={sortBy:l,toggleSort:r,isSorted:n};return J(Bt,o),o}function qa(){const e=L(Bt);if(!e)throw new Error("Missing sort!");return e}function Ja(e,l,a){const t=ke();return{sortedItems:k(()=>a.value.length?Qa(l.value,a.value,t.current.value,e.customKeySort):l.value)}}function Qa(e,l,a,t){const u=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"});return[...e].sort((r,n)=>{for(let o=0;o<l.length;o++){const i=l[o].key,s=l[o].order??"asc";if(s===!1)continue;let d=De(r.raw,i),h=De(n.raw,i);if(s==="desc"&&([d,h]=[h,d]),t!=null&&t[i]){const f=t[i](d,h);if(!f)continue;return f}if(d instanceof Date&&h instanceof Date)return d.getTime()-h.getTime();if([d,h]=[d,h].map(f=>f!=null?f.toString().toLocaleLowerCase():f),d!==h)return he(d)&&he(h)?0:he(d)?-1:he(h)?1:!isNaN(d)&&!isNaN(h)?Number(d)-Number(h):u.compare(d,h)}return 0})}const $t=C({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:oe,default:"$sortAsc"},sortDescIcon:{type:oe,default:"$sortDesc"},...ra()},"VDataTableHeaders"),Ze=A()({name:"VDataTableHeaders",props:$t(),setup(e,l){let{slots:a,emit:t}=l;const{toggleSort:u,sortBy:r,isSorted:n}=qa(),{someSelected:o,allSelected:i,selectAll:s,showSelectAll:d}=Pe(),{columns:h,headers:f}=Te(),{loaderClasses:m}=ca(e),g=(S,p)=>{if(!(!e.sticky&&!S.fixed))return{position:"sticky",zIndex:S.fixed?4:e.sticky?3:void 0,left:S.fixed?H(S.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${p})`:void 0}};function b(S){const p=r.value.find(D=>D.key===S.key);return p?p.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:v,backgroundColorStyles:y}=we(e,"color"),x=k(()=>({headers:f.value,columns:h.value,toggleSort:u,isSorted:n,sortBy:r.value,someSelected:o.value,allSelected:i.value,selectAll:s,getSortIcon:b,getFixedStyles:g})),V=S=>{let{column:p,x:D,y:U}=S;const N=p.key==="data-table-select"||p.key==="data-table-expand";return c(Ae,{tag:"th",align:p.align,class:["v-data-table__th",{"v-data-table__th--sortable":p.sortable,"v-data-table__th--sorted":n(p)},m.value],style:{width:H(p.width),minWidth:H(p.width),...g(p,U)},colspan:p.colspan,rowspan:p.rowspan,onClick:p.sortable?()=>u(p):void 0,lastFixed:p.lastFixed,noPadding:N},{default:()=>{var _;const j=`column.${p.key}`,R={column:p,selectAll:s,isSorted:n,toggleSort:u,sortBy:r.value,someSelected:o.value,allSelected:i.value,getSortIcon:b};return a[j]?a[j](R):p.key==="data-table-select"?((_=a["column.data-table-select"])==null?void 0:_.call(a,R))??(d&&c(Ue,{modelValue:i.value,indeterminate:o.value&&!i.value,"onUpdate:modelValue":s},null)):c("div",{class:"v-data-table-header__content"},[c("span",null,[p.title]),p.sortable&&c(q,{key:"icon",class:"v-data-table-header__sort-icon",icon:b(p)},null),e.multiSort&&n(p)&&c("div",{key:"badge",class:["v-data-table-header__sort-badge",...v.value],style:y.value},[r.value.findIndex(W=>W.key===p.key)+1])])}})};G(()=>c(K,null,[a.headers?a.headers(x.value):f.value.map((S,p)=>c("tr",null,[S.map((D,U)=>c(V,{column:D,x:U,y:p},null))])),e.loading&&c("tr",{class:"v-data-table-progress"},[c("th",{colspan:h.value.length},[c(da,{name:"v-data-table-progress",active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:a.loader})])])]))}}),Za=C({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Ut=Symbol.for("vuetify:data-table-group");function el(e){return{groupBy:Z(e,"groupBy")}}function tl(e){const{groupBy:l,sortBy:a}=e,t=I(new Set),u=k(()=>l.value.map(s=>({...s,order:s.order??!1})).concat(a.value));function r(s){return t.value.has(s.id)}function n(s){const d=new Set(t.value);r(s)?d.delete(s.id):d.add(s.id),t.value=d}function o(s){function d(h){const f=[];for(const m of h.items)"type"in m&&m.type==="group"?f.push(...d(m)):f.push(m);return f}return d({type:"group",items:s,id:"dummy",key:"dummy",value:"dummy",depth:0})}const i={sortByWithGroups:u,toggleGroup:n,opened:t,groupBy:l,extractRows:o,isGroupOpen:r};return J(Ut,i),i}function Ot(){const e=L(Ut);if(!e)throw new Error("Missing group!");return e}function al(e,l){if(!e.length)return[];const a=new Map;for(const t of e){const u=De(t.raw,l);a.has(u)||a.set(u,[]),a.get(u).push(t)}return a}function At(e,l){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!l.length)return[];const u=al(e,l[0]),r=[],n=l.slice(1);return u.forEach((o,i)=>{const s=l[0],d=`${t}_${s}_${i}`;r.push({depth:a,id:d,key:s,value:i,items:n.length?At(o,n,a+1,d):o,type:"group"})}),r}function Rt(e,l){const a=[];for(const t of e)"type"in t&&t.type==="group"?(t.value!=null&&a.push(t),(l.has(t.id)||t.value==null)&&a.push(...Rt(t.items,l))):a.push(t);return a}function ll(e,l,a){return{flatItems:k(()=>{if(!l.value.length)return e.value;const u=At(e.value,l.value.map(r=>r.key));return Rt(u,a.value)})}}const nl=C({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),ol=A()({name:"VDataTableGroupHeaderRow",props:nl(),setup(e,l){let{slots:a}=l;const{isGroupOpen:t,toggleGroup:u,extractRows:r}=Ot(),{isSelected:n,isSomeSelected:o,select:i}=Pe(),{columns:s}=Te(),d=k(()=>r([e.item]));return()=>c("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[s.value.map(h=>{var f,m;if(h.key==="data-table-group"){const g=t(e.item)?"$expand":"$next",b=()=>u(e.item);return((f=a["data-table-group"])==null?void 0:f.call(a,{item:e.item,count:d.value.length,props:{icon:g,onClick:b}}))??c(Ae,{class:"v-data-table-group-header-row__column"},{default:()=>[c($,{size:"small",variant:"text",icon:g,onClick:b},null),c("span",null,[e.item.value]),c("span",null,[M("("),d.value.length,M(")")])]})}if(h.key==="data-table-select"){const g=n(d.value),b=o(d.value)&&!g,v=y=>i(d.value,y);return((m=a["data-table-select"])==null?void 0:m.call(a,{props:{modelValue:g,indeterminate:b,"onUpdate:modelValue":v}}))??c("td",null,[c(Ue,{modelValue:g,indeterminate:b,"onUpdate:modelValue":v},null)])}return c("td",null,null)})])}}),sl=C({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Gt=Symbol.for("vuetify:datatable:expanded");function ul(e){const l=B(e,"expandOnClick"),a=Z(e,"expanded",e.expanded,o=>new Set(o),o=>[...o.values()]);function t(o,i){const s=new Set(a.value);i?s.add(o.value):s.delete(o.value),a.value=s}function u(o){return a.value.has(o.value)}function r(o){t(o,!u(o))}const n={expand:t,expanded:a,expandOnClick:l,isExpanded:u,toggleExpand:r};return J(Gt,n),n}function zt(){const e=L(Gt);if(!e)throw new Error("foo");return e}const il=C({index:Number,item:Object,onClick:Function},"VDataTableRow"),rl=Wt({name:"VDataTableRow",props:il(),setup(e,l){let{slots:a}=l;const{isSelected:t,toggleSelect:u}=Pe(),{isExpanded:r,toggleExpand:n}=zt(),{columns:o}=Te();G(()=>c("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!e.onClick}],onClick:e.onClick},[e.item&&o.value.map((i,s)=>c(Ae,{align:i.align,fixed:i.fixed,fixedOffset:i.fixedOffset,lastFixed:i.lastFixed,noPadding:i.key==="data-table-select"||i.key==="data-table-expand",width:i.width},{default:()=>{var m,g;const d=e.item,h=`item.${i.key}`,f={index:e.index,item:e.item,columns:o.value,isSelected:t,toggleSelect:u,isExpanded:r,toggleExpand:n};return a[h]?a[h](f):i.key==="data-table-select"?((m=a["item.data-table-select"])==null?void 0:m.call(a,f))??c(Ue,{disabled:!d.selectable,modelValue:t([d]),onClick:be(()=>u(d),["stop"])},null):i.key==="data-table-expand"?((g=a["item.data-table-expand"])==null?void 0:g.call(a,f))??c($,{icon:r(d)?"$collapse":"$expand",size:"small",variant:"text",onClick:be(()=>n(d),["stop"])},null):de(d.columns,i.key)}}))]))}}),Nt=C({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,"onClick:row":Function},"VDataTableRows"),et=A()({name:"VDataTableRows",props:Nt(),setup(e,l){let{emit:a,slots:t}=l;const{columns:u}=Te(),{expandOnClick:r,toggleExpand:n,isExpanded:o}=zt(),{isSelected:i,toggleSelect:s}=Pe(),{toggleGroup:d,isGroupOpen:h}=Ot(),{t:f}=ke();return G(()=>{var m;return e.loading&&t.loading?c("tr",{class:"v-data-table-rows-loading",key:"loading"},[c("td",{colspan:u.value.length},[t.loading()])]):!e.loading&&!e.items.length&&!e.hideNoData?c("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[c("td",{colspan:u.value.length},[((m=t["no-data"])==null?void 0:m.call(t))??f(e.noDataText)])]):c(K,null,[e.items.map((g,b)=>{var x;if(g.type==="group")return t["group-header"]?t["group-header"]({index:b,item:g,columns:u.value,isExpanded:o,toggleExpand:n,isSelected:i,toggleSelect:s,toggleGroup:d,isGroupOpen:h}):c(ol,{key:`group-header_${g.id}`,item:g},t);const v={index:b,item:g,columns:u.value,isExpanded:o,toggleExpand:n,isSelected:i,toggleSelect:s},y={...v,props:{key:`item_${g.key??g.index}`,onClick:r.value||e["onClick:row"]?V=>{var S;r.value&&n(g),(S=e["onClick:row"])==null||S.call(e,V,{item:g})}:void 0,index:b,item:g}};return c(K,null,[t.item?t.item(y):c(rl,y.props,t),o(g)&&((x=t["expanded-row"])==null?void 0:x.call(t,v))])})])}),{}}}),cl=C({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataTable-items");function dl(e,l,a,t){const u=e.returnObject?l:de(l,e.itemValue),r=de(l,e.itemSelectable,!0),n=t.reduce((o,i)=>(o[i.key]=de(l,i.value??i.key),o),{});return{type:"item",key:e.returnObject?de(l,e.itemValue):u,index:a,value:u,selectable:r,columns:n,raw:l}}function vl(e,l,a){return l.map((t,u)=>dl(e,t,u,a))}function fl(e,l){return{items:k(()=>vl(e,e.items,l.value))}}function ml(e){let{page:l,itemsPerPage:a,sortBy:t,groupBy:u,search:r}=e;const n=Xt("VDataTable"),o=k(()=>({page:l.value,itemsPerPage:a.value,sortBy:t.value,groupBy:u.value,search:r.value}));ne(()=>r==null?void 0:r.value,()=>{l.value=1});let i=null;ne(o,()=>{Yt(i,o.value)||(n.emit("update:options",o.value),i=o.value)},{deep:!0,immediate:!0})}const gl=C({...Nt(),width:[String,Number],search:String,...sl(),...Za(),...Ha(),...cl(),..._a(),...Xa(),...$t(),...Pa()},"DataTable"),hl=C({...Ga(),...gl(),...ha(),...Vt()},"VDataTable"),an=A()({name:"VDataTable",props:hl(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,l){let{emit:a,slots:t}=l;const{groupBy:u}=el(e),{sortBy:r,multiSort:n,mustSort:o}=Ya(e),{page:i,itemsPerPage:s}=za(e),{columns:d,headers:h}=La(e,{groupBy:u,showSelect:B(e,"showSelect"),showExpand:B(e,"showExpand")}),{items:f}=fl(e,d),m=B(e,"search"),{filteredItems:g}=ya(e,f,m,{transform:ae=>ae.columns}),{toggleSort:b}=Ka({sortBy:r,multiSort:n,mustSort:o,page:i}),{sortByWithGroups:v,opened:y,extractRows:x,isGroupOpen:V,toggleGroup:S}=tl({groupBy:u,sortBy:r}),{sortedItems:p}=Ja(e,g,v),{flatItems:D}=ll(p,u,y),U=k(()=>D.value.length),{startIndex:N,stopIndex:j,pageCount:R,setItemsPerPage:_}=Na({page:i,itemsPerPage:s,itemsLength:U}),{paginatedItems:W}=Ma({items:D,startIndex:N,stopIndex:j,itemsPerPage:s}),O=k(()=>x(W.value)),{isSelected:Q,select:te,selectAll:ue,toggleSelect:ie,someSelected:Ve,allSelected:Ie}=Wa(e,{allItems:f,currentPage:O}),{isExpanded:w,toggleExpand:T}=ul(e);ml({page:i,itemsPerPage:s,sortBy:r,groupBy:u,search:m}),xe({VDataTableRows:{hideNoData:B(e,"hideNoData"),noDataText:B(e,"noDataText"),loading:B(e,"loading"),loadingText:B(e,"loadingText")}});const E=k(()=>({page:i.value,itemsPerPage:s.value,sortBy:r.value,pageCount:R.value,toggleSort:b,setItemsPerPage:_,someSelected:Ve.value,allSelected:Ie.value,isSelected:Q,select:te,selectAll:ue,toggleSelect:ie,isExpanded:w,toggleExpand:T,isGroupOpen:V,toggleGroup:S,items:O.value,groupedItems:W.value,columns:d.value,headers:h.value}));return G(()=>{const[ae]=Qe.filterProps(e),[me]=Ze.filterProps(e),[ge]=et.filterProps(e),[X]=qe.filterProps(e);return c(qe,se({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},X),{top:()=>{var re;return(re=t.top)==null?void 0:re.call(t,E.value)},default:()=>{var re,Re,Ge,ze;return t.default?t.default(E.value):c(K,null,[(re=t.colgroup)==null?void 0:re.call(t,E.value),c("thead",null,[c(Ze,me,t)]),(Re=t.thead)==null?void 0:Re.call(t,E.value),c("tbody",null,[t.body?t.body(E.value):c(et,se(ge,{items:W.value}),t)]),(Ge=t.tbody)==null?void 0:Ge.call(t,E.value),(ze=t.tfoot)==null?void 0:ze.call(t,E.value)])},bottom:()=>t.bottom?t.bottom(E.value):c(K,null,[c(Qe,ae,{prepend:t["footer.prepend"]})])})}),{}}}),ln=pe({__name:"EditOrderedItems",props:le({closeable:{type:Boolean,default:!1},showDelete:{type:Boolean,default:!0},hasOrder:{type:Boolean,default:!0},newItem:{type:[Function,Boolean]},label:{default:"Name"},labelParent:{default:""},title:{default:"Edit Ordered Items"},showSave:{type:Boolean,default:!1},slotNamePrefix:{default:"item"}},{modelValue:{required:!0}}),emits:le(["add","save","close"],["update:modelValue"]),setup(e,{emit:l}){const a=Be(e,"modelValue"),t=()=>{l("save"),l("close")},u=()=>{if(e.newItem){let s;e.hasOrder?(s=e.newItem(),s.Order=a.value.length+1):s=e.newItem(),a.value.push(s)}else e.hasOrder?a.value.push({ID:0,Order:a.value.length+1}):a.value.push({ID:0})},r=s=>{a.value.splice(s,1)},n=s=>{ba(s,a.value)},o=s=>{pa(s,a.value)},i=s=>e.labelParent&&s[e.labelParent]?s[e.labelParent][e.label]:s[e.label];return a.value.find(s=>s.Order===0)&&Ke(a.value),a.value.find(s=>a.value.find(d=>d.Order===s.Order&&d!==s))&&Ke(a.value),(s,d)=>(z(),Y(pt,null,{default:P(()=>[c(gt,{dark:"",color:"primary"},{default:P(()=>[s.closeable?(z(),Y($,{key:0,icon:"",dark:"",onClick:d[0]||(d[0]=h=>l("close"))},{default:P(()=>[c(q,null,{default:P(()=>[M("mdi:mdi-close")]),_:1})]),_:1})):ce("",!0),c(mt,null,{default:P(()=>[M(Le(s.title),1)]),_:1}),c(ht),c(yt,null,{default:P(()=>[s.newItem!==void 0?(z(),Y($,{key:0,variant:"text",onClick:u},{default:P(()=>[M(" Add ")]),_:1})):ce("",!0),s.showSave?(z(),Y($,{key:1,variant:"text",onClick:t},{default:P(()=>[M(" Save ")]),_:1})):ce("",!0)]),_:1})]),_:1}),c(bt,{class:"pa-0"},{default:P(()=>[c(Ua,null,{default:P(()=>[(z(!0),Ce(K,null,Kt(a.value,(h,f)=>(z(),Y(Ra,{key:h.ID,class:"mt-0"},{default:P(()=>[c(Tt,null,{actions:P(({expanded:m})=>[s.showDelete?(z(),Y($,{key:0,icon:"mdi:mdi-close",size:"x-small",color:"red",class:"mr-1",onClick:g=>r(f)},null,8,["onClick"])):ce("",!0),c(q,{class:"align-self-center text-h5",icon:m?"mdi:mdi-chevron-up":"mdi:mdi-chevron-down",variant:"flat",size:"x-small"},null,8,["icon"])]),default:P(()=>[s.hasOrder?(z(),Ce(K,{key:0},[c($,{icon:"mdi:mdi-menu-up",size:"x-small",color:"primary",class:"mr-1",onClick:be(m=>o(h),["stop"])},null,8,["onClick"]),c($,{icon:"mdi:mdi-menu-down",size:"x-small",color:"secondary",class:"mr-4",onClick:be(m=>n(h),["stop"])},null,8,["onClick"])],64)):ce("",!0),je(s.$slots,`${s.slotNamePrefix}_${f}_title`,{},()=>[M(Le(i(h)),1)])]),_:2},1024),c(kt,{class:"px-0"},{default:P(()=>[je(s.$slots,`${s.slotNamePrefix}_${f}`)]),_:2},1024)]),_:2},1024))),128))]),_:3})]),_:3})]),_:3}))}});const Ft=Symbol.for("vuetify:v-tabs"),yl=C({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...qt(aa({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),bl=A()({name:"VTab",props:yl(),setup(e,l){let{slots:a,attrs:t}=l;const{textColorClasses:u,textColorStyles:r}=va(e,"sliderColor"),n=k(()=>e.direction==="horizontal"),o=F(!1),i=I(),s=I();function d(h){var m,g;let{value:f}=h;if(o.value=f,f){const b=(g=(m=i.value)==null?void 0:m.$el.parentElement)==null?void 0:g.querySelector(".v-tab--selected .v-tab__slider"),v=s.value;if(!b||!v)return;const y=getComputedStyle(b).color,x=b.getBoundingClientRect(),V=v.getBoundingClientRect(),S=n.value?"x":"y",p=n.value?"X":"Y",D=n.value?"right":"bottom",U=n.value?"width":"height",N=x[S],j=V[S],R=N>j?x[D]-V[D]:x[S]-V[S],_=Math.sign(R)>0?n.value?"right":"bottom":Math.sign(R)<0?n.value?"left":"top":"center",O=(Math.abs(R)+(Math.sign(R)<0?x[U]:V[U]))/Math.max(x[U],V[U]),Q=x[U]/V[U],te=1.5;Ia(v,{backgroundColor:[y,"currentcolor"],transform:[`translate${p}(${R}px) scale${p}(${Q})`,`translate${p}(${R/te}px) scale${p}(${(O-1)/te+1})`,"none"],transformOrigin:Array(3).fill(_)},{duration:225,easing:Ca})}}return G(()=>{const[h]=$.filterProps(e);return c($,se({symbol:Ft,ref:i,class:["v-tab",e.class],style:e.style,tabindex:o.value?0:-1,role:"tab","aria-selected":String(o.value),active:!1,block:e.fixed,maxWidth:e.fixed?300:void 0,rounded:0},h,t,{"onGroup:selected":d}),{default:()=>{var f;return[((f=a.default)==null?void 0:f.call(a))??e.text,!e.hideSlider&&c("div",{ref:s,class:["v-tab__slider",u.value],style:r.value},null)]}})}),{}}});function tt(e){const a=Math.abs(e);return Math.sign(e)*(a/((1/.501-2)*(1-a)+1))}function at(e){let{selectedElement:l,containerSize:a,contentSize:t,isRtl:u,currentScrollOffset:r,isHorizontal:n}=e;const o=n?l.clientWidth:l.clientHeight,i=n?l.offsetLeft:l.offsetTop,s=u&&n?t-i-o:i,d=a+r,h=o+s,f=o*.4;return s<=r?r=Math.max(s-f,0):d<=h&&(r=Math.min(r-(d-h-f),t-a)),r}function pl(e){let{selectedElement:l,containerSize:a,contentSize:t,isRtl:u,isHorizontal:r}=e;const n=r?l.clientWidth:l.clientHeight,o=r?l.offsetLeft:l.offsetTop,i=u&&r?t-o-n/2-a/2:o+n/2-a/2;return Math.min(t-a,Math.max(0,i))}const xl=Symbol.for("vuetify:v-slide-group"),Mt=C({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:xl},nextIcon:{type:oe,default:"$next"},prevIcon:{type:oe,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...ee(),...fe(),...dt({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),lt=A()({name:"VSlideGroup",props:Mt(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:a}=l;const{isRtl:t}=rt(),{mobile:u}=Jt(),r=$e(e,e.symbol),n=F(!1),o=F(0),i=F(0),s=F(0),d=k(()=>e.direction==="horizontal"),{resizeRef:h,contentRect:f}=We(),{resizeRef:m,contentRect:g}=We(),b=k(()=>r.selected.value.length?r.items.value.findIndex(w=>w.id===r.selected.value[0]):-1),v=k(()=>r.selected.value.length?r.items.value.findIndex(w=>w.id===r.selected.value[r.selected.value.length-1]):-1);if(Qt){let w=-1;ne(()=>[r.selected.value,f.value,g.value,d.value],()=>{cancelAnimationFrame(w),w=requestAnimationFrame(()=>{if(f.value&&g.value){const T=d.value?"width":"height";i.value=f.value[T],s.value=g.value[T],n.value=i.value+1<s.value}if(b.value>=0&&m.value){const T=m.value.children[v.value];b.value===0||!n.value?o.value=0:e.centerActive?o.value=pl({selectedElement:T,containerSize:i.value,contentSize:s.value,isRtl:t.value,isHorizontal:d.value}):n.value&&(o.value=at({selectedElement:T,containerSize:i.value,contentSize:s.value,isRtl:t.value,currentScrollOffset:o.value,isHorizontal:d.value}))}})})}const y=F(!1);let x=0,V=0;function S(w){const T=d.value?"clientX":"clientY";V=(t.value&&d.value?-1:1)*o.value,x=w.touches[0][T],y.value=!0}function p(w){if(!n.value)return;const T=d.value?"clientX":"clientY",E=t.value&&d.value?-1:1;o.value=E*(V+x-w.touches[0][T])}function D(w){const T=s.value-i.value;o.value<0||!n.value?o.value=0:o.value>=T&&(o.value=T),y.value=!1}function U(){h.value&&(h.value[d.value?"scrollLeft":"scrollTop"]=0)}const N=F(!1);function j(w){if(N.value=!0,!(!n.value||!m.value)){for(const T of w.composedPath())for(const E of m.value.children)if(E===T){o.value=at({selectedElement:E,containerSize:i.value,contentSize:s.value,isRtl:t.value,currentScrollOffset:o.value,isHorizontal:d.value});return}}}function R(w){N.value=!1}function _(w){var T;!N.value&&!(w.relatedTarget&&((T=m.value)!=null&&T.contains(w.relatedTarget)))&&O()}function W(w){m.value&&(d.value?w.key==="ArrowRight"?O(t.value?"prev":"next"):w.key==="ArrowLeft"&&O(t.value?"next":"prev"):w.key==="ArrowDown"?O("next"):w.key==="ArrowUp"&&O("prev"),w.key==="Home"?O("first"):w.key==="End"&&O("last"))}function O(w){var T,E,ae,me,ge;if(m.value)if(!w)(T=Zt(m.value)[0])==null||T.focus();else if(w==="next"){const X=(E=m.value.querySelector(":focus"))==null?void 0:E.nextElementSibling;X?X.focus():O("first")}else if(w==="prev"){const X=(ae=m.value.querySelector(":focus"))==null?void 0:ae.previousElementSibling;X?X.focus():O("last")}else w==="first"?(me=m.value.firstElementChild)==null||me.focus():w==="last"&&((ge=m.value.lastElementChild)==null||ge.focus())}function Q(w){const T=o.value+(w==="prev"?-1:1)*i.value;o.value=ye(T,0,s.value-i.value)}const te=k(()=>{let w=o.value>s.value-i.value?-(s.value-i.value)+tt(s.value-i.value-o.value):-o.value;o.value<=0&&(w=tt(-o.value));const T=t.value&&d.value?-1:1;return{transform:`translate${d.value?"X":"Y"}(${T*w}px)`,transition:y.value?"none":"",willChange:y.value?"transform":""}}),ue=k(()=>({next:r.next,prev:r.prev,select:r.select,isSelected:r.isSelected})),ie=k(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!u.value;case!0:return n.value||Math.abs(o.value)>0;case"mobile":return u.value||n.value||Math.abs(o.value)>0;default:return!u.value&&(n.value||Math.abs(o.value)>0)}}),Ve=k(()=>Math.abs(o.value)>0),Ie=k(()=>s.value>Math.abs(o.value)+i.value);return G(()=>c(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!d.value,"v-slide-group--has-affixes":ie.value,"v-slide-group--is-overflowing":n.value},e.class],style:e.style,tabindex:N.value||r.selected.value.length?-1:0,onFocus:_},{default:()=>{var w,T,E;return[ie.value&&c("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!Ve.value}],onClick:()=>Q("prev")},[((w=a.prev)==null?void 0:w.call(a,ue.value))??c(Je,null,{default:()=>[c(q,{icon:t.value?e.nextIcon:e.prevIcon},null)]})]),c("div",{key:"container",ref:h,class:"v-slide-group__container",onScroll:U},[c("div",{ref:m,class:"v-slide-group__content",style:te.value,onTouchstartPassive:S,onTouchmovePassive:p,onTouchendPassive:D,onFocusin:j,onFocusout:R,onKeydown:W},[(T=a.default)==null?void 0:T.call(a,ue.value)])]),ie.value&&c("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!Ie.value}],onClick:()=>Q("next")},[((E=a.next)==null?void 0:E.call(a,ue.value))??c(Je,null,{default:()=>[c(q,{icon:t.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:r.selected,scrollTo:Q,scrollOffset:o,focus:O}}});function Sl(e){return e?e.map(l=>typeof l=="string"?{title:l,value:l}:l):[]}const kl=C({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Mt({mandatory:"force"}),...fa(),...fe()},"VTabs"),nn=A()({name:"VTabs",props:kl(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:a}=l;const t=Z(e,"modelValue"),u=k(()=>Sl(e.items)),{densityClasses:r}=ma(e),{backgroundColorClasses:n,backgroundColorStyles:o}=we(B(e,"bgColor"));return xe({VTab:{color:B(e,"color"),direction:B(e,"direction"),stacked:B(e,"stacked"),fixed:B(e,"fixedTabs"),sliderColor:B(e,"sliderColor"),hideSlider:B(e,"hideSlider")}}),G(()=>{const[i]=lt.filterProps(e);return c(lt,se(i,{modelValue:t.value,"onUpdate:modelValue":s=>t.value=s,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},r.value,n.value,e.class],style:[{"--v-tabs-height":H(e.height)},o.value,e.style],role:"tablist",symbol:Ft}),{default:()=>[a.default?a.default():u.value.map(s=>c(bl,se(s,{key:s.title}),null))]})}),{}}});const wl=e=>{const{touchstartX:l,touchendX:a,touchstartY:t,touchendY:u}=e,r=.5,n=16;e.offsetX=a-l,e.offsetY=u-t,Math.abs(e.offsetY)<r*Math.abs(e.offsetX)&&(e.left&&a<l-n&&e.left(e),e.right&&a>l+n&&e.right(e)),Math.abs(e.offsetX)<r*Math.abs(e.offsetY)&&(e.up&&u<t-n&&e.up(e),e.down&&u>t+n&&e.down(e))};function Tl(e,l){var t;const a=e.changedTouches[0];l.touchstartX=a.clientX,l.touchstartY=a.clientY,(t=l.start)==null||t.call(l,{originalEvent:e,...l})}function Pl(e,l){var t;const a=e.changedTouches[0];l.touchendX=a.clientX,l.touchendY=a.clientY,(t=l.end)==null||t.call(l,{originalEvent:e,...l}),wl(l)}function Vl(e,l){var t;const a=e.changedTouches[0];l.touchmoveX=a.clientX,l.touchmoveY=a.clientY,(t=l.move)==null||t.call(l,{originalEvent:e,...l})}function Il(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const l={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:a=>Tl(a,l),touchend:a=>Pl(a,l),touchmove:a=>Vl(a,l)}}function Cl(e,l){var o;const a=l.value,t=a!=null&&a.parent?e.parentElement:e,u=(a==null?void 0:a.options)??{passive:!0},r=(o=l.instance)==null?void 0:o.$.uid;if(!t||!r)return;const n=Il(l.value);t._touchHandlers=t._touchHandlers??Object.create(null),t._touchHandlers[r]=n,ct(n).forEach(i=>{t.addEventListener(i,n[i],u)})}function Dl(e,l){var r,n;const a=(r=l.value)!=null&&r.parent?e.parentElement:e,t=(n=l.instance)==null?void 0:n.$.uid;if(!(a!=null&&a._touchHandlers)||!t)return;const u=a._touchHandlers[t];ct(u).forEach(o=>{a.removeEventListener(o,u[o])}),delete a._touchHandlers[t]}const Ht={mounted:Cl,unmounted:Dl},Lt=Symbol.for("vuetify:v-window"),jt=Symbol.for("vuetify:v-window-group"),El=C({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...ee(),...fe(),...nt()},"VWindow"),on=A()({name:"VWindow",directives:{Touch:Ht},props:El(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:a}=l;const{themeClasses:t}=ot(e),{isRtl:u}=rt(),{t:r}=ke(),n=$e(e,jt),o=I(),i=k(()=>u.value?!e.reverse:e.reverse),s=F(!1),d=k(()=>{const S=e.direction==="vertical"?"y":"x",D=(i.value?!s.value:s.value)?"-reverse":"";return`v-window-${S}${D}-transition`}),h=F(0),f=I(void 0),m=k(()=>n.items.value.findIndex(S=>n.selected.value.includes(S.id)));ne(m,(S,p)=>{const D=n.items.value.length,U=D-1;D<=2?s.value=S<p:S===U&&p===0?s.value=!0:S===0&&p===U?s.value=!1:s.value=S<p}),J(Lt,{transition:d,isReversed:s,transitionCount:h,transitionHeight:f,rootRef:o});const g=k(()=>e.continuous||m.value!==0),b=k(()=>e.continuous||m.value!==n.items.value.length-1);function v(){g.value&&n.prev()}function y(){b.value&&n.next()}const x=k(()=>{const S=[],p={icon:u.value?e.nextIcon:e.prevIcon,class:`v-window__${i.value?"right":"left"}`,onClick:n.prev,ariaLabel:r("$vuetify.carousel.prev")};S.push(g.value?a.prev?a.prev({props:p}):c($,p,null):c("div",null,null));const D={icon:u.value?e.prevIcon:e.nextIcon,class:`v-window__${i.value?"left":"right"}`,onClick:n.next,ariaLabel:r("$vuetify.carousel.next")};return S.push(b.value?a.next?a.next({props:D}):c($,D,null):c("div",null,null)),S}),V=k(()=>e.touch===!1?e.touch:{...{left:()=>{i.value?v():y()},right:()=>{i.value?y():v()},start:p=>{let{originalEvent:D}=p;D.stopPropagation()}},...e.touch===!0?{}:e.touch});return G(()=>Se(c(e.tag,{ref:o,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},t.value,e.class],style:e.style},{default:()=>{var S,p;return[c("div",{class:"v-window__container",style:{height:f.value}},[(S=a.default)==null?void 0:S.call(a,{group:n}),e.showArrows!==!1&&c("div",{class:"v-window__controls"},[x.value])]),(p=a.additional)==null?void 0:p.call(a,{group:n})]}}),[[ut("touch"),V.value]])),{group:n}}}),Bl=C({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...ee(),...vt(),...Oe()},"VWindowItem"),sn=A()({name:"VWindowItem",directives:{Touch:Ht},props:Bl(),emits:{"group:selected":e=>!0},setup(e,l){let{slots:a}=l;const t=L(Lt),u=ft(e,jt),{isBooted:r}=ka();if(!t||!u)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const n=F(!1),o=k(()=>r.value&&(t.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function i(){!n.value||!t||(n.value=!1,t.transitionCount.value>0&&(t.transitionCount.value-=1,t.transitionCount.value===0&&(t.transitionHeight.value=void 0)))}function s(){var g;n.value||!t||(n.value=!0,t.transitionCount.value===0&&(t.transitionHeight.value=H((g=t.rootRef.value)==null?void 0:g.clientHeight)),t.transitionCount.value+=1)}function d(){i()}function h(g){n.value&&ea(()=>{!o.value||!n.value||!t||(t.transitionHeight.value=H(g.clientHeight))})}const f=k(()=>{const g=t.isReversed.value?e.reverseTransition:e.transition;return o.value?{name:typeof g!="string"?t.transition.value:g,onBeforeEnter:s,onAfterEnter:i,onEnterCancelled:d,onBeforeLeave:s,onAfterLeave:i,onLeaveCancelled:d,onEnter:h}:!1}),{hasContent:m}=St(e,u.isSelected);return G(()=>c(Da,{transition:f.value,disabled:!r.value},{default:()=>{var g;return[Se(c("div",{class:["v-window-item",u.selectedClass.value,e.class],style:e.style},[m.value&&((g=a.default)==null?void 0:g.call(a))]),[[st,u.isSelected.value]])]}})),{groupItem:u}}});export{Ze as A,et as B,Ua as V,en as _,tn as a,Ra as b,Tt as c,kt as d,an as e,ln as f,nn as g,bl as h,sn as i,on as j,gl as k,Vt as l,Ga as m,el as n,Ya as o,za as p,La as q,Ka as r,tl as s,Na as t,fl as u,ll as v,Wa as w,ul as x,ml as y,Qe as z};
